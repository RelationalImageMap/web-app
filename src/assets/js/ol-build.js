(function(e,t){if(typeof exports==="object"){module.exports=t()}else if(typeof define==="function"&&define.amd){define([],t)}else{e.ol=t()}})(this,function(){var OPENLAYERS={};var goog=this.goog={};this.CLOSURE_NO_DEPS=true;var COMPILED=false;var goog=goog||{};goog.global=this;goog.global.CLOSURE_UNCOMPILED_DEFINES;goog.global.CLOSURE_DEFINES;goog.isDef=function(e){return e!==void 0};goog.isString=function(e){return typeof e=="string"};goog.isBoolean=function(e){return typeof e=="boolean"};goog.isNumber=function(e){return typeof e=="number"};goog.exportPath_=function(e,t,o){var r=e.split(".");var i=o||goog.global;if(!(r[0]in i)&&i.execScript){i.execScript("var "+r[0])}for(var n;r.length&&(n=r.shift());){if(!r.length&&goog.isDef(t)){i[n]=t}else if(i[n]&&i[n]!==Object.prototype[n]){i=i[n]}else{i=i[n]={}}}};goog.define=function(e,t){var o=t;if(!COMPILED){if(goog.global.CLOSURE_UNCOMPILED_DEFINES&&goog.global.CLOSURE_UNCOMPILED_DEFINES.nodeType===undefined&&Object.prototype.hasOwnProperty.call(goog.global.CLOSURE_UNCOMPILED_DEFINES,e)){o=goog.global.CLOSURE_UNCOMPILED_DEFINES[e]}else if(goog.global.CLOSURE_DEFINES&&goog.global.CLOSURE_DEFINES.nodeType===undefined&&Object.prototype.hasOwnProperty.call(goog.global.CLOSURE_DEFINES,e)){o=goog.global.CLOSURE_DEFINES[e]}}goog.exportPath_(e,o)};goog.define("goog.DEBUG",true);goog.define("goog.LOCALE","en");goog.define("goog.TRUSTED_SITE",true);goog.define("goog.STRICT_MODE_COMPATIBLE",false);goog.define("goog.DISALLOW_TEST_ONLY_CODE",COMPILED&&!goog.DEBUG);goog.define("goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING",false);goog.provide=function(e){if(goog.isInModuleLoader_()){throw new Error("goog.provide can not be used within a goog.module.")}if(!COMPILED){if(goog.isProvided_(e)){throw new Error('Namespace "'+e+'" already declared.')}}goog.constructNamespace_(e)};goog.constructNamespace_=function(e,t){if(!COMPILED){delete goog.implicitNamespaces_[e];var o=e;while(o=o.substring(0,o.lastIndexOf("."))){if(goog.getObjectByName(o)){break}goog.implicitNamespaces_[o]=true}}goog.exportPath_(e,t)};goog.VALID_MODULE_RE_=/^[a-zA-Z_$][a-zA-Z0-9._$]*$/;goog.module=function(e){if(!goog.isString(e)||!e||e.search(goog.VALID_MODULE_RE_)==-1){throw new Error("Invalid module identifier")}if(!goog.isInModuleLoader_()){throw new Error("Module "+e+" has been loaded incorrectly. Note, "+"modules cannot be loaded as normal scripts. They require some kind of "+"pre-processing step. You're likely trying to load a module via a "+"script tag or as a part of a concatenated bundle without rewriting the "+"module. For more info see: "+"https://github.com/google/closure-library/wiki/goog.module:-an-ES6-module-like-alternative-to-goog.provide.")}if(goog.moduleLoaderState_.moduleName){throw new Error("goog.module may only be called once per module.")}goog.moduleLoaderState_.moduleName=e;if(!COMPILED){if(goog.isProvided_(e)){throw new Error('Namespace "'+e+'" already declared.')}delete goog.implicitNamespaces_[e]}};goog.module.get=function(e){return goog.module.getInternal_(e)};goog.module.getInternal_=function(e){if(!COMPILED){if(e in goog.loadedModules_){return goog.loadedModules_[e]}else if(!goog.implicitNamespaces_[e]){var t=goog.getObjectByName(e);return t!=null?t:null}}return null};goog.moduleLoaderState_=null;goog.isInModuleLoader_=function(){return goog.moduleLoaderState_!=null};goog.module.declareLegacyNamespace=function(){if(!COMPILED&&!goog.isInModuleLoader_()){throw new Error("goog.module.declareLegacyNamespace must be called from "+"within a goog.module")}if(!COMPILED&&!goog.moduleLoaderState_.moduleName){throw new Error("goog.module must be called prior to "+"goog.module.declareLegacyNamespace.")}goog.moduleLoaderState_.declareLegacyNamespace=true};goog.setTestOnly=function(e){if(goog.DISALLOW_TEST_ONLY_CODE){e=e||"";throw new Error("Importing test-only code into non-debug environment"+(e?": "+e:"."))}};goog.forwardDeclare=function(e){};goog.forwardDeclare("Document");goog.forwardDeclare("HTMLScriptElement");goog.forwardDeclare("XMLHttpRequest");if(!COMPILED){goog.isProvided_=function(e){return e in goog.loadedModules_||!goog.implicitNamespaces_[e]&&goog.isDefAndNotNull(goog.getObjectByName(e))};goog.implicitNamespaces_={"goog.module":true}}goog.getObjectByName=function(e,t){var o=e.split(".");var r=t||goog.global;for(var i=0;i<o.length;i++){r=r[o[i]];if(!goog.isDefAndNotNull(r)){return null}}return r};goog.globalize=function(e,t){var o=t||goog.global;for(var r in e){o[r]=e[r]}};goog.addDependency=function(e,t,o,r){if(goog.DEPENDENCIES_ENABLED){var i,n;var l=e.replace(/\\/g,"/");var a=goog.dependencies_;if(!r||typeof r==="boolean"){r=r?{module:"goog"}:{}}for(var s=0;i=t[s];s++){a.nameToPath[i]=l;a.loadFlags[l]=r}for(var p=0;n=o[p];p++){if(!(l in a.requires)){a.requires[l]={}}a.requires[l][n]=true}}};goog.define("goog.ENABLE_DEBUG_LOADER",true);goog.logToConsole_=function(e){if(goog.global.console){goog.global.console["error"](e)}};goog.require=function(e){if(!COMPILED){if(goog.ENABLE_DEBUG_LOADER&&goog.IS_OLD_IE_){goog.maybeProcessDeferredDep_(e)}if(goog.isProvided_(e)){if(goog.isInModuleLoader_()){return goog.module.getInternal_(e)}}else if(goog.ENABLE_DEBUG_LOADER){var t=goog.getPathFromDeps_(e);if(t){goog.writeScripts_(t)}else{var o="goog.require could not find: "+e;goog.logToConsole_(o);throw new Error(o)}}return null}};goog.basePath="";goog.global.CLOSURE_BASE_PATH;goog.global.CLOSURE_NO_DEPS;goog.global.CLOSURE_IMPORT_SCRIPT;goog.nullFunction=function(){};goog.abstractMethod=function(){throw new Error("unimplemented abstract method")};goog.addSingletonGetter=function(e){e.instance_=undefined;e.getInstance=function(){if(e.instance_){return e.instance_}if(goog.DEBUG){goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=e}return e.instance_=new e}};goog.instantiatedSingletons_=[];goog.define("goog.LOAD_MODULE_USING_EVAL",true);goog.define("goog.SEAL_MODULE_EXPORTS",goog.DEBUG);goog.loadedModules_={};goog.DEPENDENCIES_ENABLED=!COMPILED&&goog.ENABLE_DEBUG_LOADER;goog.define("goog.TRANSPILE","detect");goog.define("goog.TRANSPILER","transpile.js");if(goog.DEPENDENCIES_ENABLED){goog.dependencies_={loadFlags:{},nameToPath:{},requires:{},visited:{},written:{},deferred:{}};goog.inHtmlDocument_=function(){var e=goog.global.document;return e!=null&&"write"in e};goog.findBasePath_=function(){if(goog.isDef(goog.global.CLOSURE_BASE_PATH)&&goog.isString(goog.global.CLOSURE_BASE_PATH)){goog.basePath=goog.global.CLOSURE_BASE_PATH;return}else if(!goog.inHtmlDocument_()){return}var e=goog.global.document;var t=e.currentScript;if(t){var o=[t]}else{var o=e.getElementsByTagName("SCRIPT")}for(var r=o.length-1;r>=0;--r){var i=o[r];var n=i.src;var l=n.lastIndexOf("?");var a=l==-1?n.length:l;if(n.substr(a-7,7)=="base.js"){goog.basePath=n.substr(0,a-7);return}}};goog.importScript_=function(e,t){var o=goog.global.CLOSURE_IMPORT_SCRIPT||goog.writeScriptTag_;if(o(e,t)){goog.dependencies_.written[e]=true}};goog.IS_OLD_IE_=!!(!goog.global.atob&&goog.global.document&&goog.global.document.all);goog.oldIeWaiting_=false;goog.importProcessedScript_=function(e,t,o){var r='goog.retrieveAndExec_("'+e+'", '+t+", "+o+");";goog.importScript_("",r)};goog.queuedModules_=[];goog.wrapModule_=function(e,t){if(!goog.LOAD_MODULE_USING_EVAL||!goog.isDef(goog.global.JSON)){return""+"goog.loadModule(function(exports) {"+'"use strict";'+t+"\n"+";return exports"+"});"+"\n//# sourceURL="+e+"\n"}else{return""+"goog.loadModule("+goog.global.JSON.stringify(t+"\n//# sourceURL="+e+"\n")+");"}};goog.loadQueuedModules_=function(){var e=goog.queuedModules_.length;if(e>0){var t=goog.queuedModules_;goog.queuedModules_=[];for(var o=0;o<e;o++){var r=t[o];goog.maybeProcessDeferredPath_(r)}}goog.oldIeWaiting_=false};goog.maybeProcessDeferredDep_=function(e){if(goog.isDeferredModule_(e)&&goog.allDepsAreAvailable_(e)){var t=goog.getPathFromDeps_(e);goog.maybeProcessDeferredPath_(goog.basePath+t)}};goog.isDeferredModule_=function(e){var t=goog.getPathFromDeps_(e);var o=t&&goog.dependencies_.loadFlags[t]||{};var r=o["lang"]||"es3";if(t&&(o["module"]=="goog"||goog.needsTranspile_(r))){var i=goog.basePath+t;return i in goog.dependencies_.deferred}return false};goog.allDepsAreAvailable_=function(e){var t=goog.getPathFromDeps_(e);if(t&&t in goog.dependencies_.requires){for(var o in goog.dependencies_.requires[t]){if(!goog.isProvided_(o)&&!goog.isDeferredModule_(o)){return false}}}return true};goog.maybeProcessDeferredPath_=function(e){if(e in goog.dependencies_.deferred){var t=goog.dependencies_.deferred[e];delete goog.dependencies_.deferred[e];goog.globalEval(t)}};goog.loadModuleFromUrl=function(e){goog.retrieveAndExec_(e,true,false)};goog.writeScriptSrcNode_=function(e){goog.global.document.write('<script type="text/javascript" src="'+e+'"></'+"script>")};goog.appendScriptSrcNode_=function(e){var t=goog.global.document;var o=t.createElement("script");o.type="text/javascript";o.src=e;o.defer=false;o.async=false;t.head.appendChild(o)};goog.writeScriptTag_=function(e,t){if(goog.inHtmlDocument_()){var o=goog.global.document;if(!goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING&&o.readyState=="complete"){var r=/\bdeps.js$/.test(e);if(r){return false}else{throw new Error('Cannot write "'+e+'" after document load')}}if(t===undefined){if(!goog.IS_OLD_IE_){if(goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING){goog.appendScriptSrcNode_(e)}else{goog.writeScriptSrcNode_(e)}}else{goog.oldIeWaiting_=true;var i=" onreadystatechange='goog.onScriptLoad_(this, "+ ++goog.lastNonModuleScriptIndex_+")' ";o.write('<script type="text/javascript" src="'+e+'"'+i+"></"+"script>")}}else{o.write('<script type="text/javascript">'+goog.protectScriptTag_(t)+"</"+"script>")}return true}else{return false}};goog.protectScriptTag_=function(e){return e.replace(/<\/(SCRIPT)/gi,"\\x3c/$1")};goog.needsTranspile_=function(e){if(goog.TRANSPILE=="always"){return true}else if(goog.TRANSPILE=="never"){return false}else if(!goog.requiresTranspilation_){goog.requiresTranspilation_=goog.createRequiresTranspilation_()}if(e in goog.requiresTranspilation_){return goog.requiresTranspilation_[e]}else{throw new Error("Unknown language mode: "+e)}};goog.requiresTranspilation_=null;goog.lastNonModuleScriptIndex_=0;goog.onScriptLoad_=function(e,t){if(e.readyState=="complete"&&goog.lastNonModuleScriptIndex_==t){goog.loadQueuedModules_()}return true};goog.writeScripts_=function(e){var t=[];var o={};var r=goog.dependencies_;function i(e){if(e in r.written){return}if(e in r.visited){return}r.visited[e]=true;if(e in r.requires){for(var n in r.requires[e]){if(!goog.isProvided_(n)){if(n in r.nameToPath){i(r.nameToPath[n])}else{throw new Error("Undefined nameToPath for "+n)}}}}if(!(e in o)){o[e]=true;t.push(e)}}i(e);for(var n=0;n<t.length;n++){var l=t[n];goog.dependencies_.written[l]=true}var a=goog.moduleLoaderState_;goog.moduleLoaderState_=null;for(var n=0;n<t.length;n++){var l=t[n];if(l){var s=r.loadFlags[l]||{};var p=s["lang"]||"es3";var g=goog.needsTranspile_(p);if(s["module"]=="goog"||g){goog.importProcessedScript_(goog.basePath+l,s["module"]=="goog",g)}else{goog.importScript_(goog.basePath+l)}}else{goog.moduleLoaderState_=a;throw new Error("Undefined script input")}}goog.moduleLoaderState_=a};goog.getPathFromDeps_=function(e){if(e in goog.dependencies_.nameToPath){return goog.dependencies_.nameToPath[e]}else{return null}};goog.findBasePath_();if(!goog.global.CLOSURE_NO_DEPS){goog.importScript_(goog.basePath+"deps.js")}}goog.hasBadLetScoping=null;goog.useSafari10Workaround=function(){if(goog.hasBadLetScoping==null){var hasBadLetScoping;try{hasBadLetScoping=!eval('"use strict";'+"let x = 1; function f() { return typeof x; };"+'f() == "number";')}catch(e){hasBadLetScoping=false}goog.hasBadLetScoping=hasBadLetScoping}return goog.hasBadLetScoping};goog.workaroundSafari10EvalBug=function(e){return"(function(){"+e+"\n"+";"+"})();\n"};goog.loadModule=function(e){var t=goog.moduleLoaderState_;try{goog.moduleLoaderState_={moduleName:undefined,declareLegacyNamespace:false};var o;if(goog.isFunction(e)){o=e.call(undefined,{})}else if(goog.isString(e)){if(goog.useSafari10Workaround()){e=goog.workaroundSafari10EvalBug(e)}o=goog.loadModuleFromSource_.call(undefined,e)}else{throw new Error("Invalid module definition")}var r=goog.moduleLoaderState_.moduleName;if(!goog.isString(r)||!r){throw new Error('Invalid module name "'+r+'"')}if(goog.moduleLoaderState_.declareLegacyNamespace){goog.constructNamespace_(r,o)}else if(goog.SEAL_MODULE_EXPORTS&&Object.seal&&typeof o=="object"&&o!=null){Object.seal(o)}goog.loadedModules_[r]=o}finally{goog.moduleLoaderState_=t}};goog.loadModuleFromSource_=function(){"use strict";var exports={};eval(arguments[0]);return exports};goog.normalizePath_=function(e){var t=e.split("/");var o=0;while(o<t.length){if(t[o]=="."){t.splice(o,1)}else if(o&&t[o]==".."&&t[o-1]&&t[o-1]!=".."){t.splice(--o,2)}else{o++}}return t.join("/")};goog.global.CLOSURE_LOAD_FILE_SYNC;goog.loadFileSync_=function(e){if(goog.global.CLOSURE_LOAD_FILE_SYNC){return goog.global.CLOSURE_LOAD_FILE_SYNC(e)}else{try{var t=new goog.global["XMLHttpRequest"];t.open("get",e,false);t.send();return t.status==0||t.status==200?t.responseText:null}catch(e){return null}}};goog.retrieveAndExec_=function(e,t,o){if(!COMPILED){var r=e;e=goog.normalizePath_(e);var i=goog.global.CLOSURE_IMPORT_SCRIPT||goog.writeScriptTag_;var n=goog.loadFileSync_(e);if(n==null){throw new Error('Load of "'+e+'" failed')}if(o){n=goog.transpile_.call(goog.global,n,e)}if(t){n=goog.wrapModule_(e,n)}else{n+="\n//# sourceURL="+e}var l=goog.IS_OLD_IE_;if(l&&goog.oldIeWaiting_){goog.dependencies_.deferred[r]=n;goog.queuedModules_.push(r)}else{i(e,n)}}};goog.transpile_=function(code,path){var jscomp=goog.global["$jscomp"];if(!jscomp){goog.global["$jscomp"]=jscomp={}}var transpile=jscomp.transpile;if(!transpile){var transpilerPath=goog.basePath+goog.TRANSPILER;var transpilerCode=goog.loadFileSync_(transpilerPath);if(transpilerCode){eval(transpilerCode+"\n//# sourceURL="+transpilerPath);if(goog.global["$gwtExport"]&&goog.global["$gwtExport"]["$jscomp"]&&!goog.global["$gwtExport"]["$jscomp"]["transpile"]){throw new Error('The transpiler did not properly export the "transpile" '+"method. $gwtExport: "+JSON.stringify(goog.global["$gwtExport"]))}goog.global["$jscomp"].transpile=goog.global["$gwtExport"]["$jscomp"]["transpile"];jscomp=goog.global["$jscomp"];transpile=jscomp.transpile}}if(!transpile){var suffix=" requires transpilation but no transpiler was found.";transpile=jscomp.transpile=function(e,t){goog.logToConsole_(t+suffix);return e}}return transpile(code,path)};goog.typeOf=function(e){var t=typeof e;if(t=="object"){if(e){if(e instanceof Array){return"array"}else if(e instanceof Object){return t}var o=Object.prototype.toString.call(e);if(o=="[object Window]"){return"object"}if(o=="[object Array]"||typeof e.length=="number"&&typeof e.splice!="undefined"&&typeof e.propertyIsEnumerable!="undefined"&&!e.propertyIsEnumerable("splice")){return"array"}if(o=="[object Function]"||typeof e.call!="undefined"&&typeof e.propertyIsEnumerable!="undefined"&&!e.propertyIsEnumerable("call")){return"function"}}else{return"null"}}else if(t=="function"&&typeof e.call=="undefined"){return"object"}return t};goog.isNull=function(e){return e===null};goog.isDefAndNotNull=function(e){return e!=null};goog.isArray=function(e){return goog.typeOf(e)=="array"};goog.isArrayLike=function(e){var t=goog.typeOf(e);return t=="array"||t=="object"&&typeof e.length=="number"};goog.isDateLike=function(e){return goog.isObject(e)&&typeof e.getFullYear=="function"};goog.isFunction=function(e){return goog.typeOf(e)=="function"};goog.isObject=function(e){var t=typeof e;return t=="object"&&e!=null||t=="function"};goog.getUid=function(e){return e[goog.UID_PROPERTY_]||(e[goog.UID_PROPERTY_]=++goog.uidCounter_)};goog.hasUid=function(e){return!!e[goog.UID_PROPERTY_]};goog.removeUid=function(e){if(e!==null&&"removeAttribute"in e){e.removeAttribute(goog.UID_PROPERTY_)}try{delete e[goog.UID_PROPERTY_]}catch(e){}};goog.UID_PROPERTY_="closure_uid_"+(Math.random()*1e9>>>0);goog.uidCounter_=0;goog.getHashCode=goog.getUid;goog.removeHashCode=goog.removeUid;goog.cloneObject=function(e){var t=goog.typeOf(e);if(t=="object"||t=="array"){if(e.clone){return e.clone()}var o=t=="array"?[]:{};for(var r in e){o[r]=goog.cloneObject(e[r])}return o}return e};goog.bindNative_=function(e,t,o){return e.call.apply(e.bind,arguments)};goog.bindJs_=function(e,t,o){if(!e){throw new Error}if(arguments.length>2){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(o,r);return e.apply(t,o)}}else{return function(){return e.apply(t,arguments)}}};goog.bind=function(e,t,o){if(Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1){goog.bind=goog.bindNative_}else{goog.bind=goog.bindJs_}return goog.bind.apply(null,arguments)};goog.partial=function(e,t){var o=Array.prototype.slice.call(arguments,1);return function(){var t=o.slice();t.push.apply(t,arguments);return e.apply(this,t)}};goog.mixin=function(e,t){for(var o in t){e[o]=t[o]}};goog.now=goog.TRUSTED_SITE&&Date.now||function(){return+new Date};goog.globalEval=function(e){if(goog.global.execScript){goog.global.execScript(e,"JavaScript")}else if(goog.global.eval){if(goog.evalWorksForGlobals_==null){goog.global.eval("var _evalTest_ = 1;");if(typeof goog.global["_evalTest_"]!="undefined"){try{delete goog.global["_evalTest_"]}catch(e){}goog.evalWorksForGlobals_=true}else{goog.evalWorksForGlobals_=false}}if(goog.evalWorksForGlobals_){goog.global.eval(e)}else{var t=goog.global.document;var o=t.createElement("SCRIPT");o.type="text/javascript";o.defer=false;o.appendChild(t.createTextNode(e));t.body.appendChild(o);t.body.removeChild(o)}}else{throw new Error("goog.globalEval not available")}};goog.evalWorksForGlobals_=null;goog.cssNameMapping_;goog.cssNameMappingStyle_;goog.global.CLOSURE_CSS_NAME_MAP_FN;goog.getCssName=function(e,t){if(String(e).charAt(0)=="."){throw new Error('className passed in goog.getCssName must not start with ".".'+" You passed: "+e)}var o=function(e){return goog.cssNameMapping_[e]||e};var r=function(e){var t=e.split("-");var r=[];for(var i=0;i<t.length;i++){r.push(o(t[i]))}return r.join("-")};var i;if(goog.cssNameMapping_){i=goog.cssNameMappingStyle_=="BY_WHOLE"?o:r}else{i=function(e){return e}}var n=t?e+"-"+i(t):i(e);if(goog.global.CLOSURE_CSS_NAME_MAP_FN){return goog.global.CLOSURE_CSS_NAME_MAP_FN(n)}return n};goog.setCssNameMapping=function(e,t){goog.cssNameMapping_=e;goog.cssNameMappingStyle_=t};goog.global.CLOSURE_CSS_NAME_MAPPING;if(!COMPILED&&goog.global.CLOSURE_CSS_NAME_MAPPING){goog.cssNameMapping_=goog.global.CLOSURE_CSS_NAME_MAPPING}goog.getMsg=function(e,t){if(t){e=e.replace(/\{\$([^}]+)}/g,function(e,o){return t!=null&&o in t?t[o]:e})}return e};goog.getMsgWithFallback=function(e,t){return e};goog.exportSymbol=function(e,t,o){goog.exportPath_(e,t,o)};goog.exportProperty=function(e,t,o){e[t]=o};goog.inherits=function(e,t){function o(){}o.prototype=t.prototype;e.superClass_=t.prototype;e.prototype=new o;e.prototype.constructor=e;e.base=function(e,o,r){var i=new Array(arguments.length-2);for(var n=2;n<arguments.length;n++){i[n-2]=arguments[n]}return t.prototype[o].apply(e,i)}};goog.base=function(e,t,o){var r=arguments.callee.caller;if(goog.STRICT_MODE_COMPATIBLE||goog.DEBUG&&!r){throw new Error("arguments.caller not defined.  goog.base() cannot be used "+"with strict mode code. See "+"http://www.ecma-international.org/ecma-262/5.1/#sec-C")}if(r.superClass_){var i=new Array(arguments.length-1);for(var n=1;n<arguments.length;n++){i[n-1]=arguments[n]}return r.superClass_.constructor.apply(e,i)}var l=new Array(arguments.length-2);for(var n=2;n<arguments.length;n++){l[n-2]=arguments[n]}var a=false;for(var s=e.constructor;s;s=s.superClass_&&s.superClass_.constructor){if(s.prototype[t]===r){a=true}else if(a){return s.prototype[t].apply(e,l)}}if(e[t]===r){return e.constructor.prototype[t].apply(e,l)}else{throw new Error("goog.base called from a method of one name "+"to a method of a different name")}};goog.scope=function(e){if(goog.isInModuleLoader_()){throw new Error("goog.scope is not supported within a goog.module.")}e.call(goog.global)};if(!COMPILED){goog.global["COMPILED"]=COMPILED}goog.defineClass=function(e,t){var o=t.constructor;var r=t.statics;if(!o||o==Object.prototype.constructor){o=function(){throw new Error("cannot instantiate an interface (no constructor defined).")}}var i=goog.defineClass.createSealingConstructor_(o,e);if(e){goog.inherits(i,e)}delete t.constructor;delete t.statics;goog.defineClass.applyProperties_(i.prototype,t);if(r!=null){if(r instanceof Function){r(i)}else{goog.defineClass.applyProperties_(i,r)}}return i};goog.defineClass.ClassDescriptor;goog.define("goog.defineClass.SEAL_CLASS_INSTANCES",goog.DEBUG);goog.defineClass.createSealingConstructor_=function(e,t){if(!goog.defineClass.SEAL_CLASS_INSTANCES){return e}var o=!goog.defineClass.isUnsealable_(t);var r=function(){var t=e.apply(this,arguments)||this;t[goog.UID_PROPERTY_]=t[goog.UID_PROPERTY_];if(this.constructor===r&&o&&Object.seal instanceof Function){Object.seal(t)}return t};return r};goog.defineClass.isUnsealable_=function(e){return e&&e.prototype&&e.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]};goog.defineClass.OBJECT_PROTOTYPE_FIELDS_=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"];goog.defineClass.applyProperties_=function(e,t){var o;for(o in t){if(Object.prototype.hasOwnProperty.call(t,o)){e[o]=t[o]}}for(var r=0;r<goog.defineClass.OBJECT_PROTOTYPE_FIELDS_.length;r++){o=goog.defineClass.OBJECT_PROTOTYPE_FIELDS_[r];if(Object.prototype.hasOwnProperty.call(t,o)){e[o]=t[o]}}};goog.tagUnsealableClass=function(e){if(!COMPILED&&goog.defineClass.SEAL_CLASS_INSTANCES){e.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]=true}};goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_="goog_defineClass_legacy_unsealable";goog.createRequiresTranspilation_=function(){var requiresTranspilation={es3:false};var transpilationRequiredForAllLaterModes=false;function addNewerLanguageTranspilationCheck(e,t){if(transpilationRequiredForAllLaterModes){requiresTranspilation[e]=true}else if(t()){requiresTranspilation[e]=false}else{requiresTranspilation[e]=true;transpilationRequiredForAllLaterModes=true}}function evalCheck(code){try{return!!eval(code)}catch(e){return false}}var userAgent=goog.global.navigator&&goog.global.navigator.userAgent?goog.global.navigator.userAgent:"";addNewerLanguageTranspilationCheck("es5",function(){return evalCheck("[1,].length==1")});addNewerLanguageTranspilationCheck("es6",function(){var e=/Edge\/(\d+)(\.\d)*/i;var t=userAgent.match(e);if(t&&Number(t[1])<15){return false}var o="class X{constructor(){if(new.target!=String)throw 1;this.x=42}}"+"let q=Reflect.construct(X,[],String);if(q.x!=42||!(q instanceof "+"String))throw 1;for(const a of[2,3]){if(a==2)continue;function "+"f(z={a}){let a=0;return z.a}{function f(){return 0;}}return f()"+"==3}";return evalCheck('(()=>{"use strict";'+o+"})()")});addNewerLanguageTranspilationCheck("es6-impl",function(){return true});addNewerLanguageTranspilationCheck("es7",function(){return evalCheck("2 ** 2 == 4")});addNewerLanguageTranspilationCheck("es8",function(){return evalCheck("async () => 1, true")});return requiresTranspilation};goog.provide("ol.array");ol.array.binarySearch=function(e,t,o){var r,i;var n=o||ol.array.numberSafeCompareFunction;var l=0;var a=e.length;var s=false;while(l<a){r=l+(a-l>>1);i=+n(e[r],t);if(i<0){l=r+1}else{a=r;s=!i}}return s?l:~l};ol.array.numberSafeCompareFunction=function(e,t){return e>t?1:e<t?-1:0};ol.array.includes=function(e,t){return e.indexOf(t)>=0};ol.array.linearFindNearest=function(e,t,o){var r=e.length;if(e[0]<=t){return 0}else if(t<=e[r-1]){return r-1}else{var i;if(o>0){for(i=1;i<r;++i){if(e[i]<t){return i-1}}}else if(o<0){for(i=1;i<r;++i){if(e[i]<=t){return i}}}else{for(i=1;i<r;++i){if(e[i]==t){return i}else if(e[i]<t){if(e[i-1]-t<t-e[i]){return i-1}else{return i}}}}return r-1}};ol.array.reverseSubArray=function(e,t,o){while(t<o){var r=e[t];e[t]=e[o];e[o]=r;++t;--o}};ol.array.extend=function(e,t){var o;var r=Array.isArray(t)?t:[t];var i=r.length;for(o=0;o<i;o++){e[e.length]=r[o]}};ol.array.remove=function(e,t){var o=e.indexOf(t);var r=o>-1;if(r){e.splice(o,1)}return r};ol.array.find=function(e,t){var o=e.length>>>0;var r;for(var i=0;i<o;i++){r=e[i];if(t(r,i,e)){return r}}return null};ol.array.equals=function(e,t){var o=e.length;if(o!==t.length){return false}for(var r=0;r<o;r++){if(e[r]!==t[r]){return false}}return true};ol.array.stableSort=function(e,t){var o=e.length;var r=Array(e.length);var i;for(i=0;i<o;i++){r[i]={index:i,value:e[i]}}r.sort(function(e,o){return t(e.value,o.value)||e.index-o.index});for(i=0;i<e.length;i++){e[i]=r[i].value}};ol.array.findIndex=function(e,t){var o;var r=!e.every(function(r,i){o=i;return!t(r,i,e)});return r?o:-1};ol.array.isSorted=function(e,t,o){var r=t||ol.array.numberSafeCompareFunction;return e.every(function(t,i){if(i===0){return true}var n=r(e[i-1],t);return!(n>0||o&&n===0)})};goog.provide("ol");ol.ASSUME_TOUCH=false;ol.DEFAULT_MAX_ZOOM=42;ol.DEFAULT_MIN_ZOOM=0;ol.DEFAULT_RASTER_REPROJECTION_ERROR_THRESHOLD=.5;ol.DEFAULT_TILE_SIZE=256;ol.DEFAULT_WMS_VERSION="1.3.0";ol.ENABLE_CANVAS=true;ol.ENABLE_PROJ4JS=true;ol.ENABLE_RASTER_REPROJECTION=true;ol.ENABLE_WEBGL=true;ol.DEBUG_WEBGL=true;ol.INITIAL_ATLAS_SIZE=256;ol.MAX_ATLAS_SIZE=-1;ol.MOUSEWHEELZOOM_MAXDELTA=1;ol.OVERVIEWMAP_MAX_RATIO=.75;ol.OVERVIEWMAP_MIN_RATIO=.1;ol.RASTER_REPROJECTION_MAX_SOURCE_TILES=100;ol.RASTER_REPROJECTION_MAX_SUBDIVISION=10;ol.RASTER_REPROJECTION_MAX_TRIANGLE_WIDTH=.25;ol.SIMPLIFY_TOLERANCE=.5;ol.WEBGL_TEXTURE_CACHE_HIGH_WATER_MARK=1024;ol.VERSION="";ol.WEBGL_MAX_TEXTURE_SIZE;ol.WEBGL_EXTENSIONS;ol.inherits=function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e};ol.nullFunction=function(){};ol.getUid=function(e){return e.ol_uid||(e.ol_uid=++ol.uidCounter_)};ol.uidCounter_=0;goog.provide("ol.AssertionError");goog.require("ol");ol.AssertionError=function(e){var t=ol.VERSION?ol.VERSION.split("-")[0]:"latest";this.message="Assertion failed. See https://openlayers.org/en/"+t+"/doc/errors/#"+e+" for details.";this.code=e;this.name="AssertionError"};ol.inherits(ol.AssertionError,Error);goog.provide("ol.asserts");goog.require("ol.AssertionError");ol.asserts.assert=function(e,t){if(!e){throw new ol.AssertionError(t)}};goog.provide("ol.TileRange");ol.TileRange=function(e,t,o,r){this.minX=e;this.maxX=t;this.minY=o;this.maxY=r};ol.TileRange.createOrUpdate=function(e,t,o,r,i){if(i!==undefined){i.minX=e;i.maxX=t;i.minY=o;i.maxY=r;return i}else{return new ol.TileRange(e,t,o,r)}};ol.TileRange.prototype.contains=function(e){return this.containsXY(e[1],e[2])};ol.TileRange.prototype.containsTileRange=function(e){return this.minX<=e.minX&&e.maxX<=this.maxX&&this.minY<=e.minY&&e.maxY<=this.maxY};ol.TileRange.prototype.containsXY=function(e,t){return this.minX<=e&&e<=this.maxX&&this.minY<=t&&t<=this.maxY};ol.TileRange.prototype.equals=function(e){return this.minX==e.minX&&this.minY==e.minY&&this.maxX==e.maxX&&this.maxY==e.maxY};ol.TileRange.prototype.extend=function(e){if(e.minX<this.minX){this.minX=e.minX}if(e.maxX>this.maxX){this.maxX=e.maxX}if(e.minY<this.minY){this.minY=e.minY}if(e.maxY>this.maxY){this.maxY=e.maxY}};ol.TileRange.prototype.getHeight=function(){return this.maxY-this.minY+1};ol.TileRange.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]};ol.TileRange.prototype.getWidth=function(){return this.maxX-this.minX+1};ol.TileRange.prototype.intersects=function(e){return this.minX<=e.maxX&&this.maxX>=e.minX&&this.minY<=e.maxY&&this.maxY>=e.minY};goog.provide("ol.math");goog.require("ol.asserts");ol.math.clamp=function(e,t,o){return Math.min(Math.max(e,t),o)};ol.math.cosh=function(){var e;if("cosh"in Math){e=Math.cosh}else{e=function(e){var t=Math.exp(e);return(t+1/t)/2}}return e}();ol.math.roundUpToPowerOfTwo=function(e){ol.asserts.assert(0<e,29);return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))};ol.math.squaredSegmentDistance=function(e,t,o,r,i,n){var l=i-o;var a=n-r;if(l!==0||a!==0){var s=((e-o)*l+(t-r)*a)/(l*l+a*a);if(s>1){o=i;r=n}else if(s>0){o+=l*s;r+=a*s}}return ol.math.squaredDistance(e,t,o,r)};ol.math.squaredDistance=function(e,t,o,r){var i=o-e;var n=r-t;return i*i+n*n};ol.math.solveLinearSystem=function(e){var t=e.length;for(var o=0;o<t;o++){var r=o;var i=Math.abs(e[o][o]);for(var n=o+1;n<t;n++){var l=Math.abs(e[n][o]);if(l>i){i=l;r=n}}if(i===0){return null}var a=e[r];e[r]=e[o];e[o]=a;for(var s=o+1;s<t;s++){var p=-e[s][o]/e[o][o];for(var g=o;g<t+1;g++){if(o==g){e[s][g]=0}else{e[s][g]+=p*e[o][g]}}}}var u=new Array(t);for(var c=t-1;c>=0;c--){u[c]=e[c][t]/e[c][c];for(var y=c-1;y>=0;y--){e[y][t]-=e[y][c]*u[c]}}return u};ol.math.toDegrees=function(e){return e*180/Math.PI};ol.math.toRadians=function(e){return e*Math.PI/180};ol.math.modulo=function(e,t){var o=e%t;return o*t<0?o+t:o};ol.math.lerp=function(e,t,o){return e+o*(t-e)};goog.provide("ol.size");ol.size.buffer=function(e,t,o){if(o===undefined){o=[0,0]}o[0]=e[0]+2*t;o[1]=e[1]+2*t;return o};ol.size.hasArea=function(e){return e[0]>0&&e[1]>0};ol.size.scale=function(e,t,o){if(o===undefined){o=[0,0]}o[0]=e[0]*t+.5|0;o[1]=e[1]*t+.5|0;return o};ol.size.toSize=function(e,t){if(Array.isArray(e)){return e}else{if(t===undefined){t=[e,e]}else{t[0]=t[1]=e}return t}};goog.provide("ol.extent.Corner");ol.extent.Corner={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"};goog.provide("ol.extent.Relationship");ol.extent.Relationship={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};goog.provide("ol.extent");goog.require("ol.asserts");goog.require("ol.extent.Corner");goog.require("ol.extent.Relationship");ol.extent.boundingExtent=function(e){var t=ol.extent.createEmpty();for(var o=0,r=e.length;o<r;++o){ol.extent.extendCoordinate(t,e[o])}return t};ol.extent.boundingExtentXYs_=function(e,t,o){var r=Math.min.apply(null,e);var i=Math.min.apply(null,t);var n=Math.max.apply(null,e);var l=Math.max.apply(null,t);return ol.extent.createOrUpdate(r,i,n,l,o)};ol.extent.buffer=function(e,t,o){if(o){o[0]=e[0]-t;o[1]=e[1]-t;o[2]=e[2]+t;o[3]=e[3]+t;return o}else{return[e[0]-t,e[1]-t,e[2]+t,e[3]+t]}};ol.extent.clone=function(e,t){if(t){t[0]=e[0];t[1]=e[1];t[2]=e[2];t[3]=e[3];return t}else{return e.slice()}};ol.extent.closestSquaredDistanceXY=function(e,t,o){var r,i;if(t<e[0]){r=e[0]-t}else if(e[2]<t){r=t-e[2]}else{r=0}if(o<e[1]){i=e[1]-o}else if(e[3]<o){i=o-e[3]}else{i=0}return r*r+i*i};ol.extent.containsCoordinate=function(e,t){return ol.extent.containsXY(e,t[0],t[1])};ol.extent.containsExtent=function(e,t){return e[0]<=t[0]&&t[2]<=e[2]&&e[1]<=t[1]&&t[3]<=e[3]};ol.extent.containsXY=function(e,t,o){return e[0]<=t&&t<=e[2]&&e[1]<=o&&o<=e[3]};ol.extent.coordinateRelationship=function(e,t){var o=e[0];var r=e[1];var i=e[2];var n=e[3];var l=t[0];var a=t[1];var s=ol.extent.Relationship.UNKNOWN;if(l<o){s=s|ol.extent.Relationship.LEFT}else if(l>i){s=s|ol.extent.Relationship.RIGHT}if(a<r){s=s|ol.extent.Relationship.BELOW}else if(a>n){s=s|ol.extent.Relationship.ABOVE}if(s===ol.extent.Relationship.UNKNOWN){s=ol.extent.Relationship.INTERSECTING}return s};ol.extent.createEmpty=function(){return[Infinity,Infinity,-Infinity,-Infinity]};ol.extent.createOrUpdate=function(e,t,o,r,i){if(i){i[0]=e;i[1]=t;i[2]=o;i[3]=r;return i}else{return[e,t,o,r]}};ol.extent.createOrUpdateEmpty=function(e){return ol.extent.createOrUpdate(Infinity,Infinity,-Infinity,-Infinity,e)};ol.extent.createOrUpdateFromCoordinate=function(e,t){var o=e[0];var r=e[1];return ol.extent.createOrUpdate(o,r,o,r,t)};ol.extent.createOrUpdateFromCoordinates=function(e,t){var o=ol.extent.createOrUpdateEmpty(t);return ol.extent.extendCoordinates(o,e)};ol.extent.createOrUpdateFromFlatCoordinates=function(e,t,o,r,i){var n=ol.extent.createOrUpdateEmpty(i);return ol.extent.extendFlatCoordinates(n,e,t,o,r)};ol.extent.createOrUpdateFromRings=function(e,t){var o=ol.extent.createOrUpdateEmpty(t);return ol.extent.extendRings(o,e)};ol.extent.equals=function(e,t){return e[0]==t[0]&&e[2]==t[2]&&e[1]==t[1]&&e[3]==t[3]};ol.extent.extend=function(e,t){if(t[0]<e[0]){e[0]=t[0]}if(t[2]>e[2]){e[2]=t[2]}if(t[1]<e[1]){e[1]=t[1]}if(t[3]>e[3]){e[3]=t[3]}return e};ol.extent.extendCoordinate=function(e,t){if(t[0]<e[0]){e[0]=t[0]}if(t[0]>e[2]){e[2]=t[0]}if(t[1]<e[1]){e[1]=t[1]}if(t[1]>e[3]){e[3]=t[1]}};ol.extent.extendCoordinates=function(e,t){var o,r;for(o=0,r=t.length;o<r;++o){ol.extent.extendCoordinate(e,t[o])}return e};ol.extent.extendFlatCoordinates=function(e,t,o,r,i){for(;o<r;o+=i){ol.extent.extendXY(e,t[o],t[o+1])}return e};ol.extent.extendRings=function(e,t){var o,r;for(o=0,r=t.length;o<r;++o){ol.extent.extendCoordinates(e,t[o])}return e};ol.extent.extendXY=function(e,t,o){e[0]=Math.min(e[0],t);e[1]=Math.min(e[1],o);e[2]=Math.max(e[2],t);e[3]=Math.max(e[3],o)};ol.extent.forEachCorner=function(e,t,o){var r;r=t.call(o,ol.extent.getBottomLeft(e));if(r){return r}r=t.call(o,ol.extent.getBottomRight(e));if(r){return r}r=t.call(o,ol.extent.getTopRight(e));if(r){return r}r=t.call(o,ol.extent.getTopLeft(e));if(r){return r}return false};ol.extent.getArea=function(e){var t=0;if(!ol.extent.isEmpty(e)){t=ol.extent.getWidth(e)*ol.extent.getHeight(e)}return t};ol.extent.getBottomLeft=function(e){return[e[0],e[1]]};ol.extent.getBottomRight=function(e){return[e[2],e[1]]};ol.extent.getCenter=function(e){return[(e[0]+e[2])/2,(e[1]+e[3])/2]};ol.extent.getCorner=function(e,t){var o;if(t===ol.extent.Corner.BOTTOM_LEFT){o=ol.extent.getBottomLeft(e)}else if(t===ol.extent.Corner.BOTTOM_RIGHT){o=ol.extent.getBottomRight(e)}else if(t===ol.extent.Corner.TOP_LEFT){o=ol.extent.getTopLeft(e)}else if(t===ol.extent.Corner.TOP_RIGHT){o=ol.extent.getTopRight(e)}else{ol.asserts.assert(false,13)}return o};ol.extent.getEnlargedArea=function(e,t){var o=Math.min(e[0],t[0]);var r=Math.min(e[1],t[1]);var i=Math.max(e[2],t[2]);var n=Math.max(e[3],t[3]);return(i-o)*(n-r)};ol.extent.getForViewAndSize=function(e,t,o,r,i){var n=t*r[0]/2;var l=t*r[1]/2;var a=Math.cos(o);var s=Math.sin(o);var p=n*a;var g=n*s;var u=l*a;var c=l*s;var y=e[0];var d=e[1];var h=y-p+c;var f=y-p-c;var m=y+p-c;var v=y+p+c;var _=d-g-u;var S=d-g+u;var x=d+g+u;var P=d+g-u;return ol.extent.createOrUpdate(Math.min(h,f,m,v),Math.min(_,S,x,P),Math.max(h,f,m,v),Math.max(_,S,x,P),i)};ol.extent.getHeight=function(e){return e[3]-e[1]};ol.extent.getIntersectionArea=function(e,t){var o=ol.extent.getIntersection(e,t);return ol.extent.getArea(o)};ol.extent.getIntersection=function(e,t,o){var r=o?o:ol.extent.createEmpty();if(ol.extent.intersects(e,t)){if(e[0]>t[0]){r[0]=e[0]}else{r[0]=t[0]}if(e[1]>t[1]){r[1]=e[1]}else{r[1]=t[1]}if(e[2]<t[2]){r[2]=e[2]}else{r[2]=t[2]}if(e[3]<t[3]){r[3]=e[3]}else{r[3]=t[3]}}return r};ol.extent.getMargin=function(e){return ol.extent.getWidth(e)+ol.extent.getHeight(e)};ol.extent.getSize=function(e){return[e[2]-e[0],e[3]-e[1]]};ol.extent.getTopLeft=function(e){return[e[0],e[3]]};ol.extent.getTopRight=function(e){return[e[2],e[3]]};ol.extent.getWidth=function(e){return e[2]-e[0]};ol.extent.intersects=function(e,t){return e[0]<=t[2]&&e[2]>=t[0]&&e[1]<=t[3]&&e[3]>=t[1]};ol.extent.isEmpty=function(e){return e[2]<e[0]||e[3]<e[1]};ol.extent.returnOrUpdate=function(e,t){if(t){t[0]=e[0];t[1]=e[1];t[2]=e[2];t[3]=e[3];return t}else{return e}};ol.extent.scaleFromCenter=function(e,t){var o=(e[2]-e[0])/2*(t-1);var r=(e[3]-e[1])/2*(t-1);e[0]-=o;e[2]+=o;e[1]-=r;e[3]+=r};ol.extent.intersectsSegment=function(e,t,o){var r=false;var i=ol.extent.coordinateRelationship(e,t);var n=ol.extent.coordinateRelationship(e,o);if(i===ol.extent.Relationship.INTERSECTING||n===ol.extent.Relationship.INTERSECTING){r=true}else{var l=e[0];var a=e[1];var s=e[2];var p=e[3];var g=t[0];var u=t[1];var c=o[0];var y=o[1];var d=(y-u)/(c-g);var h,f;if(!!(n&ol.extent.Relationship.ABOVE)&&!(i&ol.extent.Relationship.ABOVE)){h=c-(y-p)/d;r=h>=l&&h<=s}if(!r&&!!(n&ol.extent.Relationship.RIGHT)&&!(i&ol.extent.Relationship.RIGHT)){f=y-(c-s)*d;r=f>=a&&f<=p}if(!r&&!!(n&ol.extent.Relationship.BELOW)&&!(i&ol.extent.Relationship.BELOW)){h=c-(y-a)/d;r=h>=l&&h<=s}if(!r&&!!(n&ol.extent.Relationship.LEFT)&&!(i&ol.extent.Relationship.LEFT)){f=y-(c-l)*d;r=f>=a&&f<=p}}return r};ol.extent.applyTransform=function(e,t,o){var r=[e[0],e[1],e[0],e[3],e[2],e[1],e[2],e[3]];t(r,r,2);var i=[r[0],r[2],r[4],r[6]];var n=[r[1],r[3],r[5],r[7]];return ol.extent.boundingExtentXYs_(i,n,o)};goog.provide("ol.obj");ol.obj.assign=typeof Object.assign==="function"?Object.assign:function(e,t){if(e===undefined||e===null){throw new TypeError("Cannot convert undefined or null to object")}var o=Object(e);for(var r=1,i=arguments.length;r<i;++r){var n=arguments[r];if(n!==undefined&&n!==null){for(var l in n){if(n.hasOwnProperty(l)){o[l]=n[l]}}}}return o};ol.obj.clear=function(e){for(var t in e){delete e[t]}};ol.obj.getValues=function(e){var t=[];for(var o in e){t.push(e[o])}return t};ol.obj.isEmpty=function(e){var t;for(t in e){return false}return!t};goog.provide("ol.geom.GeometryType");ol.geom.GeometryType={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"};goog.provide("ol.Sphere");goog.require("ol.math");goog.require("ol.geom.GeometryType");ol.Sphere=function(e){this.radius=e};ol.Sphere.prototype.geodesicArea=function(e){return ol.Sphere.getArea_(e,this.radius)};ol.Sphere.prototype.haversineDistance=function(e,t){return ol.Sphere.getDistance_(e,t,this.radius)};ol.Sphere.prototype.offset=function(e,t,o){var r=ol.math.toRadians(e[1]);var i=ol.math.toRadians(e[0]);var n=t/this.radius;var l=Math.asin(Math.sin(r)*Math.cos(n)+Math.cos(r)*Math.sin(n)*Math.cos(o));var a=i+Math.atan2(Math.sin(o)*Math.sin(n)*Math.cos(r),Math.cos(n)-Math.sin(r)*Math.sin(l));return[ol.math.toDegrees(a),ol.math.toDegrees(l)]};ol.Sphere.DEFAULT_RADIUS=6371008.8;ol.Sphere.getLength=function(e,t){var o=t||{};var r=o.radius||ol.Sphere.DEFAULT_RADIUS;var i=o.projection||"EPSG:3857";e=e.clone().transform(i,"EPSG:4326");var n=e.getType();var l=0;var a,s,p,g,u,c;switch(n){case ol.geom.GeometryType.POINT:case ol.geom.GeometryType.MULTI_POINT:{break}case ol.geom.GeometryType.LINE_STRING:case ol.geom.GeometryType.LINEAR_RING:{a=e.getCoordinates();l=ol.Sphere.getLength_(a,r);break}case ol.geom.GeometryType.MULTI_LINE_STRING:case ol.geom.GeometryType.POLYGON:{a=e.getCoordinates();for(p=0,g=a.length;p<g;++p){l+=ol.Sphere.getLength_(a[p],r)}break}case ol.geom.GeometryType.MULTI_POLYGON:{a=e.getCoordinates();for(p=0,g=a.length;p<g;++p){s=a[p];for(u=0,c=s.length;u<c;++u){l+=ol.Sphere.getLength_(s[u],r)}}break}case ol.geom.GeometryType.GEOMETRY_COLLECTION:{var y=e.getGeometries();for(p=0,g=y.length;p<g;++p){l+=ol.Sphere.getLength(y[p],t)}break}default:{throw new Error("Unsupported geometry type: "+n)}}return l};ol.Sphere.getLength_=function(e,t){var o=0;for(var r=0,i=e.length;r<i-1;++r){o+=ol.Sphere.getDistance_(e[r],e[r+1],t)}return o};ol.Sphere.getDistance_=function(e,t,o){var r=ol.math.toRadians(e[1]);var i=ol.math.toRadians(t[1]);var n=(i-r)/2;var l=ol.math.toRadians(t[0]-e[0])/2;var a=Math.sin(n)*Math.sin(n)+Math.sin(l)*Math.sin(l)*Math.cos(r)*Math.cos(i);return 2*o*Math.atan2(Math.sqrt(a),Math.sqrt(1-a))};ol.Sphere.getArea=function(e,t){var o=t||{};var r=o.radius||ol.Sphere.DEFAULT_RADIUS;var i=o.projection||"EPSG:3857";e=e.clone().transform(i,"EPSG:4326");var n=e.getType();var l=0;var a,s,p,g,u,c;switch(n){case ol.geom.GeometryType.POINT:case ol.geom.GeometryType.MULTI_POINT:case ol.geom.GeometryType.LINE_STRING:case ol.geom.GeometryType.MULTI_LINE_STRING:case ol.geom.GeometryType.LINEAR_RING:{break}case ol.geom.GeometryType.POLYGON:{a=e.getCoordinates();l=Math.abs(ol.Sphere.getArea_(a[0],r));for(p=1,g=a.length;p<g;++p){l-=Math.abs(ol.Sphere.getArea_(a[p],r))}break}case ol.geom.GeometryType.MULTI_POLYGON:{a=e.getCoordinates();for(p=0,g=a.length;p<g;++p){s=a[p];l+=Math.abs(ol.Sphere.getArea_(s[0],r));for(u=1,c=s.length;u<c;++u){l-=Math.abs(ol.Sphere.getArea_(s[u],r))}}break}case ol.geom.GeometryType.GEOMETRY_COLLECTION:{var y=e.getGeometries();for(p=0,g=y.length;p<g;++p){l+=ol.Sphere.getArea(y[p],t)}break}default:{throw new Error("Unsupported geometry type: "+n)}}return l};ol.Sphere.getArea_=function(e,t){var o=0,r=e.length;var i=e[r-1][0];var n=e[r-1][1];for(var l=0;l<r;l++){var a=e[l][0],s=e[l][1];o+=ol.math.toRadians(a-i)*(2+Math.sin(ol.math.toRadians(n))+Math.sin(ol.math.toRadians(s)));i=a;n=s}return o*t*t/2};goog.provide("ol.proj.Units");ol.proj.Units={DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"};ol.proj.Units.METERS_PER_UNIT={};ol.proj.Units.METERS_PER_UNIT[ol.proj.Units.DEGREES]=2*Math.PI*6370997/360;ol.proj.Units.METERS_PER_UNIT[ol.proj.Units.FEET]=.3048;ol.proj.Units.METERS_PER_UNIT[ol.proj.Units.METERS]=1;ol.proj.Units.METERS_PER_UNIT[ol.proj.Units.USFEET]=1200/3937;goog.provide("ol.proj.proj4");ol.proj.proj4.cache_=null;ol.proj.proj4.set=function(e){ol.proj.proj4.cache_=e};ol.proj.proj4.get=function(){return ol.proj.proj4.cache_||window["proj4"]};goog.provide("ol.proj.Projection");goog.require("ol");goog.require("ol.proj.Units");goog.require("ol.proj.proj4");ol.proj.Projection=function(e){this.code_=e.code;this.units_=e.units;this.extent_=e.extent!==undefined?e.extent:null;this.worldExtent_=e.worldExtent!==undefined?e.worldExtent:null;this.axisOrientation_=e.axisOrientation!==undefined?e.axisOrientation:"enu";this.global_=e.global!==undefined?e.global:false;this.canWrapX_=!!(this.global_&&this.extent_);this.getPointResolutionFunc_=e.getPointResolution;this.defaultTileGrid_=null;this.metersPerUnit_=e.metersPerUnit;var t=e.code;if(ol.ENABLE_PROJ4JS){var o=ol.proj.proj4.get();if(typeof o=="function"){var r=o.defs(t);if(r!==undefined){if(r.axis!==undefined&&e.axisOrientation===undefined){this.axisOrientation_=r.axis}if(e.metersPerUnit===undefined){this.metersPerUnit_=r.to_meter}if(e.units===undefined){this.units_=r.units}}}}};ol.proj.Projection.prototype.canWrapX=function(){return this.canWrapX_};ol.proj.Projection.prototype.getCode=function(){return this.code_};ol.proj.Projection.prototype.getExtent=function(){return this.extent_};ol.proj.Projection.prototype.getUnits=function(){return this.units_};ol.proj.Projection.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||ol.proj.Units.METERS_PER_UNIT[this.units_]};ol.proj.Projection.prototype.getWorldExtent=function(){return this.worldExtent_};ol.proj.Projection.prototype.getAxisOrientation=function(){return this.axisOrientation_};ol.proj.Projection.prototype.isGlobal=function(){return this.global_};ol.proj.Projection.prototype.setGlobal=function(e){this.global_=e;this.canWrapX_=!!(e&&this.extent_)};ol.proj.Projection.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_};ol.proj.Projection.prototype.setDefaultTileGrid=function(e){this.defaultTileGrid_=e};ol.proj.Projection.prototype.setExtent=function(e){this.extent_=e;this.canWrapX_=!!(this.global_&&e)};ol.proj.Projection.prototype.setWorldExtent=function(e){this.worldExtent_=e};ol.proj.Projection.prototype.setGetPointResolution=function(e){this.getPointResolutionFunc_=e};ol.proj.Projection.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_};goog.provide("ol.proj.EPSG3857");goog.require("ol");goog.require("ol.math");goog.require("ol.proj.Projection");goog.require("ol.proj.Units");ol.proj.EPSG3857.Projection_=function(e){ol.proj.Projection.call(this,{code:e,units:ol.proj.Units.METERS,extent:ol.proj.EPSG3857.EXTENT,global:true,worldExtent:ol.proj.EPSG3857.WORLD_EXTENT,getPointResolution:function(e,t){return e/ol.math.cosh(t[1]/ol.proj.EPSG3857.RADIUS)}})};ol.inherits(ol.proj.EPSG3857.Projection_,ol.proj.Projection);ol.proj.EPSG3857.RADIUS=6378137;ol.proj.EPSG3857.HALF_SIZE=Math.PI*ol.proj.EPSG3857.RADIUS;ol.proj.EPSG3857.EXTENT=[-ol.proj.EPSG3857.HALF_SIZE,-ol.proj.EPSG3857.HALF_SIZE,ol.proj.EPSG3857.HALF_SIZE,ol.proj.EPSG3857.HALF_SIZE];ol.proj.EPSG3857.WORLD_EXTENT=[-180,-85,180,85];ol.proj.EPSG3857.PROJECTIONS=[new ol.proj.EPSG3857.Projection_("EPSG:3857"),new ol.proj.EPSG3857.Projection_("EPSG:102100"),new ol.proj.EPSG3857.Projection_("EPSG:102113"),new ol.proj.EPSG3857.Projection_("EPSG:900913"),new ol.proj.EPSG3857.Projection_("urn:ogc:def:crs:EPSG:6.18:3:3857"),new ol.proj.EPSG3857.Projection_("urn:ogc:def:crs:EPSG::3857"),new ol.proj.EPSG3857.Projection_("http://www.opengis.net/gml/srs/epsg.xml#3857")];ol.proj.EPSG3857.fromEPSG4326=function(e,t,o){var r=e.length,i=o>1?o:2,n=t;if(n===undefined){if(i>2){n=e.slice()}else{n=new Array(r)}}var l=ol.proj.EPSG3857.HALF_SIZE;for(var a=0;a<r;a+=i){n[a]=l*e[a]/180;var s=ol.proj.EPSG3857.RADIUS*Math.log(Math.tan(Math.PI*(e[a+1]+90)/360));if(s>l){s=l}else if(s<-l){s=-l}n[a+1]=s}return n};ol.proj.EPSG3857.toEPSG4326=function(e,t,o){var r=e.length,i=o>1?o:2,n=t;if(n===undefined){if(i>2){n=e.slice()}else{n=new Array(r)}}for(var l=0;l<r;l+=i){n[l]=180*e[l]/ol.proj.EPSG3857.HALF_SIZE;n[l+1]=360*Math.atan(Math.exp(e[l+1]/ol.proj.EPSG3857.RADIUS))/Math.PI-90}return n};goog.provide("ol.proj.EPSG4326");goog.require("ol");goog.require("ol.proj.Projection");goog.require("ol.proj.Units");ol.proj.EPSG4326.Projection_=function(e,t){ol.proj.Projection.call(this,{code:e,units:ol.proj.Units.DEGREES,extent:ol.proj.EPSG4326.EXTENT,axisOrientation:t,global:true,metersPerUnit:ol.proj.EPSG4326.METERS_PER_UNIT,worldExtent:ol.proj.EPSG4326.EXTENT})};ol.inherits(ol.proj.EPSG4326.Projection_,ol.proj.Projection);ol.proj.EPSG4326.RADIUS=6378137;ol.proj.EPSG4326.EXTENT=[-180,-90,180,90];ol.proj.EPSG4326.METERS_PER_UNIT=Math.PI*ol.proj.EPSG4326.RADIUS/180;ol.proj.EPSG4326.PROJECTIONS=[new ol.proj.EPSG4326.Projection_("CRS:84"),new ol.proj.EPSG4326.Projection_("EPSG:4326","neu"),new ol.proj.EPSG4326.Projection_("urn:ogc:def:crs:EPSG::4326","neu"),new ol.proj.EPSG4326.Projection_("urn:ogc:def:crs:EPSG:6.6:4326","neu"),new ol.proj.EPSG4326.Projection_("urn:ogc:def:crs:OGC:1.3:CRS84"),new ol.proj.EPSG4326.Projection_("urn:ogc:def:crs:OGC:2:84"),new ol.proj.EPSG4326.Projection_("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new ol.proj.EPSG4326.Projection_("urn:x-ogc:def:crs:EPSG:4326","neu")];goog.provide("ol.proj.projections");ol.proj.projections.cache_={};ol.proj.projections.clear=function(){ol.proj.projections.cache_={}};ol.proj.projections.get=function(e){var t=ol.proj.projections.cache_;return t[e]||null};ol.proj.projections.add=function(e,t){var o=ol.proj.projections.cache_;o[e]=t};goog.provide("ol.proj.transforms");goog.require("ol.obj");ol.proj.transforms.cache_={};ol.proj.transforms.clear=function(){ol.proj.transforms.cache_={}};ol.proj.transforms.add=function(e,t,o){var r=e.getCode();var i=t.getCode();var n=ol.proj.transforms.cache_;if(!(r in n)){n[r]={}}n[r][i]=o};ol.proj.transforms.remove=function(e,t){var o=e.getCode();var r=t.getCode();var i=ol.proj.transforms.cache_;var n=i[o][r];delete i[o][r];if(ol.obj.isEmpty(i[o])){delete i[o]}return n};ol.proj.transforms.get=function(e,t){var o;var r=ol.proj.transforms.cache_;if(e in r&&t in r[e]){o=r[e][t]}return o};goog.provide("ol.proj");goog.require("ol");goog.require("ol.Sphere");goog.require("ol.extent");goog.require("ol.math");goog.require("ol.proj.EPSG3857");goog.require("ol.proj.EPSG4326");goog.require("ol.proj.Projection");goog.require("ol.proj.Units");goog.require("ol.proj.proj4");goog.require("ol.proj.projections");goog.require("ol.proj.transforms");ol.proj.METERS_PER_UNIT=ol.proj.Units.METERS_PER_UNIT;ol.proj.SPHERE_=new ol.Sphere(ol.Sphere.DEFAULT_RADIUS);if(ol.ENABLE_PROJ4JS){ol.proj.setProj4=function(e){ol.proj.proj4.set(e)}}ol.proj.getPointResolution=function(e,t,o,r){e=ol.proj.get(e);var i;var n=e.getPointResolutionFunc();if(n){i=n(t,o)}else{var l=e.getUnits();if(l==ol.proj.Units.DEGREES&&!r||r==ol.proj.Units.DEGREES){i=t}else{var a=ol.proj.getTransformFromProjections(e,ol.proj.get("EPSG:4326"));var s=[o[0]-t/2,o[1],o[0]+t/2,o[1],o[0],o[1]-t/2,o[0],o[1]+t/2];s=a(s,s,2);var p=ol.proj.SPHERE_.haversineDistance(s.slice(0,2),s.slice(2,4));var g=ol.proj.SPHERE_.haversineDistance(s.slice(4,6),s.slice(6,8));i=(p+g)/2;var u=r?ol.proj.Units.METERS_PER_UNIT[r]:e.getMetersPerUnit();if(u!==undefined){i/=u}}}return i};ol.proj.addEquivalentProjections=function(e){ol.proj.addProjections(e);e.forEach(function(t){e.forEach(function(e){if(t!==e){ol.proj.transforms.add(t,e,ol.proj.cloneTransform)}})})};ol.proj.addEquivalentTransforms=function(e,t,o,r){e.forEach(function(e){t.forEach(function(t){ol.proj.transforms.add(e,t,o);ol.proj.transforms.add(t,e,r)})})};ol.proj.addProjection=function(e){ol.proj.projections.add(e.getCode(),e);ol.proj.transforms.add(e,e,ol.proj.cloneTransform)};ol.proj.addProjections=function(e){e.forEach(ol.proj.addProjection)};ol.proj.clearAllProjections=function(){ol.proj.projections.clear();ol.proj.transforms.clear()};ol.proj.createProjection=function(e,t){if(!e){return ol.proj.get(t)}else if(typeof e==="string"){return ol.proj.get(e)}else{return e}};ol.proj.addCoordinateTransforms=function(e,t,o,r){var i=ol.proj.get(e);var n=ol.proj.get(t);ol.proj.transforms.add(i,n,ol.proj.createTransformFromCoordinateTransform(o));ol.proj.transforms.add(n,i,ol.proj.createTransformFromCoordinateTransform(r))};ol.proj.createTransformFromCoordinateTransform=function(e){return function(t,o,r){var i=t.length;var n=r!==undefined?r:2;var l=o!==undefined?o:new Array(i);var a,s,p;for(s=0;s<i;s+=n){a=e([t[s],t[s+1]]);l[s]=a[0];l[s+1]=a[1];for(p=n-1;p>=2;--p){l[s+p]=t[s+p]}}return l}};ol.proj.fromLonLat=function(e,t){return ol.proj.transform(e,"EPSG:4326",t!==undefined?t:"EPSG:3857")};ol.proj.toLonLat=function(e,t){var o=ol.proj.transform(e,t!==undefined?t:"EPSG:3857","EPSG:4326");var r=o[0];if(r<-180||r>180){o[0]=ol.math.modulo(r+180,360)-180}return o};ol.proj.get=function(e){var t=null;if(e instanceof ol.proj.Projection){t=e}else if(typeof e==="string"){var o=e;t=ol.proj.projections.get(o);if(ol.ENABLE_PROJ4JS&&!t){var r=ol.proj.proj4.get();if(typeof r=="function"&&r.defs(o)!==undefined){t=new ol.proj.Projection({code:o});ol.proj.addProjection(t)}}}return t};ol.proj.equivalent=function(e,t){if(e===t){return true}var o=e.getUnits()===t.getUnits();if(e.getCode()===t.getCode()){return o}else{var r=ol.proj.getTransformFromProjections(e,t);return r===ol.proj.cloneTransform&&o}};ol.proj.getTransform=function(e,t){var o=ol.proj.get(e);var r=ol.proj.get(t);return ol.proj.getTransformFromProjections(o,r)};ol.proj.getTransformFromProjections=function(e,t){var o=e.getCode();var r=t.getCode();var i=ol.proj.transforms.get(o,r);if(ol.ENABLE_PROJ4JS&&!i){var n=ol.proj.proj4.get();if(typeof n=="function"){var l=n.defs(o);var a=n.defs(r);if(l!==undefined&&a!==undefined){if(l===a){ol.proj.addEquivalentProjections([t,e])}else{var s=n(r,o);ol.proj.addCoordinateTransforms(t,e,s.forward,s.inverse)}i=ol.proj.transforms.get(o,r)}}}if(!i){i=ol.proj.identityTransform}return i};ol.proj.identityTransform=function(e,t,o){if(t!==undefined&&e!==t){for(var r=0,i=e.length;r<i;++r){t[r]=e[r]}e=t}return e};ol.proj.cloneTransform=function(e,t,o){var r;if(t!==undefined){for(var i=0,n=e.length;i<n;++i){t[i]=e[i]}r=t}else{r=e.slice()}return r};ol.proj.transform=function(e,t,o){var r=ol.proj.getTransform(t,o);return r(e,undefined,e.length)};ol.proj.transformExtent=function(e,t,o){var r=ol.proj.getTransform(t,o);return ol.extent.applyTransform(e,r)};ol.proj.transformWithProjections=function(e,t,o){var r=ol.proj.getTransformFromProjections(t,o);return r(e)};ol.proj.addCommon=function(){ol.proj.addEquivalentProjections(ol.proj.EPSG3857.PROJECTIONS);ol.proj.addEquivalentProjections(ol.proj.EPSG4326.PROJECTIONS);ol.proj.addEquivalentTransforms(ol.proj.EPSG4326.PROJECTIONS,ol.proj.EPSG3857.PROJECTIONS,ol.proj.EPSG3857.fromEPSG4326,ol.proj.EPSG3857.toEPSG4326)};ol.proj.addCommon();goog.provide("ol.tilecoord");ol.tilecoord.createOrUpdate=function(e,t,o,r){if(r!==undefined){r[0]=e;r[1]=t;r[2]=o;return r}else{return[e,t,o]}};ol.tilecoord.getKeyZXY=function(e,t,o){return e+"/"+t+"/"+o};ol.tilecoord.getKey=function(e){return ol.tilecoord.getKeyZXY(e[0],e[1],e[2])};ol.tilecoord.fromKey=function(e){return e.split("/").map(Number)};ol.tilecoord.hash=function(e){return(e[1]<<e[0])+e[2]};ol.tilecoord.quadKey=function(e){var t=e[0];var o=new Array(t);var r=1<<t-1;var i,n;for(i=0;i<t;++i){n=48;if(e[1]&r){n+=1}if(e[2]&r){n+=2}o[i]=String.fromCharCode(n);r>>=1}return o.join("")};ol.tilecoord.withinExtentAndZ=function(e,t){var o=e[0];var r=e[1];var i=e[2];if(t.getMinZoom()>o||o>t.getMaxZoom()){return false}var n=t.getExtent();var l;if(!n){l=t.getFullTileRange(o)}else{l=t.getTileRangeForExtentAndZ(n,o)}if(!l){return true}else{return l.containsXY(r,i)}};goog.provide("ol.tilegrid.TileGrid");goog.require("ol");goog.require("ol.asserts");goog.require("ol.TileRange");goog.require("ol.array");goog.require("ol.extent");goog.require("ol.math");goog.require("ol.size");goog.require("ol.tilecoord");ol.tilegrid.TileGrid=function(e){this.minZoom=e.minZoom!==undefined?e.minZoom:0;this.resolutions_=e.resolutions;ol.asserts.assert(ol.array.isSorted(this.resolutions_,function(e,t){return t-e},true),17);var t;if(!e.origins){for(var o=0,r=this.resolutions_.length-1;o<r;++o){if(!t){t=this.resolutions_[o]/this.resolutions_[o+1]}else{if(this.resolutions_[o]/this.resolutions_[o+1]!==t){t=undefined;break}}}}this.zoomFactor_=t;this.maxZoom=this.resolutions_.length-1;this.origin_=e.origin!==undefined?e.origin:null;this.origins_=null;if(e.origins!==undefined){this.origins_=e.origins;ol.asserts.assert(this.origins_.length==this.resolutions_.length,20)}var i=e.extent;if(i!==undefined&&!this.origin_&&!this.origins_){this.origin_=ol.extent.getTopLeft(i)}ol.asserts.assert(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18);this.tileSizes_=null;if(e.tileSizes!==undefined){this.tileSizes_=e.tileSizes;ol.asserts.assert(this.tileSizes_.length==this.resolutions_.length,19)}this.tileSize_=e.tileSize!==undefined?e.tileSize:!this.tileSizes_?ol.DEFAULT_TILE_SIZE:null;ol.asserts.assert(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22);this.extent_=i!==undefined?i:null;this.fullTileRanges_=null;this.tmpSize_=[0,0];if(e.sizes!==undefined){this.fullTileRanges_=e.sizes.map(function(e,t){var o=new ol.TileRange(Math.min(0,e[0]),Math.max(e[0]-1,-1),Math.min(0,e[1]),Math.max(e[1]-1,-1));return o},this)}else if(i){this.calculateTileRanges_(i)}};ol.tilegrid.TileGrid.tmpTileCoord_=[0,0,0];ol.tilegrid.TileGrid.prototype.forEachTileCoord=function(e,t,o){var r=this.getTileRangeForExtentAndZ(e,t);for(var i=r.minX,n=r.maxX;i<=n;++i){for(var l=r.minY,a=r.maxY;l<=a;++l){o([t,i,l])}}};ol.tilegrid.TileGrid.prototype.forEachTileCoordParentTileRange=function(e,t,o,r,i){var n,l,a;var s=null;var p=e[0]-1;if(this.zoomFactor_===2){l=e[1];a=e[2]}else{s=this.getTileCoordExtent(e,i)}while(p>=this.minZoom){if(this.zoomFactor_===2){l=Math.floor(l/2);a=Math.floor(a/2);n=ol.TileRange.createOrUpdate(l,l,a,a,r)}else{n=this.getTileRangeForExtentAndZ(s,p,r)}if(t.call(o,p,n)){return true}--p}return false};ol.tilegrid.TileGrid.prototype.getExtent=function(){return this.extent_};ol.tilegrid.TileGrid.prototype.getMaxZoom=function(){return this.maxZoom};ol.tilegrid.TileGrid.prototype.getMinZoom=function(){return this.minZoom};ol.tilegrid.TileGrid.prototype.getOrigin=function(e){if(this.origin_){return this.origin_}else{return this.origins_[e]}};ol.tilegrid.TileGrid.prototype.getResolution=function(e){return this.resolutions_[e]};ol.tilegrid.TileGrid.prototype.getResolutions=function(){return this.resolutions_};ol.tilegrid.TileGrid.prototype.getTileCoordChildTileRange=function(e,t,o){if(e[0]<this.maxZoom){if(this.zoomFactor_===2){var r=e[1]*2;var i=e[2]*2;return ol.TileRange.createOrUpdate(r,r+1,i,i+1,t)}var n=this.getTileCoordExtent(e,o);return this.getTileRangeForExtentAndZ(n,e[0]+1,t)}return null};ol.tilegrid.TileGrid.prototype.getTileRangeExtent=function(e,t,o){var r=this.getOrigin(e);var i=this.getResolution(e);var n=ol.size.toSize(this.getTileSize(e),this.tmpSize_);var l=r[0]+t.minX*n[0]*i;var a=r[0]+(t.maxX+1)*n[0]*i;var s=r[1]+t.minY*n[1]*i;var p=r[1]+(t.maxY+1)*n[1]*i;return ol.extent.createOrUpdate(l,s,a,p,o)};ol.tilegrid.TileGrid.prototype.getTileRangeForExtentAndZ=function(e,t,o){var r=ol.tilegrid.TileGrid.tmpTileCoord_;this.getTileCoordForXYAndZ_(e[0],e[1],t,false,r);var i=r[1];var n=r[2];this.getTileCoordForXYAndZ_(e[2],e[3],t,true,r);return ol.TileRange.createOrUpdate(i,r[1],n,r[2],o)};ol.tilegrid.TileGrid.prototype.getTileCoordCenter=function(e){var t=this.getOrigin(e[0]);var o=this.getResolution(e[0]);var r=ol.size.toSize(this.getTileSize(e[0]),this.tmpSize_);return[t[0]+(e[1]+.5)*r[0]*o,t[1]+(e[2]+.5)*r[1]*o]};ol.tilegrid.TileGrid.prototype.getTileCoordExtent=function(e,t){var o=this.getOrigin(e[0]);var r=this.getResolution(e[0]);var i=ol.size.toSize(this.getTileSize(e[0]),this.tmpSize_);var n=o[0]+e[1]*i[0]*r;var l=o[1]+e[2]*i[1]*r;var a=n+i[0]*r;var s=l+i[1]*r;return ol.extent.createOrUpdate(n,l,a,s,t)};ol.tilegrid.TileGrid.prototype.getTileCoordForCoordAndResolution=function(e,t,o){return this.getTileCoordForXYAndResolution_(e[0],e[1],t,false,o)};ol.tilegrid.TileGrid.prototype.getTileCoordForXYAndResolution_=function(e,t,o,r,i){var n=this.getZForResolution(o);var l=o/this.getResolution(n);var a=this.getOrigin(n);var s=ol.size.toSize(this.getTileSize(n),this.tmpSize_);var p=r?.5:0;var g=r?0:.5;var u=Math.floor((e-a[0])/o+p);var c=Math.floor((t-a[1])/o+g);var y=l*u/s[0];var d=l*c/s[1];if(r){y=Math.ceil(y)-1;d=Math.ceil(d)-1}else{y=Math.floor(y);d=Math.floor(d)}return ol.tilecoord.createOrUpdate(n,y,d,i)};ol.tilegrid.TileGrid.prototype.getTileCoordForXYAndZ_=function(e,t,o,r,i){var n=this.getOrigin(o);var l=this.getResolution(o);var a=ol.size.toSize(this.getTileSize(o),this.tmpSize_);var s=r?.5:0;var p=r?0:.5;var g=Math.floor((e-n[0])/l+s);var u=Math.floor((t-n[1])/l+p);var c=g/a[0];var y=u/a[1];if(r){c=Math.ceil(c)-1;y=Math.ceil(y)-1}else{c=Math.floor(c);y=Math.floor(y)}return ol.tilecoord.createOrUpdate(o,c,y,i)};ol.tilegrid.TileGrid.prototype.getTileCoordForCoordAndZ=function(e,t,o){return this.getTileCoordForXYAndZ_(e[0],e[1],t,false,o)};ol.tilegrid.TileGrid.prototype.getTileCoordResolution=function(e){return this.resolutions_[e[0]]};ol.tilegrid.TileGrid.prototype.getTileSize=function(e){if(this.tileSize_){return this.tileSize_}else{return this.tileSizes_[e]}};ol.tilegrid.TileGrid.prototype.getFullTileRange=function(e){if(!this.fullTileRanges_){return null}else{return this.fullTileRanges_[e]}};ol.tilegrid.TileGrid.prototype.getZForResolution=function(e,t){var o=ol.array.linearFindNearest(this.resolutions_,e,t||0);return ol.math.clamp(o,this.minZoom,this.maxZoom)};ol.tilegrid.TileGrid.prototype.calculateTileRanges_=function(e){var t=this.resolutions_.length;var o=new Array(t);for(var r=this.minZoom;r<t;++r){o[r]=this.getTileRangeForExtentAndZ(e,r)}this.fullTileRanges_=o};goog.provide("ol.tilegrid");goog.require("ol");goog.require("ol.size");goog.require("ol.extent");goog.require("ol.extent.Corner");goog.require("ol.obj");goog.require("ol.proj");goog.require("ol.proj.Units");goog.require("ol.tilegrid.TileGrid");ol.tilegrid.getForProjection=function(e){var t=e.getDefaultTileGrid();if(!t){t=ol.tilegrid.createForProjection(e);e.setDefaultTileGrid(t)}return t};ol.tilegrid.wrapX=function(e,t,o){var r=t[0];var i=e.getTileCoordCenter(t);var n=ol.tilegrid.extentFromProjection(o);if(!ol.extent.containsCoordinate(n,i)){var l=ol.extent.getWidth(n);var a=Math.ceil((n[0]-i[0])/l);i[0]+=l*a;return e.getTileCoordForCoordAndZ(i,r)}else{return t}};ol.tilegrid.createForExtent=function(e,t,o,r){var i=r!==undefined?r:ol.extent.Corner.TOP_LEFT;var n=ol.tilegrid.resolutionsFromExtent(e,t,o);return new ol.tilegrid.TileGrid({extent:e,origin:ol.extent.getCorner(e,i),resolutions:n,tileSize:o})};ol.tilegrid.createXYZ=function(e){var t={};ol.obj.assign(t,e!==undefined?e:{});if(t.extent===undefined){t.extent=ol.proj.get("EPSG:3857").getExtent()}t.resolutions=ol.tilegrid.resolutionsFromExtent(t.extent,t.maxZoom,t.tileSize);delete t.maxZoom;return new ol.tilegrid.TileGrid(t)};ol.tilegrid.resolutionsFromExtent=function(e,t,o){var r=t!==undefined?t:ol.DEFAULT_MAX_ZOOM;var i=ol.extent.getHeight(e);var n=ol.extent.getWidth(e);var l=ol.size.toSize(o!==undefined?o:ol.DEFAULT_TILE_SIZE);var a=Math.max(n/l[0],i/l[1]);var s=r+1;var p=new Array(s);for(var g=0;g<s;++g){p[g]=a/Math.pow(2,g)}return p};ol.tilegrid.createForProjection=function(e,t,o,r){var i=ol.tilegrid.extentFromProjection(e);return ol.tilegrid.createForExtent(i,t,o,r)};ol.tilegrid.extentFromProjection=function(e){e=ol.proj.get(e);var t=e.getExtent();if(!t){var o=180*ol.proj.METERS_PER_UNIT[ol.proj.Units.DEGREES]/e.getMetersPerUnit();t=ol.extent.createOrUpdate(-o,-o,o,o)}return t};goog.provide("ol.Attribution");goog.require("ol.TileRange");goog.require("ol.math");goog.require("ol.tilegrid");ol.Attribution=function(e){this.html_=e.html;this.tileRanges_=e.tileRanges?e.tileRanges:null};ol.Attribution.prototype.getHTML=function(){return this.html_};ol.Attribution.prototype.intersectsAnyTileRange=function(e,t,o){if(!this.tileRanges_){return true}var r,i,n,l;for(l in e){if(!(l in this.tileRanges_)){continue}n=e[l];var a;for(r=0,i=this.tileRanges_[l].length;r<i;++r){a=this.tileRanges_[l][r];if(a.intersects(n)){return true}var s=t.getTileRangeForExtentAndZ(ol.tilegrid.extentFromProjection(o),parseInt(l,10));var p=s.getWidth();if(n.minX<s.minX||n.maxX>s.maxX){if(a.intersects(new ol.TileRange(ol.math.modulo(n.minX,p),ol.math.modulo(n.maxX,p),n.minY,n.maxY))){return true}if(n.getWidth()>p&&a.intersects(s)){return true}}}}return false};goog.provide("ol.CollectionEventType");ol.CollectionEventType={ADD:"add",REMOVE:"remove"};goog.provide("ol.ObjectEventType");ol.ObjectEventType={PROPERTYCHANGE:"propertychange"};goog.provide("ol.events");goog.require("ol.obj");ol.events.bindListener_=function(e){var t=function(t){var o=e.listener;var r=e.bindTo||e.target;if(e.callOnce){ol.events.unlistenByKey(e)}return o.call(r,t)};e.boundListener=t;return t};ol.events.findListener_=function(e,t,o,r){var i;for(var n=0,l=e.length;n<l;++n){i=e[n];if(i.listener===t&&i.bindTo===o){if(r){i.deleteIndex=n}return i}}return undefined};ol.events.getListeners=function(e,t){var o=e.ol_lm;return o?o[t]:undefined};ol.events.getListenerMap_=function(e){var t=e.ol_lm;if(!t){t=e.ol_lm={}}return t};ol.events.removeListeners_=function(e,t){var o=ol.events.getListeners(e,t);if(o){for(var r=0,i=o.length;r<i;++r){e.removeEventListener(t,o[r].boundListener);ol.obj.clear(o[r])}o.length=0;var n=e.ol_lm;if(n){delete n[t];if(Object.keys(n).length===0){delete e.ol_lm}}}};ol.events.listen=function(e,t,o,r,i){var n=ol.events.getListenerMap_(e);var l=n[t];if(!l){l=n[t]=[]}var a=ol.events.findListener_(l,o,r,false);if(a){if(!i){a.callOnce=false}}else{a={bindTo:r,callOnce:!!i,listener:o,target:e,type:t};e.addEventListener(t,ol.events.bindListener_(a));l.push(a)}return a};ol.events.listenOnce=function(e,t,o,r){return ol.events.listen(e,t,o,r,true)};ol.events.unlisten=function(e,t,o,r){var i=ol.events.getListeners(e,t);if(i){var n=ol.events.findListener_(i,o,r,true);if(n){ol.events.unlistenByKey(n)}}};ol.events.unlistenByKey=function(e){if(e&&e.target){e.target.removeEventListener(e.type,e.boundListener);var t=ol.events.getListeners(e.target,e.type);if(t){var o="deleteIndex"in e?e.deleteIndex:t.indexOf(e);if(o!==-1){t.splice(o,1)}if(t.length===0){ol.events.removeListeners_(e.target,e.type)}}ol.obj.clear(e)}};ol.events.unlistenAll=function(e){var t=ol.events.getListenerMap_(e);for(var o in t){ol.events.removeListeners_(e,o)}};goog.provide("ol.Disposable");goog.require("ol");ol.Disposable=function(){};ol.Disposable.prototype.disposed_=false;ol.Disposable.prototype.dispose=function(){if(!this.disposed_){this.disposed_=true;this.disposeInternal()}};ol.Disposable.prototype.disposeInternal=ol.nullFunction;goog.provide("ol.events.Event");ol.events.Event=function(e){this.propagationStopped;this.type=e;this.target=null};ol.events.Event.prototype.preventDefault=ol.events.Event.prototype.stopPropagation=function(){this.propagationStopped=true};ol.events.Event.stopPropagation=function(e){e.stopPropagation()};ol.events.Event.preventDefault=function(e){e.preventDefault()};goog.provide("ol.events.EventTarget");goog.require("ol");goog.require("ol.Disposable");goog.require("ol.events");goog.require("ol.events.Event");ol.events.EventTarget=function(){ol.Disposable.call(this);this.pendingRemovals_={};this.dispatching_={};this.listeners_={}};ol.inherits(ol.events.EventTarget,ol.Disposable);ol.events.EventTarget.prototype.addEventListener=function(e,t){var o=this.listeners_[e];if(!o){o=this.listeners_[e]=[]}if(o.indexOf(t)===-1){o.push(t)}};ol.events.EventTarget.prototype.dispatchEvent=function(e){var t=typeof e==="string"?new ol.events.Event(e):e;var o=t.type;t.target=this;var r=this.listeners_[o];var i;if(r){if(!(o in this.dispatching_)){this.dispatching_[o]=0;this.pendingRemovals_[o]=0}++this.dispatching_[o];for(var n=0,l=r.length;n<l;++n){if(r[n].call(this,t)===false||t.propagationStopped){i=false;break}}--this.dispatching_[o];if(this.dispatching_[o]===0){var a=this.pendingRemovals_[o];delete this.pendingRemovals_[o];while(a--){this.removeEventListener(o,ol.nullFunction)}delete this.dispatching_[o]}return i}};ol.events.EventTarget.prototype.disposeInternal=function(){ol.events.unlistenAll(this)};ol.events.EventTarget.prototype.getListeners=function(e){return this.listeners_[e]};ol.events.EventTarget.prototype.hasListener=function(e){return e?e in this.listeners_:Object.keys(this.listeners_).length>0};ol.events.EventTarget.prototype.removeEventListener=function(e,t){var o=this.listeners_[e];if(o){var r=o.indexOf(t);if(e in this.pendingRemovals_){o[r]=ol.nullFunction;++this.pendingRemovals_[e]}else{o.splice(r,1);if(o.length===0){delete this.listeners_[e]}}}};goog.provide("ol.events.EventType");ol.events.EventType={CHANGE:"change",CLEAR:"clear",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",ERROR:"error",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",MOUSEDOWN:"mousedown",MOUSEMOVE:"mousemove",MOUSEOUT:"mouseout",MOUSEUP:"mouseup",MOUSEWHEEL:"mousewheel",MSPOINTERDOWN:"MSPointerDown",RESIZE:"resize",TOUCHSTART:"touchstart",TOUCHMOVE:"touchmove",TOUCHEND:"touchend",WHEEL:"wheel"};goog.provide("ol.Observable");goog.require("ol");goog.require("ol.events");goog.require("ol.events.EventTarget");goog.require("ol.events.EventType");ol.Observable=function(){ol.events.EventTarget.call(this);this.revision_=0};ol.inherits(ol.Observable,ol.events.EventTarget);ol.Observable.unByKey=function(e){if(Array.isArray(e)){for(var t=0,o=e.length;t<o;++t){ol.events.unlistenByKey(e[t])}}else{ol.events.unlistenByKey(e)}};ol.Observable.prototype.changed=function(){++this.revision_;this.dispatchEvent(ol.events.EventType.CHANGE)};ol.Observable.prototype.dispatchEvent;ol.Observable.prototype.getRevision=function(){return this.revision_};ol.Observable.prototype.on=function(e,t,o){if(Array.isArray(e)){var r=e.length;var i=new Array(r);for(var n=0;n<r;++n){i[n]=ol.events.listen(this,e[n],t,o)}return i}else{return ol.events.listen(this,e,t,o)}};ol.Observable.prototype.once=function(e,t,o){if(Array.isArray(e)){var r=e.length;var i=new Array(r);for(var n=0;n<r;++n){i[n]=ol.events.listenOnce(this,e[n],t,o)}return i}else{return ol.events.listenOnce(this,e,t,o)}};ol.Observable.prototype.un=function(e,t,o){if(Array.isArray(e)){for(var r=0,i=e.length;r<i;++r){ol.events.unlisten(this,e[r],t,o)}return}else{ol.events.unlisten(this,e,t,o)}};goog.provide("ol.Object");goog.require("ol");goog.require("ol.ObjectEventType");goog.require("ol.Observable");goog.require("ol.events.Event");goog.require("ol.obj");ol.Object=function(e){ol.Observable.call(this);ol.getUid(this);this.values_={};if(e!==undefined){this.setProperties(e)}};ol.inherits(ol.Object,ol.Observable);ol.Object.changeEventTypeCache_={};ol.Object.getChangeEventType=function(e){return ol.Object.changeEventTypeCache_.hasOwnProperty(e)?ol.Object.changeEventTypeCache_[e]:ol.Object.changeEventTypeCache_[e]="change:"+e};ol.Object.prototype.get=function(e){var t;if(this.values_.hasOwnProperty(e)){t=this.values_[e]}return t};ol.Object.prototype.getKeys=function(){return Object.keys(this.values_)};ol.Object.prototype.getProperties=function(){return ol.obj.assign({},this.values_)};ol.Object.prototype.notify=function(e,t){var o;o=ol.Object.getChangeEventType(e);this.dispatchEvent(new ol.Object.Event(o,e,t));o=ol.ObjectEventType.PROPERTYCHANGE;this.dispatchEvent(new ol.Object.Event(o,e,t))};ol.Object.prototype.set=function(e,t,o){if(o){this.values_[e]=t}else{var r=this.values_[e];this.values_[e]=t;if(r!==t){this.notify(e,r)}}};ol.Object.prototype.setProperties=function(e,t){var o;for(o in e){this.set(o,e[o],t)}};ol.Object.prototype.unset=function(e,t){if(e in this.values_){var o=this.values_[e];delete this.values_[e];if(!t){this.notify(e,o)}}};ol.Object.Event=function(e,t,o){ol.events.Event.call(this,e);this.key=t;this.oldValue=o};ol.inherits(ol.Object.Event,ol.events.Event);goog.provide("ol.Collection");goog.require("ol");goog.require("ol.AssertionError");goog.require("ol.CollectionEventType");goog.require("ol.Object");goog.require("ol.events.Event");ol.Collection=function(e,t){ol.Object.call(this);var o=t||{};this.unique_=!!o.unique;this.array_=e?e:[];if(this.unique_){for(var r=0,i=this.array_.length;r<i;++r){this.assertUnique_(this.array_[r],r)}}this.updateLength_()};ol.inherits(ol.Collection,ol.Object);ol.Collection.prototype.clear=function(){while(this.getLength()>0){this.pop()}};ol.Collection.prototype.extend=function(e){var t,o;for(t=0,o=e.length;t<o;++t){this.push(e[t])}return this};ol.Collection.prototype.forEach=function(e,t){var o=t?e.bind(t):e;var r=this.array_;for(var i=0,n=r.length;i<n;++i){o(r[i],i,r)}};ol.Collection.prototype.getArray=function(){return this.array_};ol.Collection.prototype.item=function(e){return this.array_[e]};ol.Collection.prototype.getLength=function(){return this.get(ol.Collection.Property_.LENGTH)};ol.Collection.prototype.insertAt=function(e,t){if(this.unique_){this.assertUnique_(t)}this.array_.splice(e,0,t);this.updateLength_();this.dispatchEvent(new ol.Collection.Event(ol.CollectionEventType.ADD,t))};ol.Collection.prototype.pop=function(){return this.removeAt(this.getLength()-1)};ol.Collection.prototype.push=function(e){if(this.unique_){this.assertUnique_(e)}var t=this.getLength();this.insertAt(t,e);return this.getLength()};ol.Collection.prototype.remove=function(e){var t=this.array_;var o,r;for(o=0,r=t.length;o<r;++o){if(t[o]===e){return this.removeAt(o)}}return undefined};ol.Collection.prototype.removeAt=function(e){var t=this.array_[e];this.array_.splice(e,1);this.updateLength_();this.dispatchEvent(new ol.Collection.Event(ol.CollectionEventType.REMOVE,t));return t};ol.Collection.prototype.setAt=function(e,t){var o=this.getLength();if(e<o){if(this.unique_){this.assertUnique_(t,e)}var r=this.array_[e];this.array_[e]=t;this.dispatchEvent(new ol.Collection.Event(ol.CollectionEventType.REMOVE,r));this.dispatchEvent(new ol.Collection.Event(ol.CollectionEventType.ADD,t))}else{var i;for(i=o;i<e;++i){this.insertAt(i,undefined)}this.insertAt(e,t)}};ol.Collection.prototype.updateLength_=function(){this.set(ol.Collection.Property_.LENGTH,this.array_.length)};ol.Collection.prototype.assertUnique_=function(e,t){for(var o=0,r=this.array_.length;o<r;++o){if(this.array_[o]===e&&o!==t){throw new ol.AssertionError(58)}}};ol.Collection.Property_={LENGTH:"length"};ol.Collection.Event=function(e,t){ol.events.Event.call(this,e);this.element=t};ol.inherits(ol.Collection.Event,ol.events.Event);goog.provide("ol.MapEvent");goog.require("ol");goog.require("ol.events.Event");ol.MapEvent=function(e,t,o){ol.events.Event.call(this,e);this.map=t;this.frameState=o!==undefined?o:null};ol.inherits(ol.MapEvent,ol.events.Event);goog.provide("ol.MapBrowserEvent");goog.require("ol");goog.require("ol.MapEvent");ol.MapBrowserEvent=function(e,t,o,r,i){ol.MapEvent.call(this,e,t,i);this.originalEvent=o;this.pixel=t.getEventPixel(o);this.coordinate=t.getCoordinateFromPixel(this.pixel);this.dragging=r!==undefined?r:false};ol.inherits(ol.MapBrowserEvent,ol.MapEvent);ol.MapBrowserEvent.prototype.preventDefault=function(){ol.MapEvent.prototype.preventDefault.call(this);this.originalEvent.preventDefault()};ol.MapBrowserEvent.prototype.stopPropagation=function(){ol.MapEvent.prototype.stopPropagation.call(this);this.originalEvent.stopPropagation()};goog.provide("ol.webgl");ol.webgl.ONE=1;ol.webgl.SRC_ALPHA=770;ol.webgl.COLOR_ATTACHMENT0=36064;ol.webgl.COLOR_BUFFER_BIT=16384;ol.webgl.TRIANGLES=4;ol.webgl.TRIANGLE_STRIP=5;ol.webgl.ONE_MINUS_SRC_ALPHA=771;ol.webgl.ARRAY_BUFFER=34962;ol.webgl.ELEMENT_ARRAY_BUFFER=34963;ol.webgl.STREAM_DRAW=35040;ol.webgl.STATIC_DRAW=35044;ol.webgl.DYNAMIC_DRAW=35048;ol.webgl.CULL_FACE=2884;ol.webgl.BLEND=3042;ol.webgl.STENCIL_TEST=2960;ol.webgl.DEPTH_TEST=2929;ol.webgl.SCISSOR_TEST=3089;ol.webgl.UNSIGNED_BYTE=5121;ol.webgl.UNSIGNED_SHORT=5123;ol.webgl.UNSIGNED_INT=5125;ol.webgl.FLOAT=5126;ol.webgl.RGBA=6408;ol.webgl.FRAGMENT_SHADER=35632;ol.webgl.VERTEX_SHADER=35633;ol.webgl.LINK_STATUS=35714;ol.webgl.LINEAR=9729;ol.webgl.TEXTURE_MAG_FILTER=10240;ol.webgl.TEXTURE_MIN_FILTER=10241;ol.webgl.TEXTURE_WRAP_S=10242;ol.webgl.TEXTURE_WRAP_T=10243;ol.webgl.TEXTURE_2D=3553;ol.webgl.TEXTURE0=33984;ol.webgl.CLAMP_TO_EDGE=33071;ol.webgl.COMPILE_STATUS=35713;ol.webgl.FRAMEBUFFER=36160;ol.webgl.CONTEXT_IDS_=["experimental-webgl","webgl","webkit-3d","moz-webgl"];ol.webgl.getContext=function(e,t){var o,r,i=ol.webgl.CONTEXT_IDS_.length;for(r=0;r<i;++r){try{o=e.getContext(ol.webgl.CONTEXT_IDS_[r],t);if(o){return o}}catch(e){}}return null};goog.provide("ol.has");goog.require("ol");goog.require("ol.webgl");var ua=typeof navigator!=="undefined"?navigator.userAgent.toLowerCase():"";ol.has.FIREFOX=ua.indexOf("firefox")!==-1;ol.has.SAFARI=ua.indexOf("safari")!==-1&&ua.indexOf("chrom")==-1;ol.has.WEBKIT=ua.indexOf("webkit")!==-1&&ua.indexOf("edge")==-1;ol.has.MAC=ua.indexOf("macintosh")!==-1;ol.has.DEVICE_PIXEL_RATIO=window.devicePixelRatio||1;ol.has.CANVAS_LINE_DASH=false;ol.has.CANVAS=ol.ENABLE_CANVAS&&function(){if(!("HTMLCanvasElement"in window)){return false}try{var e=document.createElement("CANVAS").getContext("2d");if(!e){return false}else{if(e.setLineDash!==undefined){ol.has.CANVAS_LINE_DASH=true}return true}}catch(e){return false}}();ol.has.DEVICE_ORIENTATION="DeviceOrientationEvent"in window;ol.has.GEOLOCATION="geolocation"in navigator;ol.has.TOUCH=ol.ASSUME_TOUCH||"ontouchstart"in window;ol.has.POINTER="PointerEvent"in window;ol.has.MSPOINTER=!!navigator.msPointerEnabled;ol.has.WEBGL;(function(){if(ol.ENABLE_WEBGL){var e=false;var t;var o=[];if("WebGLRenderingContext"in window){try{var r=document.createElement("CANVAS");var i=ol.webgl.getContext(r,{failIfMajorPerformanceCaveat:true});if(i){e=true;t=i.getParameter(i.MAX_TEXTURE_SIZE);o=i.getSupportedExtensions()}}catch(e){}}ol.has.WEBGL=e;ol.WEBGL_EXTENSIONS=o;ol.WEBGL_MAX_TEXTURE_SIZE=t}})();goog.provide("ol.MapBrowserEventType");goog.require("ol.events.EventType");ol.MapBrowserEventType={SINGLECLICK:"singleclick",CLICK:ol.events.EventType.CLICK,DBLCLICK:ol.events.EventType.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};goog.provide("ol.MapBrowserPointerEvent");goog.require("ol");goog.require("ol.MapBrowserEvent");ol.MapBrowserPointerEvent=function(e,t,o,r,i){ol.MapBrowserEvent.call(this,e,t,o.originalEvent,r,i);this.pointerEvent=o};ol.inherits(ol.MapBrowserPointerEvent,ol.MapBrowserEvent);goog.provide("ol.pointer.EventType");ol.pointer.EventType={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};goog.provide("ol.pointer.EventSource");ol.pointer.EventSource=function(e,t){this.dispatcher=e;this.mapping_=t};ol.pointer.EventSource.prototype.getEvents=function(){return Object.keys(this.mapping_)};ol.pointer.EventSource.prototype.getHandlerForEvent=function(e){return this.mapping_[e]};goog.provide("ol.pointer.MouseSource");goog.require("ol");goog.require("ol.pointer.EventSource");ol.pointer.MouseSource=function(e){var t={mousedown:this.mousedown,mousemove:this.mousemove,mouseup:this.mouseup,mouseover:this.mouseover,mouseout:this.mouseout};ol.pointer.EventSource.call(this,e,t);this.pointerMap=e.pointerMap;this.lastTouches=[]};ol.inherits(ol.pointer.MouseSource,ol.pointer.EventSource);ol.pointer.MouseSource.POINTER_ID=1;ol.pointer.MouseSource.POINTER_TYPE="mouse";ol.pointer.MouseSource.DEDUP_DIST=25;ol.pointer.MouseSource.prototype.isEventSimulatedFromTouch_=function(e){var t=this.lastTouches;var o=e.clientX,r=e.clientY;for(var i=0,n=t.length,l;i<n&&(l=t[i]);i++){var a=Math.abs(o-l[0]),s=Math.abs(r-l[1]);if(a<=ol.pointer.MouseSource.DEDUP_DIST&&s<=ol.pointer.MouseSource.DEDUP_DIST){return true}}return false};ol.pointer.MouseSource.prepareEvent=function(e,t){var o=t.cloneEvent(e,e);var r=o.preventDefault;o.preventDefault=function(){e.preventDefault();r()};o.pointerId=ol.pointer.MouseSource.POINTER_ID;o.isPrimary=true;o.pointerType=ol.pointer.MouseSource.POINTER_TYPE;return o};ol.pointer.MouseSource.prototype.mousedown=function(e){if(!this.isEventSimulatedFromTouch_(e)){if(ol.pointer.MouseSource.POINTER_ID.toString()in this.pointerMap){this.cancel(e)}var t=ol.pointer.MouseSource.prepareEvent(e,this.dispatcher);this.pointerMap[ol.pointer.MouseSource.POINTER_ID.toString()]=e;this.dispatcher.down(t,e)}};ol.pointer.MouseSource.prototype.mousemove=function(e){if(!this.isEventSimulatedFromTouch_(e)){var t=ol.pointer.MouseSource.prepareEvent(e,this.dispatcher);this.dispatcher.move(t,e)}};ol.pointer.MouseSource.prototype.mouseup=function(e){if(!this.isEventSimulatedFromTouch_(e)){var t=this.pointerMap[ol.pointer.MouseSource.POINTER_ID.toString()];if(t&&t.button===e.button){var o=ol.pointer.MouseSource.prepareEvent(e,this.dispatcher);this.dispatcher.up(o,e);this.cleanupMouse()}}};ol.pointer.MouseSource.prototype.mouseover=function(e){if(!this.isEventSimulatedFromTouch_(e)){var t=ol.pointer.MouseSource.prepareEvent(e,this.dispatcher);this.dispatcher.enterOver(t,e)}};ol.pointer.MouseSource.prototype.mouseout=function(e){if(!this.isEventSimulatedFromTouch_(e)){var t=ol.pointer.MouseSource.prepareEvent(e,this.dispatcher);this.dispatcher.leaveOut(t,e)}};ol.pointer.MouseSource.prototype.cancel=function(e){var t=ol.pointer.MouseSource.prepareEvent(e,this.dispatcher);this.dispatcher.cancel(t,e);this.cleanupMouse()};ol.pointer.MouseSource.prototype.cleanupMouse=function(){delete this.pointerMap[ol.pointer.MouseSource.POINTER_ID.toString()]};goog.provide("ol.pointer.MsSource");goog.require("ol");goog.require("ol.pointer.EventSource");ol.pointer.MsSource=function(e){var t={MSPointerDown:this.msPointerDown,MSPointerMove:this.msPointerMove,MSPointerUp:this.msPointerUp,MSPointerOut:this.msPointerOut,MSPointerOver:this.msPointerOver,MSPointerCancel:this.msPointerCancel,MSGotPointerCapture:this.msGotPointerCapture,MSLostPointerCapture:this.msLostPointerCapture};ol.pointer.EventSource.call(this,e,t);this.pointerMap=e.pointerMap;this.POINTER_TYPES=["","unavailable","touch","pen","mouse"]};ol.inherits(ol.pointer.MsSource,ol.pointer.EventSource);ol.pointer.MsSource.prototype.prepareEvent_=function(e){var t=e;if(typeof e.pointerType==="number"){t=this.dispatcher.cloneEvent(e,e);t.pointerType=this.POINTER_TYPES[e.pointerType]}return t};ol.pointer.MsSource.prototype.cleanup=function(e){delete this.pointerMap[e.toString()]};ol.pointer.MsSource.prototype.msPointerDown=function(e){this.pointerMap[e.pointerId.toString()]=e;var t=this.prepareEvent_(e);this.dispatcher.down(t,e)};ol.pointer.MsSource.prototype.msPointerMove=function(e){var t=this.prepareEvent_(e);this.dispatcher.move(t,e)};ol.pointer.MsSource.prototype.msPointerUp=function(e){var t=this.prepareEvent_(e);this.dispatcher.up(t,e);this.cleanup(e.pointerId)};ol.pointer.MsSource.prototype.msPointerOut=function(e){var t=this.prepareEvent_(e);this.dispatcher.leaveOut(t,e)};ol.pointer.MsSource.prototype.msPointerOver=function(e){var t=this.prepareEvent_(e);this.dispatcher.enterOver(t,e)};ol.pointer.MsSource.prototype.msPointerCancel=function(e){var t=this.prepareEvent_(e);this.dispatcher.cancel(t,e);this.cleanup(e.pointerId)};ol.pointer.MsSource.prototype.msLostPointerCapture=function(e){var t=this.dispatcher.makeEvent("lostpointercapture",e,e);this.dispatcher.dispatchEvent(t)};ol.pointer.MsSource.prototype.msGotPointerCapture=function(e){var t=this.dispatcher.makeEvent("gotpointercapture",e,e);this.dispatcher.dispatchEvent(t)};goog.provide("ol.pointer.NativeSource");goog.require("ol");goog.require("ol.pointer.EventSource");ol.pointer.NativeSource=function(e){var t={pointerdown:this.pointerDown,pointermove:this.pointerMove,pointerup:this.pointerUp,pointerout:this.pointerOut,pointerover:this.pointerOver,pointercancel:this.pointerCancel,gotpointercapture:this.gotPointerCapture,lostpointercapture:this.lostPointerCapture};ol.pointer.EventSource.call(this,e,t)};ol.inherits(ol.pointer.NativeSource,ol.pointer.EventSource);ol.pointer.NativeSource.prototype.pointerDown=function(e){this.dispatcher.fireNativeEvent(e)};ol.pointer.NativeSource.prototype.pointerMove=function(e){this.dispatcher.fireNativeEvent(e)};ol.pointer.NativeSource.prototype.pointerUp=function(e){this.dispatcher.fireNativeEvent(e)};ol.pointer.NativeSource.prototype.pointerOut=function(e){this.dispatcher.fireNativeEvent(e)};ol.pointer.NativeSource.prototype.pointerOver=function(e){this.dispatcher.fireNativeEvent(e)};ol.pointer.NativeSource.prototype.pointerCancel=function(e){this.dispatcher.fireNativeEvent(e)};ol.pointer.NativeSource.prototype.lostPointerCapture=function(e){this.dispatcher.fireNativeEvent(e)};ol.pointer.NativeSource.prototype.gotPointerCapture=function(e){this.dispatcher.fireNativeEvent(e)};goog.provide("ol.pointer.PointerEvent");goog.require("ol");goog.require("ol.events.Event");ol.pointer.PointerEvent=function(e,t,o){ol.events.Event.call(this,e);this.originalEvent=t;var r=o?o:{};this.buttons=this.getButtons_(r);this.pressure=this.getPressure_(r,this.buttons);this.bubbles="bubbles"in r?r["bubbles"]:false;this.cancelable="cancelable"in r?r["cancelable"]:false;this.view="view"in r?r["view"]:null;this.detail="detail"in r?r["detail"]:null;this.screenX="screenX"in r?r["screenX"]:0;this.screenY="screenY"in r?r["screenY"]:0;this.clientX="clientX"in r?r["clientX"]:0;this.clientY="clientY"in r?r["clientY"]:0;this.ctrlKey="ctrlKey"in r?r["ctrlKey"]:false;this.altKey="altKey"in r?r["altKey"]:false;this.shiftKey="shiftKey"in r?r["shiftKey"]:false;this.metaKey="metaKey"in r?r["metaKey"]:false;this.button="button"in r?r["button"]:0;this.relatedTarget="relatedTarget"in r?r["relatedTarget"]:null;this.pointerId="pointerId"in r?r["pointerId"]:0;this.width="width"in r?r["width"]:0;this.height="height"in r?r["height"]:0;this.tiltX="tiltX"in r?r["tiltX"]:0;this.tiltY="tiltY"in r?r["tiltY"]:0;this.pointerType="pointerType"in r?r["pointerType"]:"";this.hwTimestamp="hwTimestamp"in r?r["hwTimestamp"]:0;this.isPrimary="isPrimary"in r?r["isPrimary"]:false;if(t.preventDefault){this.preventDefault=function(){t.preventDefault()}}};ol.inherits(ol.pointer.PointerEvent,ol.events.Event);ol.pointer.PointerEvent.prototype.getButtons_=function(e){var t;if(e.buttons||ol.pointer.PointerEvent.HAS_BUTTONS){t=e.buttons}else{switch(e.which){case 1:t=1;break;case 2:t=4;break;case 3:t=2;break;default:t=0}}return t};ol.pointer.PointerEvent.prototype.getPressure_=function(e,t){var o=0;if(e.pressure){o=e.pressure}else{o=t?.5:0}return o};ol.pointer.PointerEvent.HAS_BUTTONS=false;(function(){try{var e=new MouseEvent("click",{buttons:1});ol.pointer.PointerEvent.HAS_BUTTONS=e.buttons===1}catch(e){}})();goog.provide("ol.pointer.TouchSource");goog.require("ol");goog.require("ol.array");goog.require("ol.pointer.EventSource");goog.require("ol.pointer.MouseSource");ol.pointer.TouchSource=function(e,t){var o={touchstart:this.touchstart,touchmove:this.touchmove,touchend:this.touchend,touchcancel:this.touchcancel};ol.pointer.EventSource.call(this,e,o);this.pointerMap=e.pointerMap;this.mouseSource=t;this.firstTouchId_=undefined;this.clickCount_=0;this.resetId_=undefined};ol.inherits(ol.pointer.TouchSource,ol.pointer.EventSource);ol.pointer.TouchSource.DEDUP_TIMEOUT=2500;ol.pointer.TouchSource.CLICK_COUNT_TIMEOUT=200;ol.pointer.TouchSource.POINTER_TYPE="touch";ol.pointer.TouchSource.prototype.isPrimaryTouch_=function(e){return this.firstTouchId_===e.identifier};ol.pointer.TouchSource.prototype.setPrimaryTouch_=function(e){var t=Object.keys(this.pointerMap).length;if(t===0||t===1&&ol.pointer.MouseSource.POINTER_ID.toString()in this.pointerMap){this.firstTouchId_=e.identifier;this.cancelResetClickCount_()}};ol.pointer.TouchSource.prototype.removePrimaryPointer_=function(e){if(e.isPrimary){this.firstTouchId_=undefined;this.resetClickCount_()}};ol.pointer.TouchSource.prototype.resetClickCount_=function(){this.resetId_=setTimeout(this.resetClickCountHandler_.bind(this),ol.pointer.TouchSource.CLICK_COUNT_TIMEOUT)};ol.pointer.TouchSource.prototype.resetClickCountHandler_=function(){this.clickCount_=0;this.resetId_=undefined};ol.pointer.TouchSource.prototype.cancelResetClickCount_=function(){if(this.resetId_!==undefined){clearTimeout(this.resetId_)}};ol.pointer.TouchSource.prototype.touchToPointer_=function(e,t){var o=this.dispatcher.cloneEvent(e,t);o.pointerId=t.identifier+2;o.bubbles=true;o.cancelable=true;o.detail=this.clickCount_;o.button=0;o.buttons=1;o.width=t.webkitRadiusX||t.radiusX||0;o.height=t.webkitRadiusY||t.radiusY||0;o.pressure=t.webkitForce||t.force||.5;o.isPrimary=this.isPrimaryTouch_(t);o.pointerType=ol.pointer.TouchSource.POINTER_TYPE;o.clientX=t.clientX;o.clientY=t.clientY;o.screenX=t.screenX;o.screenY=t.screenY;return o};ol.pointer.TouchSource.prototype.processTouches_=function(e,t){var o=Array.prototype.slice.call(e.changedTouches);var r=o.length;function i(){e.preventDefault()}var n,l;for(n=0;n<r;++n){l=this.touchToPointer_(e,o[n]);l.preventDefault=i;t.call(this,e,l)}};ol.pointer.TouchSource.prototype.findTouch_=function(e,t){var o=e.length;var r;for(var i=0;i<o;i++){r=e[i];if(r.identifier===t){return true}}return false};ol.pointer.TouchSource.prototype.vacuumTouches_=function(e){var t=e.touches;var o=Object.keys(this.pointerMap);var r=o.length;if(r>=t.length){var i=[];var n,l,a;for(n=0;n<r;++n){l=o[n];a=this.pointerMap[l];if(l!=ol.pointer.MouseSource.POINTER_ID&&!this.findTouch_(t,l-2)){i.push(a.out)}}for(n=0;n<i.length;++n){this.cancelOut_(e,i[n])}}};ol.pointer.TouchSource.prototype.touchstart=function(e){this.vacuumTouches_(e);this.setPrimaryTouch_(e.changedTouches[0]);this.dedupSynthMouse_(e);this.clickCount_++;this.processTouches_(e,this.overDown_)};ol.pointer.TouchSource.prototype.overDown_=function(e,t){this.pointerMap[t.pointerId]={target:t.target,out:t,outTarget:t.target};this.dispatcher.over(t,e);this.dispatcher.enter(t,e);this.dispatcher.down(t,e)};ol.pointer.TouchSource.prototype.touchmove=function(e){e.preventDefault();this.processTouches_(e,this.moveOverOut_)};ol.pointer.TouchSource.prototype.moveOverOut_=function(e,t){var o=t;var r=this.pointerMap[o.pointerId];if(!r){return}var i=r.out;var n=r.outTarget;this.dispatcher.move(o,e);if(i&&n!==o.target){i.relatedTarget=o.target;o.relatedTarget=n;i.target=n;if(o.target){this.dispatcher.leaveOut(i,e);this.dispatcher.enterOver(o,e)}else{o.target=n;o.relatedTarget=null;this.cancelOut_(e,o)}}r.out=o;r.outTarget=o.target};ol.pointer.TouchSource.prototype.touchend=function(e){this.dedupSynthMouse_(e);this.processTouches_(e,this.upOut_)};ol.pointer.TouchSource.prototype.upOut_=function(e,t){this.dispatcher.up(t,e);this.dispatcher.out(t,e);this.dispatcher.leave(t,e);this.cleanUpPointer_(t)};ol.pointer.TouchSource.prototype.touchcancel=function(e){this.processTouches_(e,this.cancelOut_)};ol.pointer.TouchSource.prototype.cancelOut_=function(e,t){this.dispatcher.cancel(t,e);this.dispatcher.out(t,e);this.dispatcher.leave(t,e);this.cleanUpPointer_(t)};ol.pointer.TouchSource.prototype.cleanUpPointer_=function(e){delete this.pointerMap[e.pointerId];this.removePrimaryPointer_(e)};ol.pointer.TouchSource.prototype.dedupSynthMouse_=function(e){var t=this.mouseSource.lastTouches;var o=e.changedTouches[0];if(this.isPrimaryTouch_(o)){var r=[o.clientX,o.clientY];t.push(r);setTimeout(function(){ol.array.remove(t,r)},ol.pointer.TouchSource.DEDUP_TIMEOUT)}};goog.provide("ol.pointer.PointerEventHandler");goog.require("ol");goog.require("ol.events");goog.require("ol.events.EventTarget");goog.require("ol.has");goog.require("ol.pointer.EventType");goog.require("ol.pointer.MouseSource");goog.require("ol.pointer.MsSource");goog.require("ol.pointer.NativeSource");goog.require("ol.pointer.PointerEvent");goog.require("ol.pointer.TouchSource");ol.pointer.PointerEventHandler=function(e){ol.events.EventTarget.call(this);this.element_=e;this.pointerMap={};this.eventMap_={};this.eventSourceList_=[];this.registerSources()};ol.inherits(ol.pointer.PointerEventHandler,ol.events.EventTarget);ol.pointer.PointerEventHandler.prototype.registerSources=function(){if(ol.has.POINTER){this.registerSource("native",new ol.pointer.NativeSource(this))}else if(ol.has.MSPOINTER){this.registerSource("ms",new ol.pointer.MsSource(this))}else{var e=new ol.pointer.MouseSource(this);this.registerSource("mouse",e);if(ol.has.TOUCH){this.registerSource("touch",new ol.pointer.TouchSource(this,e))}}this.register_()};ol.pointer.PointerEventHandler.prototype.registerSource=function(e,t){var o=t;var r=o.getEvents();if(r){r.forEach(function(e){var t=o.getHandlerForEvent(e);if(t){this.eventMap_[e]=t.bind(o)}},this);this.eventSourceList_.push(o)}};ol.pointer.PointerEventHandler.prototype.register_=function(){var e=this.eventSourceList_.length;var t;for(var o=0;o<e;o++){t=this.eventSourceList_[o];this.addEvents_(t.getEvents())}};ol.pointer.PointerEventHandler.prototype.unregister_=function(){var e=this.eventSourceList_.length;var t;for(var o=0;o<e;o++){t=this.eventSourceList_[o];this.removeEvents_(t.getEvents())}};ol.pointer.PointerEventHandler.prototype.eventHandler_=function(e){var t=e.type;var o=this.eventMap_[t];if(o){o(e)}};ol.pointer.PointerEventHandler.prototype.addEvents_=function(e){e.forEach(function(e){ol.events.listen(this.element_,e,this.eventHandler_,this)},this)};ol.pointer.PointerEventHandler.prototype.removeEvents_=function(e){e.forEach(function(e){ol.events.unlisten(this.element_,e,this.eventHandler_,this)},this)};ol.pointer.PointerEventHandler.prototype.cloneEvent=function(e,t){var o={},r;for(var i=0,n=ol.pointer.PointerEventHandler.CLONE_PROPS.length;i<n;i++){r=ol.pointer.PointerEventHandler.CLONE_PROPS[i][0];o[r]=e[r]||t[r]||ol.pointer.PointerEventHandler.CLONE_PROPS[i][1]}return o};ol.pointer.PointerEventHandler.prototype.down=function(e,t){this.fireEvent(ol.pointer.EventType.POINTERDOWN,e,t)};ol.pointer.PointerEventHandler.prototype.move=function(e,t){this.fireEvent(ol.pointer.EventType.POINTERMOVE,e,t)};ol.pointer.PointerEventHandler.prototype.up=function(e,t){this.fireEvent(ol.pointer.EventType.POINTERUP,e,t)};ol.pointer.PointerEventHandler.prototype.enter=function(e,t){e.bubbles=false;this.fireEvent(ol.pointer.EventType.POINTERENTER,e,t)};ol.pointer.PointerEventHandler.prototype.leave=function(e,t){e.bubbles=false;this.fireEvent(ol.pointer.EventType.POINTERLEAVE,e,t)};ol.pointer.PointerEventHandler.prototype.over=function(e,t){e.bubbles=true;this.fireEvent(ol.pointer.EventType.POINTEROVER,e,t)};ol.pointer.PointerEventHandler.prototype.out=function(e,t){e.bubbles=true;this.fireEvent(ol.pointer.EventType.POINTEROUT,e,t)};ol.pointer.PointerEventHandler.prototype.cancel=function(e,t){this.fireEvent(ol.pointer.EventType.POINTERCANCEL,e,t)};ol.pointer.PointerEventHandler.prototype.leaveOut=function(e,t){this.out(e,t);if(!this.contains_(e.target,e.relatedTarget)){this.leave(e,t)}};ol.pointer.PointerEventHandler.prototype.enterOver=function(e,t){this.over(e,t);if(!this.contains_(e.target,e.relatedTarget)){this.enter(e,t)}};ol.pointer.PointerEventHandler.prototype.contains_=function(e,t){if(!e||!t){return false}return e.contains(t)};ol.pointer.PointerEventHandler.prototype.makeEvent=function(e,t,o){return new ol.pointer.PointerEvent(e,o,t)};ol.pointer.PointerEventHandler.prototype.fireEvent=function(e,t,o){var r=this.makeEvent(e,t,o);this.dispatchEvent(r)};ol.pointer.PointerEventHandler.prototype.fireNativeEvent=function(e){var t=this.makeEvent(e.type,e,e);this.dispatchEvent(t)};ol.pointer.PointerEventHandler.prototype.wrapMouseEvent=function(e,t){var o=this.makeEvent(e,ol.pointer.MouseSource.prepareEvent(t,this),t);return o};ol.pointer.PointerEventHandler.prototype.disposeInternal=function(){this.unregister_();ol.events.EventTarget.prototype.disposeInternal.call(this)};ol.pointer.PointerEventHandler.CLONE_PROPS=[["bubbles",false],["cancelable",false],["view",null],["detail",null],["screenX",0],["screenY",0],["clientX",0],["clientY",0],["ctrlKey",false],["altKey",false],["shiftKey",false],["metaKey",false],["button",0],["relatedTarget",null],["buttons",0],["pointerId",0],["width",0],["height",0],["pressure",0],["tiltX",0],["tiltY",0],["pointerType",""],["hwTimestamp",0],["isPrimary",false],["type",""],["target",null],["currentTarget",null],["which",0]];goog.provide("ol.MapBrowserEventHandler");goog.require("ol");goog.require("ol.has");goog.require("ol.MapBrowserEventType");goog.require("ol.MapBrowserPointerEvent");goog.require("ol.events");goog.require("ol.events.EventTarget");goog.require("ol.pointer.EventType");goog.require("ol.pointer.PointerEventHandler");ol.MapBrowserEventHandler=function(e,t){ol.events.EventTarget.call(this);this.map_=e;this.clickTimeoutId_=0;this.dragging_=false;this.dragListenerKeys_=[];this.moveTolerance_=t?t*ol.has.DEVICE_PIXEL_RATIO:ol.has.DEVICE_PIXEL_RATIO;this.down_=null;var o=this.map_.getViewport();this.activePointers_=0;this.trackedTouches_={};this.pointerEventHandler_=new ol.pointer.PointerEventHandler(o);this.documentPointerEventHandler_=null;this.pointerdownListenerKey_=ol.events.listen(this.pointerEventHandler_,ol.pointer.EventType.POINTERDOWN,this.handlePointerDown_,this);this.relayedListenerKey_=ol.events.listen(this.pointerEventHandler_,ol.pointer.EventType.POINTERMOVE,this.relayEvent_,this)};ol.inherits(ol.MapBrowserEventHandler,ol.events.EventTarget);ol.MapBrowserEventHandler.prototype.emulateClick_=function(e){var t=new ol.MapBrowserPointerEvent(ol.MapBrowserEventType.CLICK,this.map_,e);this.dispatchEvent(t);if(this.clickTimeoutId_!==0){clearTimeout(this.clickTimeoutId_);this.clickTimeoutId_=0;t=new ol.MapBrowserPointerEvent(ol.MapBrowserEventType.DBLCLICK,this.map_,e);this.dispatchEvent(t)}else{this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=0;var t=new ol.MapBrowserPointerEvent(ol.MapBrowserEventType.SINGLECLICK,this.map_,e);this.dispatchEvent(t)}.bind(this),250)}};ol.MapBrowserEventHandler.prototype.updateActivePointers_=function(e){var t=e;if(t.type==ol.MapBrowserEventType.POINTERUP||t.type==ol.MapBrowserEventType.POINTERCANCEL){delete this.trackedTouches_[t.pointerId]}else if(t.type==ol.MapBrowserEventType.POINTERDOWN){this.trackedTouches_[t.pointerId]=true}this.activePointers_=Object.keys(this.trackedTouches_).length};ol.MapBrowserEventHandler.prototype.handlePointerUp_=function(e){this.updateActivePointers_(e);var t=new ol.MapBrowserPointerEvent(ol.MapBrowserEventType.POINTERUP,this.map_,e);this.dispatchEvent(t);if(!t.propagationStopped&&!this.dragging_&&this.isMouseActionButton_(e)){this.emulateClick_(this.down_)}if(this.activePointers_===0){this.dragListenerKeys_.forEach(ol.events.unlistenByKey);this.dragListenerKeys_.length=0;this.dragging_=false;this.down_=null;this.documentPointerEventHandler_.dispose();this.documentPointerEventHandler_=null}};ol.MapBrowserEventHandler.prototype.isMouseActionButton_=function(e){return e.button===0};ol.MapBrowserEventHandler.prototype.handlePointerDown_=function(e){this.updateActivePointers_(e);var t=new ol.MapBrowserPointerEvent(ol.MapBrowserEventType.POINTERDOWN,this.map_,e);this.dispatchEvent(t);this.down_=e;if(this.dragListenerKeys_.length===0){this.documentPointerEventHandler_=new ol.pointer.PointerEventHandler(document);this.dragListenerKeys_.push(ol.events.listen(this.documentPointerEventHandler_,ol.MapBrowserEventType.POINTERMOVE,this.handlePointerMove_,this),ol.events.listen(this.documentPointerEventHandler_,ol.MapBrowserEventType.POINTERUP,this.handlePointerUp_,this),ol.events.listen(this.pointerEventHandler_,ol.MapBrowserEventType.POINTERCANCEL,this.handlePointerUp_,this))}};ol.MapBrowserEventHandler.prototype.handlePointerMove_=function(e){if(this.isMoving_(e)){this.dragging_=true;var t=new ol.MapBrowserPointerEvent(ol.MapBrowserEventType.POINTERDRAG,this.map_,e,this.dragging_);this.dispatchEvent(t)}e.preventDefault()};ol.MapBrowserEventHandler.prototype.relayEvent_=function(e){var t=!!(this.down_&&this.isMoving_(e));this.dispatchEvent(new ol.MapBrowserPointerEvent(e.type,this.map_,e,t))};ol.MapBrowserEventHandler.prototype.isMoving_=function(e){return Math.abs(e.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(e.clientY-this.down_.clientY)>this.moveTolerance_};ol.MapBrowserEventHandler.prototype.disposeInternal=function(){if(this.relayedListenerKey_){ol.events.unlistenByKey(this.relayedListenerKey_);this.relayedListenerKey_=null}if(this.pointerdownListenerKey_){ol.events.unlistenByKey(this.pointerdownListenerKey_);this.pointerdownListenerKey_=null}this.dragListenerKeys_.forEach(ol.events.unlistenByKey);this.dragListenerKeys_.length=0;if(this.documentPointerEventHandler_){this.documentPointerEventHandler_.dispose();this.documentPointerEventHandler_=null}if(this.pointerEventHandler_){this.pointerEventHandler_.dispose();this.pointerEventHandler_=null}ol.events.EventTarget.prototype.disposeInternal.call(this)};goog.provide("ol.MapEventType");ol.MapEventType={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend"};goog.provide("ol.MapProperty");ol.MapProperty={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"};goog.provide("ol.TileState");ol.TileState={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4,ABORT:5};goog.provide("ol.structs.PriorityQueue");goog.require("ol.asserts");goog.require("ol.obj");ol.structs.PriorityQueue=function(e,t){this.priorityFunction_=e;this.keyFunction_=t;this.elements_=[];this.priorities_=[];this.queuedElements_={}};ol.structs.PriorityQueue.DROP=Infinity;ol.structs.PriorityQueue.prototype.clear=function(){this.elements_.length=0;this.priorities_.length=0;ol.obj.clear(this.queuedElements_)};ol.structs.PriorityQueue.prototype.dequeue=function(){var e=this.elements_;var t=this.priorities_;var o=e[0];if(e.length==1){e.length=0;t.length=0}else{e[0]=e.pop();t[0]=t.pop();this.siftUp_(0)}var r=this.keyFunction_(o);delete this.queuedElements_[r];return o};ol.structs.PriorityQueue.prototype.enqueue=function(e){ol.asserts.assert(!(this.keyFunction_(e)in this.queuedElements_),31);var t=this.priorityFunction_(e);if(t!=ol.structs.PriorityQueue.DROP){this.elements_.push(e);this.priorities_.push(t);this.queuedElements_[this.keyFunction_(e)]=true;this.siftDown_(0,this.elements_.length-1);return true}return false};ol.structs.PriorityQueue.prototype.getCount=function(){return this.elements_.length};ol.structs.PriorityQueue.prototype.getLeftChildIndex_=function(e){return e*2+1};ol.structs.PriorityQueue.prototype.getRightChildIndex_=function(e){return e*2+2};ol.structs.PriorityQueue.prototype.getParentIndex_=function(e){return e-1>>1};ol.structs.PriorityQueue.prototype.heapify_=function(){var e;for(e=(this.elements_.length>>1)-1;e>=0;e--){this.siftUp_(e)}};ol.structs.PriorityQueue.prototype.isEmpty=function(){return this.elements_.length===0};ol.structs.PriorityQueue.prototype.isKeyQueued=function(e){return e in this.queuedElements_};ol.structs.PriorityQueue.prototype.isQueued=function(e){return this.isKeyQueued(this.keyFunction_(e))};ol.structs.PriorityQueue.prototype.siftUp_=function(e){var t=this.elements_;var o=this.priorities_;var r=t.length;var i=t[e];var n=o[e];var l=e;while(e<r>>1){var a=this.getLeftChildIndex_(e);var s=this.getRightChildIndex_(e);var p=s<r&&o[s]<o[a]?s:a;t[e]=t[p];o[e]=o[p];e=p}t[e]=i;o[e]=n;this.siftDown_(l,e)};ol.structs.PriorityQueue.prototype.siftDown_=function(e,t){var o=this.elements_;var r=this.priorities_;var i=o[t];var n=r[t];while(t>e){var l=this.getParentIndex_(t);if(r[l]>n){o[t]=o[l];r[t]=r[l];t=l}else{break}}o[t]=i;r[t]=n};ol.structs.PriorityQueue.prototype.reprioritize=function(){var e=this.priorityFunction_;var t=this.elements_;var o=this.priorities_;var r=0;var i=t.length;var n,l,a;for(l=0;l<i;++l){n=t[l];a=e(n);if(a==ol.structs.PriorityQueue.DROP){delete this.queuedElements_[this.keyFunction_(n)]}else{o[r]=a;t[r++]=n}}t.length=r;o.length=r;this.heapify_()};goog.provide("ol.TileQueue");goog.require("ol");goog.require("ol.TileState");goog.require("ol.events");goog.require("ol.events.EventType");goog.require("ol.structs.PriorityQueue");ol.TileQueue=function(e,t){ol.structs.PriorityQueue.call(this,function(t){return e.apply(null,t)},function(e){return e[0].getKey()});this.tileChangeCallback_=t;this.tilesLoading_=0;this.tilesLoadingKeys_={}};ol.inherits(ol.TileQueue,ol.structs.PriorityQueue);ol.TileQueue.prototype.enqueue=function(e){var t=ol.structs.PriorityQueue.prototype.enqueue.call(this,e);if(t){var o=e[0];ol.events.listen(o,ol.events.EventType.CHANGE,this.handleTileChange,this)}return t};ol.TileQueue.prototype.getTilesLoading=function(){return this.tilesLoading_};ol.TileQueue.prototype.handleTileChange=function(e){var t=e.target;var o=t.getState();if(o===ol.TileState.LOADED||o===ol.TileState.ERROR||o===ol.TileState.EMPTY||o===ol.TileState.ABORT){ol.events.unlisten(t,ol.events.EventType.CHANGE,this.handleTileChange,this);var r=t.getKey();if(r in this.tilesLoadingKeys_){delete this.tilesLoadingKeys_[r];--this.tilesLoading_}this.tileChangeCallback_()}};ol.TileQueue.prototype.loadMoreTiles=function(e,t){var o=0;var r=false;var i,n,l;while(this.tilesLoading_<e&&o<t&&this.getCount()>0){n=this.dequeue()[0];l=n.getKey();i=n.getState();if(i===ol.TileState.ABORT){r=true}else if(i===ol.TileState.IDLE&&!(l in this.tilesLoadingKeys_)){this.tilesLoadingKeys_[l]=true;++this.tilesLoading_;++o;n.load()}}if(o===0&&r){this.tileChangeCallback_()}};goog.provide("ol.CenterConstraint");goog.require("ol.math");ol.CenterConstraint.createExtent=function(e){return function(t){if(t){return[ol.math.clamp(t[0],e[0],e[2]),ol.math.clamp(t[1],e[1],e[3])]}else{return undefined}}};ol.CenterConstraint.none=function(e){return e};goog.provide("ol.ResolutionConstraint");goog.require("ol.array");goog.require("ol.math");ol.ResolutionConstraint.createSnapToResolutions=function(e){return function(t,o,r){if(t!==undefined){var i=ol.array.linearFindNearest(e,t,r);i=ol.math.clamp(i+o,0,e.length-1);var n=Math.floor(i);if(i!=n&&n<e.length-1){var l=e[n]/e[n+1];return e[n]/Math.pow(l,i-n)}else{return e[n]}}else{return undefined}}};ol.ResolutionConstraint.createSnapToPower=function(e,t,o){return function(r,i,n){if(r!==undefined){var l=-n/2+.5;var a=Math.floor(Math.log(t/r)/Math.log(e)+l);var s=Math.max(a+i,0);if(o!==undefined){s=Math.min(s,o)}return t/Math.pow(e,s)}else{return undefined}}};goog.provide("ol.RotationConstraint");goog.require("ol.math");ol.RotationConstraint.disable=function(e,t){if(e!==undefined){return 0}else{return undefined}};ol.RotationConstraint.none=function(e,t){if(e!==undefined){return e+t}else{return undefined}};ol.RotationConstraint.createSnapToN=function(e){var t=2*Math.PI/e;return function(e,o){if(e!==undefined){e=Math.floor((e+o)/t+.5)*t;return e}else{return undefined}}};ol.RotationConstraint.createSnapToZero=function(e){var t=e||ol.math.toRadians(5);return function(e,o){if(e!==undefined){if(Math.abs(e+o)<=t){return 0}else{return e+o}}else{return undefined}}};goog.provide("ol.ViewHint");ol.ViewHint={ANIMATING:0,INTERACTING:1};goog.provide("ol.ViewProperty");ol.ViewProperty={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"};goog.provide("ol.string");ol.string.padNumber=function(e,t,o){var r=o!==undefined?e.toFixed(o):""+e;var i=r.indexOf(".");i=i===-1?r.length:i;return i>t?r:new Array(1+t-i).join("0")+r};ol.string.compareVersions=function(e,t){var o=(""+e).split(".");var r=(""+t).split(".");for(var i=0;i<Math.max(o.length,r.length);i++){var n=parseInt(o[i]||"0",10);var l=parseInt(r[i]||"0",10);if(n>l){return 1}if(l>n){return-1}}return 0};goog.provide("ol.coordinate");goog.require("ol.math");goog.require("ol.string");ol.coordinate.add=function(e,t){e[0]+=t[0];e[1]+=t[1];return e};ol.coordinate.closestOnCircle=function(e,t){var o=t.getRadius();var r=t.getCenter();var i=r[0];var n=r[1];var l=e[0];var a=e[1];var s=l-i;var p=a-n;if(s===0&&p===0){s=1}var g=Math.sqrt(s*s+p*p);var u,c;u=i+o*s/g;c=n+o*p/g;return[u,c]};ol.coordinate.closestOnSegment=function(e,t){var o=e[0];var r=e[1];var i=t[0];var n=t[1];var l=i[0];var a=i[1];var s=n[0];var p=n[1];var g=s-l;var u=p-a;var c=g===0&&u===0?0:(g*(o-l)+u*(r-a))/(g*g+u*u||0);var y,d;if(c<=0){y=l;d=a}else if(c>=1){y=s;d=p}else{y=l+c*g;d=a+c*u}return[y,d]};ol.coordinate.createStringXY=function(e){return function(t){return ol.coordinate.toStringXY(t,e)}};ol.coordinate.degreesToStringHDMS=function(e,t,o){var r=ol.math.modulo(t+180,360)-180;var i=Math.abs(3600*r);var n=o||0;var l=Math.pow(10,n);var a=Math.floor(i/3600);var s=Math.floor((i-a*3600)/60);var p=i-a*3600-s*60;p=Math.ceil(p*l)/l;if(p>=60){p=0;s+=1}if(s>=60){s=0;a+=1}return a+"° "+ol.string.padNumber(s,2)+"′ "+ol.string.padNumber(p,2,n)+"″"+(r==0?"":" "+e.charAt(r<0?1:0))};ol.coordinate.format=function(e,t,o){if(e){return t.replace("{x}",e[0].toFixed(o)).replace("{y}",e[1].toFixed(o))}else{return""}};ol.coordinate.equals=function(e,t){var o=true;for(var r=e.length-1;r>=0;--r){if(e[r]!=t[r]){o=false;break}}return o};ol.coordinate.rotate=function(e,t){var o=Math.cos(t);var r=Math.sin(t);var i=e[0]*o-e[1]*r;var n=e[1]*o+e[0]*r;e[0]=i;e[1]=n;return e};ol.coordinate.scale=function(e,t){e[0]*=t;e[1]*=t;return e};ol.coordinate.sub=function(e,t){e[0]-=t[0];e[1]-=t[1];return e};ol.coordinate.squaredDistance=function(e,t){var o=e[0]-t[0];var r=e[1]-t[1];return o*o+r*r};ol.coordinate.distance=function(e,t){return Math.sqrt(ol.coordinate.squaredDistance(e,t))};ol.coordinate.squaredDistanceToSegment=function(e,t){return ol.coordinate.squaredDistance(e,ol.coordinate.closestOnSegment(e,t))};ol.coordinate.toStringHDMS=function(e,t){if(e){return ol.coordinate.degreesToStringHDMS("NS",e[1],t)+" "+ol.coordinate.degreesToStringHDMS("EW",e[0],t)}else{return""}};ol.coordinate.toStringXY=function(e,t){return ol.coordinate.format(e,"{x}, {y}",t)};goog.provide("ol.easing");ol.easing.easeIn=function(e){return Math.pow(e,3)};ol.easing.easeOut=function(e){return 1-ol.easing.easeIn(1-e)};ol.easing.inAndOut=function(e){return 3*e*e-2*e*e*e};ol.easing.linear=function(e){return e};ol.easing.upAndDown=function(e){if(e<.5){return ol.easing.inAndOut(2*e)}else{return 1-ol.easing.inAndOut(2*(e-.5))}};goog.provide("ol.geom.GeometryLayout");ol.geom.GeometryLayout={XY:"XY",XYZ:"XYZ",XYM:"XYM",XYZM:"XYZM"};goog.provide("ol.functions");ol.functions.TRUE=function(){return true};ol.functions.FALSE=function(){return false};goog.provide("ol.geom.flat.transform");ol.geom.flat.transform.transform2D=function(e,t,o,r,i,n){var l=n?n:[];var a=0;var s;for(s=t;s<o;s+=r){var p=e[s];var g=e[s+1];l[a++]=i[0]*p+i[2]*g+i[4];l[a++]=i[1]*p+i[3]*g+i[5]}if(n&&l.length!=a){l.length=a}return l};ol.geom.flat.transform.rotate=function(e,t,o,r,i,n,l){var a=l?l:[];var s=Math.cos(i);var p=Math.sin(i);var g=n[0];var u=n[1];var c=0;for(var y=t;y<o;y+=r){var d=e[y]-g;var h=e[y+1]-u;a[c++]=g+d*s-h*p;a[c++]=u+d*p+h*s;for(var f=y+2;f<y+r;++f){a[c++]=e[f]}}if(l&&a.length!=c){a.length=c}return a};ol.geom.flat.transform.scale=function(e,t,o,r,i,n,l,a){var s=a?a:[];var p=l[0];var g=l[1];var u=0;for(var c=t;c<o;c+=r){var y=e[c]-p;var d=e[c+1]-g;s[u++]=p+i*y;s[u++]=g+n*d;for(var h=c+2;h<c+r;++h){s[u++]=e[h]}}if(a&&s.length!=u){s.length=u}return s};ol.geom.flat.transform.translate=function(e,t,o,r,i,n,l){var a=l?l:[];var s=0;var p,g;for(p=t;p<o;p+=r){a[s++]=e[p]+i;a[s++]=e[p+1]+n;for(g=p+2;g<p+r;++g){a[s++]=e[g]}}if(l&&a.length!=s){a.length=s}return a};goog.provide("ol.transform");goog.require("ol.asserts");ol.transform.tmp_=new Array(6);ol.transform.create=function(){return[1,0,0,1,0,0]};ol.transform.reset=function(e){return ol.transform.set(e,1,0,0,1,0,0)};ol.transform.multiply=function(e,t){var o=e[0];var r=e[1];var i=e[2];var n=e[3];var l=e[4];var a=e[5];var s=t[0];var p=t[1];var g=t[2];var u=t[3];var c=t[4];var y=t[5];e[0]=o*s+i*p;e[1]=r*s+n*p;e[2]=o*g+i*u;e[3]=r*g+n*u;e[4]=o*c+i*y+l;e[5]=r*c+n*y+a;return e};ol.transform.set=function(e,t,o,r,i,n,l){e[0]=t;e[1]=o;e[2]=r;e[3]=i;e[4]=n;e[5]=l;return e};ol.transform.setFromArray=function(e,t){e[0]=t[0];e[1]=t[1];e[2]=t[2];e[3]=t[3];e[4]=t[4];e[5]=t[5];return e};ol.transform.apply=function(e,t){var o=t[0],r=t[1];t[0]=e[0]*o+e[2]*r+e[4];t[1]=e[1]*o+e[3]*r+e[5];return t};ol.transform.rotate=function(e,t){var o=Math.cos(t);var r=Math.sin(t);return ol.transform.multiply(e,ol.transform.set(ol.transform.tmp_,o,r,-r,o,0,0))};ol.transform.scale=function(e,t,o){return ol.transform.multiply(e,ol.transform.set(ol.transform.tmp_,t,0,0,o,0,0))};ol.transform.translate=function(e,t,o){return ol.transform.multiply(e,ol.transform.set(ol.transform.tmp_,1,0,0,1,t,o))};ol.transform.compose=function(e,t,o,r,i,n,l,a){var s=Math.sin(n);var p=Math.cos(n);e[0]=r*p;e[1]=i*s;e[2]=-r*s;e[3]=i*p;e[4]=l*r*p-a*r*s+t;e[5]=l*i*s+a*i*p+o;return e};ol.transform.invert=function(e){var t=ol.transform.determinant(e);ol.asserts.assert(t!==0,32);var o=e[0];var r=e[1];var i=e[2];var n=e[3];var l=e[4];var a=e[5];e[0]=n/t;e[1]=-r/t;e[2]=-i/t;e[3]=o/t;e[4]=(i*a-n*l)/t;e[5]=-(o*a-r*l)/t;return e};ol.transform.determinant=function(e){return e[0]*e[3]-e[1]*e[2]};goog.provide("ol.geom.Geometry");goog.require("ol");goog.require("ol.Object");goog.require("ol.extent");goog.require("ol.functions");goog.require("ol.geom.flat.transform");goog.require("ol.proj");goog.require("ol.proj.Units");goog.require("ol.transform");ol.geom.Geometry=function(){ol.Object.call(this);this.extent_=ol.extent.createEmpty();this.extentRevision_=-1;this.simplifiedGeometryCache={};this.simplifiedGeometryMaxMinSquaredTolerance=0;this.simplifiedGeometryRevision=0;this.tmpTransform_=ol.transform.create()};ol.inherits(ol.geom.Geometry,ol.Object);ol.geom.Geometry.prototype.clone=function(){};ol.geom.Geometry.prototype.closestPointXY=function(e,t,o,r){};ol.geom.Geometry.prototype.getClosestPoint=function(e,t){var o=t?t:[NaN,NaN];this.closestPointXY(e[0],e[1],o,Infinity);return o};ol.geom.Geometry.prototype.intersectsCoordinate=function(e){return this.containsXY(e[0],e[1])};ol.geom.Geometry.prototype.computeExtent=function(e){};ol.geom.Geometry.prototype.containsXY=ol.functions.FALSE;ol.geom.Geometry.prototype.getExtent=function(e){if(this.extentRevision_!=this.getRevision()){this.extent_=this.computeExtent(this.extent_);this.extentRevision_=this.getRevision()}return ol.extent.returnOrUpdate(this.extent_,e)};ol.geom.Geometry.prototype.rotate=function(e,t){};ol.geom.Geometry.prototype.scale=function(e,t,o){};ol.geom.Geometry.prototype.simplify=function(e){return this.getSimplifiedGeometry(e*e)};ol.geom.Geometry.prototype.getSimplifiedGeometry=function(e){};ol.geom.Geometry.prototype.getType=function(){};ol.geom.Geometry.prototype.applyTransform=function(e){};ol.geom.Geometry.prototype.intersectsExtent=function(e){};ol.geom.Geometry.prototype.translate=function(e,t){};ol.geom.Geometry.prototype.transform=function(e,t){var o=this.tmpTransform_;e=ol.proj.get(e);var r=e.getUnits()==ol.proj.Units.TILE_PIXELS?function(r,i,n){var l=e.getExtent();var a=e.getWorldExtent();var s=ol.extent.getHeight(a)/ol.extent.getHeight(l);ol.transform.compose(o,a[0],a[3],s,-s,0,0,0);ol.geom.flat.transform.transform2D(r,0,r.length,n,o,i);return ol.proj.getTransform(e,t)(r,i,n)}:ol.proj.getTransform(e,t);this.applyTransform(r);return this};goog.provide("ol.geom.SimpleGeometry");goog.require("ol");goog.require("ol.functions");goog.require("ol.extent");goog.require("ol.geom.Geometry");goog.require("ol.geom.GeometryLayout");goog.require("ol.geom.flat.transform");goog.require("ol.obj");ol.geom.SimpleGeometry=function(){ol.geom.Geometry.call(this);this.layout=ol.geom.GeometryLayout.XY;this.stride=2;this.flatCoordinates=null};ol.inherits(ol.geom.SimpleGeometry,ol.geom.Geometry);ol.geom.SimpleGeometry.getLayoutForStride_=function(e){var t;if(e==2){t=ol.geom.GeometryLayout.XY}else if(e==3){t=ol.geom.GeometryLayout.XYZ}else if(e==4){t=ol.geom.GeometryLayout.XYZM}return t};ol.geom.SimpleGeometry.getStrideForLayout=function(e){var t;if(e==ol.geom.GeometryLayout.XY){t=2}else if(e==ol.geom.GeometryLayout.XYZ||e==ol.geom.GeometryLayout.XYM){t=3}else if(e==ol.geom.GeometryLayout.XYZM){t=4}return t};ol.geom.SimpleGeometry.prototype.containsXY=ol.functions.FALSE;ol.geom.SimpleGeometry.prototype.computeExtent=function(e){return ol.extent.createOrUpdateFromFlatCoordinates(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)};ol.geom.SimpleGeometry.prototype.getCoordinates=function(){};ol.geom.SimpleGeometry.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)};ol.geom.SimpleGeometry.prototype.getFlatCoordinates=function(){return this.flatCoordinates};ol.geom.SimpleGeometry.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)};ol.geom.SimpleGeometry.prototype.getLayout=function(){return this.layout};ol.geom.SimpleGeometry.prototype.getSimplifiedGeometry=function(e){if(this.simplifiedGeometryRevision!=this.getRevision()){ol.obj.clear(this.simplifiedGeometryCache);this.simplifiedGeometryMaxMinSquaredTolerance=0;this.simplifiedGeometryRevision=this.getRevision()}if(e<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&e<=this.simplifiedGeometryMaxMinSquaredTolerance){return this}var t=e.toString();if(this.simplifiedGeometryCache.hasOwnProperty(t)){return this.simplifiedGeometryCache[t]}else{var o=this.getSimplifiedGeometryInternal(e);var r=o.getFlatCoordinates();if(r.length<this.flatCoordinates.length){this.simplifiedGeometryCache[t]=o;return o}else{this.simplifiedGeometryMaxMinSquaredTolerance=e;return this}}};ol.geom.SimpleGeometry.prototype.getSimplifiedGeometryInternal=function(e){return this};ol.geom.SimpleGeometry.prototype.getStride=function(){return this.stride};ol.geom.SimpleGeometry.prototype.setFlatCoordinatesInternal=function(e,t){this.stride=ol.geom.SimpleGeometry.getStrideForLayout(e);this.layout=e;this.flatCoordinates=t};ol.geom.SimpleGeometry.prototype.setCoordinates=function(e,t){};ol.geom.SimpleGeometry.prototype.setLayout=function(e,t,o){var r;if(e){r=ol.geom.SimpleGeometry.getStrideForLayout(e)}else{var i;for(i=0;i<o;++i){if(t.length===0){this.layout=ol.geom.GeometryLayout.XY;this.stride=2;return}else{t=t[0]}}r=t.length;e=ol.geom.SimpleGeometry.getLayoutForStride_(r)}this.layout=e;this.stride=r};ol.geom.SimpleGeometry.prototype.applyTransform=function(e){if(this.flatCoordinates){e(this.flatCoordinates,this.flatCoordinates,this.stride);this.changed()}};ol.geom.SimpleGeometry.prototype.rotate=function(e,t){var o=this.getFlatCoordinates();if(o){var r=this.getStride();ol.geom.flat.transform.rotate(o,0,o.length,r,e,t,o);this.changed()}};ol.geom.SimpleGeometry.prototype.scale=function(e,t,o){var r=t;if(r===undefined){r=e}var i=o;if(!i){i=ol.extent.getCenter(this.getExtent())}var n=this.getFlatCoordinates();if(n){var l=this.getStride();ol.geom.flat.transform.scale(n,0,n.length,l,e,r,i,n);this.changed()}};ol.geom.SimpleGeometry.prototype.translate=function(e,t){var o=this.getFlatCoordinates();if(o){var r=this.getStride();ol.geom.flat.transform.translate(o,0,o.length,r,e,t,o);this.changed()}};ol.geom.SimpleGeometry.transform2D=function(e,t,o){var r=e.getFlatCoordinates();if(!r){return null}else{var i=e.getStride();return ol.geom.flat.transform.transform2D(r,0,r.length,i,t,o)}};goog.provide("ol.geom.flat.area");ol.geom.flat.area.linearRing=function(e,t,o,r){var i=0;var n=e[o-r];var l=e[o-r+1];for(;t<o;t+=r){var a=e[t];var s=e[t+1];i+=l*a-n*s;n=a;l=s}return i/2};ol.geom.flat.area.linearRings=function(e,t,o,r){var i=0;var n,l;for(n=0,l=o.length;n<l;++n){var a=o[n];i+=ol.geom.flat.area.linearRing(e,t,a,r);t=a}return i};ol.geom.flat.area.linearRingss=function(e,t,o,r){var i=0;var n,l;for(n=0,l=o.length;n<l;++n){var a=o[n];i+=ol.geom.flat.area.linearRings(e,t,a,r);t=a[a.length-1]}return i};goog.provide("ol.geom.flat.closest");goog.require("ol.math");ol.geom.flat.closest.point=function(e,t,o,r,i,n,l){var a=e[t];var s=e[t+1];var p=e[o]-a;var g=e[o+1]-s;var u,c;if(p===0&&g===0){c=t}else{var y=((i-a)*p+(n-s)*g)/(p*p+g*g);if(y>1){c=o}else if(y>0){for(u=0;u<r;++u){l[u]=ol.math.lerp(e[t+u],e[o+u],y)}l.length=r;return}else{c=t}}for(u=0;u<r;++u){l[u]=e[c+u]}l.length=r};ol.geom.flat.closest.getMaxSquaredDelta=function(e,t,o,r,i){var n=e[t];var l=e[t+1];for(t+=r;t<o;t+=r){var a=e[t];var s=e[t+1];var p=ol.math.squaredDistance(n,l,a,s);if(p>i){i=p}n=a;l=s}return i};ol.geom.flat.closest.getsMaxSquaredDelta=function(e,t,o,r,i){var n,l;for(n=0,l=o.length;n<l;++n){var a=o[n];i=ol.geom.flat.closest.getMaxSquaredDelta(e,t,a,r,i);t=a}return i};ol.geom.flat.closest.getssMaxSquaredDelta=function(e,t,o,r,i){var n,l;for(n=0,l=o.length;n<l;++n){var a=o[n];i=ol.geom.flat.closest.getsMaxSquaredDelta(e,t,a,r,i);t=a[a.length-1]}return i};ol.geom.flat.closest.getClosestPoint=function(e,t,o,r,i,n,l,a,s,p,g){if(t==o){return p}var u,c;if(i===0){c=ol.math.squaredDistance(l,a,e[t],e[t+1]);if(c<p){for(u=0;u<r;++u){s[u]=e[t+u]}s.length=r;return c}else{return p}}var y=g?g:[NaN,NaN];var d=t+r;while(d<o){ol.geom.flat.closest.point(e,d-r,d,r,l,a,y);c=ol.math.squaredDistance(l,a,y[0],y[1]);if(c<p){p=c;for(u=0;u<r;++u){s[u]=y[u]}s.length=r;d+=r}else{d+=r*Math.max((Math.sqrt(c)-Math.sqrt(p))/i|0,1)}}if(n){ol.geom.flat.closest.point(e,o-r,t,r,l,a,y);c=ol.math.squaredDistance(l,a,y[0],y[1]);if(c<p){p=c;for(u=0;u<r;++u){s[u]=y[u]}s.length=r}}return p};ol.geom.flat.closest.getsClosestPoint=function(e,t,o,r,i,n,l,a,s,p,g){var u=g?g:[NaN,NaN];var c,y;for(c=0,y=o.length;c<y;++c){var d=o[c];p=ol.geom.flat.closest.getClosestPoint(e,t,d,r,i,n,l,a,s,p,u);t=d}return p};ol.geom.flat.closest.getssClosestPoint=function(e,t,o,r,i,n,l,a,s,p,g){var u=g?g:[NaN,NaN];var c,y;for(c=0,y=o.length;c<y;++c){var d=o[c];p=ol.geom.flat.closest.getsClosestPoint(e,t,d,r,i,n,l,a,s,p,u);t=d[d.length-1]}return p};goog.provide("ol.geom.flat.deflate");ol.geom.flat.deflate.coordinate=function(e,t,o,r){var i,n;for(i=0,n=o.length;i<n;++i){e[t++]=o[i]}return t};ol.geom.flat.deflate.coordinates=function(e,t,o,r){var i,n;for(i=0,n=o.length;i<n;++i){var l=o[i];var a;for(a=0;a<r;++a){e[t++]=l[a]}}return t};ol.geom.flat.deflate.coordinatess=function(e,t,o,r,i){var n=i?i:[];var l=0;var a,s;for(a=0,s=o.length;a<s;++a){var p=ol.geom.flat.deflate.coordinates(e,t,o[a],r);n[l++]=p;t=p}n.length=l;return n};ol.geom.flat.deflate.coordinatesss=function(e,t,o,r,i){var n=i?i:[];var l=0;var a,s;for(a=0,s=o.length;a<s;++a){var p=ol.geom.flat.deflate.coordinatess(e,t,o[a],r,n[l]);n[l++]=p;t=p[p.length-1]}n.length=l;return n};goog.provide("ol.geom.flat.inflate");ol.geom.flat.inflate.coordinates=function(e,t,o,r,i){var n=i!==undefined?i:[];var l=0;var a;for(a=t;a<o;a+=r){n[l++]=e.slice(a,a+r)}n.length=l;return n};ol.geom.flat.inflate.coordinatess=function(e,t,o,r,i){var n=i!==undefined?i:[];var l=0;var a,s;for(a=0,s=o.length;a<s;++a){var p=o[a];n[l++]=ol.geom.flat.inflate.coordinates(e,t,p,r,n[l]);t=p}n.length=l;return n};ol.geom.flat.inflate.coordinatesss=function(e,t,o,r,i){var n=i!==undefined?i:[];var l=0;var a,s;for(a=0,s=o.length;a<s;++a){var p=o[a];n[l++]=ol.geom.flat.inflate.coordinatess(e,t,p,r,n[l]);t=p[p.length-1]}n.length=l;return n};goog.provide("ol.geom.flat.simplify");goog.require("ol.math");ol.geom.flat.simplify.lineString=function(e,t,o,r,i,n,l){var a=l!==undefined?l:[];if(!n){o=ol.geom.flat.simplify.radialDistance(e,t,o,r,i,a,0);e=a;t=0;r=2}a.length=ol.geom.flat.simplify.douglasPeucker(e,t,o,r,i,a,0);return a};ol.geom.flat.simplify.douglasPeucker=function(e,t,o,r,i,n,l){var a=(o-t)/r;if(a<3){for(;t<o;t+=r){n[l++]=e[t];n[l++]=e[t+1]}return l}var s=new Array(a);s[0]=1;s[a-1]=1;var p=[t,o-r];var g=0;var u;while(p.length>0){var c=p.pop();var y=p.pop();var d=0;var h=e[y];var f=e[y+1];var m=e[c];var v=e[c+1];for(u=y+r;u<c;u+=r){var _=e[u];var S=e[u+1];var x=ol.math.squaredSegmentDistance(_,S,h,f,m,v);if(x>d){g=u;d=x}}if(d>i){s[(g-t)/r]=1;if(y+r<g){p.push(y,g)}if(g+r<c){p.push(g,c)}}}for(u=0;u<a;++u){if(s[u]){n[l++]=e[t+u*r];n[l++]=e[t+u*r+1]}}return l};ol.geom.flat.simplify.douglasPeuckers=function(e,t,o,r,i,n,l,a){var s,p;for(s=0,p=o.length;s<p;++s){var g=o[s];l=ol.geom.flat.simplify.douglasPeucker(e,t,g,r,i,n,l);a.push(l);t=g}return l};ol.geom.flat.simplify.douglasPeuckerss=function(e,t,o,r,i,n,l,a){var s,p;for(s=0,p=o.length;s<p;++s){var g=o[s];var u=[];l=ol.geom.flat.simplify.douglasPeuckers(e,t,g,r,i,n,l,u);a.push(u);t=g[g.length-1]}return l};ol.geom.flat.simplify.radialDistance=function(e,t,o,r,i,n,l){if(o<=t+r){for(;t<o;t+=r){n[l++]=e[t];n[l++]=e[t+1]}return l}var a=e[t];var s=e[t+1];n[l++]=a;n[l++]=s;var p=a;var g=s;for(t+=r;t<o;t+=r){p=e[t];g=e[t+1];if(ol.math.squaredDistance(a,s,p,g)>i){n[l++]=p;n[l++]=g;a=p;s=g}}if(p!=a||g!=s){n[l++]=p;n[l++]=g}return l};ol.geom.flat.simplify.snap=function(e,t){return t*Math.round(e/t)};ol.geom.flat.simplify.quantize=function(e,t,o,r,i,n,l){if(t==o){return l}var a=ol.geom.flat.simplify.snap(e[t],i);var s=ol.geom.flat.simplify.snap(e[t+1],i);t+=r;n[l++]=a;n[l++]=s;var p,g;do{p=ol.geom.flat.simplify.snap(e[t],i);g=ol.geom.flat.simplify.snap(e[t+1],i);t+=r;if(t==o){n[l++]=p;n[l++]=g;return l}}while(p==a&&g==s);while(t<o){var u,c;u=ol.geom.flat.simplify.snap(e[t],i);c=ol.geom.flat.simplify.snap(e[t+1],i);t+=r;if(u==p&&c==g){continue}var y=p-a;var d=g-s;var h=u-a;var f=c-s;if(y*f==d*h&&(y<0&&h<y||y==h||y>0&&h>y)&&(d<0&&f<d||d==f||d>0&&f>d)){p=u;g=c;continue}n[l++]=p;n[l++]=g;a=p;s=g;p=u;g=c}n[l++]=p;n[l++]=g;return l};ol.geom.flat.simplify.quantizes=function(e,t,o,r,i,n,l,a){var s,p;for(s=0,p=o.length;s<p;++s){var g=o[s];l=ol.geom.flat.simplify.quantize(e,t,g,r,i,n,l);a.push(l);t=g}return l};ol.geom.flat.simplify.quantizess=function(e,t,o,r,i,n,l,a){var s,p;for(s=0,p=o.length;s<p;++s){var g=o[s];var u=[];l=ol.geom.flat.simplify.quantizes(e,t,g,r,i,n,l,u);a.push(u);t=g[g.length-1]}return l};goog.provide("ol.geom.LinearRing");goog.require("ol");goog.require("ol.extent");goog.require("ol.geom.GeometryLayout");goog.require("ol.geom.GeometryType");goog.require("ol.geom.SimpleGeometry");goog.require("ol.geom.flat.area");goog.require("ol.geom.flat.closest");goog.require("ol.geom.flat.deflate");goog.require("ol.geom.flat.inflate");goog.require("ol.geom.flat.simplify");ol.geom.LinearRing=function(e,t){ol.geom.SimpleGeometry.call(this);this.maxDelta_=-1;this.maxDeltaRevision_=-1;this.setCoordinates(e,t)};ol.inherits(ol.geom.LinearRing,ol.geom.SimpleGeometry);ol.geom.LinearRing.prototype.clone=function(){var e=new ol.geom.LinearRing(null);e.setFlatCoordinates(this.layout,this.flatCoordinates.slice());return e};ol.geom.LinearRing.prototype.closestPointXY=function(e,t,o,r){if(r<ol.extent.closestSquaredDistanceXY(this.getExtent(),e,t)){return r}if(this.maxDeltaRevision_!=this.getRevision()){this.maxDelta_=Math.sqrt(ol.geom.flat.closest.getMaxSquaredDelta(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0));this.maxDeltaRevision_=this.getRevision()}return ol.geom.flat.closest.getClosestPoint(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,true,e,t,o,r)};ol.geom.LinearRing.prototype.getArea=function(){return ol.geom.flat.area.linearRing(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)};ol.geom.LinearRing.prototype.getCoordinates=function(){return ol.geom.flat.inflate.coordinates(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)};ol.geom.LinearRing.prototype.getSimplifiedGeometryInternal=function(e){var t=[];t.length=ol.geom.flat.simplify.douglasPeucker(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,0);var o=new ol.geom.LinearRing(null);o.setFlatCoordinates(ol.geom.GeometryLayout.XY,t);return o};ol.geom.LinearRing.prototype.getType=function(){return ol.geom.GeometryType.LINEAR_RING};ol.geom.LinearRing.prototype.intersectsExtent=function(e){};ol.geom.LinearRing.prototype.setCoordinates=function(e,t){if(!e){this.setFlatCoordinates(ol.geom.GeometryLayout.XY,null)}else{this.setLayout(t,e,1);if(!this.flatCoordinates){this.flatCoordinates=[]}this.flatCoordinates.length=ol.geom.flat.deflate.coordinates(this.flatCoordinates,0,e,this.stride);this.changed()}};ol.geom.LinearRing.prototype.setFlatCoordinates=function(e,t){this.setFlatCoordinatesInternal(e,t);this.changed()};goog.provide("ol.geom.Point");goog.require("ol");goog.require("ol.extent");goog.require("ol.geom.GeometryLayout");goog.require("ol.geom.GeometryType");goog.require("ol.geom.SimpleGeometry");goog.require("ol.geom.flat.deflate");goog.require("ol.math");ol.geom.Point=function(e,t){ol.geom.SimpleGeometry.call(this);this.setCoordinates(e,t)};ol.inherits(ol.geom.Point,ol.geom.SimpleGeometry);ol.geom.Point.prototype.clone=function(){var e=new ol.geom.Point(null);e.setFlatCoordinates(this.layout,this.flatCoordinates.slice());return e};ol.geom.Point.prototype.closestPointXY=function(e,t,o,r){var i=this.flatCoordinates;var n=ol.math.squaredDistance(e,t,i[0],i[1]);if(n<r){var l=this.stride;var a;for(a=0;a<l;++a){o[a]=i[a]}o.length=l;return n}else{return r}};ol.geom.Point.prototype.getCoordinates=function(){return!this.flatCoordinates?[]:this.flatCoordinates.slice()};ol.geom.Point.prototype.computeExtent=function(e){return ol.extent.createOrUpdateFromCoordinate(this.flatCoordinates,e)};ol.geom.Point.prototype.getType=function(){return ol.geom.GeometryType.POINT};ol.geom.Point.prototype.intersectsExtent=function(e){return ol.extent.containsXY(e,this.flatCoordinates[0],this.flatCoordinates[1])};ol.geom.Point.prototype.setCoordinates=function(e,t){if(!e){this.setFlatCoordinates(ol.geom.GeometryLayout.XY,null)}else{this.setLayout(t,e,0);if(!this.flatCoordinates){this.flatCoordinates=[]}this.flatCoordinates.length=ol.geom.flat.deflate.coordinate(this.flatCoordinates,0,e,this.stride);this.changed()}};ol.geom.Point.prototype.setFlatCoordinates=function(e,t){this.setFlatCoordinatesInternal(e,t);this.changed()};goog.provide("ol.geom.flat.contains");goog.require("ol.extent");ol.geom.flat.contains.linearRingContainsExtent=function(e,t,o,r,i){var n=ol.extent.forEachCorner(i,function(i){return!ol.geom.flat.contains.linearRingContainsXY(e,t,o,r,i[0],i[1])});return!n};ol.geom.flat.contains.linearRingContainsXY=function(e,t,o,r,i,n){var l=0;var a=e[o-r];var s=e[o-r+1];for(;t<o;t+=r){var p=e[t];var g=e[t+1];if(s<=n){if(g>n&&(p-a)*(n-s)-(i-a)*(g-s)>0){l++}}else if(g<=n&&(p-a)*(n-s)-(i-a)*(g-s)<0){l--}a=p;s=g}return l!==0};ol.geom.flat.contains.linearRingsContainsXY=function(e,t,o,r,i,n){if(o.length===0){return false}if(!ol.geom.flat.contains.linearRingContainsXY(e,t,o[0],r,i,n)){return false}var l,a;for(l=1,a=o.length;l<a;++l){if(ol.geom.flat.contains.linearRingContainsXY(e,o[l-1],o[l],r,i,n)){return false}}return true};ol.geom.flat.contains.linearRingssContainsXY=function(e,t,o,r,i,n){if(o.length===0){return false}var l,a;for(l=0,a=o.length;l<a;++l){var s=o[l];if(ol.geom.flat.contains.linearRingsContainsXY(e,t,s,r,i,n)){return true}t=s[s.length-1]}return false};goog.provide("ol.geom.flat.interiorpoint");goog.require("ol.array");goog.require("ol.geom.flat.contains");ol.geom.flat.interiorpoint.linearRings=function(e,t,o,r,i,n,l){var a,s,p,g,u,c,y;var d=i[n+1];var h=[];for(var f=0,m=o.length;f<m;++f){var v=o[f];g=e[v-r];c=e[v-r+1];for(a=t;a<v;a+=r){u=e[a];y=e[a+1];if(d<=c&&y<=d||c<=d&&d<=y){p=(d-c)/(y-c)*(u-g)+g;h.push(p)}g=u;c=y}}var _=NaN;var S=-Infinity;h.sort(ol.array.numberSafeCompareFunction);g=h[0];for(a=1,s=h.length;a<s;++a){u=h[a];var x=Math.abs(u-g);if(x>S){p=(g+u)/2;if(ol.geom.flat.contains.linearRingsContainsXY(e,t,o,r,p,d)){_=p;S=x}}g=u}if(isNaN(_)){_=i[n]}if(l){l.push(_,d,S);return l}else{return[_,d,S]}};ol.geom.flat.interiorpoint.linearRingss=function(e,t,o,r,i){var n=[];var l,a;for(l=0,a=o.length;l<a;++l){var s=o[l];n=ol.geom.flat.interiorpoint.linearRings(e,t,s,r,i,2*l,n);t=s[s.length-1]}return n};goog.provide("ol.geom.flat.segments");ol.geom.flat.segments.forEach=function(e,t,o,r,i,n){var l=[e[t],e[t+1]];var a=[];var s;for(;t+r<o;t+=r){a[0]=e[t+r];a[1]=e[t+r+1];s=i.call(n,l,a);if(s){return s}l[0]=a[0];l[1]=a[1]}return false};goog.provide("ol.geom.flat.intersectsextent");goog.require("ol.extent");goog.require("ol.geom.flat.contains");goog.require("ol.geom.flat.segments");ol.geom.flat.intersectsextent.lineString=function(e,t,o,r,i){var n=ol.extent.extendFlatCoordinates(ol.extent.createEmpty(),e,t,o,r);if(!ol.extent.intersects(i,n)){return false}if(ol.extent.containsExtent(i,n)){return true}if(n[0]>=i[0]&&n[2]<=i[2]){return true}if(n[1]>=i[1]&&n[3]<=i[3]){return true}return ol.geom.flat.segments.forEach(e,t,o,r,function(e,t){return ol.extent.intersectsSegment(i,e,t)})};ol.geom.flat.intersectsextent.lineStrings=function(e,t,o,r,i){var n,l;for(n=0,l=o.length;n<l;++n){if(ol.geom.flat.intersectsextent.lineString(e,t,o[n],r,i)){return true}t=o[n]}return false};ol.geom.flat.intersectsextent.linearRing=function(e,t,o,r,i){if(ol.geom.flat.intersectsextent.lineString(e,t,o,r,i)){return true}if(ol.geom.flat.contains.linearRingContainsXY(e,t,o,r,i[0],i[1])){return true}if(ol.geom.flat.contains.linearRingContainsXY(e,t,o,r,i[0],i[3])){return true}if(ol.geom.flat.contains.linearRingContainsXY(e,t,o,r,i[2],i[1])){return true}if(ol.geom.flat.contains.linearRingContainsXY(e,t,o,r,i[2],i[3])){return true}return false};ol.geom.flat.intersectsextent.linearRings=function(e,t,o,r,i){if(!ol.geom.flat.intersectsextent.linearRing(e,t,o[0],r,i)){return false}if(o.length===1){return true}var n,l;for(n=1,l=o.length;n<l;++n){if(ol.geom.flat.contains.linearRingContainsExtent(e,o[n-1],o[n],r,i)){return false}}return true};ol.geom.flat.intersectsextent.linearRingss=function(e,t,o,r,i){var n,l;for(n=0,l=o.length;n<l;++n){var a=o[n];if(ol.geom.flat.intersectsextent.linearRings(e,t,a,r,i)){return true}t=a[a.length-1]}return false};goog.provide("ol.geom.flat.reverse");ol.geom.flat.reverse.coordinates=function(e,t,o,r){while(t<o-r){var i;for(i=0;i<r;++i){var n=e[t+i];e[t+i]=e[o-r+i];e[o-r+i]=n}t+=r;o-=r}};goog.provide("ol.geom.flat.orient");goog.require("ol.geom.flat.reverse");ol.geom.flat.orient.linearRingIsClockwise=function(e,t,o,r){var i=0;var n=e[o-r];var l=e[o-r+1];for(;t<o;t+=r){var a=e[t];var s=e[t+1];i+=(a-n)*(s+l);n=a;l=s}return i>0};ol.geom.flat.orient.linearRingsAreOriented=function(e,t,o,r,i){var n=i!==undefined?i:false;var l,a;for(l=0,a=o.length;l<a;++l){var s=o[l];var p=ol.geom.flat.orient.linearRingIsClockwise(e,t,s,r);if(l===0){if(n&&p||!n&&!p){return false}}else{if(n&&!p||!n&&p){return false}}t=s}return true};ol.geom.flat.orient.linearRingssAreOriented=function(e,t,o,r,i){var n,l;for(n=0,l=o.length;n<l;++n){if(!ol.geom.flat.orient.linearRingsAreOriented(e,t,o[n],r,i)){return false}}return true};ol.geom.flat.orient.orientLinearRings=function(e,t,o,r,i){var n=i!==undefined?i:false;var l,a;for(l=0,a=o.length;l<a;++l){var s=o[l];var p=ol.geom.flat.orient.linearRingIsClockwise(e,t,s,r);var g=l===0?n&&p||!n&&!p:n&&!p||!n&&p;if(g){ol.geom.flat.reverse.coordinates(e,t,s,r)}t=s}return t};ol.geom.flat.orient.orientLinearRingss=function(e,t,o,r,i){var n,l;for(n=0,l=o.length;n<l;++n){t=ol.geom.flat.orient.orientLinearRings(e,t,o[n],r,i)}return t};goog.provide("ol.geom.Polygon");goog.require("ol");goog.require("ol.array");goog.require("ol.extent");goog.require("ol.geom.GeometryLayout");goog.require("ol.geom.GeometryType");goog.require("ol.geom.LinearRing");goog.require("ol.geom.Point");goog.require("ol.geom.SimpleGeometry");goog.require("ol.geom.flat.area");goog.require("ol.geom.flat.closest");goog.require("ol.geom.flat.contains");goog.require("ol.geom.flat.deflate");goog.require("ol.geom.flat.inflate");goog.require("ol.geom.flat.interiorpoint");goog.require("ol.geom.flat.intersectsextent");goog.require("ol.geom.flat.orient");goog.require("ol.geom.flat.simplify");goog.require("ol.math");ol.geom.Polygon=function(e,t){ol.geom.SimpleGeometry.call(this);this.ends_=[];this.flatInteriorPointRevision_=-1;this.flatInteriorPoint_=null;this.maxDelta_=-1;this.maxDeltaRevision_=-1;this.orientedRevision_=-1;this.orientedFlatCoordinates_=null;this.setCoordinates(e,t)};ol.inherits(ol.geom.Polygon,ol.geom.SimpleGeometry);ol.geom.Polygon.prototype.appendLinearRing=function(e){if(!this.flatCoordinates){this.flatCoordinates=e.getFlatCoordinates().slice()}else{ol.array.extend(this.flatCoordinates,e.getFlatCoordinates())}this.ends_.push(this.flatCoordinates.length);this.changed()};ol.geom.Polygon.prototype.clone=function(){var e=new ol.geom.Polygon(null);e.setFlatCoordinates(this.layout,this.flatCoordinates.slice(),this.ends_.slice());return e};ol.geom.Polygon.prototype.closestPointXY=function(e,t,o,r){if(r<ol.extent.closestSquaredDistanceXY(this.getExtent(),e,t)){return r}if(this.maxDeltaRevision_!=this.getRevision()){this.maxDelta_=Math.sqrt(ol.geom.flat.closest.getsMaxSquaredDelta(this.flatCoordinates,0,this.ends_,this.stride,0));this.maxDeltaRevision_=this.getRevision()}return ol.geom.flat.closest.getsClosestPoint(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,true,e,t,o,r)};ol.geom.Polygon.prototype.containsXY=function(e,t){return ol.geom.flat.contains.linearRingsContainsXY(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,t)};ol.geom.Polygon.prototype.getArea=function(){return ol.geom.flat.area.linearRings(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)};ol.geom.Polygon.prototype.getCoordinates=function(e){var t;if(e!==undefined){t=this.getOrientedFlatCoordinates().slice();ol.geom.flat.orient.orientLinearRings(t,0,this.ends_,this.stride,e)}else{t=this.flatCoordinates}return ol.geom.flat.inflate.coordinatess(t,0,this.ends_,this.stride)};ol.geom.Polygon.prototype.getEnds=function(){return this.ends_};ol.geom.Polygon.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var e=ol.extent.getCenter(this.getExtent());this.flatInteriorPoint_=ol.geom.flat.interiorpoint.linearRings(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,0);this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_};ol.geom.Polygon.prototype.getInteriorPoint=function(){return new ol.geom.Point(this.getFlatInteriorPoint(),ol.geom.GeometryLayout.XYM)};ol.geom.Polygon.prototype.getLinearRingCount=function(){return this.ends_.length};ol.geom.Polygon.prototype.getLinearRing=function(e){if(e<0||this.ends_.length<=e){return null}var t=new ol.geom.LinearRing(null);t.setFlatCoordinates(this.layout,this.flatCoordinates.slice(e===0?0:this.ends_[e-1],this.ends_[e]));return t};ol.geom.Polygon.prototype.getLinearRings=function(){var e=this.layout;var t=this.flatCoordinates;var o=this.ends_;var r=[];var i=0;var n,l;for(n=0,l=o.length;n<l;++n){var a=o[n];var s=new ol.geom.LinearRing(null);s.setFlatCoordinates(e,t.slice(i,a));r.push(s);i=a}return r};ol.geom.Polygon.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var e=this.flatCoordinates;if(ol.geom.flat.orient.linearRingsAreOriented(e,0,this.ends_,this.stride)){this.orientedFlatCoordinates_=e}else{this.orientedFlatCoordinates_=e.slice();this.orientedFlatCoordinates_.length=ol.geom.flat.orient.orientLinearRings(this.orientedFlatCoordinates_,0,this.ends_,this.stride)}this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_};ol.geom.Polygon.prototype.getSimplifiedGeometryInternal=function(e){var t=[];var o=[];t.length=ol.geom.flat.simplify.quantizes(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(e),t,0,o);var r=new ol.geom.Polygon(null);r.setFlatCoordinates(ol.geom.GeometryLayout.XY,t,o);return r};ol.geom.Polygon.prototype.getType=function(){return ol.geom.GeometryType.POLYGON};ol.geom.Polygon.prototype.intersectsExtent=function(e){return ol.geom.flat.intersectsextent.linearRings(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e)};ol.geom.Polygon.prototype.setCoordinates=function(e,t){if(!e){this.setFlatCoordinates(ol.geom.GeometryLayout.XY,null,this.ends_)}else{this.setLayout(t,e,2);if(!this.flatCoordinates){this.flatCoordinates=[]}var o=ol.geom.flat.deflate.coordinatess(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=o.length===0?0:o[o.length-1];this.changed()}};ol.geom.Polygon.prototype.setFlatCoordinates=function(e,t,o){this.setFlatCoordinatesInternal(e,t);this.ends_=o;this.changed()};ol.geom.Polygon.circular=function(e,t,o,r){var i=r?r:32;var n=[];var l;for(l=0;l<i;++l){ol.array.extend(n,e.offset(t,o,2*Math.PI*l/i))}n.push(n[0],n[1]);var a=new ol.geom.Polygon(null);a.setFlatCoordinates(ol.geom.GeometryLayout.XY,n,[n.length]);return a};ol.geom.Polygon.fromExtent=function(e){var t=e[0];var o=e[1];var r=e[2];var i=e[3];var n=[t,o,t,i,r,i,r,o,t,o];var l=new ol.geom.Polygon(null);l.setFlatCoordinates(ol.geom.GeometryLayout.XY,n,[n.length]);return l};ol.geom.Polygon.fromCircle=function(e,t,o){var r=t?t:32;var i=e.getStride();var n=e.getLayout();var l=new ol.geom.Polygon(null,n);var a=i*(r+1);var s=new Array(a);for(var p=0;p<a;p++){s[p]=0}var g=[s.length];l.setFlatCoordinates(n,s,g);ol.geom.Polygon.makeRegular(l,e.getCenter(),e.getRadius(),o);return l};ol.geom.Polygon.makeRegular=function(e,t,o,r){var i=e.getFlatCoordinates();var n=e.getLayout();var l=e.getStride();var a=e.getEnds();var s=i.length/l-1;var p=r?r:0;var g,u;for(var c=0;c<=s;++c){u=c*l;g=p+ol.math.modulo(c,s)*2*Math.PI/s;i[u]=t[0]+o*Math.cos(g);i[u+1]=t[1]+o*Math.sin(g)}e.setFlatCoordinates(n,i,a)};goog.provide("ol.View");goog.require("ol");goog.require("ol.CenterConstraint");goog.require("ol.Object");goog.require("ol.ResolutionConstraint");goog.require("ol.RotationConstraint");goog.require("ol.ViewHint");goog.require("ol.ViewProperty");goog.require("ol.array");goog.require("ol.asserts");goog.require("ol.coordinate");goog.require("ol.easing");goog.require("ol.extent");goog.require("ol.geom.GeometryType");goog.require("ol.geom.Polygon");goog.require("ol.geom.SimpleGeometry");goog.require("ol.math");goog.require("ol.obj");goog.require("ol.proj");goog.require("ol.proj.Units");ol.View=function(e){ol.Object.call(this);var t=ol.obj.assign({},e);this.hints_=[0,0];this.animations_=[];this.updateAnimationKey_;this.updateAnimations_=this.updateAnimations_.bind(this);this.projection_=ol.proj.createProjection(t.projection,"EPSG:3857");this.applyOptions_(t)};ol.inherits(ol.View,ol.Object);ol.View.prototype.applyOptions_=function(e){var t={};t[ol.ViewProperty.CENTER]=e.center!==undefined?e.center:null;var o=ol.View.createResolutionConstraint_(e);this.maxResolution_=o.maxResolution;this.minResolution_=o.minResolution;this.zoomFactor_=o.zoomFactor;this.resolutions_=e.resolutions;this.minZoom_=o.minZoom;var r=ol.View.createCenterConstraint_(e);var i=o.constraint;var n=ol.View.createRotationConstraint_(e);this.constraints_={center:r,resolution:i,rotation:n};if(e.resolution!==undefined){t[ol.ViewProperty.RESOLUTION]=e.resolution}else if(e.zoom!==undefined){t[ol.ViewProperty.RESOLUTION]=this.constrainResolution(this.maxResolution_,e.zoom-this.minZoom_);if(this.resolutions_){t[ol.ViewProperty.RESOLUTION]=ol.math.clamp(Number(this.getResolution()||t[ol.ViewProperty.RESOLUTION]),this.minResolution_,this.maxResolution_)}}t[ol.ViewProperty.ROTATION]=e.rotation!==undefined?e.rotation:0;this.setProperties(t);this.options_=e};ol.View.prototype.getUpdatedOptions_=function(e){var t=ol.obj.assign({},this.options_);if(t.resolution!==undefined){t.resolution=this.getResolution()}else{t.zoom=this.getZoom()}t.center=this.getCenter();t.rotation=this.getRotation();return ol.obj.assign({},t,e)};ol.View.prototype.animate=function(e){var t=arguments.length;var o;if(t>1&&typeof arguments[t-1]==="function"){o=arguments[t-1];--t}if(!this.isDef()){var r=arguments[t-1];if(r.center){this.setCenter(r.center)}if(r.zoom!==undefined){this.setZoom(r.zoom)}if(r.rotation!==undefined){this.setRotation(r.rotation)}if(o){o(true)}return}var i=Date.now();var n=this.getCenter().slice();var l=this.getResolution();var a=this.getRotation();var s=[];for(var p=0;p<t;++p){var g=arguments[p];var u={start:i,complete:false,anchor:g.anchor,duration:g.duration!==undefined?g.duration:1e3,easing:g.easing||ol.easing.inAndOut};if(g.center){u.sourceCenter=n;u.targetCenter=g.center;n=u.targetCenter}if(g.zoom!==undefined){u.sourceResolution=l;u.targetResolution=this.constrainResolution(this.maxResolution_,g.zoom-this.minZoom_,0);l=u.targetResolution}else if(g.resolution){u.sourceResolution=l;u.targetResolution=g.resolution;l=u.targetResolution}if(g.rotation!==undefined){u.sourceRotation=a;var c=ol.math.modulo(g.rotation-a+Math.PI,2*Math.PI)-Math.PI;u.targetRotation=a+c;a=u.targetRotation}u.callback=o;if(ol.View.isNoopAnimation(u)){u.complete=true}else{i+=u.duration}s.push(u)}this.animations_.push(s);this.setHint(ol.ViewHint.ANIMATING,1);this.updateAnimations_()};ol.View.prototype.getAnimating=function(){return this.hints_[ol.ViewHint.ANIMATING]>0};ol.View.prototype.getInteracting=function(){return this.hints_[ol.ViewHint.INTERACTING]>0};ol.View.prototype.cancelAnimations=function(){this.setHint(ol.ViewHint.ANIMATING,-this.hints_[ol.ViewHint.ANIMATING]);for(var e=0,t=this.animations_.length;e<t;++e){var o=this.animations_[e];if(o[0].callback){o[0].callback(false)}}this.animations_.length=0};ol.View.prototype.updateAnimations_=function(){if(this.updateAnimationKey_!==undefined){cancelAnimationFrame(this.updateAnimationKey_);this.updateAnimationKey_=undefined}if(!this.getAnimating()){return}var e=Date.now();var t=false;for(var o=this.animations_.length-1;o>=0;--o){var r=this.animations_[o];var i=true;for(var n=0,l=r.length;n<l;++n){var a=r[n];if(a.complete){continue}var s=e-a.start;var p=a.duration>0?s/a.duration:1;if(p>=1){a.complete=true;p=1}else{i=false}var g=a.easing(p);if(a.sourceCenter){var u=a.sourceCenter[0];var c=a.sourceCenter[1];var y=a.targetCenter[0];var d=a.targetCenter[1];var h=u+g*(y-u);var f=c+g*(d-c);this.set(ol.ViewProperty.CENTER,[h,f])}if(a.sourceResolution&&a.targetResolution){var m=g===1?a.targetResolution:a.sourceResolution+g*(a.targetResolution-a.sourceResolution);if(a.anchor){this.set(ol.ViewProperty.CENTER,this.calculateCenterZoom(m,a.anchor))}this.set(ol.ViewProperty.RESOLUTION,m)}if(a.sourceRotation!==undefined&&a.targetRotation!==undefined){var v=g===1?ol.math.modulo(a.targetRotation+Math.PI,2*Math.PI)-Math.PI:a.sourceRotation+g*(a.targetRotation-a.sourceRotation);if(a.anchor){this.set(ol.ViewProperty.CENTER,this.calculateCenterRotate(v,a.anchor))}this.set(ol.ViewProperty.ROTATION,v)}t=true;if(!a.complete){break}}if(i){this.animations_[o]=null;this.setHint(ol.ViewHint.ANIMATING,-1);var _=r[0].callback;if(_){_(true)}}}this.animations_=this.animations_.filter(Boolean);if(t&&this.updateAnimationKey_===undefined){this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_)}};ol.View.prototype.calculateCenterRotate=function(e,t){var o;var r=this.getCenter();if(r!==undefined){o=[r[0]-t[0],r[1]-t[1]];ol.coordinate.rotate(o,e-this.getRotation());ol.coordinate.add(o,t)}return o};ol.View.prototype.calculateCenterZoom=function(e,t){var o;var r=this.getCenter();var i=this.getResolution();if(r!==undefined&&i!==undefined){var n=t[0]-e*(t[0]-r[0])/i;var l=t[1]-e*(t[1]-r[1])/i;o=[n,l]}return o};ol.View.prototype.getSizeFromViewport_=function(){var e=[100,100];var t='.ol-viewport[data-view="'+ol.getUid(this)+'"]';var o=document.querySelector(t);if(o){var r=getComputedStyle(o);e[0]=parseInt(r.width,10);e[1]=parseInt(r.height,10)}return e};ol.View.prototype.constrainCenter=function(e){return this.constraints_.center(e)};ol.View.prototype.constrainResolution=function(e,t,o){var r=t||0;var i=o||0;return this.constraints_.resolution(e,r,i)};ol.View.prototype.constrainRotation=function(e,t){var o=t||0;return this.constraints_.rotation(e,o)};ol.View.prototype.getCenter=function(){return this.get(ol.ViewProperty.CENTER)};ol.View.prototype.getConstraints=function(){return this.constraints_};ol.View.prototype.getHints=function(e){if(e!==undefined){e[0]=this.hints_[0];e[1]=this.hints_[1];return e}else{return this.hints_.slice()}};ol.View.prototype.calculateExtent=function(e){var t=e||this.getSizeFromViewport_();var o=this.getCenter();ol.asserts.assert(o,1);var r=this.getResolution();ol.asserts.assert(r!==undefined,2);var i=this.getRotation();ol.asserts.assert(i!==undefined,3);return ol.extent.getForViewAndSize(o,r,i,t)};ol.View.prototype.getMaxResolution=function(){return this.maxResolution_};ol.View.prototype.getMinResolution=function(){return this.minResolution_};ol.View.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)};ol.View.prototype.setMaxZoom=function(e){this.applyOptions_(this.getUpdatedOptions_({maxZoom:e}))};ol.View.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)};ol.View.prototype.setMinZoom=function(e){this.applyOptions_(this.getUpdatedOptions_({minZoom:e}))};ol.View.prototype.getProjection=function(){return this.projection_};ol.View.prototype.getResolution=function(){return this.get(ol.ViewProperty.RESOLUTION)};ol.View.prototype.getResolutions=function(){return this.resolutions_};ol.View.prototype.getResolutionForExtent=function(e,t){var o=t||this.getSizeFromViewport_();var r=ol.extent.getWidth(e)/o[0];var i=ol.extent.getHeight(e)/o[1];return Math.max(r,i)};ol.View.prototype.getResolutionForValueFunction=function(e){var t=e||2;var o=this.maxResolution_;var r=this.minResolution_;var i=Math.log(o/r)/Math.log(t);return function(e){var r=o/Math.pow(t,e*i);return r}};ol.View.prototype.getRotation=function(){return this.get(ol.ViewProperty.ROTATION)};ol.View.prototype.getValueForResolutionFunction=function(e){var t=e||2;var o=this.maxResolution_;var r=this.minResolution_;var i=Math.log(o/r)/Math.log(t);return function(e){var r=Math.log(o/e)/Math.log(t)/i;return r}};ol.View.prototype.getState=function(){var e=this.getCenter();var t=this.getProjection();var o=this.getResolution();var r=this.getRotation();return{center:e.slice(),projection:t!==undefined?t:null,resolution:o,rotation:r,zoom:this.getZoom()}};ol.View.prototype.getZoom=function(){var e;var t=this.getResolution();if(t!==undefined){e=this.getZoomForResolution(t)}return e};ol.View.prototype.getZoomForResolution=function(e){var t=this.minZoom_||0;var o,r;if(this.resolutions_){var i=ol.array.linearFindNearest(this.resolutions_,e,1);t=i;o=this.resolutions_[i];if(i==this.resolutions_.length-1){r=2}else{r=o/this.resolutions_[i+1]}}else{o=this.maxResolution_;r=this.zoomFactor_}return t+Math.log(o/e)/Math.log(r)};ol.View.prototype.getResolutionForZoom=function(e){return this.constrainResolution(this.maxResolution_,e-this.minZoom_,0)};ol.View.prototype.fit=function(e,t){var o=t||{};var r=o.size;if(!r){r=this.getSizeFromViewport_()}var i;if(!(e instanceof ol.geom.SimpleGeometry)){ol.asserts.assert(Array.isArray(e),24);ol.asserts.assert(!ol.extent.isEmpty(e),25);i=ol.geom.Polygon.fromExtent(e)}else if(e.getType()===ol.geom.GeometryType.CIRCLE){e=e.getExtent();i=ol.geom.Polygon.fromExtent(e);i.rotate(this.getRotation(),ol.extent.getCenter(e))}else{i=e}var n=o.padding!==undefined?o.padding:[0,0,0,0];var l=o.constrainResolution!==undefined?o.constrainResolution:true;var a=o.nearest!==undefined?o.nearest:false;var s;if(o.minResolution!==undefined){s=o.minResolution}else if(o.maxZoom!==undefined){s=this.constrainResolution(this.maxResolution_,o.maxZoom-this.minZoom_,0)}else{s=0}var p=i.getFlatCoordinates();var g=this.getRotation();var u=Math.cos(-g);var c=Math.sin(-g);var y=+Infinity;var d=+Infinity;var h=-Infinity;var f=-Infinity;var m=i.getStride();for(var v=0,_=p.length;v<_;v+=m){var S=p[v]*u-p[v+1]*c;var x=p[v]*c+p[v+1]*u;y=Math.min(y,S);d=Math.min(d,x);h=Math.max(h,S);f=Math.max(f,x)}var P=this.getResolutionForExtent([y,d,h,f],[r[0]-n[1]-n[3],r[1]-n[0]-n[2]]);P=isNaN(P)?s:Math.max(P,s);if(l){var E=this.constrainResolution(P,0,0);if(!a&&E<P){E=this.constrainResolution(E,-1,0)}P=E}c=-c;var T=(y+h)/2;var R=(d+f)/2;T+=(n[1]-n[3])/2*P;R+=(n[0]-n[2])/2*P;var L=T*u-R*c;var M=R*u+T*c;var C=[L,M];var I=o.callback?o.callback:ol.nullFunction;if(o.duration!==undefined){this.animate({resolution:P,center:C,duration:o.duration,easing:o.easing},I)}else{this.setResolution(P);this.setCenter(C);setTimeout(I.bind(undefined,true),0)}};ol.View.prototype.centerOn=function(e,t,o){var r=this.getRotation();var i=Math.cos(-r);var n=Math.sin(-r);var l=e[0]*i-e[1]*n;var a=e[1]*i+e[0]*n;var s=this.getResolution();l+=(t[0]/2-o[0])*s;a+=(o[1]-t[1]/2)*s;n=-n;var p=l*i-a*n;var g=a*i+l*n;this.setCenter([p,g])};ol.View.prototype.isDef=function(){return!!this.getCenter()&&this.getResolution()!==undefined};ol.View.prototype.rotate=function(e,t){if(t!==undefined){var o=this.calculateCenterRotate(e,t);this.setCenter(o)}this.setRotation(e)};ol.View.prototype.setCenter=function(e){this.set(ol.ViewProperty.CENTER,e);if(this.getAnimating()){this.cancelAnimations()}};ol.View.prototype.setHint=function(e,t){this.hints_[e]+=t;this.changed();return this.hints_[e]};ol.View.prototype.setResolution=function(e){this.set(ol.ViewProperty.RESOLUTION,e);if(this.getAnimating()){this.cancelAnimations()}};ol.View.prototype.setRotation=function(e){this.set(ol.ViewProperty.ROTATION,e);if(this.getAnimating()){this.cancelAnimations()}};ol.View.prototype.setZoom=function(e){this.setResolution(this.getResolutionForZoom(e))};ol.View.createCenterConstraint_=function(e){if(e.extent!==undefined){return ol.CenterConstraint.createExtent(e.extent)}else{return ol.CenterConstraint.none}};ol.View.createResolutionConstraint_=function(e){var t;var o;var r;var i=28;var n=2;var l=e.minZoom!==undefined?e.minZoom:ol.DEFAULT_MIN_ZOOM;var a=e.maxZoom!==undefined?e.maxZoom:i;var s=e.zoomFactor!==undefined?e.zoomFactor:n;if(e.resolutions!==undefined){var p=e.resolutions;o=p[l];r=p[a]!==undefined?p[a]:p[p.length-1];t=ol.ResolutionConstraint.createSnapToResolutions(p)}else{var g=ol.proj.createProjection(e.projection,"EPSG:3857");var u=g.getExtent();var c=!u?360*ol.proj.METERS_PER_UNIT[ol.proj.Units.DEGREES]/g.getMetersPerUnit():Math.max(ol.extent.getWidth(u),ol.extent.getHeight(u));var y=c/ol.DEFAULT_TILE_SIZE/Math.pow(n,ol.DEFAULT_MIN_ZOOM);var d=y/Math.pow(n,i-ol.DEFAULT_MIN_ZOOM);o=e.maxResolution;if(o!==undefined){l=0}else{o=y/Math.pow(s,l)}r=e.minResolution;if(r===undefined){if(e.maxZoom!==undefined){if(e.maxResolution!==undefined){r=o/Math.pow(s,a)}else{r=y/Math.pow(s,a)}}else{r=d}}a=l+Math.floor(Math.log(o/r)/Math.log(s));r=o/Math.pow(s,a-l);t=ol.ResolutionConstraint.createSnapToPower(s,o,a-l)}return{constraint:t,maxResolution:o,minResolution:r,minZoom:l,zoomFactor:s}};ol.View.createRotationConstraint_=function(e){var t=e.enableRotation!==undefined?e.enableRotation:true;if(t){var o=e.constrainRotation;if(o===undefined||o===true){return ol.RotationConstraint.createSnapToZero()}else if(o===false){return ol.RotationConstraint.none}else if(typeof o==="number"){return ol.RotationConstraint.createSnapToN(o)}else{return ol.RotationConstraint.none}}else{return ol.RotationConstraint.disable}};ol.View.isNoopAnimation=function(e){if(e.sourceCenter&&e.targetCenter){if(!ol.coordinate.equals(e.sourceCenter,e.targetCenter)){return false}}if(e.sourceResolution!==e.targetResolution){return false}if(e.sourceRotation!==e.targetRotation){return false}return true};goog.provide("ol.dom");ol.dom.createCanvasContext2D=function(e,t){var o=document.createElement("CANVAS");if(e){o.width=e}if(t){o.height=t}return o.getContext("2d")};ol.dom.outerWidth=function(e){var t=e.offsetWidth;var o=getComputedStyle(e);t+=parseInt(o.marginLeft,10)+parseInt(o.marginRight,10);return t};ol.dom.outerHeight=function(e){var t=e.offsetHeight;var o=getComputedStyle(e);t+=parseInt(o.marginTop,10)+parseInt(o.marginBottom,10);return t};ol.dom.replaceNode=function(e,t){var o=t.parentNode;if(o){o.replaceChild(e,t)}};ol.dom.removeNode=function(e){return e&&e.parentNode?e.parentNode.removeChild(e):null};ol.dom.removeChildren=function(e){while(e.lastChild){e.removeChild(e.lastChild)}};goog.provide("ol.layer.Property");ol.layer.Property={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",SOURCE:"source"};goog.provide("ol.layer.Base");goog.require("ol");goog.require("ol.Object");goog.require("ol.layer.Property");goog.require("ol.math");goog.require("ol.obj");ol.layer.Base=function(e){ol.Object.call(this);var t=ol.obj.assign({},e);t[ol.layer.Property.OPACITY]=e.opacity!==undefined?e.opacity:1;t[ol.layer.Property.VISIBLE]=e.visible!==undefined?e.visible:true;t[ol.layer.Property.Z_INDEX]=e.zIndex!==undefined?e.zIndex:0;t[ol.layer.Property.MAX_RESOLUTION]=e.maxResolution!==undefined?e.maxResolution:Infinity;t[ol.layer.Property.MIN_RESOLUTION]=e.minResolution!==undefined?e.minResolution:0;this.setProperties(t);this.state_={layer:this,managed:true};this.type};ol.inherits(ol.layer.Base,ol.Object);ol.layer.Base.prototype.getType=function(){return this.type};ol.layer.Base.prototype.getLayerState=function(){this.state_.opacity=ol.math.clamp(this.getOpacity(),0,1);this.state_.sourceState=this.getSourceState();this.state_.visible=this.getVisible();this.state_.extent=this.getExtent();this.state_.zIndex=this.getZIndex();this.state_.maxResolution=this.getMaxResolution();this.state_.minResolution=Math.max(this.getMinResolution(),0);return this.state_};ol.layer.Base.prototype.getLayersArray=function(e){};ol.layer.Base.prototype.getLayerStatesArray=function(e){};ol.layer.Base.prototype.getExtent=function(){return this.get(ol.layer.Property.EXTENT)};ol.layer.Base.prototype.getMaxResolution=function(){return this.get(ol.layer.Property.MAX_RESOLUTION)};ol.layer.Base.prototype.getMinResolution=function(){return this.get(ol.layer.Property.MIN_RESOLUTION)};ol.layer.Base.prototype.getOpacity=function(){return this.get(ol.layer.Property.OPACITY)};ol.layer.Base.prototype.getSourceState=function(){};ol.layer.Base.prototype.getVisible=function(){return this.get(ol.layer.Property.VISIBLE)};ol.layer.Base.prototype.getZIndex=function(){return this.get(ol.layer.Property.Z_INDEX)};ol.layer.Base.prototype.setExtent=function(e){this.set(ol.layer.Property.EXTENT,e)};ol.layer.Base.prototype.setMaxResolution=function(e){this.set(ol.layer.Property.MAX_RESOLUTION,e)};ol.layer.Base.prototype.setMinResolution=function(e){this.set(ol.layer.Property.MIN_RESOLUTION,e)};ol.layer.Base.prototype.setOpacity=function(e){this.set(ol.layer.Property.OPACITY,e)};ol.layer.Base.prototype.setVisible=function(e){this.set(ol.layer.Property.VISIBLE,e)};ol.layer.Base.prototype.setZIndex=function(e){this.set(ol.layer.Property.Z_INDEX,e)};goog.provide("ol.source.State");ol.source.State={UNDEFINED:"undefined",LOADING:"loading",READY:"ready",ERROR:"error"};goog.provide("ol.layer.Group");goog.require("ol");goog.require("ol.Collection");goog.require("ol.CollectionEventType");goog.require("ol.Object");goog.require("ol.ObjectEventType");goog.require("ol.asserts");goog.require("ol.events");goog.require("ol.events.EventType");goog.require("ol.extent");goog.require("ol.layer.Base");goog.require("ol.obj");goog.require("ol.source.State");ol.layer.Group=function(e){var t=e||{};var o=ol.obj.assign({},t);delete o.layers;var r=t.layers;ol.layer.Base.call(this,o);this.layersListenerKeys_=[];this.listenerKeys_={};ol.events.listen(this,ol.Object.getChangeEventType(ol.layer.Group.Property_.LAYERS),this.handleLayersChanged_,this);if(r){if(Array.isArray(r)){r=new ol.Collection(r.slice(),{unique:true})}else{ol.asserts.assert(r instanceof ol.Collection,43);r=r}}else{r=new ol.Collection(undefined,{unique:true})}this.setLayers(r)};ol.inherits(ol.layer.Group,ol.layer.Base);ol.layer.Group.prototype.handleLayerChange_=function(){this.changed()};ol.layer.Group.prototype.handleLayersChanged_=function(e){this.layersListenerKeys_.forEach(ol.events.unlistenByKey);this.layersListenerKeys_.length=0;var t=this.getLayers();this.layersListenerKeys_.push(ol.events.listen(t,ol.CollectionEventType.ADD,this.handleLayersAdd_,this),ol.events.listen(t,ol.CollectionEventType.REMOVE,this.handleLayersRemove_,this));for(var o in this.listenerKeys_){this.listenerKeys_[o].forEach(ol.events.unlistenByKey)}ol.obj.clear(this.listenerKeys_);var r=t.getArray();var i,n,l;for(i=0,n=r.length;i<n;i++){l=r[i];this.listenerKeys_[ol.getUid(l).toString()]=[ol.events.listen(l,ol.ObjectEventType.PROPERTYCHANGE,this.handleLayerChange_,this),ol.events.listen(l,ol.events.EventType.CHANGE,this.handleLayerChange_,this)]}this.changed()};ol.layer.Group.prototype.handleLayersAdd_=function(e){var t=e.element;var o=ol.getUid(t).toString();this.listenerKeys_[o]=[ol.events.listen(t,ol.ObjectEventType.PROPERTYCHANGE,this.handleLayerChange_,this),ol.events.listen(t,ol.events.EventType.CHANGE,this.handleLayerChange_,this)];this.changed()};ol.layer.Group.prototype.handleLayersRemove_=function(e){var t=e.element;var o=ol.getUid(t).toString();this.listenerKeys_[o].forEach(ol.events.unlistenByKey);delete this.listenerKeys_[o];this.changed()};ol.layer.Group.prototype.getLayers=function(){return this.get(ol.layer.Group.Property_.LAYERS)};ol.layer.Group.prototype.setLayers=function(e){this.set(ol.layer.Group.Property_.LAYERS,e)};ol.layer.Group.prototype.getLayersArray=function(e){var t=e!==undefined?e:[];this.getLayers().forEach(function(e){e.getLayersArray(t)});return t};ol.layer.Group.prototype.getLayerStatesArray=function(e){var t=e!==undefined?e:[];var o=t.length;this.getLayers().forEach(function(e){e.getLayerStatesArray(t)});var r=this.getLayerState();var i,n,l;for(i=o,n=t.length;i<n;i++){l=t[i];l.opacity*=r.opacity;l.visible=l.visible&&r.visible;l.maxResolution=Math.min(l.maxResolution,r.maxResolution);l.minResolution=Math.max(l.minResolution,r.minResolution);if(r.extent!==undefined){if(l.extent!==undefined){l.extent=ol.extent.getIntersection(l.extent,r.extent)}else{l.extent=r.extent}}}return t};ol.layer.Group.prototype.getSourceState=function(){return ol.source.State.READY};ol.layer.Group.Property_={LAYERS:"layers"};goog.provide("ol.PluginType");ol.PluginType={MAP_RENDERER:"MAP_RENDERER",LAYER_RENDERER:"LAYER_RENDERER"};goog.provide("ol.plugins");goog.require("ol.PluginType");ol.plugins.mapRendererPlugins_=[];ol.plugins.getMapRendererPlugins=function(){return ol.plugins.mapRendererPlugins_};ol.plugins.layerRendererPlugins_=[];ol.plugins.getLayerRendererPlugins=function(){return ol.plugins.layerRendererPlugins_};ol.plugins.register=function(e,t){var o;switch(e){case ol.PluginType.MAP_RENDERER:{o=ol.plugins.mapRendererPlugins_;o.push(t);break}case ol.PluginType.LAYER_RENDERER:{o=ol.plugins.layerRendererPlugins_;o.push(t);break}default:{throw new Error("Unsupported plugin type: "+e)}}};ol.plugins.registerMultiple=function(e,t){for(var o=0,r=t.length;o<r;++o){ol.plugins.register(e,t[o])}};goog.provide("ol.renderer.Type");ol.renderer.Type={CANVAS:"canvas",WEBGL:"webgl"};goog.provide("ol.PluggableMap");goog.require("ol");goog.require("ol.Collection");goog.require("ol.CollectionEventType");goog.require("ol.MapBrowserEvent");goog.require("ol.MapBrowserEventHandler");goog.require("ol.MapBrowserEventType");goog.require("ol.MapEvent");goog.require("ol.MapEventType");goog.require("ol.MapProperty");goog.require("ol.Object");goog.require("ol.ObjectEventType");goog.require("ol.TileQueue");goog.require("ol.View");goog.require("ol.ViewHint");goog.require("ol.asserts");goog.require("ol.dom");goog.require("ol.events");goog.require("ol.events.Event");goog.require("ol.events.EventType");goog.require("ol.extent");goog.require("ol.functions");goog.require("ol.has");goog.require("ol.layer.Group");goog.require("ol.obj");goog.require("ol.plugins");goog.require("ol.renderer.Type");goog.require("ol.size");goog.require("ol.structs.PriorityQueue");goog.require("ol.transform");ol.PluggableMap=function(e){ol.Object.call(this);var t=ol.PluggableMap.createOptionsInternal(e);this.loadTilesWhileAnimating_=e.loadTilesWhileAnimating!==undefined?e.loadTilesWhileAnimating:false;this.loadTilesWhileInteracting_=e.loadTilesWhileInteracting!==undefined?e.loadTilesWhileInteracting:false;this.pixelRatio_=e.pixelRatio!==undefined?e.pixelRatio:ol.has.DEVICE_PIXEL_RATIO;this.logos_=t.logos;this.animationDelayKey_;this.animationDelay_=function(){this.animationDelayKey_=undefined;this.renderFrame_.call(this,Date.now())}.bind(this);this.coordinateToPixelTransform_=ol.transform.create();this.pixelToCoordinateTransform_=ol.transform.create();this.frameIndex_=0;this.frameState_=null;this.previousExtent_=null;this.viewPropertyListenerKey_=null;this.viewChangeListenerKey_=null;this.layerGroupPropertyListenerKeys_=null;this.viewport_=document.createElement("DIV");this.viewport_.className="ol-viewport"+(ol.has.TOUCH?" ol-touch":"");this.viewport_.style.position="relative";this.viewport_.style.overflow="hidden";this.viewport_.style.width="100%";this.viewport_.style.height="100%";this.viewport_.style.msTouchAction="none";this.viewport_.style.touchAction="none";this.overlayContainer_=document.createElement("DIV");this.overlayContainer_.className="ol-overlaycontainer";this.viewport_.appendChild(this.overlayContainer_);this.overlayContainerStopEvent_=document.createElement("DIV");this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent";var o=[ol.events.EventType.CLICK,ol.events.EventType.DBLCLICK,ol.events.EventType.MOUSEDOWN,ol.events.EventType.TOUCHSTART,ol.events.EventType.MSPOINTERDOWN,ol.MapBrowserEventType.POINTERDOWN,ol.events.EventType.MOUSEWHEEL,ol.events.EventType.WHEEL];for(var r=0,i=o.length;r<i;++r){ol.events.listen(this.overlayContainerStopEvent_,o[r],ol.events.Event.stopPropagation)}this.viewport_.appendChild(this.overlayContainerStopEvent_);this.mapBrowserEventHandler_=new ol.MapBrowserEventHandler(this,e.moveTolerance);for(var n in ol.MapBrowserEventType){ol.events.listen(this.mapBrowserEventHandler_,ol.MapBrowserEventType[n],this.handleMapBrowserEvent,this)}this.keyboardEventTarget_=t.keyboardEventTarget;this.keyHandlerKeys_=null;ol.events.listen(this.viewport_,ol.events.EventType.WHEEL,this.handleBrowserEvent,this);ol.events.listen(this.viewport_,ol.events.EventType.MOUSEWHEEL,this.handleBrowserEvent,this);this.controls=t.controls||new ol.Collection;this.interactions=t.interactions||new ol.Collection;this.overlays_=t.overlays;this.overlayIdIndex_={};this.renderer_=t.mapRendererPlugin["create"](this.viewport_,this);this.handleResize_;this.focus_=null;this.postRenderFunctions_=[];this.tileQueue_=new ol.TileQueue(this.getTilePriority.bind(this),this.handleTileChange_.bind(this));this.skippedFeatureUids_={};ol.events.listen(this,ol.Object.getChangeEventType(ol.MapProperty.LAYERGROUP),this.handleLayerGroupChanged_,this);ol.events.listen(this,ol.Object.getChangeEventType(ol.MapProperty.VIEW),this.handleViewChanged_,this);ol.events.listen(this,ol.Object.getChangeEventType(ol.MapProperty.SIZE),this.handleSizeChanged_,this);ol.events.listen(this,ol.Object.getChangeEventType(ol.MapProperty.TARGET),this.handleTargetChanged_,this);this.setProperties(t.values);this.controls.forEach(function(e){e.setMap(this)},this);ol.events.listen(this.controls,ol.CollectionEventType.ADD,function(e){e.element.setMap(this)},this);ol.events.listen(this.controls,ol.CollectionEventType.REMOVE,function(e){e.element.setMap(null)},this);this.interactions.forEach(function(e){e.setMap(this)},this);ol.events.listen(this.interactions,ol.CollectionEventType.ADD,function(e){e.element.setMap(this)},this);ol.events.listen(this.interactions,ol.CollectionEventType.REMOVE,function(e){e.element.setMap(null)},this);this.overlays_.forEach(this.addOverlayInternal_,this);ol.events.listen(this.overlays_,ol.CollectionEventType.ADD,function(e){this.addOverlayInternal_(e.element)},this);ol.events.listen(this.overlays_,ol.CollectionEventType.REMOVE,function(e){var t=e.element;var o=t.getId();if(o!==undefined){delete this.overlayIdIndex_[o.toString()]}e.element.setMap(null)},this)};ol.inherits(ol.PluggableMap,ol.Object);ol.PluggableMap.prototype.addControl=function(e){this.getControls().push(e)};ol.PluggableMap.prototype.addInteraction=function(e){this.getInteractions().push(e)};ol.PluggableMap.prototype.addLayer=function(e){var t=this.getLayerGroup().getLayers();t.push(e)};ol.PluggableMap.prototype.addOverlay=function(e){this.getOverlays().push(e)};ol.PluggableMap.prototype.addOverlayInternal_=function(e){var t=e.getId();if(t!==undefined){this.overlayIdIndex_[t.toString()]=e}e.setMap(this)};ol.PluggableMap.prototype.disposeInternal=function(){this.mapBrowserEventHandler_.dispose();ol.events.unlisten(this.viewport_,ol.events.EventType.WHEEL,this.handleBrowserEvent,this);ol.events.unlisten(this.viewport_,ol.events.EventType.MOUSEWHEEL,this.handleBrowserEvent,this);if(this.handleResize_!==undefined){window.removeEventListener(ol.events.EventType.RESIZE,this.handleResize_,false);this.handleResize_=undefined}if(this.animationDelayKey_){cancelAnimationFrame(this.animationDelayKey_);this.animationDelayKey_=undefined}this.setTarget(null);ol.Object.prototype.disposeInternal.call(this)};ol.PluggableMap.prototype.forEachFeatureAtPixel=function(e,t,o){if(!this.frameState_){return}var r=this.getCoordinateFromPixel(e);o=o!==undefined?o:{};var i=o.hitTolerance!==undefined?o.hitTolerance*this.frameState_.pixelRatio:0;var n=o.layerFilter!==undefined?o.layerFilter:ol.functions.TRUE;return this.renderer_.forEachFeatureAtCoordinate(r,this.frameState_,i,t,null,n,null)};ol.PluggableMap.prototype.getFeaturesAtPixel=function(e,t){var o=null;this.forEachFeatureAtPixel(e,function(e){if(!o){o=[]}o.push(e)},t);return o};ol.PluggableMap.prototype.forEachLayerAtPixel=function(e,t,o,r,i){if(!this.frameState_){return}var n=o!==undefined?o:null;var l=r!==undefined?r:ol.functions.TRUE;var a=i!==undefined?i:null;return this.renderer_.forEachLayerAtPixel(e,this.frameState_,t,n,l,a)};ol.PluggableMap.prototype.hasFeatureAtPixel=function(e,t){if(!this.frameState_){return false}var o=this.getCoordinateFromPixel(e);t=t!==undefined?t:{};var r=t.layerFilter!==undefined?t.layerFilter:ol.functions.TRUE;var i=t.hitTolerance!==undefined?t.hitTolerance*this.frameState_.pixelRatio:0;return this.renderer_.hasFeatureAtCoordinate(o,this.frameState_,i,r,null)};ol.PluggableMap.prototype.getEventCoordinate=function(e){return this.getCoordinateFromPixel(this.getEventPixel(e))};ol.PluggableMap.prototype.getEventPixel=function(e){var t=this.viewport_.getBoundingClientRect();var o=e.changedTouches?e.changedTouches[0]:e;return[o.clientX-t.left,o.clientY-t.top]};ol.PluggableMap.prototype.getTarget=function(){return this.get(ol.MapProperty.TARGET)};ol.PluggableMap.prototype.getTargetElement=function(){var e=this.getTarget();if(e!==undefined){return typeof e==="string"?document.getElementById(e):e}else{return null}};ol.PluggableMap.prototype.getCoordinateFromPixel=function(e){var t=this.frameState_;if(!t){return null}else{return ol.transform.apply(t.pixelToCoordinateTransform,e.slice())}};ol.PluggableMap.prototype.getControls=function(){return this.controls};ol.PluggableMap.prototype.getOverlays=function(){return this.overlays_};ol.PluggableMap.prototype.getOverlayById=function(e){var t=this.overlayIdIndex_[e.toString()];return t!==undefined?t:null};ol.PluggableMap.prototype.getInteractions=function(){return this.interactions};ol.PluggableMap.prototype.getLayerGroup=function(){return this.get(ol.MapProperty.LAYERGROUP)};ol.PluggableMap.prototype.getLayers=function(){var e=this.getLayerGroup().getLayers();return e};ol.PluggableMap.prototype.getPixelFromCoordinate=function(e){var t=this.frameState_;if(!t){return null}else{return ol.transform.apply(t.coordinateToPixelTransform,e.slice(0,2))}};ol.PluggableMap.prototype.getRenderer=function(){return this.renderer_};ol.PluggableMap.prototype.getSize=function(){return this.get(ol.MapProperty.SIZE)};ol.PluggableMap.prototype.getView=function(){return this.get(ol.MapProperty.VIEW)};ol.PluggableMap.prototype.getViewport=function(){return this.viewport_};ol.PluggableMap.prototype.getOverlayContainer=function(){return this.overlayContainer_};ol.PluggableMap.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_};ol.PluggableMap.prototype.getTilePriority=function(e,t,o,r){var i=this.frameState_;if(!i||!(t in i.wantedTiles)){return ol.structs.PriorityQueue.DROP}if(!i.wantedTiles[t][e.getKey()]){return ol.structs.PriorityQueue.DROP}var n=o[0]-i.focus[0];var l=o[1]-i.focus[1];return 65536*Math.log(r)+Math.sqrt(n*n+l*l)/r};ol.PluggableMap.prototype.handleBrowserEvent=function(e,t){var o=t||e.type;var r=new ol.MapBrowserEvent(o,this,e);this.handleMapBrowserEvent(r)};ol.PluggableMap.prototype.handleMapBrowserEvent=function(e){if(!this.frameState_){return}this.focus_=e.coordinate;e.frameState=this.frameState_;var t=this.getInteractions().getArray();var o;if(this.dispatchEvent(e)!==false){for(o=t.length-1;o>=0;o--){var r=t[o];if(!r.getActive()){continue}var i=r.handleEvent(e);if(!i){break}}}};ol.PluggableMap.prototype.handlePostRender=function(){var e=this.frameState_;var t=this.tileQueue_;if(!t.isEmpty()){var o=16;var r=o;if(e){var i=e.viewHints;if(i[ol.ViewHint.ANIMATING]){o=this.loadTilesWhileAnimating_?8:0;r=2}if(i[ol.ViewHint.INTERACTING]){o=this.loadTilesWhileInteracting_?8:0;r=2}}if(t.getTilesLoading()<o){t.reprioritize();t.loadMoreTiles(o,r)}}var n=this.postRenderFunctions_;var l,a;for(l=0,a=n.length;l<a;++l){n[l](this,e)}n.length=0};ol.PluggableMap.prototype.handleSizeChanged_=function(){this.render()};ol.PluggableMap.prototype.handleTargetChanged_=function(){var e;if(this.getTarget()){e=this.getTargetElement()}if(this.keyHandlerKeys_){for(var t=0,o=this.keyHandlerKeys_.length;t<o;++t){ol.events.unlistenByKey(this.keyHandlerKeys_[t])}this.keyHandlerKeys_=null}if(!e){this.renderer_.removeLayerRenderers();ol.dom.removeNode(this.viewport_);if(this.handleResize_!==undefined){window.removeEventListener(ol.events.EventType.RESIZE,this.handleResize_,false);this.handleResize_=undefined}}else{e.appendChild(this.viewport_);var r=!this.keyboardEventTarget_?e:this.keyboardEventTarget_;this.keyHandlerKeys_=[ol.events.listen(r,ol.events.EventType.KEYDOWN,this.handleBrowserEvent,this),ol.events.listen(r,ol.events.EventType.KEYPRESS,this.handleBrowserEvent,this)];if(!this.handleResize_){this.handleResize_=this.updateSize.bind(this);window.addEventListener(ol.events.EventType.RESIZE,this.handleResize_,false)}}this.updateSize()};ol.PluggableMap.prototype.handleTileChange_=function(){this.render()};ol.PluggableMap.prototype.handleViewPropertyChanged_=function(){this.render()};ol.PluggableMap.prototype.handleViewChanged_=function(){if(this.viewPropertyListenerKey_){ol.events.unlistenByKey(this.viewPropertyListenerKey_);this.viewPropertyListenerKey_=null}if(this.viewChangeListenerKey_){ol.events.unlistenByKey(this.viewChangeListenerKey_);this.viewChangeListenerKey_=null}var e=this.getView();if(e){this.viewport_.setAttribute("data-view",ol.getUid(e));this.viewPropertyListenerKey_=ol.events.listen(e,ol.ObjectEventType.PROPERTYCHANGE,this.handleViewPropertyChanged_,this);this.viewChangeListenerKey_=ol.events.listen(e,ol.events.EventType.CHANGE,this.handleViewPropertyChanged_,this)}this.render()};ol.PluggableMap.prototype.handleLayerGroupChanged_=function(){if(this.layerGroupPropertyListenerKeys_){this.layerGroupPropertyListenerKeys_.forEach(ol.events.unlistenByKey);this.layerGroupPropertyListenerKeys_=null}var e=this.getLayerGroup();if(e){this.layerGroupPropertyListenerKeys_=[ol.events.listen(e,ol.ObjectEventType.PROPERTYCHANGE,this.render,this),ol.events.listen(e,ol.events.EventType.CHANGE,this.render,this)]}this.render()};ol.PluggableMap.prototype.isRendered=function(){return!!this.frameState_};ol.PluggableMap.prototype.renderSync=function(){if(this.animationDelayKey_){cancelAnimationFrame(this.animationDelayKey_)}this.animationDelay_()};ol.PluggableMap.prototype.render=function(){if(this.animationDelayKey_===undefined){this.animationDelayKey_=requestAnimationFrame(this.animationDelay_)}};ol.PluggableMap.prototype.removeControl=function(e){return this.getControls().remove(e)};ol.PluggableMap.prototype.removeInteraction=function(e){return this.getInteractions().remove(e)};ol.PluggableMap.prototype.removeLayer=function(e){var t=this.getLayerGroup().getLayers();return t.remove(e)};ol.PluggableMap.prototype.removeOverlay=function(e){return this.getOverlays().remove(e)};ol.PluggableMap.prototype.renderFrame_=function(e){var t,o,r;var i=this.getSize();var n=this.getView();var l=ol.extent.createEmpty();var a=this.frameState_;var s=null;if(i!==undefined&&ol.size.hasArea(i)&&n&&n.isDef()){var p=n.getHints(this.frameState_?this.frameState_.viewHints:undefined);var g=this.getLayerGroup().getLayerStatesArray();var u={};for(t=0,o=g.length;t<o;++t){u[ol.getUid(g[t].layer)]=g[t]}r=n.getState();var c=r.center;var y=r.resolution/this.pixelRatio_;c[0]=Math.round(c[0]/y)*y;c[1]=Math.round(c[1]/y)*y;s={animate:false,coordinateToPixelTransform:this.coordinateToPixelTransform_,extent:l,focus:!this.focus_?c:this.focus_,index:this.frameIndex_++,layerStates:u,layerStatesArray:g,logos:ol.obj.assign({},this.logos_),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:i,skippedFeatureUids:this.skippedFeatureUids_,tileQueue:this.tileQueue_,time:e,usedTiles:{},viewState:r,viewHints:p,wantedTiles:{}}}if(s){s.extent=ol.extent.getForViewAndSize(r.center,r.resolution,r.rotation,s.size,l)}this.frameState_=s;this.renderer_.renderFrame(s);if(s){if(s.animate){this.render()}Array.prototype.push.apply(this.postRenderFunctions_,s.postRenderFunctions);if(a){var d=!this.previousExtent_||!ol.extent.isEmpty(this.previousExtent_)&&!ol.extent.equals(s.extent,this.previousExtent_);if(d){this.dispatchEvent(new ol.MapEvent(ol.MapEventType.MOVESTART,this,a));this.previousExtent_=ol.extent.createOrUpdateEmpty(this.previousExtent_)}}var h=this.previousExtent_&&!s.viewHints[ol.ViewHint.ANIMATING]&&!s.viewHints[ol.ViewHint.INTERACTING]&&!ol.extent.equals(s.extent,this.previousExtent_);if(h){this.dispatchEvent(new ol.MapEvent(ol.MapEventType.MOVEEND,this,s));ol.extent.clone(s.extent,this.previousExtent_)}}this.dispatchEvent(new ol.MapEvent(ol.MapEventType.POSTRENDER,this,s));setTimeout(this.handlePostRender.bind(this),0)};ol.PluggableMap.prototype.setLayerGroup=function(e){this.set(ol.MapProperty.LAYERGROUP,e)};ol.PluggableMap.prototype.setSize=function(e){this.set(ol.MapProperty.SIZE,e)};ol.PluggableMap.prototype.setTarget=function(e){this.set(ol.MapProperty.TARGET,e)};ol.PluggableMap.prototype.setView=function(e){this.set(ol.MapProperty.VIEW,e)};ol.PluggableMap.prototype.skipFeature=function(e){var t=ol.getUid(e).toString();this.skippedFeatureUids_[t]=true;this.render()};ol.PluggableMap.prototype.updateSize=function(){var e=this.getTargetElement();if(!e){this.setSize(undefined)}else{var t=getComputedStyle(e);this.setSize([e.offsetWidth-parseFloat(t["borderLeftWidth"])-parseFloat(t["paddingLeft"])-parseFloat(t["paddingRight"])-parseFloat(t["borderRightWidth"]),e.offsetHeight-parseFloat(t["borderTopWidth"])-parseFloat(t["paddingTop"])-parseFloat(t["paddingBottom"])-parseFloat(t["borderBottomWidth"])])}};ol.PluggableMap.prototype.unskipFeature=function(e){var t=ol.getUid(e).toString();delete this.skippedFeatureUids_[t];this.render()};ol.PluggableMap.DEFAULT_RENDERER_TYPES=[ol.renderer.Type.CANVAS,ol.renderer.Type.WEBGL];ol.PluggableMap.LOGO_URL="data:image/png;base64,"+"iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAA3NCSVQICAjb4U/gAAAACXBI"+"WXMAAAHGAAABxgEXwfpGAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAA"+"AhNQTFRF////AP//AICAgP//AFVVQECA////K1VVSbbbYL/fJ05idsTYJFtbbcjbJllmZszW"+"WMTOIFhoHlNiZszTa9DdUcHNHlNlV8XRIVdiasrUHlZjIVZjaMnVH1RlIFRkH1RkH1ZlasvY"+"asvXVsPQH1VkacnVa8vWIVZjIFRjVMPQa8rXIVVkXsXRsNveIFVkIFZlIVVj3eDeh6GmbMvX"+"H1ZkIFRka8rWbMvXIFVkIFVjIFVkbMvWH1VjbMvWIFVlbcvWIFVla8vVIFVkbMvWbMvVH1Vk"+"bMvWIFVlbcvWIFVkbcvVbMvWjNPbIFVkU8LPwMzNIFVkbczWIFVkbsvWbMvXIFVkRnB8bcvW"+"2+TkW8XRIFVkIlZlJVloJlpoKlxrLl9tMmJwOWd0Omh1RXF8TneCT3iDUHiDU8LPVMLPVcLP"+"VcPQVsPPVsPQV8PQWMTQWsTQW8TQXMXSXsXRX4SNX8bSYMfTYcfTYsfTY8jUZcfSZsnUaIqT"+"acrVasrVa8jTa8rWbI2VbMvWbcvWdJObdcvUdszUd8vVeJaee87Yfc3WgJyjhqGnitDYjaar"+"ldPZnrK2oNbborW5o9bbo9fbpLa6q9ndrL3ArtndscDDutzfu8fJwN7gwt7gxc/QyuHhy+Hi"+"zeHi0NfX0+Pj19zb1+Tj2uXk29/e3uLg3+Lh3+bl4uXj4ufl4+fl5Ofl5ufl5ujm5+jmySDn"+"BAAAAFp0Uk5TAAECAgMEBAYHCA0NDg4UGRogIiMmKSssLzU7PkJJT1JTVFliY2hrdHZ3foSF"+"hYeJjY2QkpugqbG1tre5w8zQ09XY3uXn6+zx8vT09vf4+Pj5+fr6/P39/f3+gz7SsAAAAVVJ"+"REFUOMtjYKA7EBDnwCPLrObS1BRiLoJLnte6CQy8FLHLCzs2QUG4FjZ5GbcmBDDjxJBXDWxC"+"Brb8aM4zbkIDzpLYnAcE9VXlJSWlZRU13koIeW57mGx5XjoMZEUqwxWYQaQbSzLSkYGfKFSe"+"0QMsX5WbjgY0YS4MBplemI4BdGBW+DQ11eZiymfqQuXZIjqwyadPNoSZ4L+0FVM6e+oGI6g8"+"a9iKNT3o8kVzNkzRg5lgl7p4wyRUL9Yt2jAxVh6mQCogae6GmflI8p0r13VFWTHBQ0rWPW7a"+"hgWVcPm+9cuLoyy4kCJDzCm6d8PSFoh0zvQNC5OjDJhQopPPJqph1doJBUD5tnkbZiUEqaCn"+"B3bTqLTFG1bPn71kw4b+GFdpLElKIzRxxgYgWNYc5SCENVHKeUaltHdXx0dZ8uBI1hJ2UUDg"+"q82CM2MwKeibqAvSO7MCABq0wXEPiqWEAAAAAElFTkSuQmCC";ol.PluggableMap.createOptionsInternal=function(e){var t=null;if(e.keyboardEventTarget!==undefined){t=typeof e.keyboardEventTarget==="string"?document.getElementById(e.keyboardEventTarget):e.keyboardEventTarget}var o={};var r={};if(e.logo===undefined||typeof e.logo==="boolean"&&e.logo){r[ol.PluggableMap.LOGO_URL]="https://openlayers.org/"}else{var i=e.logo;if(typeof i==="string"){r[i]=""}else if(i instanceof HTMLElement){r[ol.getUid(i).toString()]=i}else if(i){ol.asserts.assert(typeof i.href=="string",44);ol.asserts.assert(typeof i.src=="string",45);r[i.src]=i.href}}var n=e.layers instanceof ol.layer.Group?e.layers:new ol.layer.Group({layers:e.layers});o[ol.MapProperty.LAYERGROUP]=n;o[ol.MapProperty.TARGET]=e.target;o[ol.MapProperty.VIEW]=e.view!==undefined?e.view:new ol.View;var l;if(e.renderer!==undefined){if(Array.isArray(e.renderer)){l=e.renderer}else if(typeof e.renderer==="string"){l=[e.renderer]}else{ol.asserts.assert(false,46)}if(l.indexOf("dom")>=0){l=l.concat(ol.PluggableMap.DEFAULT_RENDERER_TYPES)}}else{l=ol.PluggableMap.DEFAULT_RENDERER_TYPES}var a;var s=ol.plugins.getMapRendererPlugins();e:for(var p=0,g=l.length;p<g;++p){var u=l[p];for(var c=0,y=s.length;c<y;++c){var d=s[c];if(d["handles"](u)){a=d;break e}}}if(!a){throw new Error("Unable to create a map renderer for types: "+l.join(", "))}var h;if(e.controls!==undefined){if(Array.isArray(e.controls)){h=new ol.Collection(e.controls.slice())}else{ol.asserts.assert(e.controls instanceof ol.Collection,47);h=e.controls}}var f;if(e.interactions!==undefined){if(Array.isArray(e.interactions)){f=new ol.Collection(e.interactions.slice())}else{ol.asserts.assert(e.interactions instanceof ol.Collection,48);f=e.interactions}}var m;if(e.overlays!==undefined){if(Array.isArray(e.overlays)){m=new ol.Collection(e.overlays.slice())}else{ol.asserts.assert(e.overlays instanceof ol.Collection,49);m=e.overlays}}else{m=new ol.Collection}return{controls:h,interactions:f,keyboardEventTarget:t,logos:r,overlays:m,mapRendererPlugin:a,values:o}};goog.provide("ol.control.Control");goog.require("ol");goog.require("ol.MapEventType");goog.require("ol.Object");goog.require("ol.dom");goog.require("ol.events");ol.control.Control=function(e){ol.Object.call(this);this.element=e.element?e.element:null;this.target_=null;this.map_=null;this.listenerKeys=[];this.render=e.render?e.render:ol.nullFunction;if(e.target){this.setTarget(e.target)}};ol.inherits(ol.control.Control,ol.Object);ol.control.Control.prototype.disposeInternal=function(){ol.dom.removeNode(this.element);ol.Object.prototype.disposeInternal.call(this)};ol.control.Control.prototype.getMap=function(){return this.map_};ol.control.Control.prototype.setMap=function(e){if(this.map_){ol.dom.removeNode(this.element)}for(var t=0,o=this.listenerKeys.length;t<o;++t){ol.events.unlistenByKey(this.listenerKeys[t])}this.listenerKeys.length=0;this.map_=e;if(this.map_){var r=this.target_?this.target_:e.getOverlayContainerStopEvent();r.appendChild(this.element);if(this.render!==ol.nullFunction){this.listenerKeys.push(ol.events.listen(e,ol.MapEventType.POSTRENDER,this.render,this))}e.render()}};ol.control.Control.prototype.setTarget=function(e){this.target_=typeof e==="string"?document.getElementById(e):e};goog.provide("ol.css");ol.css.CLASS_HIDDEN="ol-hidden";ol.css.CLASS_SELECTABLE="ol-selectable";ol.css.CLASS_UNSELECTABLE="ol-unselectable";ol.css.CLASS_UNSUPPORTED="ol-unsupported";ol.css.CLASS_CONTROL="ol-control";ol.css.getFontFamilies=function(){var e;var t={};return function(o){if(!e){e=document.createElement("div").style}if(!(o in t)){e.font=o;var r=e.fontFamily;e.font="";if(!r){return null}t[o]=r.split(/,\s?/)}return t[o]}}();goog.provide("ol.render.EventType");ol.render.EventType={POSTCOMPOSE:"postcompose",PRECOMPOSE:"precompose",RENDER:"render"};goog.provide("ol.layer.Layer");goog.require("ol.events");goog.require("ol.events.EventType");goog.require("ol");goog.require("ol.Object");goog.require("ol.layer.Base");goog.require("ol.layer.Property");goog.require("ol.obj");goog.require("ol.render.EventType");goog.require("ol.source.State");ol.layer.Layer=function(e){var t=ol.obj.assign({},e);delete t.source;ol.layer.Base.call(this,t);this.mapPrecomposeKey_=null;this.mapRenderKey_=null;this.sourceChangeKey_=null;if(e.map){this.setMap(e.map)}ol.events.listen(this,ol.Object.getChangeEventType(ol.layer.Property.SOURCE),this.handleSourcePropertyChange_,this);var o=e.source?e.source:null;this.setSource(o)};ol.inherits(ol.layer.Layer,ol.layer.Base);ol.layer.Layer.visibleAtResolution=function(e,t){return e.visible&&t>=e.minResolution&&t<e.maxResolution};ol.layer.Layer.prototype.getLayersArray=function(e){var t=e?e:[];t.push(this);return t};ol.layer.Layer.prototype.getLayerStatesArray=function(e){var t=e?e:[];t.push(this.getLayerState());return t};ol.layer.Layer.prototype.getSource=function(){var e=this.get(ol.layer.Property.SOURCE);return e||null};ol.layer.Layer.prototype.getSourceState=function(){var e=this.getSource();return!e?ol.source.State.UNDEFINED:e.getState()};ol.layer.Layer.prototype.handleSourceChange_=function(){this.changed()};ol.layer.Layer.prototype.handleSourcePropertyChange_=function(){if(this.sourceChangeKey_){ol.events.unlistenByKey(this.sourceChangeKey_);this.sourceChangeKey_=null}var e=this.getSource();if(e){this.sourceChangeKey_=ol.events.listen(e,ol.events.EventType.CHANGE,this.handleSourceChange_,this)}this.changed()};ol.layer.Layer.prototype.setMap=function(e){if(this.mapPrecomposeKey_){ol.events.unlistenByKey(this.mapPrecomposeKey_);this.mapPrecomposeKey_=null}if(!e){this.changed()}if(this.mapRenderKey_){ol.events.unlistenByKey(this.mapRenderKey_);this.mapRenderKey_=null}if(e){this.mapPrecomposeKey_=ol.events.listen(e,ol.render.EventType.PRECOMPOSE,function(e){var t=this.getLayerState();t.managed=false;t.zIndex=Infinity;e.frameState.layerStatesArray.push(t);e.frameState.layerStates[ol.getUid(this)]=t},this);this.mapRenderKey_=ol.events.listen(this,ol.events.EventType.CHANGE,e.render,e);this.changed()}};ol.layer.Layer.prototype.setSource=function(e){this.set(ol.layer.Property.SOURCE,e)};goog.provide("ol.control.Attribution");goog.require("ol");goog.require("ol.array");goog.require("ol.control.Control");goog.require("ol.css");goog.require("ol.dom");goog.require("ol.events");goog.require("ol.events.EventType");goog.require("ol.layer.Layer");goog.require("ol.obj");ol.control.Attribution=function(e){var t=e?e:{};this.ulElement_=document.createElement("UL");this.logoLi_=document.createElement("LI");this.ulElement_.appendChild(this.logoLi_);this.logoLi_.style.display="none";this.collapsed_=t.collapsed!==undefined?t.collapsed:true;this.collapsible_=t.collapsible!==undefined?t.collapsible:true;if(!this.collapsible_){this.collapsed_=false}var o=t.className!==undefined?t.className:"ol-attribution";var r=t.tipLabel!==undefined?t.tipLabel:"Attributions";var i=t.collapseLabel!==undefined?t.collapseLabel:"»";if(typeof i==="string"){this.collapseLabel_=document.createElement("span");this.collapseLabel_.textContent=i}else{this.collapseLabel_=i}var n=t.label!==undefined?t.label:"i";if(typeof n==="string"){this.label_=document.createElement("span");this.label_.textContent=n}else{this.label_=n}var l=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;var a=document.createElement("button");a.setAttribute("type","button");a.title=r;a.appendChild(l);ol.events.listen(a,ol.events.EventType.CLICK,this.handleClick_,this);var s=o+" "+ol.css.CLASS_UNSELECTABLE+" "+ol.css.CLASS_CONTROL+(this.collapsed_&&this.collapsible_?" ol-collapsed":"")+(this.collapsible_?"":" ol-uncollapsible");var p=document.createElement("div");p.className=s;p.appendChild(this.ulElement_);p.appendChild(a);var g=t.render?t.render:ol.control.Attribution.render;ol.control.Control.call(this,{element:p,render:g,target:t.target});this.renderedAttributions_=[];this.renderedVisible_=true;this.logoElements_={}};ol.inherits(ol.control.Attribution,ol.control.Control);ol.control.Attribution.prototype.getSourceAttributions_=function(e){var t={};var o=[];var r=e.layerStatesArray;var i=e.viewState.resolution;for(var n=0,l=r.length;n<l;++n){var a=r[n];if(!ol.layer.Layer.visibleAtResolution(a,i)){continue}var s=a.layer.getSource();if(!s){continue}var p=s.getAttributions2();if(!p){continue}var g=p(e);if(!g){continue}if(Array.isArray(g)){for(var u=0,c=g.length;u<c;++u){if(!(g[u]in t)){o.push(g[u]);t[g[u]]=true}}}else{if(!(g in t)){o.push(g);t[g]=true}}}return o};ol.control.Attribution.render=function(e){this.updateElement_(e.frameState)};ol.control.Attribution.prototype.updateElement_=function(e){if(!e){if(this.renderedVisible_){this.element.style.display="none";this.renderedVisible_=false}return}var t=this.getSourceAttributions_(e);if(ol.array.equals(t,this.renderedAttributions_)){return}while(this.ulElement_.lastChild!==this.logoLi_){this.ulElement_.removeChild(this.ulElement_.lastChild)}for(var o=0,r=t.length;o<r;++o){var i=document.createElement("LI");i.innerHTML=t[o];this.ulElement_.appendChild(i)}if(t.length===0&&this.renderedAttributions_.length>0){this.element.classList.add("ol-logo-only")}else if(this.renderedAttributions_.length===0&&t.length>0){this.element.classList.remove("ol-logo-only")}var n=t.length>0||!ol.obj.isEmpty(e.logos);if(this.renderedVisible_!=n){this.element.style.display=n?"":"none";this.renderedVisible_=n}this.renderedAttributions_=t;this.insertLogos_(e)};ol.control.Attribution.prototype.insertLogos_=function(e){var t;var o=e.logos;var r=this.logoElements_;for(t in r){if(!(t in o)){ol.dom.removeNode(r[t]);delete r[t]}}var i,n,l;for(l in o){var a=o[l];if(a instanceof HTMLElement){this.logoLi_.appendChild(a);r[l]=a}if(!(l in r)){i=new Image;i.src=l;if(a===""){n=i}else{n=document.createElement("a");n.href=a;n.appendChild(i)}this.logoLi_.appendChild(n);r[l]=n}}this.logoLi_.style.display=!ol.obj.isEmpty(o)?"":"none"};ol.control.Attribution.prototype.handleClick_=function(e){e.preventDefault();this.handleToggle_()};ol.control.Attribution.prototype.handleToggle_=function(){this.element.classList.toggle("ol-collapsed");if(this.collapsed_){ol.dom.replaceNode(this.collapseLabel_,this.label_)}else{ol.dom.replaceNode(this.label_,this.collapseLabel_)}this.collapsed_=!this.collapsed_};ol.control.Attribution.prototype.getCollapsible=function(){return this.collapsible_};ol.control.Attribution.prototype.setCollapsible=function(e){if(this.collapsible_===e){return}this.collapsible_=e;this.element.classList.toggle("ol-uncollapsible");if(!e&&this.collapsed_){this.handleToggle_()}};ol.control.Attribution.prototype.setCollapsed=function(e){if(!this.collapsible_||this.collapsed_===e){return}this.handleToggle_()};ol.control.Attribution.prototype.getCollapsed=function(){return this.collapsed_};goog.provide("ol.control.Rotate");goog.require("ol.events");goog.require("ol.events.EventType");goog.require("ol");goog.require("ol.control.Control");goog.require("ol.css");goog.require("ol.easing");ol.control.Rotate=function(e){var t=e?e:{};var o=t.className!==undefined?t.className:"ol-rotate";var r=t.label!==undefined?t.label:"⇧";this.label_=null;if(typeof r==="string"){this.label_=document.createElement("span");this.label_.className="ol-compass";this.label_.textContent=r}else{this.label_=r;this.label_.classList.add("ol-compass")}var i=t.tipLabel?t.tipLabel:"Reset rotation";var n=document.createElement("button");n.className=o+"-reset";n.setAttribute("type","button");n.title=i;n.appendChild(this.label_);ol.events.listen(n,ol.events.EventType.CLICK,ol.control.Rotate.prototype.handleClick_,this);var l=o+" "+ol.css.CLASS_UNSELECTABLE+" "+ol.css.CLASS_CONTROL;var a=document.createElement("div");a.className=l;a.appendChild(n);var s=t.render?t.render:ol.control.Rotate.render;this.callResetNorth_=t.resetNorth?t.resetNorth:undefined;ol.control.Control.call(this,{element:a,render:s,target:t.target});this.duration_=t.duration!==undefined?t.duration:250;this.autoHide_=t.autoHide!==undefined?t.autoHide:true;this.rotation_=undefined;if(this.autoHide_){this.element.classList.add(ol.css.CLASS_HIDDEN)}};ol.inherits(ol.control.Rotate,ol.control.Control);ol.control.Rotate.prototype.handleClick_=function(e){e.preventDefault();if(this.callResetNorth_!==undefined){this.callResetNorth_()}else{this.resetNorth_()}};ol.control.Rotate.prototype.resetNorth_=function(){var e=this.getMap();var t=e.getView();if(!t){return}if(t.getRotation()!==undefined){if(this.duration_>0){t.animate({rotation:0,duration:this.duration_,easing:ol.easing.easeOut})}else{t.setRotation(0)}}};ol.control.Rotate.render=function(e){var t=e.frameState;if(!t){return}var o=t.viewState.rotation;if(o!=this.rotation_){var r="rotate("+o+"rad)";if(this.autoHide_){var i=this.element.classList.contains(ol.css.CLASS_HIDDEN);if(!i&&o===0){this.element.classList.add(ol.css.CLASS_HIDDEN)}else if(i&&o!==0){this.element.classList.remove(ol.css.CLASS_HIDDEN)}}this.label_.style.msTransform=r;this.label_.style.webkitTransform=r;this.label_.style.transform=r}this.rotation_=o};goog.provide("ol.control.Zoom");goog.require("ol");goog.require("ol.events");goog.require("ol.events.EventType");goog.require("ol.control.Control");goog.require("ol.css");goog.require("ol.easing");ol.control.Zoom=function(e){var t=e?e:{};var o=t.className!==undefined?t.className:"ol-zoom";var r=t.delta!==undefined?t.delta:1;var i=t.zoomInLabel!==undefined?t.zoomInLabel:"+";var n=t.zoomOutLabel!==undefined?t.zoomOutLabel:"−";var l=t.zoomInTipLabel!==undefined?t.zoomInTipLabel:"Zoom in";var a=t.zoomOutTipLabel!==undefined?t.zoomOutTipLabel:"Zoom out";var s=document.createElement("button");s.className=o+"-in";s.setAttribute("type","button");s.title=l;s.appendChild(typeof i==="string"?document.createTextNode(i):i);ol.events.listen(s,ol.events.EventType.CLICK,ol.control.Zoom.prototype.handleClick_.bind(this,r));var p=document.createElement("button");p.className=o+"-out";p.setAttribute("type","button");p.title=a;p.appendChild(typeof n==="string"?document.createTextNode(n):n);ol.events.listen(p,ol.events.EventType.CLICK,ol.control.Zoom.prototype.handleClick_.bind(this,-r));var g=o+" "+ol.css.CLASS_UNSELECTABLE+" "+ol.css.CLASS_CONTROL;var u=document.createElement("div");u.className=g;u.appendChild(s);u.appendChild(p);ol.control.Control.call(this,{element:u,target:t.target});this.duration_=t.duration!==undefined?t.duration:250};ol.inherits(ol.control.Zoom,ol.control.Control);ol.control.Zoom.prototype.handleClick_=function(e,t){t.preventDefault();this.zoomByDelta_(e)};ol.control.Zoom.prototype.zoomByDelta_=function(e){var t=this.getMap();var o=t.getView();if(!o){return}var r=o.getResolution();if(r){var i=o.constrainResolution(r,e);if(this.duration_>0){if(o.getAnimating()){o.cancelAnimations()}o.animate({resolution:i,duration:this.duration_,easing:ol.easing.easeOut})}else{o.setResolution(i)}}};goog.provide("ol.control");goog.require("ol.Collection");goog.require("ol.control.Attribution");goog.require("ol.control.Rotate");goog.require("ol.control.Zoom");ol.control.defaults=function(e){var t=e?e:{};var o=new ol.Collection;var r=t.zoom!==undefined?t.zoom:true;if(r){o.push(new ol.control.Zoom(t.zoomOptions))}var i=t.rotate!==undefined?t.rotate:true;if(i){o.push(new ol.control.Rotate(t.rotateOptions))}var n=t.attribution!==undefined?t.attribution:true;if(n){o.push(new ol.control.Attribution(t.attributionOptions))}return o};goog.provide("ol.Kinetic");ol.Kinetic=function(e,t,o){this.decay_=e;this.minVelocity_=t;this.delay_=o;this.points_=[];this.angle_=0;this.initialVelocity_=0};ol.Kinetic.prototype.begin=function(){this.points_.length=0;this.angle_=0;this.initialVelocity_=0};ol.Kinetic.prototype.update=function(e,t){this.points_.push(e,t,Date.now())};ol.Kinetic.prototype.end=function(){if(this.points_.length<6){return false}var e=Date.now()-this.delay_;var t=this.points_.length-3;if(this.points_[t+2]<e){return false}var o=t-3;while(o>0&&this.points_[o+2]>e){o-=3}var r=this.points_[t+2]-this.points_[o+2];if(r<1e3/60){return false}var i=this.points_[t]-this.points_[o];var n=this.points_[t+1]-this.points_[o+1];this.angle_=Math.atan2(n,i);this.initialVelocity_=Math.sqrt(i*i+n*n)/r;return this.initialVelocity_>this.minVelocity_};ol.Kinetic.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_};ol.Kinetic.prototype.getAngle=function(){return this.angle_};goog.provide("ol.interaction.Property");ol.interaction.Property={ACTIVE:"active"};goog.provide("ol.interaction.Interaction");goog.require("ol");goog.require("ol.Object");goog.require("ol.easing");goog.require("ol.interaction.Property");goog.require("ol.math");ol.interaction.Interaction=function(e){ol.Object.call(this);this.map_=null;this.setActive(true);this.handleEvent=e.handleEvent};ol.inherits(ol.interaction.Interaction,ol.Object);ol.interaction.Interaction.prototype.getActive=function(){return this.get(ol.interaction.Property.ACTIVE)};ol.interaction.Interaction.prototype.getMap=function(){return this.map_};ol.interaction.Interaction.prototype.setActive=function(e){this.set(ol.interaction.Property.ACTIVE,e)};ol.interaction.Interaction.prototype.setMap=function(e){this.map_=e};ol.interaction.Interaction.pan=function(e,t,o){var r=e.getCenter();if(r){var i=e.constrainCenter([r[0]+t[0],r[1]+t[1]]);if(o){e.animate({duration:o,easing:ol.easing.linear,center:i})}else{e.setCenter(i)}}};ol.interaction.Interaction.rotate=function(e,t,o,r){t=e.constrainRotation(t,0);ol.interaction.Interaction.rotateWithoutConstraints(e,t,o,r)};ol.interaction.Interaction.rotateWithoutConstraints=function(e,t,o,r){if(t!==undefined){var i=e.getRotation();var n=e.getCenter();if(i!==undefined&&n&&r>0){e.animate({rotation:t,anchor:o,duration:r,easing:ol.easing.easeOut})}else{e.rotate(t,o)}}};ol.interaction.Interaction.zoom=function(e,t,o,r,i){t=e.constrainResolution(t,0,i);ol.interaction.Interaction.zoomWithoutConstraints(e,t,o,r)};ol.interaction.Interaction.zoomByDelta=function(e,t,o,r){var i=e.getResolution();var n=e.constrainResolution(i,t,0);if(n!==undefined){var l=e.getResolutions();n=ol.math.clamp(n,e.getMinResolution()||l[l.length-1],e.getMaxResolution()||l[0])}if(o&&n!==undefined&&n!==i){var a=e.getCenter();var s=e.calculateCenterZoom(n,o);s=e.constrainCenter(s);o=[(n*a[0]-i*s[0])/(n-i),(n*a[1]-i*s[1])/(n-i)]}ol.interaction.Interaction.zoomWithoutConstraints(e,n,o,r)};ol.interaction.Interaction.zoomWithoutConstraints=function(e,t,o,r){if(t){var i=e.getResolution();var n=e.getCenter();if(i!==undefined&&n&&t!==i&&r){e.animate({resolution:t,anchor:o,duration:r,easing:ol.easing.easeOut})}else{if(o){var l=e.calculateCenterZoom(t,o);e.setCenter(l)}e.setResolution(t)}}};goog.provide("ol.interaction.DoubleClickZoom");goog.require("ol");goog.require("ol.MapBrowserEventType");goog.require("ol.interaction.Interaction");ol.interaction.DoubleClickZoom=function(e){var t=e?e:{};this.delta_=t.delta?t.delta:1;ol.interaction.Interaction.call(this,{handleEvent:ol.interaction.DoubleClickZoom.handleEvent});this.duration_=t.duration!==undefined?t.duration:250};ol.inherits(ol.interaction.DoubleClickZoom,ol.interaction.Interaction);ol.interaction.DoubleClickZoom.handleEvent=function(e){var t=false;var o=e.originalEvent;if(e.type==ol.MapBrowserEventType.DBLCLICK){var r=e.map;var i=e.coordinate;var n=o.shiftKey?-this.delta_:this.delta_;var l=r.getView();ol.interaction.Interaction.zoomByDelta(l,n,i,this.duration_);e.preventDefault();t=true}return!t};goog.provide("ol.events.condition");goog.require("ol.MapBrowserEventType");goog.require("ol.asserts");goog.require("ol.functions");goog.require("ol.has");ol.events.condition.altKeyOnly=function(e){var t=e.originalEvent;return t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey};ol.events.condition.altShiftKeysOnly=function(e){var t=e.originalEvent;return t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey};ol.events.condition.always=ol.functions.TRUE;ol.events.condition.click=function(e){return e.type==ol.MapBrowserEventType.CLICK};ol.events.condition.mouseActionButton=function(e){var t=e.originalEvent;return t.button==0&&!(ol.has.WEBKIT&&ol.has.MAC&&t.ctrlKey)};ol.events.condition.never=ol.functions.FALSE;ol.events.condition.pointerMove=function(e){return e.type=="pointermove"};ol.events.condition.singleClick=function(e){return e.type==ol.MapBrowserEventType.SINGLECLICK};ol.events.condition.doubleClick=function(e){return e.type==ol.MapBrowserEventType.DBLCLICK};ol.events.condition.noModifierKeys=function(e){var t=e.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey};ol.events.condition.platformModifierKeyOnly=function(e){var t=e.originalEvent;return!t.altKey&&(ol.has.MAC?t.metaKey:t.ctrlKey)&&!t.shiftKey};ol.events.condition.shiftKeyOnly=function(e){var t=e.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey};ol.events.condition.targetNotEditable=function(e){var t=e.originalEvent.target;var o=t.tagName;return o!=="INPUT"&&o!=="SELECT"&&o!=="TEXTAREA"};ol.events.condition.mouseOnly=function(e){ol.asserts.assert(e.pointerEvent,56);return e.pointerEvent.pointerType=="mouse"};ol.events.condition.primaryAction=function(e){var t=e.pointerEvent;return t.isPrimary&&t.button===0};goog.provide("ol.interaction.Pointer");goog.require("ol");goog.require("ol.functions");goog.require("ol.MapBrowserEventType");goog.require("ol.MapBrowserPointerEvent");goog.require("ol.interaction.Interaction");goog.require("ol.obj");ol.interaction.Pointer=function(e){var t=e?e:{};var o=t.handleEvent?t.handleEvent:ol.interaction.Pointer.handleEvent;ol.interaction.Interaction.call(this,{handleEvent:o});this.handleDownEvent_=t.handleDownEvent?t.handleDownEvent:ol.interaction.Pointer.handleDownEvent;this.handleDragEvent_=t.handleDragEvent?t.handleDragEvent:ol.interaction.Pointer.handleDragEvent;this.handleMoveEvent_=t.handleMoveEvent?t.handleMoveEvent:ol.interaction.Pointer.handleMoveEvent;this.handleUpEvent_=t.handleUpEvent?t.handleUpEvent:ol.interaction.Pointer.handleUpEvent;this.handlingDownUpSequence=false;this.trackedPointers_={};this.targetPointers=[]};ol.inherits(ol.interaction.Pointer,ol.interaction.Interaction);ol.interaction.Pointer.centroid=function(e){var t=e.length;var o=0;var r=0;for(var i=0;i<t;i++){o+=e[i].clientX;r+=e[i].clientY}return[o/t,r/t]};ol.interaction.Pointer.prototype.isPointerDraggingEvent_=function(e){var t=e.type;return t===ol.MapBrowserEventType.POINTERDOWN||t===ol.MapBrowserEventType.POINTERDRAG||t===ol.MapBrowserEventType.POINTERUP};ol.interaction.Pointer.prototype.updateTrackedPointers_=function(e){if(this.isPointerDraggingEvent_(e)){var t=e.pointerEvent;var o=t.pointerId.toString();if(e.type==ol.MapBrowserEventType.POINTERUP){delete this.trackedPointers_[o]}else if(e.type==ol.MapBrowserEventType.POINTERDOWN){this.trackedPointers_[o]=t}else if(o in this.trackedPointers_){this.trackedPointers_[o]=t}this.targetPointers=ol.obj.getValues(this.trackedPointers_)}};ol.interaction.Pointer.handleDragEvent=ol.nullFunction;ol.interaction.Pointer.handleUpEvent=ol.functions.FALSE;ol.interaction.Pointer.handleDownEvent=ol.functions.FALSE;ol.interaction.Pointer.handleMoveEvent=ol.nullFunction;ol.interaction.Pointer.handleEvent=function(e){if(!(e instanceof ol.MapBrowserPointerEvent)){return true}var t=false;this.updateTrackedPointers_(e);if(this.handlingDownUpSequence){if(e.type==ol.MapBrowserEventType.POINTERDRAG){this.handleDragEvent_(e)}else if(e.type==ol.MapBrowserEventType.POINTERUP){var o=this.handleUpEvent_(e);this.handlingDownUpSequence=o&&this.targetPointers.length>0}}else{if(e.type==ol.MapBrowserEventType.POINTERDOWN){var r=this.handleDownEvent_(e);this.handlingDownUpSequence=r;t=this.shouldStopEvent(r)}else if(e.type==ol.MapBrowserEventType.POINTERMOVE){this.handleMoveEvent_(e)}}return!t};ol.interaction.Pointer.prototype.shouldStopEvent=function(e){return e};goog.provide("ol.interaction.DragPan");goog.require("ol");goog.require("ol.ViewHint");goog.require("ol.coordinate");goog.require("ol.easing");goog.require("ol.events.condition");goog.require("ol.functions");goog.require("ol.interaction.Pointer");ol.interaction.DragPan=function(e){ol.interaction.Pointer.call(this,{handleDownEvent:ol.interaction.DragPan.handleDownEvent_,handleDragEvent:ol.interaction.DragPan.handleDragEvent_,handleUpEvent:ol.interaction.DragPan.handleUpEvent_});var t=e?e:{};this.kinetic_=t.kinetic;this.lastCentroid=null;this.lastPointersCount_;this.condition_=t.condition?t.condition:ol.events.condition.noModifierKeys;this.noKinetic_=false};ol.inherits(ol.interaction.DragPan,ol.interaction.Pointer);ol.interaction.DragPan.handleDragEvent_=function(e){var t=this.targetPointers;var o=ol.interaction.Pointer.centroid(t);if(t.length==this.lastPointersCount_){if(this.kinetic_){this.kinetic_.update(o[0],o[1])}if(this.lastCentroid){var r=this.lastCentroid[0]-o[0];var i=o[1]-this.lastCentroid[1];var n=e.map;var l=n.getView();var a=l.getState();var s=[r,i];ol.coordinate.scale(s,a.resolution);ol.coordinate.rotate(s,a.rotation);ol.coordinate.add(s,a.center);s=l.constrainCenter(s);l.setCenter(s)}}else if(this.kinetic_){this.kinetic_.begin()}this.lastCentroid=o;this.lastPointersCount_=t.length};ol.interaction.DragPan.handleUpEvent_=function(e){var t=e.map;var o=t.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var r=this.kinetic_.getDistance();var i=this.kinetic_.getAngle();var n=o.getCenter();var l=t.getPixelFromCoordinate(n);var a=t.getCoordinateFromPixel([l[0]-r*Math.cos(i),l[1]-r*Math.sin(i)]);o.animate({center:o.constrainCenter(a),duration:500,easing:ol.easing.easeOut})}o.setHint(ol.ViewHint.INTERACTING,-1);return false}else{if(this.kinetic_){this.kinetic_.begin()}this.lastCentroid=null;return true}};ol.interaction.DragPan.handleDownEvent_=function(e){if(this.targetPointers.length>0&&this.condition_(e)){var t=e.map;var o=t.getView();this.lastCentroid=null;if(!this.handlingDownUpSequence){o.setHint(ol.ViewHint.INTERACTING,1)}if(o.getAnimating()){o.setCenter(e.frameState.viewState.center)}if(this.kinetic_){this.kinetic_.begin()}this.noKinetic_=this.targetPointers.length>1;return true}else{return false}};ol.interaction.DragPan.prototype.shouldStopEvent=ol.functions.FALSE;goog.provide("ol.interaction.DragRotate");goog.require("ol");goog.require("ol.RotationConstraint");goog.require("ol.ViewHint");goog.require("ol.events.condition");goog.require("ol.functions");goog.require("ol.interaction.Interaction");goog.require("ol.interaction.Pointer");ol.interaction.DragRotate=function(e){var t=e?e:{};ol.interaction.Pointer.call(this,{handleDownEvent:ol.interaction.DragRotate.handleDownEvent_,handleDragEvent:ol.interaction.DragRotate.handleDragEvent_,handleUpEvent:ol.interaction.DragRotate.handleUpEvent_});this.condition_=t.condition?t.condition:ol.events.condition.altShiftKeysOnly;this.lastAngle_=undefined;this.duration_=t.duration!==undefined?t.duration:250};ol.inherits(ol.interaction.DragRotate,ol.interaction.Pointer);ol.interaction.DragRotate.handleDragEvent_=function(e){if(!ol.events.condition.mouseOnly(e)){return}var t=e.map;var o=t.getView();if(o.getConstraints().rotation===ol.RotationConstraint.disable){return}var r=t.getSize();var i=e.pixel;var n=Math.atan2(r[1]/2-i[1],i[0]-r[0]/2);if(this.lastAngle_!==undefined){var l=n-this.lastAngle_;var a=o.getRotation();ol.interaction.Interaction.rotateWithoutConstraints(o,a-l)}this.lastAngle_=n};ol.interaction.DragRotate.handleUpEvent_=function(e){if(!ol.events.condition.mouseOnly(e)){return true}var t=e.map;var o=t.getView();o.setHint(ol.ViewHint.INTERACTING,-1);var r=o.getRotation();ol.interaction.Interaction.rotate(o,r,undefined,this.duration_);return false};ol.interaction.DragRotate.handleDownEvent_=function(e){if(!ol.events.condition.mouseOnly(e)){return false}if(ol.events.condition.mouseActionButton(e)&&this.condition_(e)){var t=e.map;t.getView().setHint(ol.ViewHint.INTERACTING,1);this.lastAngle_=undefined;return true}else{return false}};ol.interaction.DragRotate.prototype.shouldStopEvent=ol.functions.FALSE;goog.provide("ol.render.Box");goog.require("ol");goog.require("ol.Disposable");goog.require("ol.geom.Polygon");ol.render.Box=function(e){this.geometry_=null;this.element_=document.createElement("div");this.element_.style.position="absolute";this.element_.className="ol-box "+e;this.map_=null;this.startPixel_=null;this.endPixel_=null};ol.inherits(ol.render.Box,ol.Disposable);ol.render.Box.prototype.disposeInternal=function(){this.setMap(null)};ol.render.Box.prototype.render_=function(){var e=this.startPixel_;var t=this.endPixel_;var o="px";var r=this.element_.style;r.left=Math.min(e[0],t[0])+o;r.top=Math.min(e[1],t[1])+o;r.width=Math.abs(t[0]-e[0])+o;r.height=Math.abs(t[1]-e[1])+o};ol.render.Box.prototype.setMap=function(e){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var t=this.element_.style;t.left=t.top=t.width=t.height="inherit"}this.map_=e;if(this.map_){this.map_.getOverlayContainer().appendChild(this.element_)}};ol.render.Box.prototype.setPixels=function(e,t){this.startPixel_=e;this.endPixel_=t;this.createOrUpdateGeometry();this.render_()};ol.render.Box.prototype.createOrUpdateGeometry=function(){var e=this.startPixel_;var t=this.endPixel_;var o=[e,[e[0],t[1]],t,[t[0],e[1]]];var r=o.map(this.map_.getCoordinateFromPixel,this.map_);r[4]=r[0].slice();if(!this.geometry_){this.geometry_=new ol.geom.Polygon([r])}else{this.geometry_.setCoordinates([r])}};ol.render.Box.prototype.getGeometry=function(){return this.geometry_};goog.provide("ol.interaction.DragBox");goog.require("ol.events.Event");goog.require("ol");goog.require("ol.events.condition");goog.require("ol.interaction.Pointer");goog.require("ol.render.Box");ol.interaction.DragBox=function(e){ol.interaction.Pointer.call(this,{handleDownEvent:ol.interaction.DragBox.handleDownEvent_,handleDragEvent:ol.interaction.DragBox.handleDragEvent_,handleUpEvent:ol.interaction.DragBox.handleUpEvent_});var t=e?e:{};this.box_=new ol.render.Box(t.className||"ol-dragbox");this.minArea_=t.minArea!==undefined?t.minArea:64;this.startPixel_=null;this.condition_=t.condition?t.condition:ol.events.condition.always;this.boxEndCondition_=t.boxEndCondition?t.boxEndCondition:ol.interaction.DragBox.defaultBoxEndCondition};ol.inherits(ol.interaction.DragBox,ol.interaction.Pointer);ol.interaction.DragBox.defaultBoxEndCondition=function(e,t,o){var r=o[0]-t[0];var i=o[1]-t[1];return r*r+i*i>=this.minArea_};ol.interaction.DragBox.handleDragEvent_=function(e){if(!ol.events.condition.mouseOnly(e)){return}this.box_.setPixels(this.startPixel_,e.pixel);this.dispatchEvent(new ol.interaction.DragBox.Event(ol.interaction.DragBox.EventType_.BOXDRAG,e.coordinate,e))};ol.interaction.DragBox.prototype.getGeometry=function(){return this.box_.getGeometry()};ol.interaction.DragBox.prototype.onBoxEnd=ol.nullFunction;ol.interaction.DragBox.handleUpEvent_=function(e){if(!ol.events.condition.mouseOnly(e)){return true}this.box_.setMap(null);if(this.boxEndCondition_(e,this.startPixel_,e.pixel)){this.onBoxEnd(e);this.dispatchEvent(new ol.interaction.DragBox.Event(ol.interaction.DragBox.EventType_.BOXEND,e.coordinate,e))}return false};ol.interaction.DragBox.handleDownEvent_=function(e){if(!ol.events.condition.mouseOnly(e)){return false}if(ol.events.condition.mouseActionButton(e)&&this.condition_(e)){this.startPixel_=e.pixel;this.box_.setMap(e.map);this.box_.setPixels(this.startPixel_,this.startPixel_);this.dispatchEvent(new ol.interaction.DragBox.Event(ol.interaction.DragBox.EventType_.BOXSTART,e.coordinate,e));return true}else{return false}};ol.interaction.DragBox.EventType_={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend"};ol.interaction.DragBox.Event=function(e,t,o){ol.events.Event.call(this,e);this.coordinate=t;this.mapBrowserEvent=o};ol.inherits(ol.interaction.DragBox.Event,ol.events.Event);goog.provide("ol.interaction.DragZoom");goog.require("ol");goog.require("ol.easing");goog.require("ol.events.condition");goog.require("ol.extent");goog.require("ol.interaction.DragBox");ol.interaction.DragZoom=function(e){var t=e?e:{};var o=t.condition?t.condition:ol.events.condition.shiftKeyOnly;this.duration_=t.duration!==undefined?t.duration:200;this.out_=t.out!==undefined?t.out:false;ol.interaction.DragBox.call(this,{condition:o,className:t.className||"ol-dragzoom"})};ol.inherits(ol.interaction.DragZoom,ol.interaction.DragBox);ol.interaction.DragZoom.prototype.onBoxEnd=function(){var e=this.getMap();var t=e.getView();var o=e.getSize();var r=this.getGeometry().getExtent();if(this.out_){var i=t.calculateExtent(o);var n=ol.extent.createOrUpdateFromCoordinates([e.getPixelFromCoordinate(ol.extent.getBottomLeft(r)),e.getPixelFromCoordinate(ol.extent.getTopRight(r))]);var l=t.getResolutionForExtent(n,o);ol.extent.scaleFromCenter(i,1/l);r=i}var a=t.constrainResolution(t.getResolutionForExtent(r,o));var s=ol.extent.getCenter(r);s=t.constrainCenter(s);t.animate({resolution:a,center:s,duration:this.duration_,easing:ol.easing.easeOut})};goog.provide("ol.events.KeyCode");ol.events.KeyCode={LEFT:37,UP:38,RIGHT:39,DOWN:40};goog.provide("ol.interaction.KeyboardPan");goog.require("ol");goog.require("ol.coordinate");goog.require("ol.events.EventType");goog.require("ol.events.KeyCode");goog.require("ol.events.condition");goog.require("ol.interaction.Interaction");ol.interaction.KeyboardPan=function(e){ol.interaction.Interaction.call(this,{handleEvent:ol.interaction.KeyboardPan.handleEvent});var t=e||{};this.defaultCondition_=function(e){return ol.events.condition.noModifierKeys(e)&&ol.events.condition.targetNotEditable(e)};this.condition_=t.condition!==undefined?t.condition:this.defaultCondition_;this.duration_=t.duration!==undefined?t.duration:100;this.pixelDelta_=t.pixelDelta!==undefined?t.pixelDelta:128};ol.inherits(ol.interaction.KeyboardPan,ol.interaction.Interaction);ol.interaction.KeyboardPan.handleEvent=function(e){var t=false;if(e.type==ol.events.EventType.KEYDOWN){var o=e.originalEvent;var r=o.keyCode;if(this.condition_(e)&&(r==ol.events.KeyCode.DOWN||r==ol.events.KeyCode.LEFT||r==ol.events.KeyCode.RIGHT||r==ol.events.KeyCode.UP)){var i=e.map;var n=i.getView();var l=n.getResolution()*this.pixelDelta_;var a=0,s=0;if(r==ol.events.KeyCode.DOWN){s=-l}else if(r==ol.events.KeyCode.LEFT){a=-l}else if(r==ol.events.KeyCode.RIGHT){a=l}else{s=l}var p=[a,s];ol.coordinate.rotate(p,n.getRotation());ol.interaction.Interaction.pan(n,p,this.duration_);e.preventDefault();t=true}}return!t};goog.provide("ol.interaction.KeyboardZoom");goog.require("ol");goog.require("ol.events.EventType");goog.require("ol.events.condition");goog.require("ol.interaction.Interaction");ol.interaction.KeyboardZoom=function(e){ol.interaction.Interaction.call(this,{handleEvent:ol.interaction.KeyboardZoom.handleEvent});var t=e?e:{};this.condition_=t.condition?t.condition:ol.events.condition.targetNotEditable;this.delta_=t.delta?t.delta:1;this.duration_=t.duration!==undefined?t.duration:100};ol.inherits(ol.interaction.KeyboardZoom,ol.interaction.Interaction);ol.interaction.KeyboardZoom.handleEvent=function(e){var t=false;if(e.type==ol.events.EventType.KEYDOWN||e.type==ol.events.EventType.KEYPRESS){var o=e.originalEvent;var r=o.charCode;if(this.condition_(e)&&(r=="+".charCodeAt(0)||r=="-".charCodeAt(0))){var i=e.map;var n=r=="+".charCodeAt(0)?this.delta_:-this.delta_;var l=i.getView();ol.interaction.Interaction.zoomByDelta(l,n,undefined,this.duration_);e.preventDefault();t=true}}return!t};goog.provide("ol.interaction.MouseWheelZoom");goog.require("ol");goog.require("ol.ViewHint");goog.require("ol.easing");goog.require("ol.events.EventType");goog.require("ol.has");goog.require("ol.interaction.Interaction");goog.require("ol.math");ol.interaction.MouseWheelZoom=function(e){ol.interaction.Interaction.call(this,{handleEvent:ol.interaction.MouseWheelZoom.handleEvent});var t=e||{};this.delta_=0;this.duration_=t.duration!==undefined?t.duration:250;this.timeout_=t.timeout!==undefined?t.timeout:80;this.useAnchor_=t.useAnchor!==undefined?t.useAnchor:true;this.constrainResolution_=t.constrainResolution||false;this.lastAnchor_=null;this.startTime_=undefined;this.timeoutId_=undefined;this.mode_=undefined;this.trackpadEventGap_=400;this.trackpadTimeoutId_=undefined;this.trackpadDeltaPerZoom_=300;this.trackpadZoomBuffer_=1.5};ol.inherits(ol.interaction.MouseWheelZoom,ol.interaction.Interaction);ol.interaction.MouseWheelZoom.handleEvent=function(e){var t=e.type;if(t!==ol.events.EventType.WHEEL&&t!==ol.events.EventType.MOUSEWHEEL){return true}e.preventDefault();var o=e.map;var r=e.originalEvent;if(this.useAnchor_){this.lastAnchor_=e.coordinate}var i;if(e.type==ol.events.EventType.WHEEL){i=r.deltaY;if(ol.has.FIREFOX&&r.deltaMode===WheelEvent.DOM_DELTA_PIXEL){i/=ol.has.DEVICE_PIXEL_RATIO}if(r.deltaMode===WheelEvent.DOM_DELTA_LINE){i*=40}}else if(e.type==ol.events.EventType.MOUSEWHEEL){i=-r.wheelDeltaY;if(ol.has.SAFARI){i/=3}}if(i===0){return false}var n=Date.now();if(this.startTime_===undefined){this.startTime_=n}if(!this.mode_||n-this.startTime_>this.trackpadEventGap_){this.mode_=Math.abs(i)<4?ol.interaction.MouseWheelZoom.Mode_.TRACKPAD:ol.interaction.MouseWheelZoom.Mode_.WHEEL}if(this.mode_===ol.interaction.MouseWheelZoom.Mode_.TRACKPAD){var l=o.getView();if(this.trackpadTimeoutId_){clearTimeout(this.trackpadTimeoutId_)}else{l.setHint(ol.ViewHint.INTERACTING,1)}this.trackpadTimeoutId_=setTimeout(this.decrementInteractingHint_.bind(this),this.trackpadEventGap_);var a=l.getResolution()*Math.pow(2,i/this.trackpadDeltaPerZoom_);var s=l.getMinResolution();var p=l.getMaxResolution();var g=0;if(a<s){a=Math.max(a,s/this.trackpadZoomBuffer_);g=1}else if(a>p){a=Math.min(a,p*this.trackpadZoomBuffer_);g=-1}if(this.lastAnchor_){var u=l.calculateCenterZoom(a,this.lastAnchor_);l.setCenter(l.constrainCenter(u))}l.setResolution(a);if(g===0&&this.constrainResolution_){l.animate({resolution:l.constrainResolution(a,i>0?-1:1),easing:ol.easing.easeOut,anchor:this.lastAnchor_,duration:this.duration_})}if(g>0){l.animate({resolution:s,easing:ol.easing.easeOut,anchor:this.lastAnchor_,duration:500})}else if(g<0){l.animate({resolution:p,easing:ol.easing.easeOut,anchor:this.lastAnchor_,duration:500})}this.startTime_=n;return false}this.delta_+=i;var c=Math.max(this.timeout_-(n-this.startTime_),0);clearTimeout(this.timeoutId_);this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,o),c);return false};ol.interaction.MouseWheelZoom.prototype.decrementInteractingHint_=function(){this.trackpadTimeoutId_=undefined;var e=this.getMap().getView();e.setHint(ol.ViewHint.INTERACTING,-1)};ol.interaction.MouseWheelZoom.prototype.handleWheelZoom_=function(e){var t=e.getView();if(t.getAnimating()){t.cancelAnimations()}var o=ol.MOUSEWHEELZOOM_MAXDELTA;var r=ol.math.clamp(this.delta_,-o,o);ol.interaction.Interaction.zoomByDelta(t,-r,this.lastAnchor_,this.duration_);this.mode_=undefined;this.delta_=0;this.lastAnchor_=null;this.startTime_=undefined;this.timeoutId_=undefined};ol.interaction.MouseWheelZoom.prototype.setMouseAnchor=function(e){this.useAnchor_=e;if(!e){this.lastAnchor_=null}};ol.interaction.MouseWheelZoom.Mode_={TRACKPAD:"trackpad",WHEEL:"wheel"};goog.provide("ol.interaction.PinchRotate");goog.require("ol");goog.require("ol.ViewHint");goog.require("ol.functions");goog.require("ol.interaction.Interaction");goog.require("ol.interaction.Pointer");goog.require("ol.RotationConstraint");ol.interaction.PinchRotate=function(e){ol.interaction.Pointer.call(this,{handleDownEvent:ol.interaction.PinchRotate.handleDownEvent_,handleDragEvent:ol.interaction.PinchRotate.handleDragEvent_,handleUpEvent:ol.interaction.PinchRotate.handleUpEvent_});var t=e||{};this.anchor_=null;this.lastAngle_=undefined;this.rotating_=false;this.rotationDelta_=0;this.threshold_=t.threshold!==undefined?t.threshold:.3;this.duration_=t.duration!==undefined?t.duration:250};ol.inherits(ol.interaction.PinchRotate,ol.interaction.Pointer);ol.interaction.PinchRotate.handleDragEvent_=function(e){var t=0;var o=this.targetPointers[0];var r=this.targetPointers[1];var i=Math.atan2(r.clientY-o.clientY,r.clientX-o.clientX);if(this.lastAngle_!==undefined){var n=i-this.lastAngle_;this.rotationDelta_+=n;if(!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_){this.rotating_=true}t=n}this.lastAngle_=i;var l=e.map;var a=l.getView();if(a.getConstraints().rotation===ol.RotationConstraint.disable){return}var s=l.getViewport().getBoundingClientRect();var p=ol.interaction.Pointer.centroid(this.targetPointers);p[0]-=s.left;p[1]-=s.top;this.anchor_=l.getCoordinateFromPixel(p);if(this.rotating_){var g=a.getRotation();l.render();ol.interaction.Interaction.rotateWithoutConstraints(a,g+t,this.anchor_)}};ol.interaction.PinchRotate.handleUpEvent_=function(e){if(this.targetPointers.length<2){var t=e.map;var o=t.getView();o.setHint(ol.ViewHint.INTERACTING,-1);if(this.rotating_){var r=o.getRotation();ol.interaction.Interaction.rotate(o,r,this.anchor_,this.duration_)}return false}else{return true}};ol.interaction.PinchRotate.handleDownEvent_=function(e){if(this.targetPointers.length>=2){var t=e.map;this.anchor_=null;this.lastAngle_=undefined;this.rotating_=false;this.rotationDelta_=0;if(!this.handlingDownUpSequence){t.getView().setHint(ol.ViewHint.INTERACTING,1)}return true}else{return false}};ol.interaction.PinchRotate.prototype.shouldStopEvent=ol.functions.FALSE;goog.provide("ol.interaction.PinchZoom");goog.require("ol");goog.require("ol.ViewHint");goog.require("ol.functions");goog.require("ol.interaction.Interaction");goog.require("ol.interaction.Pointer");ol.interaction.PinchZoom=function(e){ol.interaction.Pointer.call(this,{handleDownEvent:ol.interaction.PinchZoom.handleDownEvent_,handleDragEvent:ol.interaction.PinchZoom.handleDragEvent_,handleUpEvent:ol.interaction.PinchZoom.handleUpEvent_});var t=e?e:{};this.constrainResolution_=t.constrainResolution||false;this.anchor_=null;this.duration_=t.duration!==undefined?t.duration:400;this.lastDistance_=undefined;this.lastScaleDelta_=1};ol.inherits(ol.interaction.PinchZoom,ol.interaction.Pointer);ol.interaction.PinchZoom.handleDragEvent_=function(e){var t=1;var o=this.targetPointers[0];var r=this.targetPointers[1];var i=o.clientX-r.clientX;var n=o.clientY-r.clientY;var l=Math.sqrt(i*i+n*n);if(this.lastDistance_!==undefined){t=this.lastDistance_/l}this.lastDistance_=l;var a=e.map;var s=a.getView();var p=s.getResolution();var g=s.getMaxResolution();var u=s.getMinResolution();var c=p*t;if(c>g){t=g/p;c=g}else if(c<u){t=u/p;c=u}if(t!=1){this.lastScaleDelta_=t}var y=a.getViewport().getBoundingClientRect();var d=ol.interaction.Pointer.centroid(this.targetPointers);d[0]-=y.left;d[1]-=y.top;this.anchor_=a.getCoordinateFromPixel(d);a.render();ol.interaction.Interaction.zoomWithoutConstraints(s,c,this.anchor_)};ol.interaction.PinchZoom.handleUpEvent_=function(e){if(this.targetPointers.length<2){var t=e.map;var o=t.getView();o.setHint(ol.ViewHint.INTERACTING,-1);var r=o.getResolution();if(this.constrainResolution_||r<o.getMinResolution()||r>o.getMaxResolution()){var i=this.lastScaleDelta_-1;ol.interaction.Interaction.zoom(o,r,this.anchor_,this.duration_,i)}return false}else{return true}};ol.interaction.PinchZoom.handleDownEvent_=function(e){if(this.targetPointers.length>=2){var t=e.map;this.anchor_=null;this.lastDistance_=undefined;this.lastScaleDelta_=1;if(!this.handlingDownUpSequence){t.getView().setHint(ol.ViewHint.INTERACTING,1)}return true}else{return false}};ol.interaction.PinchZoom.prototype.shouldStopEvent=ol.functions.FALSE;goog.provide("ol.interaction");goog.require("ol.Collection");goog.require("ol.Kinetic");goog.require("ol.interaction.DoubleClickZoom");goog.require("ol.interaction.DragPan");goog.require("ol.interaction.DragRotate");goog.require("ol.interaction.DragZoom");goog.require("ol.interaction.KeyboardPan");goog.require("ol.interaction.KeyboardZoom");goog.require("ol.interaction.MouseWheelZoom");goog.require("ol.interaction.PinchRotate");goog.require("ol.interaction.PinchZoom");ol.interaction.defaults=function(e){var t=e?e:{};var o=new ol.Collection;var r=new ol.Kinetic(-.005,.05,100);var i=t.altShiftDragRotate!==undefined?t.altShiftDragRotate:true;if(i){o.push(new ol.interaction.DragRotate)}var n=t.doubleClickZoom!==undefined?t.doubleClickZoom:true;if(n){o.push(new ol.interaction.DoubleClickZoom({delta:t.zoomDelta,duration:t.zoomDuration}))}var l=t.dragPan!==undefined?t.dragPan:true;if(l){o.push(new ol.interaction.DragPan({kinetic:r}))}var a=t.pinchRotate!==undefined?t.pinchRotate:true;if(a){o.push(new ol.interaction.PinchRotate)}var s=t.pinchZoom!==undefined?t.pinchZoom:true;if(s){o.push(new ol.interaction.PinchZoom({constrainResolution:t.constrainResolution,duration:t.zoomDuration}))}var p=t.keyboard!==undefined?t.keyboard:true;if(p){o.push(new ol.interaction.KeyboardPan);o.push(new ol.interaction.KeyboardZoom({delta:t.zoomDelta,duration:t.zoomDuration}))}var g=t.mouseWheelZoom!==undefined?t.mouseWheelZoom:true;if(g){o.push(new ol.interaction.MouseWheelZoom({constrainResolution:t.constrainResolution,duration:t.zoomDuration}))}var u=t.shiftDragZoom!==undefined?t.shiftDragZoom:true;if(u){o.push(new ol.interaction.DragZoom({duration:t.zoomDuration}))}return o};goog.provide("ol.ImageBase");goog.require("ol");goog.require("ol.events.EventTarget");goog.require("ol.events.EventType");ol.ImageBase=function(e,t,o,r){ol.events.EventTarget.call(this);this.extent=e;this.pixelRatio_=o;this.resolution=t;this.state=r};ol.inherits(ol.ImageBase,ol.events.EventTarget);ol.ImageBase.prototype.changed=function(){this.dispatchEvent(ol.events.EventType.CHANGE)};ol.ImageBase.prototype.getExtent=function(){return this.extent};ol.ImageBase.prototype.getImage=function(){};ol.ImageBase.prototype.getPixelRatio=function(){return this.pixelRatio_};ol.ImageBase.prototype.getResolution=function(){return this.resolution};ol.ImageBase.prototype.getState=function(){return this.state};ol.ImageBase.prototype.load=function(){};goog.provide("ol.ImageState");ol.ImageState={IDLE:0,LOADING:1,LOADED:2,ERROR:3};goog.provide("ol.ImageCanvas");goog.require("ol");goog.require("ol.ImageBase");goog.require("ol.ImageState");ol.ImageCanvas=function(e,t,o,r,i){this.loader_=i!==undefined?i:null;var n=i!==undefined?ol.ImageState.IDLE:ol.ImageState.LOADED;ol.ImageBase.call(this,e,t,o,n);this.canvas_=r;this.error_=null};ol.inherits(ol.ImageCanvas,ol.ImageBase);ol.ImageCanvas.prototype.getError=function(){return this.error_};ol.ImageCanvas.prototype.handleLoad_=function(e){if(e){this.error_=e;this.state=ol.ImageState.ERROR}else{this.state=ol.ImageState.LOADED}this.changed()};ol.ImageCanvas.prototype.load=function(){if(this.state==ol.ImageState.IDLE){this.state=ol.ImageState.LOADING;this.changed();this.loader_(this.handleLoad_.bind(this))}};ol.ImageCanvas.prototype.getImage=function(){return this.canvas_};goog.provide("ol.LayerType");ol.LayerType={IMAGE:"IMAGE",TILE:"TILE",VECTOR_TILE:"VECTOR_TILE",VECTOR:"VECTOR"};goog.provide("ol.layer.VectorRenderType");ol.layer.VectorRenderType={IMAGE:"image",VECTOR:"vector"};goog.provide("ol.render.Event");goog.require("ol");goog.require("ol.events.Event");ol.render.Event=function(e,t,o,r,i){ol.events.Event.call(this,e);this.vectorContext=t;this.frameState=o;this.context=r;this.glContext=i};ol.inherits(ol.render.Event,ol.events.Event);goog.provide("ol.structs.LRUCache");goog.require("ol");goog.require("ol.asserts");goog.require("ol.events.EventTarget");goog.require("ol.events.EventType");ol.structs.LRUCache=function(e){ol.events.EventTarget.call(this);this.highWaterMark=e!==undefined?e:2048;this.count_=0;this.entries_={};this.oldest_=null;this.newest_=null};ol.inherits(ol.structs.LRUCache,ol.events.EventTarget);ol.structs.LRUCache.prototype.canExpireCache=function(){return this.getCount()>this.highWaterMark};ol.structs.LRUCache.prototype.clear=function(){this.count_=0;this.entries_={};this.oldest_=null;this.newest_=null;this.dispatchEvent(ol.events.EventType.CLEAR)};ol.structs.LRUCache.prototype.containsKey=function(e){return this.entries_.hasOwnProperty(e)};ol.structs.LRUCache.prototype.forEach=function(e,t){var o=this.oldest_;while(o){e.call(t,o.value_,o.key_,this);o=o.newer}};ol.structs.LRUCache.prototype.get=function(e){var t=this.entries_[e];ol.asserts.assert(t!==undefined,15);if(t===this.newest_){return t.value_}else if(t===this.oldest_){this.oldest_=this.oldest_.newer;this.oldest_.older=null}else{t.newer.older=t.older;t.older.newer=t.newer}t.newer=null;t.older=this.newest_;this.newest_.newer=t;this.newest_=t;return t.value_};ol.structs.LRUCache.prototype.remove=function(e){var t=this.entries_[e];ol.asserts.assert(t!==undefined,15);if(t===this.newest_){this.newest_=t.older;if(this.newest_){this.newest_.newer=null}}else if(t===this.oldest_){this.oldest_=t.newer;if(this.oldest_){this.oldest_.older=null}}else{t.newer.older=t.older;t.older.newer=t.newer}delete this.entries_[e];--this.count_;return t.value_};ol.structs.LRUCache.prototype.getCount=function(){return this.count_};ol.structs.LRUCache.prototype.getKeys=function(){var e=new Array(this.count_);var t=0;var o;for(o=this.newest_;o;o=o.older){e[t++]=o.key_}return e};ol.structs.LRUCache.prototype.getValues=function(){var e=new Array(this.count_);var t=0;var o;for(o=this.newest_;o;o=o.older){e[t++]=o.value_}return e};ol.structs.LRUCache.prototype.peekLast=function(){return this.oldest_.value_};ol.structs.LRUCache.prototype.peekLastKey=function(){return this.oldest_.key_};ol.structs.LRUCache.prototype.peekFirstKey=function(){return this.newest_.key_};ol.structs.LRUCache.prototype.pop=function(){var e=this.oldest_;delete this.entries_[e.key_];if(e.newer){e.newer.older=null}this.oldest_=e.newer;if(!this.oldest_){this.newest_=null}--this.count_;return e.value_};ol.structs.LRUCache.prototype.replace=function(e,t){this.get(e);this.entries_[e].value_=t};ol.structs.LRUCache.prototype.set=function(e,t){ol.asserts.assert(!(e in this.entries_),16);var o={key_:e,newer:null,older:this.newest_,value_:t};if(!this.newest_){this.oldest_=o}else{this.newest_.newer=o}this.newest_=o;this.entries_[e]=o;++this.count_};ol.structs.LRUCache.prototype.prune=function(){while(this.canExpireCache()){this.pop()}};goog.provide("ol.render.canvas");goog.require("ol.css");goog.require("ol.dom");goog.require("ol.obj");goog.require("ol.structs.LRUCache");goog.require("ol.transform");ol.render.canvas.defaultFont="10px sans-serif";ol.render.canvas.defaultFillStyle=[0,0,0,1];ol.render.canvas.defaultLineCap="round";ol.render.canvas.defaultLineDash=[];ol.render.canvas.defaultLineDashOffset=0;ol.render.canvas.defaultLineJoin="round";ol.render.canvas.defaultMiterLimit=10;ol.render.canvas.defaultStrokeStyle=[0,0,0,1];ol.render.canvas.defaultTextAlign="center";ol.render.canvas.defaultTextBaseline="middle";ol.render.canvas.defaultPadding=[0,0,0,0];ol.render.canvas.defaultLineWidth=1;ol.render.canvas.labelCache=new ol.structs.LRUCache;ol.render.canvas.checkedFonts_={};ol.render.canvas.measureContext_=null;ol.render.canvas.textHeights_={};ol.render.canvas.checkFont=function(){var e=60;var t=ol.render.canvas.checkedFonts_;var o=ol.render.canvas.labelCache;var r="32px monospace";var i="wmytzilWMYTZIL@#/&?$%10";var n,l;function a(e){var t=ol.render.canvas.getMeasureContext();t.font=r;l=t.measureText(i).width;var o=true;if(e!="monospace"){t.font="32px "+e+",monospace";var n=t.measureText(i).width;o=n!=l}return o}function s(){var r=true;for(var i in t){if(t[i]<e){if(a(i)){t[i]=e;ol.obj.clear(ol.render.canvas.textHeights_);ol.render.canvas.measureContext_=null;o.clear()}else{++t[i];r=false}}}if(r){window.clearInterval(n);n=undefined}}return function(o){var r=ol.css.getFontFamilies(o);if(!r){return}for(var i=0,l=r.length;i<l;++i){var p=r[i];if(!(p in t)){t[p]=e;if(!a(p)){t[p]=0;if(n===undefined){n=window.setInterval(s,32)}}}}}}();ol.render.canvas.getMeasureContext=function(){var e=ol.render.canvas.measureContext_;if(!e){e=ol.render.canvas.measureContext_=ol.dom.createCanvasContext2D(1,1)}return e};ol.render.canvas.measureTextHeight=function(){var e;var t=ol.render.canvas.textHeights_;return function(o){var r=t[o];if(r==undefined){if(!e){e=document.createElement("span");e.textContent="M";e.style.margin=e.style.padding="0 !important";e.style.position="absolute !important";e.style.left="-99999px !important"}e.style.font=o;document.body.appendChild(e);r=t[o]=e.offsetHeight;document.body.removeChild(e)}return r}}();ol.render.canvas.measureTextWidth=function(e,t){var o=ol.render.canvas.getMeasureContext();if(e!=o.font){o.font=e}return o.measureText(t).width};ol.render.canvas.rotateAtOffset=function(e,t,o,r){if(t!==0){e.translate(o,r);e.rotate(t);e.translate(-o,-r)}};ol.render.canvas.resetTransform_=ol.transform.create();ol.render.canvas.drawImage=function(e,t,o,r,i,n,l,a,s,p,g){var u;if(o!=1){u=e.globalAlpha;e.globalAlpha=u*o}if(t){e.setTransform.apply(e,t)}e.drawImage(r,i,n,l,a,s,p,l*g,a*g);if(u){e.globalAlpha=u}if(t){e.setTransform.apply(e,ol.render.canvas.resetTransform_)}};goog.provide("ol.color");goog.require("ol.asserts");goog.require("ol.math");ol.color.HEX_COLOR_RE_=/^#(?:[0-9a-f]{3,4}){1,2}$/i;ol.color.NAMED_COLOR_RE_=/^([a-z]*)$/i;ol.color.asArray=function(e){if(Array.isArray(e)){return e}else{return ol.color.fromString(e)}};ol.color.asString=function(e){if(typeof e==="string"){return e}else{return ol.color.toString(e)}};ol.color.fromNamed=function(e){var t=document.createElement("div");t.style.color=e;document.body.appendChild(t);var o=getComputedStyle(t).color;document.body.removeChild(t);return o};ol.color.fromString=function(){var e=1024;var t={};var o=0;return function(r){var i;if(t.hasOwnProperty(r)){i=t[r]}else{if(o>=e){var n=0;var l;for(l in t){if((n++&3)===0){delete t[l];--o}}}i=ol.color.fromStringInternal_(r);t[r]=i;++o}return i}}();ol.color.fromStringInternal_=function(e){var t,o,r,i,n,l;if(ol.color.NAMED_COLOR_RE_.exec(e)){e=ol.color.fromNamed(e)}if(ol.color.HEX_COLOR_RE_.exec(e)){var a=e.length-1;var s;if(a<=4){s=1}else{s=2}var p=a===4||a===8;t=parseInt(e.substr(1+0*s,s),16);o=parseInt(e.substr(1+1*s,s),16);r=parseInt(e.substr(1+2*s,s),16);if(p){i=parseInt(e.substr(1+3*s,s),16)}else{i=255}if(s==1){t=(t<<4)+t;o=(o<<4)+o;r=(r<<4)+r;if(p){i=(i<<4)+i}}n=[t,o,r,i/255]}else if(e.indexOf("rgba(")==0){l=e.slice(5,-1).split(",").map(Number);n=ol.color.normalize(l)}else if(e.indexOf("rgb(")==0){l=e.slice(4,-1).split(",").map(Number);l.push(1);n=ol.color.normalize(l)}else{ol.asserts.assert(false,14)}return n};ol.color.normalize=function(e,t){var o=t||[];o[0]=ol.math.clamp(e[0]+.5|0,0,255);o[1]=ol.math.clamp(e[1]+.5|0,0,255);o[2]=ol.math.clamp(e[2]+.5|0,0,255);o[3]=ol.math.clamp(e[3],0,1);return o};ol.color.toString=function(e){var t=e[0];if(t!=(t|0)){t=t+.5|0}var o=e[1];if(o!=(o|0)){o=o+.5|0}var r=e[2];if(r!=(r|0)){r=r+.5|0}var i=e[3]===undefined?1:e[3];return"rgba("+t+","+o+","+r+","+i+")"};goog.provide("ol.colorlike");goog.require("ol.color");ol.colorlike.asColorLike=function(e){if(ol.colorlike.isColorLike(e)){return e}else{return ol.color.asString(e)}};ol.colorlike.isColorLike=function(e){return typeof e==="string"||e instanceof CanvasPattern||e instanceof CanvasGradient};goog.provide("ol.render.VectorContext");ol.render.VectorContext=function(){};ol.render.VectorContext.prototype.drawCustom=function(e,t,o){};ol.render.VectorContext.prototype.drawGeometry=function(e){};ol.render.VectorContext.prototype.setStyle=function(e){};ol.render.VectorContext.prototype.drawCircle=function(e,t){};ol.render.VectorContext.prototype.drawFeature=function(e,t){};ol.render.VectorContext.prototype.drawGeometryCollection=function(e,t){};ol.render.VectorContext.prototype.drawLineString=function(e,t){};ol.render.VectorContext.prototype.drawMultiLineString=function(e,t){};ol.render.VectorContext.prototype.drawMultiPoint=function(e,t){};ol.render.VectorContext.prototype.drawMultiPolygon=function(e,t){};ol.render.VectorContext.prototype.drawPoint=function(e,t){};ol.render.VectorContext.prototype.drawPolygon=function(e,t){};ol.render.VectorContext.prototype.drawText=function(e,t){};ol.render.VectorContext.prototype.setFillStrokeStyle=function(e,t){};ol.render.VectorContext.prototype.setImageStyle=function(e,t){};ol.render.VectorContext.prototype.setTextStyle=function(e,t){};goog.provide("ol.render.canvas.Immediate");goog.require("ol");goog.require("ol.array");goog.require("ol.colorlike");goog.require("ol.extent");goog.require("ol.geom.GeometryType");goog.require("ol.geom.SimpleGeometry");goog.require("ol.geom.flat.transform");goog.require("ol.has");goog.require("ol.render.VectorContext");goog.require("ol.render.canvas");goog.require("ol.transform");ol.render.canvas.Immediate=function(e,t,o,r,i){ol.render.VectorContext.call(this);this.context_=e;this.pixelRatio_=t;this.extent_=o;this.transform_=r;this.viewRotation_=i;this.contextFillState_=null;this.contextStrokeState_=null;this.contextTextState_=null;this.fillState_=null;this.strokeState_=null;this.image_=null;this.imageAnchorX_=0;this.imageAnchorY_=0;this.imageHeight_=0;this.imageOpacity_=0;this.imageOriginX_=0;this.imageOriginY_=0;this.imageRotateWithView_=false;this.imageRotation_=0;this.imageScale_=0;this.imageSnapToPixel_=false;this.imageWidth_=0;this.text_="";this.textOffsetX_=0;this.textOffsetY_=0;this.textRotateWithView_=false;this.textRotation_=0;this.textScale_=0;this.textFillState_=null;this.textStrokeState_=null;this.textState_=null;this.pixelCoordinates_=[];this.tmpLocalTransform_=ol.transform.create()};ol.inherits(ol.render.canvas.Immediate,ol.render.VectorContext);ol.render.canvas.Immediate.prototype.drawImages_=function(e,t,o,r){if(!this.image_){return}var i=ol.geom.flat.transform.transform2D(e,t,o,2,this.transform_,this.pixelCoordinates_);var n=this.context_;var l=this.tmpLocalTransform_;var a=n.globalAlpha;if(this.imageOpacity_!=1){n.globalAlpha=a*this.imageOpacity_}var s=this.imageRotation_;if(this.imageRotateWithView_){s+=this.viewRotation_}var p,g;for(p=0,g=i.length;p<g;p+=2){var u=i[p]-this.imageAnchorX_;var c=i[p+1]-this.imageAnchorY_;if(this.imageSnapToPixel_){u=Math.round(u);c=Math.round(c)}if(s!==0||this.imageScale_!=1){var y=u+this.imageAnchorX_;var d=c+this.imageAnchorY_;ol.transform.compose(l,y,d,this.imageScale_,this.imageScale_,s,-y,-d);n.setTransform.apply(n,l)}n.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,u,c,this.imageWidth_,this.imageHeight_)}if(s!==0||this.imageScale_!=1){n.setTransform(1,0,0,1,0,0)}if(this.imageOpacity_!=1){n.globalAlpha=a}};ol.render.canvas.Immediate.prototype.drawText_=function(e,t,o,r){if(!this.textState_||this.text_===""){return}if(this.textFillState_){this.setContextFillState_(this.textFillState_)}if(this.textStrokeState_){this.setContextStrokeState_(this.textStrokeState_)}this.setContextTextState_(this.textState_);var i=ol.geom.flat.transform.transform2D(e,t,o,r,this.transform_,this.pixelCoordinates_);var n=this.context_;var l=this.textRotation_;if(this.textRotateWithView_){l+=this.viewRotation_}for(;t<o;t+=r){var a=i[t]+this.textOffsetX_;var s=i[t+1]+this.textOffsetY_;if(l!==0||this.textScale_!=1){var p=ol.transform.compose(this.tmpLocalTransform_,a,s,this.textScale_,this.textScale_,l,-a,-s);n.setTransform.apply(n,p)}if(this.textStrokeState_){n.strokeText(this.text_,a,s)}if(this.textFillState_){n.fillText(this.text_,a,s)}}if(l!==0||this.textScale_!=1){n.setTransform(1,0,0,1,0,0)}};ol.render.canvas.Immediate.prototype.moveToLineTo_=function(e,t,o,r,i){var n=this.context_;var l=ol.geom.flat.transform.transform2D(e,t,o,r,this.transform_,this.pixelCoordinates_);n.moveTo(l[0],l[1]);var a=l.length;if(i){a-=2}for(var s=2;s<a;s+=2){n.lineTo(l[s],l[s+1])}if(i){n.closePath()}return o};ol.render.canvas.Immediate.prototype.drawRings_=function(e,t,o,r){var i,n;for(i=0,n=o.length;i<n;++i){t=this.moveToLineTo_(e,t,o[i],r,true)}return t};ol.render.canvas.Immediate.prototype.drawCircle=function(e){if(!ol.extent.intersects(this.extent_,e.getExtent())){return}if(this.fillState_||this.strokeState_){if(this.fillState_){this.setContextFillState_(this.fillState_)}if(this.strokeState_){this.setContextStrokeState_(this.strokeState_)}var t=ol.geom.SimpleGeometry.transform2D(e,this.transform_,this.pixelCoordinates_);var o=t[2]-t[0];var r=t[3]-t[1];var i=Math.sqrt(o*o+r*r);var n=this.context_;n.beginPath();n.arc(t[0],t[1],i,0,2*Math.PI);if(this.fillState_){n.fill()}if(this.strokeState_){n.stroke()}}if(this.text_!==""){this.drawText_(e.getCenter(),0,2,2)}};ol.render.canvas.Immediate.prototype.setStyle=function(e){this.setFillStrokeStyle(e.getFill(),e.getStroke());this.setImageStyle(e.getImage());this.setTextStyle(e.getText())};ol.render.canvas.Immediate.prototype.drawGeometry=function(e){var t=e.getType();switch(t){case ol.geom.GeometryType.POINT:this.drawPoint(e);break;case ol.geom.GeometryType.LINE_STRING:this.drawLineString(e);break;case ol.geom.GeometryType.POLYGON:this.drawPolygon(e);break;case ol.geom.GeometryType.MULTI_POINT:this.drawMultiPoint(e);break;case ol.geom.GeometryType.MULTI_LINE_STRING:this.drawMultiLineString(e);break;case ol.geom.GeometryType.MULTI_POLYGON:this.drawMultiPolygon(e);break;case ol.geom.GeometryType.GEOMETRY_COLLECTION:this.drawGeometryCollection(e);break;case ol.geom.GeometryType.CIRCLE:this.drawCircle(e);break;default:}};ol.render.canvas.Immediate.prototype.drawFeature=function(e,t){var o=t.getGeometryFunction()(e);if(!o||!ol.extent.intersects(this.extent_,o.getExtent())){return}this.setStyle(t);this.drawGeometry(o)};ol.render.canvas.Immediate.prototype.drawGeometryCollection=function(e){var t=e.getGeometriesArray();var o,r;for(o=0,r=t.length;o<r;++o){this.drawGeometry(t[o])}};ol.render.canvas.Immediate.prototype.drawPoint=function(e){var t=e.getFlatCoordinates();var o=e.getStride();if(this.image_){this.drawImages_(t,0,t.length,o)}if(this.text_!==""){this.drawText_(t,0,t.length,o)}};ol.render.canvas.Immediate.prototype.drawMultiPoint=function(e){var t=e.getFlatCoordinates();var o=e.getStride();if(this.image_){this.drawImages_(t,0,t.length,o)}if(this.text_!==""){this.drawText_(t,0,t.length,o)}};ol.render.canvas.Immediate.prototype.drawLineString=function(e){if(!ol.extent.intersects(this.extent_,e.getExtent())){return}if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var t=this.context_;var o=e.getFlatCoordinates();t.beginPath();this.moveToLineTo_(o,0,o.length,e.getStride(),false);t.stroke()}if(this.text_!==""){var r=e.getFlatMidpoint();this.drawText_(r,0,2,2)}};ol.render.canvas.Immediate.prototype.drawMultiLineString=function(e){var t=e.getExtent();if(!ol.extent.intersects(this.extent_,t)){return}if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var o=this.context_;var r=e.getFlatCoordinates();var i=0;var n=e.getEnds();var l=e.getStride();o.beginPath();var a,s;for(a=0,s=n.length;a<s;++a){i=this.moveToLineTo_(r,i,n[a],l,false)}o.stroke()}if(this.text_!==""){var p=e.getFlatMidpoints();this.drawText_(p,0,p.length,2)}};ol.render.canvas.Immediate.prototype.drawPolygon=function(e){if(!ol.extent.intersects(this.extent_,e.getExtent())){return}if(this.strokeState_||this.fillState_){if(this.fillState_){this.setContextFillState_(this.fillState_)}if(this.strokeState_){this.setContextStrokeState_(this.strokeState_)}var t=this.context_;t.beginPath();this.drawRings_(e.getOrientedFlatCoordinates(),0,e.getEnds(),e.getStride());if(this.fillState_){t.fill()}if(this.strokeState_){t.stroke()}}if(this.text_!==""){var o=e.getFlatInteriorPoint();this.drawText_(o,0,2,2)}};ol.render.canvas.Immediate.prototype.drawMultiPolygon=function(e){if(!ol.extent.intersects(this.extent_,e.getExtent())){return}if(this.strokeState_||this.fillState_){if(this.fillState_){this.setContextFillState_(this.fillState_)}if(this.strokeState_){this.setContextStrokeState_(this.strokeState_)}var t=this.context_;var o=e.getOrientedFlatCoordinates();var r=0;var i=e.getEndss();var n=e.getStride();var l,a;t.beginPath();for(l=0,a=i.length;l<a;++l){var s=i[l];r=this.drawRings_(o,r,s,n)}if(this.fillState_){t.fill()}if(this.strokeState_){t.stroke()}}if(this.text_!==""){var p=e.getFlatInteriorPoints();this.drawText_(p,0,p.length,2)}};ol.render.canvas.Immediate.prototype.setContextFillState_=function(e){var t=this.context_;var o=this.contextFillState_;if(!o){t.fillStyle=e.fillStyle;this.contextFillState_={fillStyle:e.fillStyle}}else{if(o.fillStyle!=e.fillStyle){o.fillStyle=t.fillStyle=e.fillStyle}}};ol.render.canvas.Immediate.prototype.setContextStrokeState_=function(e){var t=this.context_;var o=this.contextStrokeState_;if(!o){t.lineCap=e.lineCap;if(ol.has.CANVAS_LINE_DASH){t.setLineDash(e.lineDash);t.lineDashOffset=e.lineDashOffset}t.lineJoin=e.lineJoin;t.lineWidth=e.lineWidth;t.miterLimit=e.miterLimit;t.strokeStyle=e.strokeStyle;this.contextStrokeState_={lineCap:e.lineCap,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle}}else{if(o.lineCap!=e.lineCap){o.lineCap=t.lineCap=e.lineCap}if(ol.has.CANVAS_LINE_DASH){if(!ol.array.equals(o.lineDash,e.lineDash)){t.setLineDash(o.lineDash=e.lineDash)}if(o.lineDashOffset!=e.lineDashOffset){o.lineDashOffset=t.lineDashOffset=e.lineDashOffset}}if(o.lineJoin!=e.lineJoin){o.lineJoin=t.lineJoin=e.lineJoin}if(o.lineWidth!=e.lineWidth){o.lineWidth=t.lineWidth=e.lineWidth}if(o.miterLimit!=e.miterLimit){o.miterLimit=t.miterLimit=e.miterLimit}if(o.strokeStyle!=e.strokeStyle){o.strokeStyle=t.strokeStyle=e.strokeStyle}}};ol.render.canvas.Immediate.prototype.setContextTextState_=function(e){var t=this.context_;var o=this.contextTextState_;var r=e.textAlign?e.textAlign:ol.render.canvas.defaultTextAlign;if(!o){t.font=e.font;t.textAlign=r;t.textBaseline=e.textBaseline;this.contextTextState_={font:e.font,textAlign:r,textBaseline:e.textBaseline}}else{if(o.font!=e.font){o.font=t.font=e.font}if(o.textAlign!=r){o.textAlign=r}if(o.textBaseline!=e.textBaseline){o.textBaseline=t.textBaseline=e.textBaseline}}};ol.render.canvas.Immediate.prototype.setFillStrokeStyle=function(e,t){if(!e){this.fillState_=null}else{var o=e.getColor();this.fillState_={fillStyle:ol.colorlike.asColorLike(o?o:ol.render.canvas.defaultFillStyle)}}if(!t){this.strokeState_=null}else{var r=t.getColor();var i=t.getLineCap();var n=t.getLineDash();var l=t.getLineDashOffset();var a=t.getLineJoin();var s=t.getWidth();var p=t.getMiterLimit();this.strokeState_={lineCap:i!==undefined?i:ol.render.canvas.defaultLineCap,lineDash:n?n:ol.render.canvas.defaultLineDash,lineDashOffset:l?l:ol.render.canvas.defaultLineDashOffset,lineJoin:a!==undefined?a:ol.render.canvas.defaultLineJoin,lineWidth:this.pixelRatio_*(s!==undefined?s:ol.render.canvas.defaultLineWidth),miterLimit:p!==undefined?p:ol.render.canvas.defaultMiterLimit,strokeStyle:ol.colorlike.asColorLike(r?r:ol.render.canvas.defaultStrokeStyle)}}};ol.render.canvas.Immediate.prototype.setImageStyle=function(e){if(!e){this.image_=null}else{var t=e.getAnchor();var o=e.getImage(1);var r=e.getOrigin();var i=e.getSize();this.imageAnchorX_=t[0];this.imageAnchorY_=t[1];this.imageHeight_=i[1];this.image_=o;this.imageOpacity_=e.getOpacity();this.imageOriginX_=r[0];this.imageOriginY_=r[1];this.imageRotateWithView_=e.getRotateWithView();this.imageRotation_=e.getRotation();this.imageScale_=e.getScale()*this.pixelRatio_;this.imageSnapToPixel_=e.getSnapToPixel();this.imageWidth_=i[0]}};ol.render.canvas.Immediate.prototype.setTextStyle=function(e){if(!e){this.text_=""}else{var t=e.getFill();if(!t){this.textFillState_=null}else{var o=t.getColor();this.textFillState_={fillStyle:ol.colorlike.asColorLike(o?o:ol.render.canvas.defaultFillStyle)}}var r=e.getStroke();if(!r){this.textStrokeState_=null}else{var i=r.getColor();var n=r.getLineCap();var l=r.getLineDash();var a=r.getLineDashOffset();var s=r.getLineJoin();var p=r.getWidth();var g=r.getMiterLimit();this.textStrokeState_={lineCap:n!==undefined?n:ol.render.canvas.defaultLineCap,lineDash:l?l:ol.render.canvas.defaultLineDash,lineDashOffset:a?a:ol.render.canvas.defaultLineDashOffset,lineJoin:s!==undefined?s:ol.render.canvas.defaultLineJoin,lineWidth:p!==undefined?p:ol.render.canvas.defaultLineWidth,miterLimit:g!==undefined?g:ol.render.canvas.defaultMiterLimit,strokeStyle:ol.colorlike.asColorLike(i?i:ol.render.canvas.defaultStrokeStyle)}}var u=e.getFont();var c=e.getOffsetX();var y=e.getOffsetY();var d=e.getRotateWithView();var h=e.getRotation();var f=e.getScale();var m=e.getText();var v=e.getTextAlign();var _=e.getTextBaseline();this.textState_={font:u!==undefined?u:ol.render.canvas.defaultFont,textAlign:v!==undefined?v:ol.render.canvas.defaultTextAlign,textBaseline:_!==undefined?_:ol.render.canvas.defaultTextBaseline};this.text_=m!==undefined?m:"";this.textOffsetX_=c!==undefined?this.pixelRatio_*c:0;this.textOffsetY_=y!==undefined?this.pixelRatio_*y:0;this.textRotateWithView_=d!==undefined?d:false;this.textRotation_=h!==undefined?h:0;this.textScale_=this.pixelRatio_*(f!==undefined?f:1)}};goog.provide("ol.renderer.Layer");goog.require("ol");goog.require("ol.ImageState");goog.require("ol.Observable");goog.require("ol.TileState");goog.require("ol.asserts");goog.require("ol.events");goog.require("ol.events.EventType");goog.require("ol.functions");goog.require("ol.source.State");ol.renderer.Layer=function(e){ol.Observable.call(this);this.layer_=e};ol.inherits(ol.renderer.Layer,ol.Observable);ol.renderer.Layer.prototype.forEachFeatureAtCoordinate=ol.nullFunction;ol.renderer.Layer.prototype.hasFeatureAtCoordinate=ol.functions.FALSE;ol.renderer.Layer.prototype.createLoadedTileFinder=function(e,t,o){return function(r,i){function n(e){if(!o[r]){o[r]={}}o[r][e.tileCoord.toString()]=e}return e.forEachLoadedTile(t,r,i,n)}};ol.renderer.Layer.prototype.getLayer=function(){return this.layer_};ol.renderer.Layer.prototype.handleImageChange_=function(e){var t=e.target;if(t.getState()===ol.ImageState.LOADED){this.renderIfReadyAndVisible()}};ol.renderer.Layer.prototype.loadImage=function(e){var t=e.getState();if(t!=ol.ImageState.LOADED&&t!=ol.ImageState.ERROR){ol.events.listen(e,ol.events.EventType.CHANGE,this.handleImageChange_,this)}if(t==ol.ImageState.IDLE){e.load();t=e.getState()}return t==ol.ImageState.LOADED};ol.renderer.Layer.prototype.renderIfReadyAndVisible=function(){var e=this.getLayer();if(e.getVisible()&&e.getSourceState()==ol.source.State.READY){this.changed()}};ol.renderer.Layer.prototype.scheduleExpireCache=function(e,t){if(t.canExpireCache()){var o=function(e,t,o){var r=ol.getUid(e).toString();if(r in o.usedTiles){e.expireCache(o.viewState.projection,o.usedTiles[r])}}.bind(null,t);e.postRenderFunctions.push(o)}};ol.renderer.Layer.prototype.updateLogos=function(e,t){var o=t.getLogo();if(o!==undefined){if(typeof o==="string"){e.logos[o]=""}else if(o){ol.asserts.assert(typeof o.href=="string",44);ol.asserts.assert(typeof o.src=="string",45);e.logos[o.src]=o.href}}};ol.renderer.Layer.prototype.updateUsedTiles=function(e,t,o,r){var i=ol.getUid(t).toString();var n=o.toString();if(i in e){if(n in e[i]){e[i][n].extend(r)}else{e[i][n]=r}}else{e[i]={};e[i][n]=r}};ol.renderer.Layer.prototype.manageTilePyramid=function(e,t,o,r,i,n,l,a,s,p){var g=ol.getUid(t).toString();if(!(g in e.wantedTiles)){e.wantedTiles[g]={}}var u=e.wantedTiles[g];var c=e.tileQueue;var y=o.getMinZoom();var d,h,f,m,v,_;for(_=y;_<=l;++_){h=o.getTileRangeForExtentAndZ(n,_,h);f=o.getResolution(_);for(m=h.minX;m<=h.maxX;++m){for(v=h.minY;v<=h.maxY;++v){if(l-_<=a){d=t.getTile(_,m,v,r,i);if(d.getState()==ol.TileState.IDLE){u[d.getKey()]=true;if(!c.isKeyQueued(d.getKey())){c.enqueue([d,g,o.getTileCoordCenter(d.tileCoord),f])}}if(s!==undefined){s.call(p,d)}}else{t.useTile(_,m,v,i)}}}}};goog.provide("ol.renderer.canvas.Layer");goog.require("ol");goog.require("ol.extent");goog.require("ol.functions");goog.require("ol.render.Event");goog.require("ol.render.EventType");goog.require("ol.render.canvas");goog.require("ol.render.canvas.Immediate");goog.require("ol.renderer.Layer");goog.require("ol.transform");ol.renderer.canvas.Layer=function(e){ol.renderer.Layer.call(this,e);this.renderedResolution;this.transform_=ol.transform.create()};ol.inherits(ol.renderer.canvas.Layer,ol.renderer.Layer);ol.renderer.canvas.Layer.prototype.clip=function(e,t,o){var r=t.pixelRatio;var i=t.size[0]*r;var n=t.size[1]*r;var l=t.viewState.rotation;var a=ol.extent.getTopLeft(o);var s=ol.extent.getTopRight(o);var p=ol.extent.getBottomRight(o);var g=ol.extent.getBottomLeft(o);ol.transform.apply(t.coordinateToPixelTransform,a);ol.transform.apply(t.coordinateToPixelTransform,s);ol.transform.apply(t.coordinateToPixelTransform,p);ol.transform.apply(t.coordinateToPixelTransform,g);e.save();ol.render.canvas.rotateAtOffset(e,-l,i/2,n/2);e.beginPath();e.moveTo(a[0]*r,a[1]*r);e.lineTo(s[0]*r,s[1]*r);e.lineTo(p[0]*r,p[1]*r);e.lineTo(g[0]*r,g[1]*r);e.clip();ol.render.canvas.rotateAtOffset(e,l,i/2,n/2)};ol.renderer.canvas.Layer.prototype.dispatchComposeEvent_=function(e,t,o,r){var i=this.getLayer();if(i.hasListener(e)){var n=o.size[0]*o.pixelRatio;var l=o.size[1]*o.pixelRatio;var a=o.viewState.rotation;ol.render.canvas.rotateAtOffset(t,-a,n/2,l/2);var s=r!==undefined?r:this.getTransform(o,0);var p=new ol.render.canvas.Immediate(t,o.pixelRatio,o.extent,s,o.viewState.rotation);var g=new ol.render.Event(e,p,o,t,null);i.dispatchEvent(g);ol.render.canvas.rotateAtOffset(t,a,n/2,l/2)}};ol.renderer.canvas.Layer.prototype.forEachLayerAtCoordinate=function(e,t,o,r){var i=this.forEachFeatureAtCoordinate(e,t,0,ol.functions.TRUE,this);if(i){return o.call(r,this.getLayer(),null)}else{return undefined}};ol.renderer.canvas.Layer.prototype.postCompose=function(e,t,o,r){this.dispatchComposeEvent_(ol.render.EventType.POSTCOMPOSE,e,t,r)};ol.renderer.canvas.Layer.prototype.preCompose=function(e,t,o){this.dispatchComposeEvent_(ol.render.EventType.PRECOMPOSE,e,t,o)};ol.renderer.canvas.Layer.prototype.dispatchRenderEvent=function(e,t,o){this.dispatchComposeEvent_(ol.render.EventType.RENDER,e,t,o)};ol.renderer.canvas.Layer.prototype.getTransform=function(e,t){var o=e.viewState;var r=e.pixelRatio;var i=r*e.size[0]/2;var n=r*e.size[1]/2;var l=r/o.resolution;var a=-l;var s=-o.rotation;var p=-o.center[0]+t;var g=-o.center[1];return ol.transform.compose(this.transform_,i,n,l,a,s,p,g)};ol.renderer.canvas.Layer.prototype.composeFrame=function(e,t,o){};ol.renderer.canvas.Layer.prototype.prepareFrame=function(e,t){};goog.provide("ol.renderer.canvas.IntermediateCanvas");goog.require("ol");goog.require("ol.coordinate");goog.require("ol.dom");goog.require("ol.extent");goog.require("ol.renderer.canvas.Layer");goog.require("ol.transform");ol.renderer.canvas.IntermediateCanvas=function(e){ol.renderer.canvas.Layer.call(this,e);this.coordinateToCanvasPixelTransform=ol.transform.create();this.hitCanvasContext_=null};ol.inherits(ol.renderer.canvas.IntermediateCanvas,ol.renderer.canvas.Layer);ol.renderer.canvas.IntermediateCanvas.prototype.composeFrame=function(e,t,o){this.preCompose(o,e);var r=this.getImage();if(r){var i=t.extent;var n=i!==undefined&&!ol.extent.containsExtent(i,e.extent)&&ol.extent.intersects(i,e.extent);if(n){this.clip(o,e,i)}var l=this.getImageTransform();var a=o.globalAlpha;o.globalAlpha=t.opacity;var s=l[4];var p=l[5];var g=r.width*l[0];var u=r.height*l[3];o.drawImage(r,0,0,+r.width,+r.height,Math.round(s),Math.round(p),Math.round(g),Math.round(u));o.globalAlpha=a;if(n){o.restore()}}this.postCompose(o,e,t)};ol.renderer.canvas.IntermediateCanvas.prototype.getImage=function(){};ol.renderer.canvas.IntermediateCanvas.prototype.getImageTransform=function(){};ol.renderer.canvas.IntermediateCanvas.prototype.forEachFeatureAtCoordinate=function(e,t,o,r,i){var n=this.getLayer();var l=n.getSource();var a=t.viewState.resolution;var s=t.viewState.rotation;var p=t.skippedFeatureUids;return l.forEachFeatureAtCoordinate(e,a,s,o,p,function(e){return r.call(i,e,n)})};ol.renderer.canvas.IntermediateCanvas.prototype.forEachLayerAtCoordinate=function(e,t,o,r){if(!this.getImage()){return undefined}if(this.getLayer().getSource().forEachFeatureAtCoordinate!==ol.nullFunction){return ol.renderer.canvas.Layer.prototype.forEachLayerAtCoordinate.apply(this,arguments)}else{var i=ol.transform.apply(this.coordinateToCanvasPixelTransform,e.slice());ol.coordinate.scale(i,t.viewState.resolution/this.renderedResolution);if(!this.hitCanvasContext_){this.hitCanvasContext_=ol.dom.createCanvasContext2D(1,1)}this.hitCanvasContext_.clearRect(0,0,1,1);this.hitCanvasContext_.drawImage(this.getImage(),i[0],i[1],1,1,0,0,1,1);var n=this.hitCanvasContext_.getImageData(0,0,1,1).data;if(n[3]>0){return o.call(r,this.getLayer(),n)}else{return undefined}}};goog.provide("ol.renderer.canvas.ImageLayer");goog.require("ol");goog.require("ol.ImageCanvas");goog.require("ol.LayerType");goog.require("ol.ViewHint");goog.require("ol.array");goog.require("ol.extent");goog.require("ol.layer.VectorRenderType");goog.require("ol.obj");goog.require("ol.plugins");goog.require("ol.renderer.Type");goog.require("ol.renderer.canvas.IntermediateCanvas");goog.require("ol.transform");ol.renderer.canvas.ImageLayer=function(e){ol.renderer.canvas.IntermediateCanvas.call(this,e);this.image_=null;this.imageTransform_=ol.transform.create();this.skippedFeatures_=[];this.vectorRenderer_=null};ol.inherits(ol.renderer.canvas.ImageLayer,ol.renderer.canvas.IntermediateCanvas);ol.renderer.canvas.ImageLayer["handles"]=function(e,t){return e===ol.renderer.Type.CANVAS&&(t.getType()===ol.LayerType.IMAGE||t.getType()===ol.LayerType.VECTOR&&t.getRenderMode()===ol.layer.VectorRenderType.IMAGE)};ol.renderer.canvas.ImageLayer["create"]=function(e,t){var o=new ol.renderer.canvas.ImageLayer(t);if(t.getType()===ol.LayerType.VECTOR){var r=ol.plugins.getLayerRendererPlugins();for(var i=0,n=r.length;i<n;++i){var l=r[i];if(l!==ol.renderer.canvas.ImageLayer&&l["handles"](ol.renderer.Type.CANVAS,t)){o.setVectorRenderer(l["create"](e,t))}}}return o};ol.renderer.canvas.ImageLayer.prototype.getImage=function(){return!this.image_?null:this.image_.getImage()};ol.renderer.canvas.ImageLayer.prototype.getImageTransform=function(){return this.imageTransform_};ol.renderer.canvas.ImageLayer.prototype.prepareFrame=function(e,t){var o=e.pixelRatio;var r=e.size;var i=e.viewState;var n=i.center;var l=i.resolution;var a;var s=this.getLayer();var p=s.getSource();var g=e.viewHints;var u=e.extent;if(t.extent!==undefined){u=ol.extent.getIntersection(u,t.extent)}if(!g[ol.ViewHint.ANIMATING]&&!g[ol.ViewHint.INTERACTING]&&!ol.extent.isEmpty(u)){var c=i.projection;if(!ol.ENABLE_RASTER_REPROJECTION){var y=p.getProjection();if(y){c=y}}var d=this.vectorRenderer_;if(d){var h=d.context;var f=ol.obj.assign({},e,{size:[ol.extent.getWidth(u)/l,ol.extent.getHeight(u)/l],viewState:ol.obj.assign({},e.viewState,{rotation:0})});var m=Object.keys(f.skippedFeatureUids).sort();if(d.prepareFrame(f,t)&&(d.replayGroupChanged||!ol.array.equals(m,this.skippedFeatures_))){h.canvas.width=f.size[0]*o;h.canvas.height=f.size[1]*o;d.composeFrame(f,t,h);this.image_=new ol.ImageCanvas(u,l,o,h.canvas);this.skippedFeatures_=m}}else{a=p.getImage(u,l,o,c);if(a){var v=this.loadImage(a);if(v){this.image_=a}}}}if(this.image_){a=this.image_;var _=a.getExtent();var S=a.getResolution();var x=a.getPixelRatio();var P=o*S/(l*x);var E=ol.transform.compose(this.imageTransform_,o*r[0]/2,o*r[1]/2,P,P,0,x*(_[0]-n[0])/S,x*(n[1]-_[3])/S);ol.transform.compose(this.coordinateToCanvasPixelTransform,o*r[0]/2-E[4],o*r[1]/2-E[5],o/l,-o/l,0,-n[0],-n[1]);this.updateLogos(e,p);this.renderedResolution=S*o/x}return!!this.image_};ol.renderer.canvas.ImageLayer.prototype.forEachFeatureAtCoordinate=function(e,t,o,r,i){if(this.vectorRenderer_){return this.vectorRenderer_.forEachFeatureAtCoordinate(e,t,o,r,i)}else{return ol.renderer.canvas.IntermediateCanvas.prototype.forEachFeatureAtCoordinate.call(this,e,t,o,r,i)}};ol.renderer.canvas.ImageLayer.prototype.setVectorRenderer=function(e){this.vectorRenderer_=e};goog.provide("ol.style.IconImageCache");goog.require("ol.color");ol.style.IconImageCache=function(){this.cache_={};this.cacheSize_=0;this.maxCacheSize_=32};ol.style.IconImageCache.getKey=function(e,t,o){var r=o?ol.color.asString(o):"null";return t+":"+e+":"+r};ol.style.IconImageCache.prototype.clear=function(){this.cache_={};this.cacheSize_=0};ol.style.IconImageCache.prototype.expire=function(){if(this.cacheSize_>this.maxCacheSize_){var e=0;var t,o;for(t in this.cache_){o=this.cache_[t];if((e++&3)===0&&!o.hasListener()){delete this.cache_[t];--this.cacheSize_}}}};ol.style.IconImageCache.prototype.get=function(e,t,o){var r=ol.style.IconImageCache.getKey(e,t,o);return r in this.cache_?this.cache_[r]:null};ol.style.IconImageCache.prototype.set=function(e,t,o,r){var i=ol.style.IconImageCache.getKey(e,t,o);this.cache_[i]=r;++this.cacheSize_};ol.style.IconImageCache.prototype.setSize=function(e){this.maxCacheSize_=e;this.expire()};goog.provide("ol.style");goog.require("ol.style.IconImageCache");ol.style.iconImageCache=new ol.style.IconImageCache;goog.provide("ol.renderer.Map");goog.require("ol");goog.require("ol.Disposable");goog.require("ol.events");goog.require("ol.events.EventType");goog.require("ol.extent");goog.require("ol.functions");goog.require("ol.layer.Layer");goog.require("ol.plugins");goog.require("ol.style");goog.require("ol.transform");ol.renderer.Map=function(e,t){ol.Disposable.call(this);this.map_=t;this.layerRenderers_={};this.layerRendererListeners_={}};ol.inherits(ol.renderer.Map,ol.Disposable);ol.renderer.Map.prototype.calculateMatrices2D=function(e){var t=e.viewState;var o=e.coordinateToPixelTransform;var r=e.pixelToCoordinateTransform;ol.transform.compose(o,e.size[0]/2,e.size[1]/2,1/t.resolution,-1/t.resolution,-t.rotation,-t.center[0],-t.center[1]);ol.transform.invert(ol.transform.setFromArray(r,o))};ol.renderer.Map.prototype.removeLayerRenderers=function(){for(var e in this.layerRenderers_){this.removeLayerRendererByKey_(e).dispose()}};ol.renderer.Map.expireIconCache_=function(e,t){var o=ol.style.iconImageCache;o.expire()};ol.renderer.Map.prototype.forEachFeatureAtCoordinate=function(e,t,o,r,i,n,l){var a;var s=t.viewState;var p=s.resolution;function g(e,o){var n=ol.getUid(e).toString();var l=t.layerStates[ol.getUid(o)].managed;if(!(n in t.skippedFeatureUids&&!l)){return r.call(i,e,l?o:null)}}var u=s.projection;var c=e;if(u.canWrapX()){var y=u.getExtent();var d=ol.extent.getWidth(y);var h=e[0];if(h<y[0]||h>y[2]){var f=Math.ceil((y[0]-h)/d);c=[h+d*f,e[1]]}}var m=t.layerStatesArray;var v=m.length;var _;for(_=v-1;_>=0;--_){var S=m[_];var x=S.layer;if(ol.layer.Layer.visibleAtResolution(S,p)&&n.call(l,x)){var P=this.getLayerRenderer(x);if(x.getSource()){a=P.forEachFeatureAtCoordinate(x.getSource().getWrapX()?c:e,t,o,g,i)}if(a){return a}}}return undefined};ol.renderer.Map.prototype.forEachLayerAtPixel=function(e,t,o,r,i,n){};ol.renderer.Map.prototype.hasFeatureAtCoordinate=function(e,t,o,r,i){var n=this.forEachFeatureAtCoordinate(e,t,o,ol.functions.TRUE,this,r,i);return n!==undefined};ol.renderer.Map.prototype.getLayerRenderer=function(e){var t=ol.getUid(e).toString();if(t in this.layerRenderers_){return this.layerRenderers_[t]}else{var o=ol.plugins.getLayerRendererPlugins();var r;var i=this.getType();for(var n=0,l=o.length;n<l;++n){var a=o[n];if(a["handles"](i,e)){r=a["create"](this,e);break}}if(r){this.layerRenderers_[t]=r;this.layerRendererListeners_[t]=ol.events.listen(r,ol.events.EventType.CHANGE,this.handleLayerRendererChange_,this)}else{throw new Error("Unable to create renderer for layer: "+e.getType())}return r}};ol.renderer.Map.prototype.getLayerRendererByKey=function(e){return this.layerRenderers_[e]};ol.renderer.Map.prototype.getLayerRenderers=function(){return this.layerRenderers_};ol.renderer.Map.prototype.getMap=function(){return this.map_};ol.renderer.Map.prototype.getType=function(){};ol.renderer.Map.prototype.handleLayerRendererChange_=function(){this.map_.render()};ol.renderer.Map.prototype.removeLayerRendererByKey_=function(e){var t=this.layerRenderers_[e];delete this.layerRenderers_[e];ol.events.unlistenByKey(this.layerRendererListeners_[e]);delete this.layerRendererListeners_[e];return t};ol.renderer.Map.prototype.renderFrame=ol.nullFunction;ol.renderer.Map.prototype.removeUnusedLayerRenderers_=function(e,t){var o;for(o in this.layerRenderers_){if(!t||!(o in t.layerStates)){this.removeLayerRendererByKey_(o).dispose()}}};ol.renderer.Map.prototype.scheduleExpireIconCache=function(e){e.postRenderFunctions.push(ol.renderer.Map.expireIconCache_)};ol.renderer.Map.prototype.scheduleRemoveUnusedLayerRenderers=function(e){var t;for(t in this.layerRenderers_){if(!(t in e.layerStates)){e.postRenderFunctions.push(this.removeUnusedLayerRenderers_.bind(this));return}}};ol.renderer.Map.sortByZIndex=function(e,t){return e.zIndex-t.zIndex};goog.provide("ol.renderer.canvas.Map");goog.require("ol.transform");goog.require("ol");goog.require("ol.array");goog.require("ol.css");goog.require("ol.dom");goog.require("ol.layer.Layer");goog.require("ol.render.Event");goog.require("ol.render.EventType");goog.require("ol.render.canvas");goog.require("ol.render.canvas.Immediate");goog.require("ol.renderer.Map");goog.require("ol.renderer.Type");goog.require("ol.source.State");ol.renderer.canvas.Map=function(e,t){ol.renderer.Map.call(this,e,t);this.context_=ol.dom.createCanvasContext2D();this.canvas_=this.context_.canvas;this.canvas_.style.width="100%";this.canvas_.style.height="100%";this.canvas_.style.display="block";this.canvas_.className=ol.css.CLASS_UNSELECTABLE;e.insertBefore(this.canvas_,e.childNodes[0]||null);this.renderedVisible_=true;this.transform_=ol.transform.create()};ol.inherits(ol.renderer.canvas.Map,ol.renderer.Map);ol.renderer.canvas.Map["handles"]=function(e){return e===ol.renderer.Type.CANVAS};ol.renderer.canvas.Map["create"]=function(e,t){return new ol.renderer.canvas.Map(e,t)};ol.renderer.canvas.Map.prototype.dispatchComposeEvent_=function(e,t){var o=this.getMap();var r=this.context_;if(o.hasListener(e)){var i=t.extent;var n=t.pixelRatio;var l=t.viewState;var a=l.rotation;var s=this.getTransform(t);var p=new ol.render.canvas.Immediate(r,n,i,s,a);var g=new ol.render.Event(e,p,t,r,null);o.dispatchEvent(g)}};ol.renderer.canvas.Map.prototype.getTransform=function(e){var t=e.viewState;var o=this.canvas_.width/2;var r=this.canvas_.height/2;var i=e.pixelRatio/t.resolution;var n=-i;var l=-t.rotation;var a=-t.center[0];var s=-t.center[1];return ol.transform.compose(this.transform_,o,r,i,n,l,a,s)};ol.renderer.canvas.Map.prototype.getType=function(){return ol.renderer.Type.CANVAS};ol.renderer.canvas.Map.prototype.renderFrame=function(e){if(!e){if(this.renderedVisible_){this.canvas_.style.display="none";this.renderedVisible_=false}return}var t=this.context_;var o=e.pixelRatio;var r=Math.round(e.size[0]*o);var i=Math.round(e.size[1]*o);if(this.canvas_.width!=r||this.canvas_.height!=i){this.canvas_.width=r;this.canvas_.height=i}else{t.clearRect(0,0,r,i)}var n=e.viewState.rotation;this.calculateMatrices2D(e);this.dispatchComposeEvent_(ol.render.EventType.PRECOMPOSE,e);var l=e.layerStatesArray;ol.array.stableSort(l,ol.renderer.Map.sortByZIndex);if(n){t.save();ol.render.canvas.rotateAtOffset(t,n,r/2,i/2)}var a=e.viewState.resolution;var s,p,g,u,c;for(s=0,p=l.length;s<p;++s){c=l[s];g=c.layer;u=this.getLayerRenderer(g);if(!ol.layer.Layer.visibleAtResolution(c,a)||c.sourceState!=ol.source.State.READY){continue}if(u.prepareFrame(e,c)){u.composeFrame(e,c,t)}}if(n){t.restore()}this.dispatchComposeEvent_(ol.render.EventType.POSTCOMPOSE,e);if(!this.renderedVisible_){this.canvas_.style.display="";this.renderedVisible_=true}this.scheduleRemoveUnusedLayerRenderers(e);this.scheduleExpireIconCache(e)};ol.renderer.canvas.Map.prototype.forEachLayerAtPixel=function(e,t,o,r,i,n){var l;var a=t.viewState;var s=a.resolution;var p=t.layerStatesArray;var g=p.length;var u=ol.transform.apply(t.pixelToCoordinateTransform,e.slice());var c;for(c=g-1;c>=0;--c){var y=p[c];var d=y.layer;if(ol.layer.Layer.visibleAtResolution(y,s)&&i.call(n,d)){var h=this.getLayerRenderer(d);l=h.forEachLayerAtCoordinate(u,t,o,r);if(l){return l}}}return undefined};goog.provide("ol.renderer.canvas.TileLayer");goog.require("ol");goog.require("ol.LayerType");goog.require("ol.TileRange");goog.require("ol.TileState");goog.require("ol.ViewHint");goog.require("ol.dom");goog.require("ol.extent");goog.require("ol.renderer.Type");goog.require("ol.renderer.canvas.IntermediateCanvas");goog.require("ol.transform");ol.renderer.canvas.TileLayer=function(e){ol.renderer.canvas.IntermediateCanvas.call(this,e);this.context=this.context===null?null:ol.dom.createCanvasContext2D();this.oversampling_;this.renderedExtent_=null;this.renderedRevision;this.renderedTiles=[];this.tmpExtent=ol.extent.createEmpty();this.tmpTileRange_=new ol.TileRange(0,0,0,0);this.imageTransform_=ol.transform.create();this.zDirection=0};ol.inherits(ol.renderer.canvas.TileLayer,ol.renderer.canvas.IntermediateCanvas);ol.renderer.canvas.TileLayer["handles"]=function(e,t){return e===ol.renderer.Type.CANVAS&&t.getType()===ol.LayerType.TILE};ol.renderer.canvas.TileLayer["create"]=function(e,t){return new ol.renderer.canvas.TileLayer(t)};ol.renderer.canvas.TileLayer.prototype.isDrawableTile_=function(e){var t=e.getState();var o=this.getLayer().getUseInterimTilesOnError();return t==ol.TileState.LOADED||t==ol.TileState.EMPTY||t==ol.TileState.ERROR&&!o};ol.renderer.canvas.TileLayer.prototype.prepareFrame=function(e,t){var o=e.pixelRatio;var r=e.size;var i=e.viewState;var n=i.projection;var l=i.resolution;var a=i.center;var s=this.getLayer();var p=s.getSource();var g=p.getRevision();var u=p.getTileGridForProjection(n);var c=u.getZForResolution(l,this.zDirection);var y=u.getResolution(c);var d=Math.round(l/y)||1;var h=e.extent;if(t.extent!==undefined){h=ol.extent.getIntersection(h,t.extent)}if(ol.extent.isEmpty(h)){return false}var f=u.getTileRangeForExtentAndZ(h,c);var m=u.getTileRangeExtent(c,f);var v=p.getTilePixelRatio(o);var _={};_[c]={};var S=this.createLoadedTileFinder(p,n,_);var x=this.tmpExtent;var P=this.tmpTileRange_;var E=false;var T,R,L;for(R=f.minX;R<=f.maxX;++R){for(L=f.minY;L<=f.maxY;++L){T=p.getTile(c,R,L,o,n);if(T.getState()==ol.TileState.ERROR){if(!s.getUseInterimTilesOnError()){T.setState(ol.TileState.LOADED)}else if(s.getPreload()>0){E=true}}if(!this.isDrawableTile_(T)){T=T.getInterimTile()}if(this.isDrawableTile_(T)){var M=ol.getUid(this);if(T.getState()==ol.TileState.LOADED){_[c][T.tileCoord.toString()]=T;var C=T.inTransition(M);if(!E&&(C||this.renderedTiles.indexOf(T)===-1)){E=true}}if(T.getAlpha(M,e.time)===1){continue}}var I=u.getTileCoordChildTileRange(T.tileCoord,P,x);var A=false;if(I){A=S(c+1,I)}if(!A){u.forEachTileCoordParentTileRange(T.tileCoord,S,null,P,x)}}}var O=y*o/v*d;var b=e.viewHints;var w=b[ol.ViewHint.ANIMATING]||b[ol.ViewHint.INTERACTING];if(!(this.renderedResolution&&Date.now()-e.time>16&&w)&&(E||!(this.renderedExtent_&&ol.extent.containsExtent(this.renderedExtent_,h))||this.renderedRevision!=g||d!=this.oversampling_||!w&&O!=this.renderedResolution)){var F=this.context;if(F){var N=p.getTilePixelSize(c,o,n);var G=Math.round(f.getWidth()*N[0]/d);var D=Math.round(f.getHeight()*N[1]/d);var q=F.canvas;if(q.width!=G||q.height!=D){this.oversampling_=d;q.width=G;q.height=D}else{if(this.renderedExtent_&&!ol.extent.equals(m,this.renderedExtent_)){F.clearRect(0,0,G,D)}d=this.oversampling_}}this.renderedTiles.length=0;var k=Object.keys(_).map(Number);k.sort(function(e,t){if(e===c){return 1}else if(t===c){return-1}else{return e>t?1:e<t?-1:0}});var U,j,V,W,B,K;var X,Y,Z,H,z;for(B=0,K=k.length;B<K;++B){W=k[B];V=p.getTilePixelSize(W,o,n);U=u.getResolution(W);j=U/y;Y=v*p.getGutter(n);Z=_[W];for(var J in Z){T=Z[J];X=u.getTileCoordExtent(T.getTileCoord(),x);R=(X[0]-m[0])/y*v/d;L=(m[3]-X[3])/y*v/d;H=V[0]*j/d;z=V[1]*j/d;this.drawTileImage(T,e,t,R,L,H,z,Y,c===W);this.renderedTiles.push(T)}}this.renderedRevision=g;this.renderedResolution=y*o/v*d;this.renderedExtent_=m}var Q=this.renderedResolution/l;var $=ol.transform.compose(this.imageTransform_,o*r[0]/2,o*r[1]/2,Q,Q,0,(this.renderedExtent_[0]-a[0])/this.renderedResolution*o,(a[1]-this.renderedExtent_[3])/this.renderedResolution*o);ol.transform.compose(this.coordinateToCanvasPixelTransform,o*r[0]/2-$[4],o*r[1]/2-$[5],o/l,-o/l,0,-a[0],-a[1]);this.updateUsedTiles(e.usedTiles,p,c,f);this.manageTilePyramid(e,p,u,o,n,h,c,s.getPreload());this.scheduleExpireCache(e,p);this.updateLogos(e,p);return this.renderedTiles.length>0};ol.renderer.canvas.TileLayer.prototype.drawTileImage=function(e,t,o,r,i,n,l,a,s){var p=e.getImage(this.getLayer());if(!p){return}var g=ol.getUid(this);var u=s?e.getAlpha(g,t.time):1;if(u===1&&!this.getLayer().getSource().getOpaque(t.viewState.projection)){this.context.clearRect(r,i,n,l)}var c=u!==this.context.globalAlpha;if(c){this.context.save();this.context.globalAlpha=u}this.context.drawImage(p,a,a,p.width-2*a,p.height-2*a,r,i,n,l);if(c){this.context.restore()}if(u!==1){t.animate=true}else if(s){e.endTransition(g)}};ol.renderer.canvas.TileLayer.prototype.getImage=function(){var e=this.context;return e?e.canvas:null};ol.renderer.canvas.TileLayer.prototype.getLayer;ol.renderer.canvas.TileLayer.prototype.getImageTransform=function(){return this.imageTransform_};goog.provide("ol.ext.rbush");ol.ext.rbush=function(){};(function(){(function(e){"use strict";var t=o;function o(e,t,n,l,a){n=n||0;l=l||e.length-1;a=a||i;while(l>n){if(l-n>600){var s=l-n+1;var p=t-n+1;var g=Math.log(s);var u=.5*Math.exp(2*g/3);var c=.5*Math.sqrt(g*u*(s-u)/s)*(p-s/2<0?-1:1);var y=Math.max(n,Math.floor(t-p*u/s+c));var d=Math.min(l,Math.floor(t+(s-p)*u/s+c));o(e,t,y,d,a)}var h=e[t];var f=n;var m=l;r(e,n,t);if(a(e[l],h)>0)r(e,n,l);while(f<m){r(e,f,m);f++;m--;while(a(e[f],h)<0)f++;while(a(e[m],h)>0)m--}if(a(e[n],h)===0)r(e,n,m);else{m++;r(e,m,l)}if(m<=t)n=m+1;if(t<=m)l=m-1}}function r(e,t,o){var r=e[t];e[t]=e[o];e[o]=r}function i(e,t){return e<t?-1:e>t?1:0}var n=l;function l(e,t){if(!(this instanceof l))return new l(e,t);this._maxEntries=Math.max(4,e||9);this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4));if(t){this._initFormat(t)}this.clear()}l.prototype={all:function(){return this._all(this.data,[])},search:function(e){var t=this.data,o=[],r=this.toBBox;if(!v(e,t))return o;var i=[],n,l,a,s;while(t){for(n=0,l=t.children.length;n<l;n++){a=t.children[n];s=t.leaf?r(a):a;if(v(e,s)){if(t.leaf)o.push(a);else if(m(e,s))this._all(a,o);else i.push(a)}}t=i.pop()}return o},collides:function(e){var t=this.data,o=this.toBBox;if(!v(e,t))return false;var r=[],i,n,l,a;while(t){for(i=0,n=t.children.length;i<n;i++){l=t.children[i];a=t.leaf?o(l):l;if(v(e,a)){if(t.leaf||m(e,a))return true;r.push(l)}}t=r.pop()}return false},load:function(e){if(!(e&&e.length))return this;if(e.length<this._minEntries){for(var t=0,o=e.length;t<o;t++){this.insert(e[t])}return this}var r=this._build(e.slice(),0,e.length-1,0);if(!this.data.children.length){this.data=r}else if(this.data.height===r.height){this._splitRoot(this.data,r)}else{if(this.data.height<r.height){var i=this.data;this.data=r;r=i}this._insert(r,this.data.height-r.height-1,true)}return this},insert:function(e){if(e)this._insert(e,this.data.height-1);return this},clear:function(){this.data=_([]);return this},remove:function(e,t){if(!e)return this;var o=this.data,r=this.toBBox(e),i=[],n=[],l,s,p,g;while(o||i.length){if(!o){o=i.pop();s=i[i.length-1];l=n.pop();g=true}if(o.leaf){p=a(e,o.children,t);if(p!==-1){o.children.splice(p,1);i.push(o);this._condense(i);return this}}if(!g&&!o.leaf&&m(o,r)){i.push(o);n.push(l);l=0;s=o;o=o.children[0]}else if(s){l++;o=s.children[l];g=false}else o=null}return this},toBBox:function(e){return e},compareMinX:u,compareMinY:c,toJSON:function(){return this.data},fromJSON:function(e){this.data=e;return this},_all:function(e,t){var o=[];while(e){if(e.leaf)t.push.apply(t,e.children);else o.push.apply(o,e.children);e=o.pop()}return t},_build:function(e,t,o,r){var i=o-t+1,n=this._maxEntries,l;if(i<=n){l=_(e.slice(t,o+1));s(l,this.toBBox);return l}if(!r){r=Math.ceil(Math.log(i)/Math.log(n));n=Math.ceil(i/Math.pow(n,r-1))}l=_([]);l.leaf=false;l.height=r;var a=Math.ceil(i/n),p=a*Math.ceil(Math.sqrt(n)),g,u,c,y;S(e,t,o,p,this.compareMinX);for(g=t;g<=o;g+=p){c=Math.min(g+p-1,o);S(e,g,c,a,this.compareMinY);for(u=g;u<=c;u+=a){y=Math.min(u+a-1,c);l.children.push(this._build(e,u,y,r-1))}}s(l,this.toBBox);return l},_chooseSubtree:function(e,t,o,r){var i,n,l,a,s,p,g,u;while(true){r.push(t);if(t.leaf||r.length-1===o)break;g=u=Infinity;for(i=0,n=t.children.length;i<n;i++){l=t.children[i];s=y(l);p=h(e,l)-s;if(p<u){u=p;g=s<g?s:g;a=l}else if(p===u){if(s<g){g=s;a=l}}}t=a||t.children[0]}return t},_insert:function(e,t,o){var r=this.toBBox,i=o?e:r(e),n=[];var l=this._chooseSubtree(i,this.data,t,n);l.children.push(e);g(l,i);while(t>=0){if(n[t].children.length>this._maxEntries){this._split(n,t);t--}else break}this._adjustParentBBoxes(i,n,t)},_split:function(e,t){var o=e[t],r=o.children.length,i=this._minEntries;this._chooseSplitAxis(o,i,r);var n=this._chooseSplitIndex(o,i,r);var l=_(o.children.splice(n,o.children.length-n));l.height=o.height;l.leaf=o.leaf;s(o,this.toBBox);s(l,this.toBBox);if(t)e[t-1].children.push(l);else this._splitRoot(o,l)},_splitRoot:function(e,t){this.data=_([e,t]);this.data.height=e.height+1;this.data.leaf=false;s(this.data,this.toBBox)},_chooseSplitIndex:function(e,t,o){var r,i,n,l,a,s,g,u;s=g=Infinity;for(r=t;r<=o-t;r++){i=p(e,0,r,this.toBBox);n=p(e,r,o,this.toBBox);l=f(i,n);a=y(i)+y(n);if(l<s){s=l;u=r;g=a<g?a:g}else if(l===s){if(a<g){g=a;u=r}}}return u},_chooseSplitAxis:function(e,t,o){var r=e.leaf?this.compareMinX:u,i=e.leaf?this.compareMinY:c,n=this._allDistMargin(e,t,o,r),l=this._allDistMargin(e,t,o,i);if(n<l)e.children.sort(r)},_allDistMargin:function(e,t,o,r){e.children.sort(r);var i=this.toBBox,n=p(e,0,t,i),l=p(e,o-t,o,i),a=d(n)+d(l),s,u;for(s=t;s<o-t;s++){u=e.children[s];g(n,e.leaf?i(u):u);a+=d(n)}for(s=o-t-1;s>=t;s--){u=e.children[s];g(l,e.leaf?i(u):u);a+=d(l)}return a},_adjustParentBBoxes:function(e,t,o){for(var r=o;r>=0;r--){g(t[r],e)}},_condense:function(e){for(var t=e.length-1,o;t>=0;t--){if(e[t].children.length===0){if(t>0){o=e[t-1].children;o.splice(o.indexOf(e[t]),1)}else this.clear()}else s(e[t],this.toBBox)}},_initFormat:function(e){var t=["return a"," - b",";"];this.compareMinX=new Function("a","b",t.join(e[0]));this.compareMinY=new Function("a","b",t.join(e[1]));this.toBBox=new Function("a","return {minX: a"+e[0]+", minY: a"+e[1]+", maxX: a"+e[2]+", maxY: a"+e[3]+"};")}};function a(e,t,o){if(!o)return t.indexOf(e);for(var r=0;r<t.length;r++){if(o(e,t[r]))return r}return-1}function s(e,t){p(e,0,e.children.length,t,e)}function p(e,t,o,r,i){if(!i)i=_(null);i.minX=Infinity;i.minY=Infinity;i.maxX=-Infinity;i.maxY=-Infinity;for(var n=t,l;n<o;n++){l=e.children[n];g(i,e.leaf?r(l):l)}return i}function g(e,t){e.minX=Math.min(e.minX,t.minX);e.minY=Math.min(e.minY,t.minY);e.maxX=Math.max(e.maxX,t.maxX);e.maxY=Math.max(e.maxY,t.maxY);return e}function u(e,t){return e.minX-t.minX}function c(e,t){return e.minY-t.minY}function y(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function d(e){return e.maxX-e.minX+(e.maxY-e.minY)}function h(e,t){return(Math.max(t.maxX,e.maxX)-Math.min(t.minX,e.minX))*(Math.max(t.maxY,e.maxY)-Math.min(t.minY,e.minY))}function f(e,t){var o=Math.max(e.minX,t.minX),r=Math.max(e.minY,t.minY),i=Math.min(e.maxX,t.maxX),n=Math.min(e.maxY,t.maxY);return Math.max(0,i-o)*Math.max(0,n-r)}function m(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function v(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function _(e){return{children:e,height:1,leaf:true,minX:Infinity,minY:Infinity,maxX:-Infinity,maxY:-Infinity}}function S(e,o,r,i,n){var l=[o,r],a;while(l.length){r=l.pop();o=l.pop();if(r-o<=i)continue;a=o+Math.ceil((r-o)/i/2)*i;t(e,a,o,r,n);l.push(o,a,a,r)}}e["default"]=n})(this.rbush=this.rbush||{})}).call(ol.ext);ol.ext.rbush=ol.ext.rbush.default;goog.provide("ol.render.ReplayGroup");ol.render.ReplayGroup=function(){};ol.render.ReplayGroup.prototype.getReplay=function(e,t){};ol.render.ReplayGroup.prototype.isEmpty=function(){};goog.provide("ol.render.ReplayType");ol.render.ReplayType={CIRCLE:"Circle",DEFAULT:"Default",IMAGE:"Image",LINE_STRING:"LineString",POLYGON:"Polygon",TEXT:"Text"};goog.provide("ol.geom.flat.length");ol.geom.flat.length.lineString=function(e,t,o,r){var i=e[t];var n=e[t+1];var l=0;var a;for(a=t+r;a<o;a+=r){var s=e[a];var p=e[a+1];l+=Math.sqrt((s-i)*(s-i)+(p-n)*(p-n));i=s;n=p}return l};ol.geom.flat.length.linearRing=function(e,t,o,r){var i=ol.geom.flat.length.lineString(e,t,o,r);var n=e[o-r]-e[t];var l=e[o-r+1]-e[t+1];i+=Math.sqrt(n*n+l*l);return i};goog.provide("ol.geom.flat.textpath");goog.require("ol.math");ol.geom.flat.textpath.lineString=function(e,t,o,r,i,n,l,a){var s=[];var p=e[t]>e[o-r];var g=i.length;var u=e[t];var c=e[t+1];t+=r;var y=e[t];var d=e[t+1];var h=0;var f=Math.sqrt(Math.pow(y-u,2)+Math.pow(d-c,2));var m="";var v=0;var _,S,x;for(var P=0;P<g;++P){S=p?g-P-1:P;var E=i.charAt(S);m=p?E+m:m+E;var T=n(m)-v;v+=T;var R=l+T/2;while(t<o-r&&h+f<R){u=y;c=d;t+=r;y=e[t];d=e[t+1];h+=f;f=Math.sqrt(Math.pow(y-u,2)+Math.pow(d-c,2))}var L=R-h;var M=Math.atan2(d-c,y-u);if(p){M+=M>0?-Math.PI:Math.PI}if(x!==undefined){var C=M-x;C+=C>Math.PI?-2*Math.PI:C<-Math.PI?2*Math.PI:0;if(Math.abs(C)>a){return null}}var I=L/f;var A=ol.math.lerp(u,y,I);var O=ol.math.lerp(c,d,I);if(x==M){if(p){_[0]=A;_[1]=O;_[2]=T/2}_[4]=m}else{m=E;v=T;_=[A,O,T/2,M,m];if(p){s.unshift(_)}else{s.push(_)}x=M}l+=T}return s};goog.provide("ol.render.canvas.Instruction");ol.render.canvas.Instruction={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12};goog.provide("ol.render.replay");goog.require("ol.render.ReplayType");ol.render.replay.ORDER=[ol.render.ReplayType.POLYGON,ol.render.ReplayType.CIRCLE,ol.render.ReplayType.LINE_STRING,ol.render.ReplayType.IMAGE,ol.render.ReplayType.TEXT,ol.render.ReplayType.DEFAULT];ol.render.replay.TEXT_ALIGN={};ol.render.replay.TEXT_ALIGN["left"]=0;ol.render.replay.TEXT_ALIGN["end"]=0;ol.render.replay.TEXT_ALIGN["center"]=.5;ol.render.replay.TEXT_ALIGN["right"]=1;ol.render.replay.TEXT_ALIGN["start"]=1;ol.render.replay.TEXT_ALIGN["top"]=0;ol.render.replay.TEXT_ALIGN["middle"]=.5;ol.render.replay.TEXT_ALIGN["hanging"]=.2;ol.render.replay.TEXT_ALIGN["alphabetic"]=.8;ol.render.replay.TEXT_ALIGN["ideographic"]=.8;ol.render.replay.TEXT_ALIGN["bottom"]=1;goog.provide("ol.render.canvas.Replay");goog.require("ol");goog.require("ol.array");goog.require("ol.colorlike");goog.require("ol.extent");goog.require("ol.extent.Relationship");goog.require("ol.geom.GeometryType");goog.require("ol.geom.flat.inflate");goog.require("ol.geom.flat.length");goog.require("ol.geom.flat.textpath");goog.require("ol.geom.flat.transform");goog.require("ol.has");goog.require("ol.obj");goog.require("ol.render.VectorContext");goog.require("ol.render.canvas");goog.require("ol.render.canvas.Instruction");goog.require("ol.render.replay");goog.require("ol.transform");ol.render.canvas.Replay=function(e,t,o,r,i,n){ol.render.VectorContext.call(this);this.declutterTree=n;this.tmpExtent_=ol.extent.createEmpty();this.tolerance=e;this.maxExtent=t;this.overlaps=i;this.pixelRatio=r;this.maxLineWidth=0;this.resolution=o;this.fillOrigin_;this.beginGeometryInstruction1_=null;this.beginGeometryInstruction2_=null;this.bufferedMaxExtent_=null;this.instructions=[];this.coordinates=[];this.coordinateCache_={};this.renderedTransform_=ol.transform.create();this.hitDetectionInstructions=[];this.pixelCoordinates_=null;this.state={};this.viewRotation_=0;this.tmpLocalTransform_=ol.transform.create();this.resetTransform_=ol.transform.create()};ol.inherits(ol.render.canvas.Replay,ol.render.VectorContext);ol.render.canvas.Replay.prototype.replayTextBackground_=function(e,t,o,r,i,n,l){e.beginPath();e.moveTo.apply(e,t);e.lineTo.apply(e,o);e.lineTo.apply(e,r);e.lineTo.apply(e,i);e.lineTo.apply(e,t);if(n){this.fillOrigin_=n[2];this.fill_(e)}if(l){this.setStrokeStyle_(e,l);e.stroke()}};ol.render.canvas.Replay.prototype.replayImage_=function(e,t,o,r,i,n,l,a,s,p,g,u,c,y,d,h,f,m){var v=f||m;var _=this.tmpLocalTransform_;i*=c;n*=c;t-=i;o-=n;if(y){t=Math.round(t);o=Math.round(o)}var S=d+p>r.width?r.width-p:d;var x=a+g>r.height?r.height-g:a;var P=this.tmpExtent_;var E=h[3]+S*c+h[1];var T=h[0]+x*c+h[2];var R=t-h[3];var L=o-h[0];var M;var C;var I;var A;if(v||u!==0){M=[R,L];C=[R+E,L];I=[R+E,L+T];A=[R,L+T]}var O=null;if(u!==0){var b=t+i;var w=o+n;O=ol.transform.compose(_,b,w,1,1,u,-b,-w);ol.extent.createOrUpdateEmpty(P);ol.extent.extendCoordinate(P,ol.transform.apply(_,M));ol.extent.extendCoordinate(P,ol.transform.apply(_,C));ol.extent.extendCoordinate(P,ol.transform.apply(_,I));ol.extent.extendCoordinate(P,ol.transform.apply(_,A))}else{ol.extent.createOrUpdate(R,L,R+E,L+T,P)}var F=e.canvas;var N=P[0]<=F.width&&P[2]>=0&&P[1]<=F.height&&P[3]>=0;if(l){if(!N&&l[4]==1){return}ol.extent.extend(l,P);var G=N?[e,O?O.slice(0):null,s,r,p,g,S,x,t,o,c]:null;if(G&&v){G.push(f,m,M,C,I,A)}l.push(G)}else if(N){if(v){this.replayTextBackground_(e,M,C,I,A,f,m)}ol.render.canvas.drawImage(e,O,s,r,p,g,S,x,t,o,c)}};ol.render.canvas.Replay.prototype.applyPixelRatio=function(e){var t=this.pixelRatio;return t==1?e:e.map(function(e){return e*t})};ol.render.canvas.Replay.prototype.appendFlatCoordinates=function(e,t,o,r,i,n){var l=this.coordinates.length;var a=this.getBufferedMaxExtent();if(n){t+=r}var s=[e[t],e[t+1]];var p=[NaN,NaN];var g=true;var u,c,y;for(u=t+r;u<o;u+=r){p[0]=e[u];p[1]=e[u+1];y=ol.extent.coordinateRelationship(a,p);if(y!==c){if(g){this.coordinates[l++]=s[0];this.coordinates[l++]=s[1]}this.coordinates[l++]=p[0];this.coordinates[l++]=p[1];g=false}else if(y===ol.extent.Relationship.INTERSECTING){this.coordinates[l++]=p[0];this.coordinates[l++]=p[1];g=false}else{g=true}s[0]=p[0];s[1]=p[1];c=y}if(i&&g||u===t+r){this.coordinates[l++]=s[0];this.coordinates[l++]=s[1]}return l};ol.render.canvas.Replay.prototype.drawCustomCoordinates_=function(e,t,o,r,i){for(var n=0,l=o.length;n<l;++n){var a=o[n];var s=this.appendFlatCoordinates(e,t,a,r,false,false);i.push(s);t=a}return t};ol.render.canvas.Replay.prototype.drawCustom=function(e,t,o){this.beginGeometry(e,t);var r=e.getType();var i=e.getStride();var n=this.coordinates.length;var l,a,s,p;var g;if(r==ol.geom.GeometryType.MULTI_POLYGON){e=e;l=e.getOrientedFlatCoordinates();p=[];var u=e.getEndss();g=0;for(var c=0,y=u.length;c<y;++c){var d=[];g=this.drawCustomCoordinates_(l,g,u[c],i,d);p.push(d)}this.instructions.push([ol.render.canvas.Instruction.CUSTOM,n,p,e,o,ol.geom.flat.inflate.coordinatesss])}else if(r==ol.geom.GeometryType.POLYGON||r==ol.geom.GeometryType.MULTI_LINE_STRING){s=[];l=r==ol.geom.GeometryType.POLYGON?e.getOrientedFlatCoordinates():e.getFlatCoordinates();g=this.drawCustomCoordinates_(l,0,e.getEnds(),i,s);this.instructions.push([ol.render.canvas.Instruction.CUSTOM,n,s,e,o,ol.geom.flat.inflate.coordinatess])}else if(r==ol.geom.GeometryType.LINE_STRING||r==ol.geom.GeometryType.MULTI_POINT){l=e.getFlatCoordinates();a=this.appendFlatCoordinates(l,0,l.length,i,false,false);this.instructions.push([ol.render.canvas.Instruction.CUSTOM,n,a,e,o,ol.geom.flat.inflate.coordinates])}else if(r==ol.geom.GeometryType.POINT){l=e.getFlatCoordinates();this.coordinates.push(l[0],l[1]);a=this.coordinates.length;this.instructions.push([ol.render.canvas.Instruction.CUSTOM,n,a,e,o])}this.endGeometry(e,t)};ol.render.canvas.Replay.prototype.beginGeometry=function(e,t){this.beginGeometryInstruction1_=[ol.render.canvas.Instruction.BEGIN_GEOMETRY,t,0];this.instructions.push(this.beginGeometryInstruction1_);this.beginGeometryInstruction2_=[ol.render.canvas.Instruction.BEGIN_GEOMETRY,t,0];this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)};ol.render.canvas.Replay.prototype.fill_=function(e){if(this.fillOrigin_){var t=ol.transform.apply(this.renderedTransform_,this.fillOrigin_.slice());e.translate(t[0],t[1]);e.rotate(this.viewRotation_)}e.fill();if(this.fillOrigin_){e.setTransform.apply(e,ol.render.canvas.resetTransform_)}};ol.render.canvas.Replay.prototype.setStrokeStyle_=function(e,t){e.strokeStyle=t[1];e.lineWidth=t[2];e.lineCap=t[3];e.lineJoin=t[4];e.miterLimit=t[5];if(ol.has.CANVAS_LINE_DASH){e.lineDashOffset=t[7];e.setLineDash(t[6])}};ol.render.canvas.Replay.prototype.renderDeclutter_=function(e,t){if(e&&e.length>5){var o=e[4];if(o==1||o==e.length-5){var r={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3],value:t};if(!this.declutterTree.collides(r)){this.declutterTree.insert(r);var i=ol.render.canvas.drawImage;for(var n=5,l=e.length;n<l;++n){var a=e[n];if(a){if(a.length>11){this.replayTextBackground_(a[0],a[13],a[14],a[15],a[16],a[11],a[12])}i.apply(undefined,a)}}}e.length=5;ol.extent.createOrUpdateEmpty(e)}}};ol.render.canvas.Replay.prototype.replay_=function(e,t,o,r,i,n){var l;if(this.pixelCoordinates_&&ol.array.equals(t,this.renderedTransform_)){l=this.pixelCoordinates_}else{if(!this.pixelCoordinates_){this.pixelCoordinates_=[]}l=ol.geom.flat.transform.transform2D(this.coordinates,0,this.coordinates.length,2,t,this.pixelCoordinates_);ol.transform.setFromArray(this.renderedTransform_,t)}var a=!ol.obj.isEmpty(o);var s=0;var p=r.length;var g=0;var u;var c,y,d,h,f,m,v,_;var S=0;var x=0;var P=null;var E=null;var T=this.coordinateCache_;var R=this.viewRotation_;var L={context:e,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:R};var M=this.instructions!=r||this.overlaps?0:200;while(s<p){var C=r[s];var I=C[0];var A,O,b;switch(I){case ol.render.canvas.Instruction.BEGIN_GEOMETRY:A=C[1];if(a&&o[ol.getUid(A).toString()]||!A.getGeometry()){s=C[2]}else if(n!==undefined&&!ol.extent.intersects(n,A.getGeometry().getExtent())){s=C[2]+1}else{++s}break;case ol.render.canvas.Instruction.BEGIN_PATH:if(S>M){this.fill_(e);S=0}if(x>M){e.stroke();x=0}if(!S&&!x){e.beginPath();d=h=NaN}++s;break;case ol.render.canvas.Instruction.CIRCLE:g=C[1];var w=l[g];var F=l[g+1];var N=l[g+2];var G=l[g+3];var D=N-w;var q=G-F;var k=Math.sqrt(D*D+q*q);e.moveTo(w+k,F);e.arc(w,F,k,0,2*Math.PI,true);++s;break;case ol.render.canvas.Instruction.CLOSE_PATH:e.closePath();++s;break;case ol.render.canvas.Instruction.CUSTOM:g=C[1];u=C[2];var U=C[3];var j=C[4];var V=C.length==6?C[5]:undefined;L.geometry=U;L.feature=A;if(!(s in T)){T[s]=[]}var W=T[s];if(V){V(l,g,u,2,W)}else{W[0]=l[g];W[1]=l[g+1];W.length=2}j(W,L);++s;break;case ol.render.canvas.Instruction.DRAW_IMAGE:g=C[1];u=C[2];_=C[3];c=C[4];y=C[5];v=i?null:C[6];var B=C[7];var K=C[8];var X=C[9];var Y=C[10];var Z=C[11];var H=C[12];var z=C[13];var J=C[14];var Q=C[15];var $,ee,te;if(C.length>16){$=C[16];ee=C[17];te=C[18]}else{$=ol.render.canvas.defaultPadding;ee=te=false}if(Z){H+=R}for(;g<u;g+=2){this.replayImage_(e,l[g],l[g+1],_,c,y,v,B,K,X,Y,H,z,J,Q,$,ee?P:null,te?E:null)}this.renderDeclutter_(v,A);++s;break;case ol.render.canvas.Instruction.DRAW_CHARS:var oe=C[1];var re=C[2];var ie=C[3];v=i?null:C[4];var ne=C[5];var le=C[6];var ae=C[7];var se=C[8];var pe=C[9];var ge=C[10];var ue=C[11];var ce=C[12];var ye=C[13];var de=C[14];var he=ol.geom.flat.length.lineString(l,oe,re,2);var fe=se(ce);if(ne||fe<=he){var me=this.textStates[ye].textAlign;var ve=(he-fe)*ol.render.replay.TEXT_ALIGN[me];var _e=ol.geom.flat.textpath.lineString(l,oe,re,2,ce,se,ve,ae);if(_e){var Se,xe,Pe,Ee,Te;if(ge){for(Se=0,xe=_e.length;Se<xe;++Se){Te=_e[Se];Pe=Te[4];Ee=this.getImage(Pe,ye,"",ge);c=Te[2]+ue;y=ie*Ee.height+(.5-ie)*2*ue-pe;this.replayImage_(e,Te[0],Te[1],Ee,c,y,v,Ee.height,1,0,0,Te[3],de,false,Ee.width,ol.render.canvas.defaultPadding,null,null)}}if(le){for(Se=0,xe=_e.length;Se<xe;++Se){Te=_e[Se];Pe=Te[4];Ee=this.getImage(Pe,ye,le,"");c=Te[2];y=ie*Ee.height-pe;this.replayImage_(e,Te[0],Te[1],Ee,c,y,v,Ee.height,1,0,0,Te[3],de,false,Ee.width,ol.render.canvas.defaultPadding,null,null)}}}}this.renderDeclutter_(v,A);++s;break;case ol.render.canvas.Instruction.END_GEOMETRY:if(i!==undefined){A=C[1];var Re=i(A);if(Re){return Re}}++s;break;case ol.render.canvas.Instruction.FILL:if(M){S++}else{this.fill_(e)}++s;break;case ol.render.canvas.Instruction.MOVE_TO_LINE_TO:g=C[1];u=C[2];O=l[g];b=l[g+1];f=O+.5|0;m=b+.5|0;if(f!==d||m!==h){e.moveTo(O,b);d=f;h=m}for(g+=2;g<u;g+=2){O=l[g];b=l[g+1];f=O+.5|0;m=b+.5|0;if(g==u-2||f!==d||m!==h){e.lineTo(O,b);d=f;h=m}}++s;break;case ol.render.canvas.Instruction.SET_FILL_STYLE:P=C;this.fillOrigin_=C[2];if(S){this.fill_(e);S=0;if(x){e.stroke();x=0}}e.fillStyle=C[1];++s;break;case ol.render.canvas.Instruction.SET_STROKE_STYLE:E=C;if(x){e.stroke();x=0}this.setStrokeStyle_(e,C);++s;break;case ol.render.canvas.Instruction.STROKE:if(M){x++}else{e.stroke()}++s;break;default:++s;break}}if(S){this.fill_(e)}if(x){e.stroke()}return undefined};ol.render.canvas.Replay.prototype.replay=function(e,t,o,r){this.viewRotation_=o;this.replay_(e,t,r,this.instructions,undefined,undefined)};ol.render.canvas.Replay.prototype.replayHitDetection=function(e,t,o,r,i,n){this.viewRotation_=o;return this.replay_(e,t,r,this.hitDetectionInstructions,i,n)};ol.render.canvas.Replay.prototype.reverseHitDetectionInstructions=function(){var e=this.hitDetectionInstructions;e.reverse();var t;var o=e.length;var r;var i;var n=-1;for(t=0;t<o;++t){r=e[t];i=r[0];if(i==ol.render.canvas.Instruction.END_GEOMETRY){n=t}else if(i==ol.render.canvas.Instruction.BEGIN_GEOMETRY){r[2]=t;ol.array.reverseSubArray(this.hitDetectionInstructions,n,t);n=-1}}};ol.render.canvas.Replay.prototype.setFillStrokeStyle=function(e,t){var o=this.state;if(e){var r=e.getColor();o.fillStyle=ol.colorlike.asColorLike(r?r:ol.render.canvas.defaultFillStyle)}else{o.fillStyle=undefined}if(t){var i=t.getColor();o.strokeStyle=ol.colorlike.asColorLike(i?i:ol.render.canvas.defaultStrokeStyle);var n=t.getLineCap();o.lineCap=n!==undefined?n:ol.render.canvas.defaultLineCap;var l=t.getLineDash();o.lineDash=l?l.slice():ol.render.canvas.defaultLineDash;var a=t.getLineDashOffset();o.lineDashOffset=a?a:ol.render.canvas.defaultLineDashOffset;var s=t.getLineJoin();o.lineJoin=s!==undefined?s:ol.render.canvas.defaultLineJoin;var p=t.getWidth();o.lineWidth=p!==undefined?p:ol.render.canvas.defaultLineWidth;var g=t.getMiterLimit();o.miterLimit=g!==undefined?g:ol.render.canvas.defaultMiterLimit;if(o.lineWidth>this.maxLineWidth){this.maxLineWidth=o.lineWidth;this.bufferedMaxExtent_=null}}else{o.strokeStyle=undefined;o.lineCap=undefined;o.lineDash=null;o.lineDashOffset=undefined;o.lineJoin=undefined;o.lineWidth=undefined;o.miterLimit=undefined}};ol.render.canvas.Replay.prototype.applyFill=function(e,t){var o=e.fillStyle;var r=[ol.render.canvas.Instruction.SET_FILL_STYLE,o];if(typeof o!=="string"){var i=t.getExtent();r.push([i[0],i[3]])}this.instructions.push(r)};ol.render.canvas.Replay.prototype.applyStroke=function(e){this.instructions.push([ol.render.canvas.Instruction.SET_STROKE_STYLE,e.strokeStyle,e.lineWidth*this.pixelRatio,e.lineCap,e.lineJoin,e.miterLimit,this.applyPixelRatio(e.lineDash),e.lineDashOffset*this.pixelRatio])};ol.render.canvas.Replay.prototype.updateFillStyle=function(e,t,o){var r=e.fillStyle;if(typeof r!=="string"||e.currentFillStyle!=r){t.call(this,e,o);e.currentFillStyle=r}};ol.render.canvas.Replay.prototype.updateStrokeStyle=function(e,t){var o=e.strokeStyle;var r=e.lineCap;var i=e.lineDash;var n=e.lineDashOffset;var l=e.lineJoin;var a=e.lineWidth;var s=e.miterLimit;if(e.currentStrokeStyle!=o||e.currentLineCap!=r||i!=e.currentLineDash&&!ol.array.equals(e.currentLineDash,i)||e.currentLineDashOffset!=n||e.currentLineJoin!=l||e.currentLineWidth!=a||e.currentMiterLimit!=s){t.call(this,e);e.currentStrokeStyle=o;e.currentLineCap=r;e.currentLineDash=i;e.currentLineDashOffset=n;e.currentLineJoin=l;e.currentLineWidth=a;e.currentMiterLimit=s}};ol.render.canvas.Replay.prototype.endGeometry=function(e,t){this.beginGeometryInstruction1_[2]=this.instructions.length;this.beginGeometryInstruction1_=null;this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length;this.beginGeometryInstruction2_=null;var o=[ol.render.canvas.Instruction.END_GEOMETRY,t];this.instructions.push(o);this.hitDetectionInstructions.push(o)};ol.render.canvas.Replay.prototype.finish=ol.nullFunction;ol.render.canvas.Replay.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_){this.bufferedMaxExtent_=ol.extent.clone(this.maxExtent);if(this.maxLineWidth>0){var e=this.resolution*(this.maxLineWidth+1)/2;ol.extent.buffer(this.bufferedMaxExtent_,e,this.bufferedMaxExtent_)}}return this.bufferedMaxExtent_};goog.provide("ol.render.canvas.ImageReplay");goog.require("ol");goog.require("ol.render.canvas.Instruction");goog.require("ol.render.canvas.Replay");ol.render.canvas.ImageReplay=function(e,t,o,r,i,n){ol.render.canvas.Replay.call(this,e,t,o,r,i,n);this.declutterGroup_=null;this.hitDetectionImage_=null;this.image_=null;this.anchorX_=undefined;this.anchorY_=undefined;this.height_=undefined;this.opacity_=undefined;this.originX_=undefined;this.originY_=undefined;this.rotateWithView_=undefined;this.rotation_=undefined;this.scale_=undefined;this.snapToPixel_=undefined;this.width_=undefined};ol.inherits(ol.render.canvas.ImageReplay,ol.render.canvas.Replay);ol.render.canvas.ImageReplay.prototype.drawCoordinates_=function(e,t,o,r){return this.appendFlatCoordinates(e,t,o,r,false,false)};ol.render.canvas.ImageReplay.prototype.drawPoint=function(e,t){if(!this.image_){return}this.beginGeometry(e,t);var o=e.getFlatCoordinates();var r=e.getStride();var i=this.coordinates.length;var n=this.drawCoordinates_(o,0,o.length,r);this.instructions.push([ol.render.canvas.Instruction.DRAW_IMAGE,i,n,this.image_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_*this.pixelRatio,this.snapToPixel_,this.width_]);this.hitDetectionInstructions.push([ol.render.canvas.Instruction.DRAW_IMAGE,i,n,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.snapToPixel_,this.width_]);this.endGeometry(e,t)};ol.render.canvas.ImageReplay.prototype.drawMultiPoint=function(e,t){if(!this.image_){return}this.beginGeometry(e,t);var o=e.getFlatCoordinates();var r=e.getStride();var i=this.coordinates.length;var n=this.drawCoordinates_(o,0,o.length,r);this.instructions.push([ol.render.canvas.Instruction.DRAW_IMAGE,i,n,this.image_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_*this.pixelRatio,this.snapToPixel_,this.width_]);this.hitDetectionInstructions.push([ol.render.canvas.Instruction.DRAW_IMAGE,i,n,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.snapToPixel_,this.width_]);this.endGeometry(e,t)};ol.render.canvas.ImageReplay.prototype.finish=function(){this.reverseHitDetectionInstructions();this.anchorX_=undefined;this.anchorY_=undefined;this.hitDetectionImage_=null;this.image_=null;this.height_=undefined;this.scale_=undefined;this.opacity_=undefined;this.originX_=undefined;this.originY_=undefined;this.rotateWithView_=undefined;this.rotation_=undefined;this.snapToPixel_=undefined;this.width_=undefined};ol.render.canvas.ImageReplay.prototype.setImageStyle=function(e,t){var o=e.getAnchor();var r=e.getSize();var i=e.getHitDetectionImage(1);var n=e.getImage(1);var l=e.getOrigin();this.anchorX_=o[0];this.anchorY_=o[1];this.declutterGroup_=t;this.hitDetectionImage_=i;this.image_=n;this.height_=r[1];this.opacity_=e.getOpacity();this.originX_=l[0];this.originY_=l[1];this.rotateWithView_=e.getRotateWithView();this.rotation_=e.getRotation();this.scale_=e.getScale();this.snapToPixel_=e.getSnapToPixel();this.width_=r[0]};goog.provide("ol.render.canvas.LineStringReplay");goog.require("ol");goog.require("ol.render.canvas.Instruction");goog.require("ol.render.canvas.Replay");ol.render.canvas.LineStringReplay=function(e,t,o,r,i,n){ol.render.canvas.Replay.call(this,e,t,o,r,i,n)};ol.inherits(ol.render.canvas.LineStringReplay,ol.render.canvas.Replay);ol.render.canvas.LineStringReplay.prototype.drawFlatCoordinates_=function(e,t,o,r){var i=this.coordinates.length;var n=this.appendFlatCoordinates(e,t,o,r,false,false);var l=[ol.render.canvas.Instruction.MOVE_TO_LINE_TO,i,n];this.instructions.push(l);this.hitDetectionInstructions.push(l);return o};ol.render.canvas.LineStringReplay.prototype.drawLineString=function(e,t){var o=this.state;var r=o.strokeStyle;var i=o.lineWidth;if(r===undefined||i===undefined){return}this.updateStrokeStyle(o,this.applyStroke);this.beginGeometry(e,t);this.hitDetectionInstructions.push([ol.render.canvas.Instruction.SET_STROKE_STYLE,o.strokeStyle,o.lineWidth,o.lineCap,o.lineJoin,o.miterLimit,o.lineDash,o.lineDashOffset],[ol.render.canvas.Instruction.BEGIN_PATH]);var n=e.getFlatCoordinates();var l=e.getStride();this.drawFlatCoordinates_(n,0,n.length,l);this.hitDetectionInstructions.push([ol.render.canvas.Instruction.STROKE]);this.endGeometry(e,t)};ol.render.canvas.LineStringReplay.prototype.drawMultiLineString=function(e,t){var o=this.state;var r=o.strokeStyle;var i=o.lineWidth;if(r===undefined||i===undefined){return}this.updateStrokeStyle(o,this.applyStroke);this.beginGeometry(e,t);this.hitDetectionInstructions.push([ol.render.canvas.Instruction.SET_STROKE_STYLE,o.strokeStyle,o.lineWidth,o.lineCap,o.lineJoin,o.miterLimit,o.lineDash,o.lineDashOffset],[ol.render.canvas.Instruction.BEGIN_PATH]);var n=e.getEnds();var l=e.getFlatCoordinates();var a=e.getStride();var s=0;var p,g;for(p=0,g=n.length;p<g;++p){s=this.drawFlatCoordinates_(l,s,n[p],a)}this.hitDetectionInstructions.push([ol.render.canvas.Instruction.STROKE]);this.endGeometry(e,t)};ol.render.canvas.LineStringReplay.prototype.finish=function(){var e=this.state;if(e.lastStroke!=undefined&&e.lastStroke!=this.coordinates.length){this.instructions.push([ol.render.canvas.Instruction.STROKE])}this.reverseHitDetectionInstructions();this.state=null};ol.render.canvas.LineStringReplay.prototype.applyStroke=function(e){if(e.lastStroke!=undefined&&e.lastStroke!=this.coordinates.length){this.instructions.push([ol.render.canvas.Instruction.STROKE]);e.lastStroke=this.coordinates.length}e.lastStroke=0;ol.render.canvas.Replay.prototype.applyStroke.call(this,e);this.instructions.push([ol.render.canvas.Instruction.BEGIN_PATH])};goog.provide("ol.render.canvas.PolygonReplay");goog.require("ol");goog.require("ol.color");goog.require("ol.geom.flat.simplify");goog.require("ol.render.canvas");goog.require("ol.render.canvas.Instruction");goog.require("ol.render.canvas.Replay");ol.render.canvas.PolygonReplay=function(e,t,o,r,i,n){ol.render.canvas.Replay.call(this,e,t,o,r,i,n)};ol.inherits(ol.render.canvas.PolygonReplay,ol.render.canvas.Replay);ol.render.canvas.PolygonReplay.prototype.drawFlatCoordinatess_=function(e,t,o,r){var i=this.state;var n=i.fillStyle!==undefined;var l=i.strokeStyle!=undefined;var a=o.length;var s=[ol.render.canvas.Instruction.BEGIN_PATH];this.instructions.push(s);this.hitDetectionInstructions.push(s);for(var p=0;p<a;++p){var g=o[p];var u=this.coordinates.length;var c=this.appendFlatCoordinates(e,t,g,r,true,!l);var y=[ol.render.canvas.Instruction.MOVE_TO_LINE_TO,u,c];this.instructions.push(y);this.hitDetectionInstructions.push(y);if(l){var d=[ol.render.canvas.Instruction.CLOSE_PATH];this.instructions.push(d);this.hitDetectionInstructions.push(d)}t=g}var h=[ol.render.canvas.Instruction.FILL];this.hitDetectionInstructions.push(h);if(n){this.instructions.push(h)}if(l){var f=[ol.render.canvas.Instruction.STROKE];this.instructions.push(f);this.hitDetectionInstructions.push(f)}return t};ol.render.canvas.PolygonReplay.prototype.drawCircle=function(e,t){var o=this.state;var r=o.fillStyle;var i=o.strokeStyle;if(r===undefined&&i===undefined){return}this.setFillStrokeStyles_(e);this.beginGeometry(e,t);this.hitDetectionInstructions.push([ol.render.canvas.Instruction.SET_FILL_STYLE,ol.color.asString(ol.render.canvas.defaultFillStyle)]);if(o.strokeStyle!==undefined){this.hitDetectionInstructions.push([ol.render.canvas.Instruction.SET_STROKE_STYLE,o.strokeStyle,o.lineWidth,o.lineCap,o.lineJoin,o.miterLimit,o.lineDash,o.lineDashOffset])}var n=e.getFlatCoordinates();var l=e.getStride();var a=this.coordinates.length;this.appendFlatCoordinates(n,0,n.length,l,false,false);var s=[ol.render.canvas.Instruction.BEGIN_PATH];var p=[ol.render.canvas.Instruction.CIRCLE,a];this.instructions.push(s,p);this.hitDetectionInstructions.push(s,p);var g=[ol.render.canvas.Instruction.FILL];this.hitDetectionInstructions.push(g);if(o.fillStyle!==undefined){this.instructions.push(g)}if(o.strokeStyle!==undefined){var u=[ol.render.canvas.Instruction.STROKE];this.instructions.push(u);this.hitDetectionInstructions.push(u)}this.endGeometry(e,t)};ol.render.canvas.PolygonReplay.prototype.drawPolygon=function(e,t){var o=this.state;this.setFillStrokeStyles_(e);this.beginGeometry(e,t);this.hitDetectionInstructions.push([ol.render.canvas.Instruction.SET_FILL_STYLE,ol.color.asString(ol.render.canvas.defaultFillStyle)]);if(o.strokeStyle!==undefined){this.hitDetectionInstructions.push([ol.render.canvas.Instruction.SET_STROKE_STYLE,o.strokeStyle,o.lineWidth,o.lineCap,o.lineJoin,o.miterLimit,o.lineDash,o.lineDashOffset])}var r=e.getEnds();var i=e.getOrientedFlatCoordinates();var n=e.getStride();this.drawFlatCoordinatess_(i,0,r,n);this.endGeometry(e,t)};ol.render.canvas.PolygonReplay.prototype.drawMultiPolygon=function(e,t){var o=this.state;var r=o.fillStyle;var i=o.strokeStyle;if(r===undefined&&i===undefined){return}this.setFillStrokeStyles_(e);this.beginGeometry(e,t);this.hitDetectionInstructions.push([ol.render.canvas.Instruction.SET_FILL_STYLE,ol.color.asString(ol.render.canvas.defaultFillStyle)]);if(o.strokeStyle!==undefined){this.hitDetectionInstructions.push([ol.render.canvas.Instruction.SET_STROKE_STYLE,o.strokeStyle,o.lineWidth,o.lineCap,o.lineJoin,o.miterLimit,o.lineDash,o.lineDashOffset])}var n=e.getEndss();var l=e.getOrientedFlatCoordinates();var a=e.getStride();var s=0;var p,g;for(p=0,g=n.length;p<g;++p){s=this.drawFlatCoordinatess_(l,s,n[p],a)}this.endGeometry(e,t)};ol.render.canvas.PolygonReplay.prototype.finish=function(){this.reverseHitDetectionInstructions();this.state=null;var e=this.tolerance;if(e!==0){var t=this.coordinates;var o,r;for(o=0,r=t.length;o<r;++o){t[o]=ol.geom.flat.simplify.snap(t[o],e)}}};ol.render.canvas.PolygonReplay.prototype.setFillStrokeStyles_=function(e){var t=this.state;var o=t.fillStyle;if(o!==undefined){this.updateFillStyle(t,this.applyFill,e)}if(t.strokeStyle!==undefined){this.updateStrokeStyle(t,this.applyStroke)}};goog.provide("ol.geom.flat.straightchunk");ol.geom.flat.straightchunk.lineString=function(e,t,o,r,i){var n=o;var l=o;var a=0;var s=0;var p=o;var g,u,c,y,d,h,f,m,v,_;for(u=o;u<r;u+=i){var S=t[u];var x=t[u+1];if(d!==undefined){v=S-d;_=x-h;y=Math.sqrt(v*v+_*_);if(f!==undefined){s+=c;g=Math.acos((f*v+m*_)/(c*y));if(g>e){if(s>a){a=s;n=p;l=u}s=0;p=u-i}}c=y;f=v;m=_}d=S;h=x}s+=y;return s>a?[p,u]:[n,l]};goog.provide("ol.style.TextPlacement");ol.style.TextPlacement={POINT:"point",LINE:"line"};goog.provide("ol.render.canvas.TextReplay");goog.require("ol");goog.require("ol.colorlike");goog.require("ol.dom");goog.require("ol.extent");goog.require("ol.geom.flat.straightchunk");goog.require("ol.geom.GeometryType");goog.require("ol.has");goog.require("ol.render.canvas");goog.require("ol.render.canvas.Instruction");goog.require("ol.render.canvas.Replay");goog.require("ol.render.replay");goog.require("ol.style.TextPlacement");ol.render.canvas.TextReplay=function(e,t,o,r,i,n){ol.render.canvas.Replay.call(this,e,t,o,r,i,n);this.declutterGroup_;this.labels_=null;this.text_="";this.textOffsetX_=0;this.textOffsetY_=0;this.textRotateWithView_=undefined;this.textRotation_=0;this.textFillState_=null;this.fillStates={};this.textStrokeState_=null;this.strokeStates={};this.textState_={};this.textStates={};this.textKey_="";this.fillKey_="";this.strokeKey_="";this.widths_={};var l=ol.render.canvas.labelCache;l.prune()};ol.inherits(ol.render.canvas.TextReplay,ol.render.canvas.Replay);ol.render.canvas.TextReplay.measureTextWidths=function(e,t,o){var r=t.length;var i=0;var n,l;for(l=0;l<r;++l){n=ol.render.canvas.measureTextWidth(e,t[l]);i=Math.max(i,n);o.push(n)}return i};ol.render.canvas.TextReplay.prototype.drawText=function(e,t){var o=this.textFillState_;var r=this.textStrokeState_;var i=this.textState_;if(this.text_===""||!i||!o&&!r){return}var n=this.coordinates.length;var l=e.getType();var a=null;var s=2;var p=2;var g,u;if(i.placement===ol.style.TextPlacement.LINE){if(!ol.extent.intersects(this.getBufferedMaxExtent(),e.getExtent())){return}var c;a=e.getFlatCoordinates();p=e.getStride();if(l==ol.geom.GeometryType.LINE_STRING){c=[a.length]}else if(l==ol.geom.GeometryType.MULTI_LINE_STRING){c=e.getEnds()}else if(l==ol.geom.GeometryType.POLYGON){c=e.getEnds().slice(0,1)}else if(l==ol.geom.GeometryType.MULTI_POLYGON){var y=e.getEndss();c=[];for(g=0,u=y.length;g<u;++g){c.push(y[g][0])}}this.beginGeometry(e,t);var d=i.textAlign;var h=0;var f;for(var m=0,v=c.length;m<v;++m){if(d==undefined){var _=ol.geom.flat.straightchunk.lineString(i.maxAngle,a,h,c[m],p);h=_[0];f=_[1]}else{f=c[m]}for(g=h;g<f;g+=p){this.coordinates.push(a[g],a[g+1])}s=this.coordinates.length;h=c[m];this.drawChars_(n,s,this.declutterGroup_);n=s}this.endGeometry(e,t)}else{var S=this.getImage(this.text_,this.textKey_,this.fillKey_,this.strokeKey_);var x=S.width/this.pixelRatio;switch(l){case ol.geom.GeometryType.POINT:case ol.geom.GeometryType.MULTI_POINT:a=e.getFlatCoordinates();s=a.length;break;case ol.geom.GeometryType.LINE_STRING:a=e.getFlatMidpoint();break;case ol.geom.GeometryType.CIRCLE:a=e.getCenter();break;case ol.geom.GeometryType.MULTI_LINE_STRING:a=e.getFlatMidpoints();s=a.length;break;case ol.geom.GeometryType.POLYGON:a=e.getFlatInteriorPoint();if(!i.overflow&&a[2]/this.resolution<x){return}p=3;break;case ol.geom.GeometryType.MULTI_POLYGON:var P=e.getFlatInteriorPoints();a=[];for(g=0,u=P.length;g<u;g+=3){if(i.overflow||P[g+2]/this.resolution>=x){a.push(P[g],P[g+1])}}s=a.length;if(s==0){return}break;default:}s=this.appendFlatCoordinates(a,0,s,p,false,false);this.beginGeometry(e,t);if(i.backgroundFill||i.backgroundStroke){this.setFillStrokeStyle(i.backgroundFill,i.backgroundStroke);this.updateFillStyle(this.state,this.applyFill,e);this.updateStrokeStyle(this.state,this.applyStroke)}this.drawTextImage_(S,n,s);this.endGeometry(e,t)}};ol.render.canvas.TextReplay.prototype.getImage=function(e,t,o,r){var i;var n=r+t+e+o+this.pixelRatio;var l=ol.render.canvas.labelCache;if(!l.containsKey(n)){var a=r?this.strokeStates[r]||this.textStrokeState_:null;var s=o?this.fillStates[o]||this.textFillState_:null;var p=this.textStates[t]||this.textState_;var g=this.pixelRatio;var u=p.scale*g;var c=ol.render.replay.TEXT_ALIGN[p.textAlign||ol.render.canvas.defaultTextAlign];var y=r&&a.lineWidth?a.lineWidth:0;var d=e.split("\n");var h=d.length;var f=[];var m=ol.render.canvas.TextReplay.measureTextWidths(p.font,d,f);var v=ol.render.canvas.measureTextHeight(p.font);var _=v*h;var S=m+y;var x=ol.dom.createCanvasContext2D(Math.ceil(S*u),Math.ceil((_+y)*u));i=x.canvas;l.set(n,i);if(u!=1){x.scale(u,u)}x.font=p.font;if(r){x.strokeStyle=a.strokeStyle;x.lineWidth=y*(ol.has.SAFARI?u:1);x.lineCap=a.lineCap;x.lineJoin=a.lineJoin;x.miterLimit=a.miterLimit;if(ol.has.CANVAS_LINE_DASH&&a.lineDash.length){x.setLineDash(a.lineDash);x.lineDashOffset=a.lineDashOffset}}if(o){x.fillStyle=s.fillStyle}x.textBaseline="middle";x.textAlign="center";var P=.5-c;var E=c*i.width/u+P*y;var T;if(r){for(T=0;T<h;++T){x.strokeText(d[T],E+P*f[T],.5*(y+v)+T*v)}}if(o){for(T=0;T<h;++T){x.fillText(d[T],E+P*f[T],.5*(y+v)+T*v)}}}return l.get(n)};ol.render.canvas.TextReplay.prototype.drawTextImage_=function(e,t,o){var r=this.textState_;var i=this.textStrokeState_;var n=this.pixelRatio;var l=ol.render.replay.TEXT_ALIGN[r.textAlign||ol.render.canvas.defaultTextAlign];var a=ol.render.replay.TEXT_ALIGN[r.textBaseline];var s=i&&i.lineWidth?i.lineWidth:0;var p=l*e.width/n+2*(.5-l)*s;var g=a*e.height/n+2*(.5-a)*s;this.instructions.push([ol.render.canvas.Instruction.DRAW_IMAGE,t,o,e,(p-this.textOffsetX_)*n,(g-this.textOffsetY_)*n,this.declutterGroup_,e.height,1,0,0,this.textRotateWithView_,this.textRotation_,1,true,e.width,r.padding==ol.render.canvas.defaultPadding?ol.render.canvas.defaultPadding:r.padding.map(function(e){return e*n}),!!r.backgroundFill,!!r.backgroundStroke]);this.hitDetectionInstructions.push([ol.render.canvas.Instruction.DRAW_IMAGE,t,o,e,(p-this.textOffsetX_)*n,(g-this.textOffsetY_)*n,this.declutterGroup_,e.height,1,0,0,this.textRotateWithView_,this.textRotation_,1/n,true,e.width,r.padding,!!r.backgroundFill,!!r.backgroundStroke])};ol.render.canvas.TextReplay.prototype.drawChars_=function(e,t,o){var r=this.textStrokeState_;var i=this.textState_;var n=this.textFillState_;var l=this.strokeKey_;if(r){if(!(l in this.strokeStates)){this.strokeStates[l]={strokeStyle:r.strokeStyle,lineCap:r.lineCap,lineDashOffset:r.lineDashOffset,lineWidth:r.lineWidth,lineJoin:r.lineJoin,miterLimit:r.miterLimit,lineDash:r.lineDash}}}var a=this.textKey_;if(!(this.textKey_ in this.textStates)){this.textStates[this.textKey_]={font:i.font,textAlign:i.textAlign||ol.render.canvas.defaultTextAlign,scale:i.scale}}var s=this.fillKey_;if(n){if(!(s in this.fillStates)){this.fillStates[s]={fillStyle:n.fillStyle}}}var p=this.pixelRatio;var g=ol.render.replay.TEXT_ALIGN[i.textBaseline];var u=this.textOffsetY_*p;var c=this.text_;var y=i.font;var d=i.scale;var h=r?r.lineWidth*d/2:0;var f=this.widths_[y];if(!f){this.widths_[y]=f={}}this.instructions.push([ol.render.canvas.Instruction.DRAW_CHARS,e,t,g,o,i.overflow,s,i.maxAngle,function(e){var t=f[e];if(!t){t=f[e]=ol.render.canvas.measureTextWidth(y,e)}return t*d*p},u,l,h*p,c,a,1]);this.hitDetectionInstructions.push([ol.render.canvas.Instruction.DRAW_CHARS,e,t,g,o,i.overflow,s,i.maxAngle,function(e){var t=f[e];if(!t){t=f[e]=ol.render.canvas.measureTextWidth(y,e)}return t*d},u,l,h,c,a,1/p])};ol.render.canvas.TextReplay.prototype.setTextStyle=function(e,t){var o,r,i;if(!e){this.text_=""}else{this.declutterGroup_=t;var n=e.getFill();if(!n){r=this.textFillState_=null}else{r=this.textFillState_;if(!r){r=this.textFillState_={}}r.fillStyle=ol.colorlike.asColorLike(n.getColor()||ol.render.canvas.defaultFillStyle)}var l=e.getStroke();if(!l){i=this.textStrokeState_=null}else{i=this.textStrokeState_;if(!i){i=this.textStrokeState_={}}var a=l.getLineDash();var s=l.getLineDashOffset();var p=l.getWidth();var g=l.getMiterLimit();i.lineCap=l.getLineCap()||ol.render.canvas.defaultLineCap;i.lineDash=a?a.slice():ol.render.canvas.defaultLineDash;i.lineDashOffset=s===undefined?ol.render.canvas.defaultLineDashOffset:s;i.lineJoin=l.getLineJoin()||ol.render.canvas.defaultLineJoin;i.lineWidth=p===undefined?ol.render.canvas.defaultLineWidth:p;i.miterLimit=g===undefined?ol.render.canvas.defaultMiterLimit:g;i.strokeStyle=ol.colorlike.asColorLike(l.getColor()||ol.render.canvas.defaultStrokeStyle)}o=this.textState_;var u=e.getFont()||ol.render.canvas.defaultFont;ol.render.canvas.checkFont(u);var c=e.getScale();o.overflow=e.getOverflow();o.font=u;o.maxAngle=e.getMaxAngle();o.placement=e.getPlacement();o.textAlign=e.getTextAlign();o.textBaseline=e.getTextBaseline()||ol.render.canvas.defaultTextBaseline;o.backgroundFill=e.getBackgroundFill();o.backgroundStroke=e.getBackgroundStroke();o.padding=e.getPadding()||ol.render.canvas.defaultPadding;o.scale=c===undefined?1:c;var y=e.getOffsetX();var d=e.getOffsetY();var h=e.getRotateWithView();var f=e.getRotation();this.text_=e.getText()||"";this.textOffsetX_=y===undefined?0:y;this.textOffsetY_=d===undefined?0:d;this.textRotateWithView_=h===undefined?false:h;this.textRotation_=f===undefined?0:f;this.strokeKey_=i?(typeof i.strokeStyle=="string"?i.strokeStyle:ol.getUid(i.strokeStyle))+i.lineCap+i.lineDashOffset+"|"+i.lineWidth+i.lineJoin+i.miterLimit+"["+i.lineDash.join()+"]":"";this.textKey_=o.font+o.scale+(o.textAlign||"?");this.fillKey_=r?typeof r.fillStyle=="string"?r.fillStyle:"|"+ol.getUid(r.fillStyle):""}};goog.provide("ol.render.canvas.ReplayGroup");goog.require("ol");goog.require("ol.array");goog.require("ol.dom");goog.require("ol.extent");goog.require("ol.geom.flat.transform");goog.require("ol.obj");goog.require("ol.render.ReplayGroup");goog.require("ol.render.ReplayType");goog.require("ol.render.canvas.Replay");goog.require("ol.render.canvas.ImageReplay");goog.require("ol.render.canvas.LineStringReplay");goog.require("ol.render.canvas.PolygonReplay");goog.require("ol.render.canvas.TextReplay");goog.require("ol.render.replay");goog.require("ol.transform");ol.render.canvas.ReplayGroup=function(e,t,o,r,i,n,l){ol.render.ReplayGroup.call(this);this.declutterTree_=n;this.declutterGroup_=null;this.tolerance_=e;this.maxExtent_=t;this.overlaps_=i;this.pixelRatio_=r;this.resolution_=o;this.renderBuffer_=l;this.replaysByZIndex_={};this.hitDetectionContext_=ol.dom.createCanvasContext2D(1,1);this.hitDetectionTransform_=ol.transform.create()};ol.inherits(ol.render.canvas.ReplayGroup,ol.render.ReplayGroup);ol.render.canvas.ReplayGroup.circleArrayCache_={0:[[true]]};ol.render.canvas.ReplayGroup.fillCircleArrayRowToMiddle_=function(e,t,o){var r;var i=Math.floor(e.length/2);if(t>=i){for(r=i;r<t;r++){e[r][o]=true}}else if(t<i){for(r=t+1;r<i;r++){e[r][o]=true}}};ol.render.canvas.ReplayGroup.getCircleArray_=function(e){if(ol.render.canvas.ReplayGroup.circleArrayCache_[e]!==undefined){return ol.render.canvas.ReplayGroup.circleArrayCache_[e]}var t=e*2+1;var o=new Array(t);for(var r=0;r<t;r++){o[r]=new Array(t)}var i=e;var n=0;var l=0;while(i>=n){ol.render.canvas.ReplayGroup.fillCircleArrayRowToMiddle_(o,e+i,e+n);ol.render.canvas.ReplayGroup.fillCircleArrayRowToMiddle_(o,e+n,e+i);ol.render.canvas.ReplayGroup.fillCircleArrayRowToMiddle_(o,e-n,e+i);ol.render.canvas.ReplayGroup.fillCircleArrayRowToMiddle_(o,e-i,e+n);ol.render.canvas.ReplayGroup.fillCircleArrayRowToMiddle_(o,e-i,e-n);ol.render.canvas.ReplayGroup.fillCircleArrayRowToMiddle_(o,e-n,e-i);ol.render.canvas.ReplayGroup.fillCircleArrayRowToMiddle_(o,e+n,e-i);ol.render.canvas.ReplayGroup.fillCircleArrayRowToMiddle_(o,e+i,e-n);n++;l+=1+2*n;if(2*(l-i)+1>0){i-=1;l+=1-2*i}}ol.render.canvas.ReplayGroup.circleArrayCache_[e]=o;return o};ol.render.canvas.ReplayGroup.replayDeclutter=function(e,t,o){var r=Object.keys(e).map(Number).sort(ol.array.numberSafeCompareFunction);var i={};for(var n=0,l=r.length;n<l;++n){var a=e[r[n].toString()];for(var s=0,p=a.length;s<p;){var g=a[s++];var u=a[s++];g.replay(t,u,o,i)}}};ol.render.canvas.ReplayGroup.prototype.addDeclutter=function(e){var t=null;if(this.declutterTree_){if(e){t=this.declutterGroup_;t[4]++}else{t=this.declutterGroup_=ol.extent.createEmpty();t.push(1)}}return t};ol.render.canvas.ReplayGroup.prototype.clip=function(e,t){var o=this.getClipCoords(t);e.beginPath();e.moveTo(o[0],o[1]);e.lineTo(o[2],o[3]);e.lineTo(o[4],o[5]);e.lineTo(o[6],o[7]);e.clip()};ol.render.canvas.ReplayGroup.prototype.hasReplays=function(e){for(var t in this.replaysByZIndex_){var o=this.replaysByZIndex_[t];for(var r=0,i=e.length;r<i;++r){if(e[r]in o){return true}}}return false};ol.render.canvas.ReplayGroup.prototype.finish=function(){var e;for(e in this.replaysByZIndex_){var t=this.replaysByZIndex_[e];var o;for(o in t){t[o].finish()}}};ol.render.canvas.ReplayGroup.prototype.forEachFeatureAtCoordinate=function(e,t,o,r,i,n,l){r=Math.round(r);var a=r*2+1;var s=ol.transform.compose(this.hitDetectionTransform_,r+.5,r+.5,1/t,-1/t,-o,-e[0],-e[1]);var p=this.hitDetectionContext_;if(p.canvas.width!==a||p.canvas.height!==a){p.canvas.width=a;p.canvas.height=a}else{p.clearRect(0,0,a,a)}var g;if(this.renderBuffer_!==undefined){g=ol.extent.createEmpty();ol.extent.extendCoordinate(g,e);ol.extent.buffer(g,t*(this.renderBuffer_+r),g)}var u=ol.render.canvas.ReplayGroup.getCircleArray_(r);var c;if(this.declutterTree_){c=this.declutterTree_.all().map(function(e){return e.value})}function y(e){var t=p.getImageData(0,0,a,a).data;for(var o=0;o<a;o++){for(var r=0;r<a;r++){if(u[o][r]){if(t[(r*a+o)*4+3]>0){var i;if(!c||c.indexOf(e)!==-1){i=n(e)}if(i){return i}else{p.clearRect(0,0,a,a);return undefined}}}}}}return this.replayHitDetection_(p,s,o,i,y,g,l)};ol.render.canvas.ReplayGroup.prototype.getClipCoords=function(e){var t=this.maxExtent_;var o=t[0];var r=t[1];var i=t[2];var n=t[3];var l=[o,r,o,n,i,n,i,r];ol.geom.flat.transform.transform2D(l,0,8,2,e,l);return l};ol.render.canvas.ReplayGroup.prototype.getReplay=function(e,t){var o=e!==undefined?e.toString():"0";var r=this.replaysByZIndex_[o];if(r===undefined){r={};this.replaysByZIndex_[o]=r}var i=r[t];if(i===undefined){var n=ol.render.canvas.ReplayGroup.BATCH_CONSTRUCTORS_[t];i=new n(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_,this.overlaps_,this.declutterTree_);r[t]=i}return i};ol.render.canvas.ReplayGroup.prototype.getReplays=function(){return this.replaysByZIndex_};ol.render.canvas.ReplayGroup.prototype.isEmpty=function(){return ol.obj.isEmpty(this.replaysByZIndex_)};ol.render.canvas.ReplayGroup.prototype.replay=function(e,t,o,r,i,n){var l=Object.keys(this.replaysByZIndex_).map(Number);l.sort(ol.array.numberSafeCompareFunction);e.save();this.clip(e,t);var a=i?i:ol.render.replay.ORDER;var s,p,g,u,c,y;for(s=0,p=l.length;s<p;++s){var d=l[s].toString();c=this.replaysByZIndex_[d];for(g=0,u=a.length;g<u;++g){var h=a[g];y=c[h];if(y!==undefined){if(n&&(h==ol.render.ReplayType.IMAGE||h==ol.render.ReplayType.TEXT)){var f=n[d];if(!f){n[d]=[y,t.slice(0)]}else{f.push(y,t.slice(0))}}else{y.replay(e,t,o,r)}}}}e.restore()};ol.render.canvas.ReplayGroup.prototype.replayHitDetection_=function(e,t,o,r,i,n,l){var a=Object.keys(this.replaysByZIndex_).map(Number);a.sort(ol.array.numberSafeCompareFunction);var s,p,g,u,c;for(s=a.length-1;s>=0;--s){var y=a[s].toString();g=this.replaysByZIndex_[y];for(p=ol.render.replay.ORDER.length-1;p>=0;--p){var d=ol.render.replay.ORDER[p];u=g[d];if(u!==undefined){if(l&&(d==ol.render.ReplayType.IMAGE||d==ol.render.ReplayType.TEXT)){var h=l[y];if(!h){l[y]=[u,t.slice(0)]}else{h.push(u,t.slice(0))}}else{c=u.replayHitDetection(e,t,o,r,i,n);if(c){return c}}}}}return undefined};ol.render.canvas.ReplayGroup.BATCH_CONSTRUCTORS_={Circle:ol.render.canvas.PolygonReplay,Default:ol.render.canvas.Replay,Image:ol.render.canvas.ImageReplay,LineString:ol.render.canvas.LineStringReplay,Polygon:ol.render.canvas.PolygonReplay,Text:ol.render.canvas.TextReplay};goog.provide("ol.renderer.vector");goog.require("ol");goog.require("ol.ImageState");goog.require("ol.geom.GeometryType");goog.require("ol.render.ReplayType");ol.renderer.vector.defaultOrder=function(e,t){return ol.getUid(e)-ol.getUid(t)};ol.renderer.vector.getSquaredTolerance=function(e,t){var o=ol.renderer.vector.getTolerance(e,t);return o*o};ol.renderer.vector.getTolerance=function(e,t){return ol.SIMPLIFY_TOLERANCE*e/t};ol.renderer.vector.renderCircleGeometry_=function(e,t,o,r){var i=o.getFill();var n=o.getStroke();if(i||n){var l=e.getReplay(o.getZIndex(),ol.render.ReplayType.CIRCLE);l.setFillStrokeStyle(i,n);l.drawCircle(t,r)}var a=o.getText();if(a){var s=e.getReplay(o.getZIndex(),ol.render.ReplayType.TEXT);s.setTextStyle(a,e.addDeclutter(false));s.drawText(t,r)}};ol.renderer.vector.renderFeature=function(e,t,o,r,i,n){var l=false;var a,s;a=o.getImage();if(a){s=a.getImageState();if(s==ol.ImageState.LOADED||s==ol.ImageState.ERROR){a.unlistenImageChange(i,n)}else{if(s==ol.ImageState.IDLE){a.load()}s=a.getImageState();a.listenImageChange(i,n);l=true}}ol.renderer.vector.renderFeature_(e,t,o,r);return l};ol.renderer.vector.renderFeature_=function(e,t,o,r){var i=o.getGeometryFunction()(t);if(!i){return}var n=i.getSimplifiedGeometry(r);var l=o.getRenderer();if(l){ol.renderer.vector.renderGeometry_(e,n,o,t)}else{var a=ol.renderer.vector.GEOMETRY_RENDERERS_[n.getType()];a(e,n,o,t)}};ol.renderer.vector.renderGeometry_=function(e,t,o,r){if(t.getType()==ol.geom.GeometryType.GEOMETRY_COLLECTION){var i=t.getGeometries();for(var n=0,l=i.length;n<l;++n){ol.renderer.vector.renderGeometry_(e,i[n],o,r)}return}var a=e.getReplay(o.getZIndex(),ol.render.ReplayType.DEFAULT);a.drawCustom(t,r,o.getRenderer())};ol.renderer.vector.renderGeometryCollectionGeometry_=function(e,t,o,r){var i=t.getGeometriesArray();var n,l;for(n=0,l=i.length;n<l;++n){var a=ol.renderer.vector.GEOMETRY_RENDERERS_[i[n].getType()];a(e,i[n],o,r)}};ol.renderer.vector.renderLineStringGeometry_=function(e,t,o,r){var i=o.getStroke();if(i){var n=e.getReplay(o.getZIndex(),ol.render.ReplayType.LINE_STRING);n.setFillStrokeStyle(null,i);n.drawLineString(t,r)}var l=o.getText();if(l){var a=e.getReplay(o.getZIndex(),ol.render.ReplayType.TEXT);a.setTextStyle(l,e.addDeclutter(false));a.drawText(t,r)}};ol.renderer.vector.renderMultiLineStringGeometry_=function(e,t,o,r){var i=o.getStroke();if(i){var n=e.getReplay(o.getZIndex(),ol.render.ReplayType.LINE_STRING);n.setFillStrokeStyle(null,i);n.drawMultiLineString(t,r)}var l=o.getText();if(l){var a=e.getReplay(o.getZIndex(),ol.render.ReplayType.TEXT);a.setTextStyle(l,e.addDeclutter(false));a.drawText(t,r)}};ol.renderer.vector.renderMultiPolygonGeometry_=function(e,t,o,r){var i=o.getFill();var n=o.getStroke();if(n||i){var l=e.getReplay(o.getZIndex(),ol.render.ReplayType.POLYGON);l.setFillStrokeStyle(i,n);l.drawMultiPolygon(t,r)}var a=o.getText();if(a){var s=e.getReplay(o.getZIndex(),ol.render.ReplayType.TEXT);s.setTextStyle(a,e.addDeclutter(false));s.drawText(t,r)}};ol.renderer.vector.renderPointGeometry_=function(e,t,o,r){var i=o.getImage();if(i){if(i.getImageState()!=ol.ImageState.LOADED){return}var n=e.getReplay(o.getZIndex(),ol.render.ReplayType.IMAGE);n.setImageStyle(i,e.addDeclutter(false));n.drawPoint(t,r)}var l=o.getText();if(l){var a=e.getReplay(o.getZIndex(),ol.render.ReplayType.TEXT);a.setTextStyle(l,e.addDeclutter(!!i));a.drawText(t,r)}};ol.renderer.vector.renderMultiPointGeometry_=function(e,t,o,r){var i=o.getImage();if(i){if(i.getImageState()!=ol.ImageState.LOADED){return}var n=e.getReplay(o.getZIndex(),ol.render.ReplayType.IMAGE);n.setImageStyle(i,e.addDeclutter(false));n.drawMultiPoint(t,r)}var l=o.getText();if(l){var a=e.getReplay(o.getZIndex(),ol.render.ReplayType.TEXT);a.setTextStyle(l,e.addDeclutter(!!i));a.drawText(t,r)}};ol.renderer.vector.renderPolygonGeometry_=function(e,t,o,r){var i=o.getFill();var n=o.getStroke();if(i||n){var l=e.getReplay(o.getZIndex(),ol.render.ReplayType.POLYGON);l.setFillStrokeStyle(i,n);l.drawPolygon(t,r)}var a=o.getText();if(a){var s=e.getReplay(o.getZIndex(),ol.render.ReplayType.TEXT);s.setTextStyle(a,e.addDeclutter(false));s.drawText(t,r)}};ol.renderer.vector.GEOMETRY_RENDERERS_={Point:ol.renderer.vector.renderPointGeometry_,LineString:ol.renderer.vector.renderLineStringGeometry_,Polygon:ol.renderer.vector.renderPolygonGeometry_,MultiPoint:ol.renderer.vector.renderMultiPointGeometry_,MultiLineString:ol.renderer.vector.renderMultiLineStringGeometry_,MultiPolygon:ol.renderer.vector.renderMultiPolygonGeometry_,GeometryCollection:ol.renderer.vector.renderGeometryCollectionGeometry_,Circle:ol.renderer.vector.renderCircleGeometry_};goog.provide("ol.renderer.canvas.VectorLayer");goog.require("ol");goog.require("ol.LayerType");goog.require("ol.ViewHint");goog.require("ol.dom");goog.require("ol.events");goog.require("ol.events.EventType");goog.require("ol.ext.rbush");goog.require("ol.extent");goog.require("ol.render.EventType");goog.require("ol.render.canvas");goog.require("ol.render.canvas.ReplayGroup");goog.require("ol.renderer.Type");goog.require("ol.renderer.canvas.Layer");goog.require("ol.renderer.vector");ol.renderer.canvas.VectorLayer=function(e){ol.renderer.canvas.Layer.call(this,e);this.declutterTree_=e.getDeclutter()?ol.ext.rbush(9):null;this.dirty_=false;this.renderedRevision_=-1;this.renderedResolution_=NaN;this.renderedExtent_=ol.extent.createEmpty();this.renderedRenderOrder_=null;this.replayGroup_=null;this.replayGroupChanged=true;this.context=ol.dom.createCanvasContext2D();ol.events.listen(ol.render.canvas.labelCache,ol.events.EventType.CLEAR,this.handleFontsChanged_,this)};ol.inherits(ol.renderer.canvas.VectorLayer,ol.renderer.canvas.Layer);ol.renderer.canvas.VectorLayer["handles"]=function(e,t){return e===ol.renderer.Type.CANVAS&&t.getType()===ol.LayerType.VECTOR};ol.renderer.canvas.VectorLayer["create"]=function(e,t){return new ol.renderer.canvas.VectorLayer(t)};ol.renderer.canvas.VectorLayer.prototype.disposeInternal=function(){ol.events.unlisten(ol.render.canvas.labelCache,ol.events.EventType.CLEAR,this.handleFontsChanged_,this);ol.renderer.canvas.Layer.prototype.disposeInternal.call(this)};ol.renderer.canvas.VectorLayer.prototype.composeFrame=function(e,t,o){var r=e.extent;var i=e.pixelRatio;var n=t.managed?e.skippedFeatureUids:{};var l=e.viewState;var a=l.projection;var s=l.rotation;var p=a.getExtent();var g=this.getLayer().getSource();var u=this.getTransform(e,0);this.preCompose(o,e,u);var c=t.extent;var y=c!==undefined;if(y){this.clip(o,e,c)}var d=this.replayGroup_;if(d&&!d.isEmpty()){if(this.declutterTree_){this.declutterTree_.clear()}var h=this.getLayer();var f=0;var m=0;var v;var _=t.opacity!==1;var S=h.hasListener(ol.render.EventType.RENDER);if(_||S){var x=o.canvas.width;var P=o.canvas.height;if(s){var E=Math.round(Math.sqrt(x*x+P*P));f=(E-x)/2;m=(E-P)/2;x=P=E}this.context.canvas.width=x;this.context.canvas.height=P;v=this.context}else{v=o}var T=v.globalAlpha;if(!_){v.globalAlpha=t.opacity}if(v!=o){v.translate(f,m)}var R=e.size[0]*i;var L=e.size[1]*i;ol.render.canvas.rotateAtOffset(v,-s,R/2,L/2);d.replay(v,u,s,n);if(g.getWrapX()&&a.canWrapX()&&!ol.extent.containsExtent(p,r)){var M=r[0];var C=ol.extent.getWidth(p);var I=0;var A;while(M<p[0]){--I;A=C*I;u=this.getTransform(e,A);d.replay(v,u,s,n);M+=C}I=0;M=r[2];while(M>p[2]){++I;A=C*I;u=this.getTransform(e,A);d.replay(v,u,s,n);M-=C}u=this.getTransform(e,0)}ol.render.canvas.rotateAtOffset(v,s,R/2,L/2);if(v!=o){if(S){this.dispatchRenderEvent(v,e,u)}if(_){var O=o.globalAlpha;o.globalAlpha=t.opacity;o.drawImage(v.canvas,-f,-m);o.globalAlpha=O}else{o.drawImage(v.canvas,-f,-m)}v.translate(-f,-m)}if(!_){v.globalAlpha=T}}if(y){o.restore()}this.postCompose(o,e,t,u)};ol.renderer.canvas.VectorLayer.prototype.forEachFeatureAtCoordinate=function(e,t,o,r,i){if(!this.replayGroup_){return undefined}else{var n=t.viewState.resolution;var l=t.viewState.rotation;var a=this.getLayer();var s={};var p=this.replayGroup_.forEachFeatureAtCoordinate(e,n,l,o,{},function(e){var t=ol.getUid(e).toString();if(!(t in s)){s[t]=true;return r.call(i,e,a)}},null);return p}};ol.renderer.canvas.VectorLayer.prototype.handleFontsChanged_=function(e){var t=this.getLayer();if(t.getVisible()&&this.replayGroup_){t.changed()}};ol.renderer.canvas.VectorLayer.prototype.handleStyleImageChange_=function(e){this.renderIfReadyAndVisible()};ol.renderer.canvas.VectorLayer.prototype.prepareFrame=function(e,t){var o=this.getLayer();var r=o.getSource();this.updateLogos(e,r);var i=e.viewHints[ol.ViewHint.ANIMATING];var n=e.viewHints[ol.ViewHint.INTERACTING];var l=o.getUpdateWhileAnimating();var a=o.getUpdateWhileInteracting();if(!this.dirty_&&(!l&&i)||!a&&n){return true}var s=e.extent;var p=e.viewState;var g=p.projection;var u=p.resolution;var c=e.pixelRatio;var y=o.getRevision();var d=o.getRenderBuffer();var h=o.getRenderOrder();if(h===undefined){h=ol.renderer.vector.defaultOrder}var f=ol.extent.buffer(s,d*u);var m=p.projection.getExtent();if(r.getWrapX()&&p.projection.canWrapX()&&!ol.extent.containsExtent(m,e.extent)){var v=ol.extent.getWidth(m);var _=Math.max(ol.extent.getWidth(f)/2,v);f[0]=m[0]-_;f[2]=m[2]+_}if(!this.dirty_&&this.renderedResolution_==u&&this.renderedRevision_==y&&this.renderedRenderOrder_==h&&ol.extent.containsExtent(this.renderedExtent_,f)){this.replayGroupChanged=false;return true}this.replayGroup_=null;this.dirty_=false;var S=new ol.render.canvas.ReplayGroup(ol.renderer.vector.getTolerance(u,c),f,u,c,r.getOverlaps(),this.declutterTree_,o.getRenderBuffer());r.loadFeatures(f,u,g);var x=function(e){var t;var r=e.getStyleFunction();if(r){t=r.call(e,u)}else{r=o.getStyleFunction();if(r){t=r(e,u)}}if(t){var i=this.renderFeature(e,u,c,t,S);this.dirty_=this.dirty_||i}}.bind(this);if(h){var P=[];r.forEachFeatureInExtent(f,function(e){P.push(e)},this);P.sort(h);for(var E=0,T=P.length;E<T;++E){x(P[E])}}else{r.forEachFeatureInExtent(f,x,this)}S.finish();this.renderedResolution_=u;this.renderedRevision_=y;this.renderedRenderOrder_=h;this.renderedExtent_=f;this.replayGroup_=S;this.replayGroupChanged=true;return true};ol.renderer.canvas.VectorLayer.prototype.renderFeature=function(e,t,o,r,i){if(!r){return false}var n=false;if(Array.isArray(r)){for(var l=0,a=r.length;l<a;++l){n=ol.renderer.vector.renderFeature(i,e,r[l],ol.renderer.vector.getSquaredTolerance(t,o),this.handleStyleImageChange_,this)||n}}else{n=ol.renderer.vector.renderFeature(i,e,r,ol.renderer.vector.getSquaredTolerance(t,o),this.handleStyleImageChange_,this)}return n};goog.provide("ol.layer.VectorTileRenderType");ol.layer.VectorTileRenderType={IMAGE:"image",HYBRID:"hybrid",VECTOR:"vector"};goog.provide("ol.renderer.canvas.VectorTileLayer");goog.require("ol");goog.require("ol.LayerType");goog.require("ol.TileState");goog.require("ol.dom");goog.require("ol.events");goog.require("ol.events.EventType");goog.require("ol.ext.rbush");goog.require("ol.extent");goog.require("ol.layer.VectorTileRenderType");goog.require("ol.proj");goog.require("ol.proj.Units");goog.require("ol.render.ReplayType");goog.require("ol.render.canvas");goog.require("ol.render.canvas.ReplayGroup");goog.require("ol.render.replay");goog.require("ol.renderer.Type");goog.require("ol.renderer.canvas.TileLayer");goog.require("ol.renderer.vector");goog.require("ol.transform");ol.renderer.canvas.VectorTileLayer=function(e){this.context=null;ol.renderer.canvas.TileLayer.call(this,e);this.declutterTree_=e.getDeclutter()?ol.ext.rbush(9):null;this.dirty_=false;this.renderedLayerRevision_;this.tmpTransform_=ol.transform.create();this.zDirection=e.getRenderMode()==ol.layer.VectorTileRenderType.VECTOR?1:0;ol.events.listen(ol.render.canvas.labelCache,ol.events.EventType.CLEAR,this.handleFontsChanged_,this)};ol.inherits(ol.renderer.canvas.VectorTileLayer,ol.renderer.canvas.TileLayer);ol.renderer.canvas.VectorTileLayer["handles"]=function(e,t){return e===ol.renderer.Type.CANVAS&&t.getType()===ol.LayerType.VECTOR_TILE};ol.renderer.canvas.VectorTileLayer["create"]=function(e,t){return new ol.renderer.canvas.VectorTileLayer(t)};ol.renderer.canvas.VectorTileLayer.IMAGE_REPLAYS={image:[ol.render.ReplayType.POLYGON,ol.render.ReplayType.CIRCLE,ol.render.ReplayType.LINE_STRING,ol.render.ReplayType.IMAGE,ol.render.ReplayType.TEXT],hybrid:[ol.render.ReplayType.POLYGON,ol.render.ReplayType.LINE_STRING]};ol.renderer.canvas.VectorTileLayer.VECTOR_REPLAYS={image:[ol.render.ReplayType.DEFAULT],hybrid:[ol.render.ReplayType.IMAGE,ol.render.ReplayType.TEXT,ol.render.ReplayType.DEFAULT],vector:ol.render.replay.ORDER};ol.renderer.canvas.VectorTileLayer.prototype.disposeInternal=function(){ol.events.unlisten(ol.render.canvas.labelCache,ol.events.EventType.CLEAR,this.handleFontsChanged_,this);ol.renderer.canvas.TileLayer.prototype.disposeInternal.call(this)};ol.renderer.canvas.VectorTileLayer.prototype.prepareFrame=function(e,t){var o=this.getLayer();var r=o.getRevision();if(this.renderedLayerRevision_!=r){this.renderedTiles.length=0;var i=o.getRenderMode();if(!this.context&&i!=ol.layer.VectorTileRenderType.VECTOR){this.context=ol.dom.createCanvasContext2D()}if(this.context&&i==ol.layer.VectorTileRenderType.VECTOR){this.context=null}}this.renderedLayerRevision_=r;return ol.renderer.canvas.TileLayer.prototype.prepareFrame.apply(this,arguments)};ol.renderer.canvas.VectorTileLayer.prototype.createReplayGroup_=function(e,t){var o=this.getLayer();var r=t.pixelRatio;var i=t.viewState.projection;var n=o.getRevision();var l=o.getRenderOrder()||null;var a=e.getReplayState(o);if(!a.dirty&&a.renderedRevision==n&&a.renderedRenderOrder==l){return}var s=o.getSource();var p=s.getTileGrid();var g=s.getTileGridForProjection(i);var u=g.getResolution(e.tileCoord[0]);var c=g.getTileCoordExtent(e.wrappedTileCoord);var y={};for(var d=0,h=e.tileKeys.length;d<h;++d){var f=e.getTile(e.tileKeys[d]);if(f.getState()==ol.TileState.ERROR){continue}var m=f.tileCoord;var v=p.getTileCoordExtent(m);var _=ol.extent.getIntersection(c,v);var S=ol.extent.equals(v,_)?null:ol.extent.buffer(_,o.getRenderBuffer()*u);var x=f.getProjection();var P=false;if(!ol.proj.equivalent(i,x)){P=true;f.setProjection(i)}a.dirty=false;var E=new ol.render.canvas.ReplayGroup(0,_,u,r,s.getOverlaps(),this.declutterTree_,o.getRenderBuffer());var T=ol.renderer.vector.getSquaredTolerance(u,r);var R=function(e){var t;var r=e.getStyleFunction();if(r){t=r.call(e,u)}else{r=o.getStyleFunction();if(r){t=r(e,u)}}if(t){var i=this.renderFeature(e,T,t,E);this.dirty_=this.dirty_||i;a.dirty=a.dirty||i}};var L=f.getFeatures();if(l&&l!==a.renderedRenderOrder){L.sort(l)}var M;for(var C=0,I=L.length;C<I;++C){M=L[C];if(P){if(x.getUnits()==ol.proj.Units.TILE_PIXELS){x.setWorldExtent(v);x.setExtent(f.getExtent())}M.getGeometry().transform(x,i)}if(!S||ol.extent.intersects(S,M.getGeometry().getExtent())){R.call(this,M)}}E.finish();for(var A in E.getReplays()){y[A]=true}f.setReplayGroup(o,e.tileCoord.toString(),E)}a.renderedRevision=n;a.renderedRenderOrder=l};ol.renderer.canvas.VectorTileLayer.prototype.drawTileImage=function(e,t,o,r,i,n,l,a,s){var p=e;this.createReplayGroup_(p,t);if(this.context){this.renderTileImage_(p,t,o);ol.renderer.canvas.TileLayer.prototype.drawTileImage.apply(this,arguments)}};ol.renderer.canvas.VectorTileLayer.prototype.forEachFeatureAtCoordinate=function(e,t,o,r,i){var n=t.viewState.resolution;var l=t.viewState.rotation;o=o==undefined?0:o;var a=this.getLayer();var s={};var p=this.renderedTiles;var g=a.getSource();var u=g.getTileGridForProjection(t.viewState.projection);var c,y;var d,h,f;var m,v,_;for(d=0,h=p.length;d<h;++d){m=p[d];v=m.wrappedTileCoord;_=u.getTileCoordExtent(v,this.tmpExtent);c=ol.extent.buffer(_,o*n,c);if(!ol.extent.containsCoordinate(c,e)){continue}for(var S=0,x=m.tileKeys.length;S<x;++S){var P=m.getTile(m.tileKeys[S]);if(P.getState()==ol.TileState.ERROR){continue}f=P.getReplayGroup(a,m.tileCoord.toString());y=y||f.forEachFeatureAtCoordinate(e,n,l,o,{},function(e){var t=ol.getUid(e).toString();if(!(t in s)){s[t]=true;return r.call(i,e,a)}},null)}}return y};ol.renderer.canvas.VectorTileLayer.prototype.getReplayTransform_=function(e,t){var o=this.getLayer();var r=o.getSource();var i=r.getTileGrid();var n=e.tileCoord;var l=i.getResolution(n[0]);var a=t.viewState;var s=t.pixelRatio;var p=a.resolution/s;var g=i.getTileCoordExtent(n,this.tmpExtent);var u=a.center;var c=ol.extent.getTopLeft(g);var y=t.size;var d=Math.round(s*y[0]/2);var h=Math.round(s*y[1]/2);return ol.transform.compose(this.tmpTransform_,d,h,l/p,l/p,a.rotation,(c[0]-u[0])/l,(u[1]-c[1])/l)};ol.renderer.canvas.VectorTileLayer.prototype.handleFontsChanged_=function(e){var t=this.getLayer();if(t.getVisible()&&this.renderedLayerRevision_!==undefined){t.changed()}};ol.renderer.canvas.VectorTileLayer.prototype.handleStyleImageChange_=function(e){this.renderIfReadyAndVisible()};ol.renderer.canvas.VectorTileLayer.prototype.postCompose=function(e,t,o){var r=this.getLayer();var i=r.getDeclutter()?{}:null;var n=r.getSource();var l=r.getRenderMode();var a=ol.renderer.canvas.VectorTileLayer.VECTOR_REPLAYS[l];var s=t.pixelRatio;var p=t.viewState.rotation;var g=t.size;var u,c;if(p){u=Math.round(s*g[0]/2);c=Math.round(s*g[1]/2);ol.render.canvas.rotateAtOffset(e,-p,u,c)}if(i){this.declutterTree_.clear()}var y=this.renderedTiles;var d=n.getTileGridForProjection(t.viewState.projection);var h=[];var f=[];for(var m=y.length-1;m>=0;--m){var v=y[m];if(v.getState()==ol.TileState.ABORT){continue}var _=v.tileCoord;var S=d.getTileCoordExtent(_)[0]-d.getTileCoordExtent(v.wrappedTileCoord)[0];var x=undefined;for(var P=0,E=v.tileKeys.length;P<E;++P){var T=v.getTile(v.tileKeys[P]);if(T.getState()==ol.TileState.ERROR){continue}var R=T.getReplayGroup(r,_.toString());if(l!=ol.layer.VectorTileRenderType.VECTOR&&!R.hasReplays(a)){continue}if(!x){x=this.getTransform(t,S)}var L=T.tileCoord[0];var M=R.getClipCoords(x);e.save();e.globalAlpha=o.opacity;for(var C=0,I=h.length;C<I;++C){var A=h[C];if(L<f[C]){e.beginPath();e.moveTo(M[0],M[1]);e.lineTo(M[2],M[3]);e.lineTo(M[4],M[5]);e.lineTo(M[6],M[7]);e.moveTo(A[6],A[7]);e.lineTo(A[4],A[5]);e.lineTo(A[2],A[3]);e.lineTo(A[0],A[1]);e.clip()}}R.replay(e,x,p,{},a,i);e.restore();h.push(M);f.push(L)}}if(i){ol.render.canvas.ReplayGroup.replayDeclutter(i,e,p)}if(p){ol.render.canvas.rotateAtOffset(e,p,u,c)}ol.renderer.canvas.TileLayer.prototype.postCompose.apply(this,arguments)};ol.renderer.canvas.VectorTileLayer.prototype.renderFeature=function(e,t,o,r){if(!o){return false}var i=false;if(Array.isArray(o)){for(var n=0,l=o.length;n<l;++n){i=ol.renderer.vector.renderFeature(r,e,o[n],t,this.handleStyleImageChange_,this)||i}}else{i=ol.renderer.vector.renderFeature(r,e,o,t,this.handleStyleImageChange_,this)}return i};ol.renderer.canvas.VectorTileLayer.prototype.renderTileImage_=function(e,t,o){var r=this.getLayer();var i=e.getReplayState(r);var n=r.getRevision();var l=ol.renderer.canvas.VectorTileLayer.IMAGE_REPLAYS[r.getRenderMode()];if(l&&i.renderedTileRevision!==n){i.renderedTileRevision=n;var a=e.wrappedTileCoord;var s=a[0];var p=t.pixelRatio;var g=r.getSource();var u=g.getTileGridForProjection(t.viewState.projection);var c=u.getResolution(s);var y=e.getContext(r);var d=g.getTilePixelSize(s,p,t.viewState.projection);y.canvas.width=d[0];y.canvas.height=d[1];var h=u.getTileCoordExtent(a);for(var f=0,m=e.tileKeys.length;f<m;++f){var v=e.getTile(e.tileKeys[f]);if(v.getState()==ol.TileState.ERROR){continue}var _=p/c;var S=ol.transform.reset(this.tmpTransform_);ol.transform.scale(S,_,-_);ol.transform.translate(S,-h[0],-h[3]);var x=v.getReplayGroup(r,e.tileCoord.toString());x.replay(y,S,0,{},l)}}};goog.provide("ol.CanvasMap");goog.require("ol");goog.require("ol.PluggableMap");goog.require("ol.PluginType");goog.require("ol.control");goog.require("ol.interaction");goog.require("ol.obj");goog.require("ol.plugins");goog.require("ol.renderer.canvas.ImageLayer");goog.require("ol.renderer.canvas.Map");goog.require("ol.renderer.canvas.TileLayer");goog.require("ol.renderer.canvas.VectorLayer");goog.require("ol.renderer.canvas.VectorTileLayer");ol.plugins.register(ol.PluginType.MAP_RENDERER,ol.renderer.canvas.Map);ol.plugins.registerMultiple(ol.PluginType.LAYER_RENDERER,[ol.renderer.canvas.ImageLayer,ol.renderer.canvas.TileLayer,ol.renderer.canvas.VectorLayer,ol.renderer.canvas.VectorTileLayer]);ol.CanvasMap=function(e){e=ol.obj.assign({},e);delete e.renderer;if(!e.controls){e.controls=ol.control.defaults()}if(!e.interactions){e.interactions=ol.interaction.defaults()}ol.PluggableMap.call(this,e)};ol.inherits(ol.CanvasMap,ol.PluggableMap);goog.provide("ol.control.FullScreen");goog.require("ol");goog.require("ol.control.Control");goog.require("ol.css");goog.require("ol.dom");goog.require("ol.events");goog.require("ol.events.EventType");ol.control.FullScreen=function(e){var t=e?e:{};this.cssClassName_=t.className!==undefined?t.className:"ol-full-screen";var o=t.label!==undefined?t.label:"⤢";this.labelNode_=typeof o==="string"?document.createTextNode(o):o;var r=t.labelActive!==undefined?t.labelActive:"×";this.labelActiveNode_=typeof r==="string"?document.createTextNode(r):r;var i=t.tipLabel?t.tipLabel:"Toggle full-screen";var n=document.createElement("button");n.className=this.cssClassName_+"-"+ol.control.FullScreen.isFullScreen();n.setAttribute("type","button");n.title=i;n.appendChild(this.labelNode_);ol.events.listen(n,ol.events.EventType.CLICK,this.handleClick_,this);var l=this.cssClassName_+" "+ol.css.CLASS_UNSELECTABLE+" "+ol.css.CLASS_CONTROL+" "+(!ol.control.FullScreen.isFullScreenSupported()?ol.css.CLASS_UNSUPPORTED:"");var a=document.createElement("div");a.className=l;a.appendChild(n);ol.control.Control.call(this,{element:a,target:t.target});this.keys_=t.keys!==undefined?t.keys:false;this.source_=t.source};ol.inherits(ol.control.FullScreen,ol.control.Control);ol.control.FullScreen.prototype.handleClick_=function(e){e.preventDefault();this.handleFullScreen_()};ol.control.FullScreen.prototype.handleFullScreen_=function(){if(!ol.control.FullScreen.isFullScreenSupported()){return}var e=this.getMap();if(!e){return}if(ol.control.FullScreen.isFullScreen()){ol.control.FullScreen.exitFullScreen()}else{var t;if(this.source_){t=typeof this.source_==="string"?document.getElementById(this.source_):this.source_}else{t=e.getTargetElement()}if(this.keys_){ol.control.FullScreen.requestFullScreenWithKeys(t)}else{ol.control.FullScreen.requestFullScreen(t)}}};ol.control.FullScreen.prototype.handleFullScreenChange_=function(){var e=this.element.firstElementChild;var t=this.getMap();if(ol.control.FullScreen.isFullScreen()){e.className=this.cssClassName_+"-true";ol.dom.replaceNode(this.labelActiveNode_,this.labelNode_)}else{e.className=this.cssClassName_+"-false";ol.dom.replaceNode(this.labelNode_,this.labelActiveNode_)}if(t){t.updateSize()}};ol.control.FullScreen.prototype.setMap=function(e){ol.control.Control.prototype.setMap.call(this,e);if(e){this.listenerKeys.push(ol.events.listen(document,ol.control.FullScreen.getChangeType_(),this.handleFullScreenChange_,this))}};ol.control.FullScreen.isFullScreenSupported=function(){var e=document.body;return!!(e.webkitRequestFullscreen||e.mozRequestFullScreen&&document.mozFullScreenEnabled||e.msRequestFullscreen&&document.msFullscreenEnabled||e.requestFullscreen&&document.fullscreenEnabled)};ol.control.FullScreen.isFullScreen=function(){return!!(document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenElement||document.fullscreenElement)};ol.control.FullScreen.requestFullScreen=function(e){if(e.requestFullscreen){e.requestFullscreen()}else if(e.msRequestFullscreen){e.msRequestFullscreen()}else if(e.mozRequestFullScreen){e.mozRequestFullScreen()}else if(e.webkitRequestFullscreen){e.webkitRequestFullscreen()}};ol.control.FullScreen.requestFullScreenWithKeys=function(e){if(e.mozRequestFullScreenWithKeys){e.mozRequestFullScreenWithKeys()}else if(e.webkitRequestFullscreen){e.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)}else{ol.control.FullScreen.requestFullScreen(e)}};ol.control.FullScreen.exitFullScreen=function(){if(document.exitFullscreen){document.exitFullscreen()}else if(document.msExitFullscreen){document.msExitFullscreen()}else if(document.mozCancelFullScreen){document.mozCancelFullScreen()}else if(document.webkitExitFullscreen){document.webkitExitFullscreen()}};ol.control.FullScreen.getChangeType_=function(){var e;return function(){if(!e){var t=document.body;if(t.webkitRequestFullscreen){e="webkitfullscreenchange"}else if(t.mozRequestFullScreen){e="mozfullscreenchange"}else if(t.msRequestFullscreen){e="MSFullscreenChange"}else if(t.requestFullscreen){e="fullscreenchange"}}return e}}();goog.provide("ol.control.MousePosition");goog.require("ol");goog.require("ol.events");goog.require("ol.events.EventType");goog.require("ol.Object");goog.require("ol.control.Control");goog.require("ol.proj");ol.control.MousePosition=function(e){var t=e?e:{};var o=document.createElement("DIV");o.className=t.className!==undefined?t.className:"ol-mouse-position";var r=t.render?t.render:ol.control.MousePosition.render;ol.control.Control.call(this,{element:o,render:r,target:t.target});ol.events.listen(this,ol.Object.getChangeEventType(ol.control.MousePosition.Property_.PROJECTION),this.handleProjectionChanged_,this);if(t.coordinateFormat){this.setCoordinateFormat(t.coordinateFormat)}if(t.projection){this.setProjection(t.projection)}this.undefinedHTML_=t.undefinedHTML!==undefined?t.undefinedHTML:"";this.renderedHTML_=o.innerHTML;this.mapProjection_=null;this.transform_=null;this.lastMouseMovePixel_=null};ol.inherits(ol.control.MousePosition,ol.control.Control);ol.control.MousePosition.render=function(e){var t=e.frameState;if(!t){this.mapProjection_=null}else{if(this.mapProjection_!=t.viewState.projection){this.mapProjection_=t.viewState.projection;this.transform_=null}}this.updateHTML_(this.lastMouseMovePixel_)};ol.control.MousePosition.prototype.handleProjectionChanged_=function(){this.transform_=null};ol.control.MousePosition.prototype.getCoordinateFormat=function(){return this.get(ol.control.MousePosition.Property_.COORDINATE_FORMAT)};ol.control.MousePosition.prototype.getProjection=function(){return this.get(ol.control.MousePosition.Property_.PROJECTION)};ol.control.MousePosition.prototype.handleMouseMove=function(e){var t=this.getMap();this.lastMouseMovePixel_=t.getEventPixel(e);this.updateHTML_(this.lastMouseMovePixel_)};ol.control.MousePosition.prototype.handleMouseOut=function(e){this.updateHTML_(null);this.lastMouseMovePixel_=null};ol.control.MousePosition.prototype.setMap=function(e){ol.control.Control.prototype.setMap.call(this,e);if(e){var t=e.getViewport();this.listenerKeys.push(ol.events.listen(t,ol.events.EventType.MOUSEMOVE,this.handleMouseMove,this),ol.events.listen(t,ol.events.EventType.MOUSEOUT,this.handleMouseOut,this))}};ol.control.MousePosition.prototype.setCoordinateFormat=function(e){this.set(ol.control.MousePosition.Property_.COORDINATE_FORMAT,e)};ol.control.MousePosition.prototype.setProjection=function(e){this.set(ol.control.MousePosition.Property_.PROJECTION,ol.proj.get(e))};ol.control.MousePosition.prototype.updateHTML_=function(e){var t=this.undefinedHTML_;if(e&&this.mapProjection_){if(!this.transform_){var o=this.getProjection();if(o){this.transform_=ol.proj.getTransformFromProjections(this.mapProjection_,o)}else{this.transform_=ol.proj.identityTransform}}var r=this.getMap();var i=r.getCoordinateFromPixel(e);if(i){this.transform_(i,i);var n=this.getCoordinateFormat();if(n){t=n(i)}else{t=i.toString()}}}if(!this.renderedHTML_||t!=this.renderedHTML_){this.element.innerHTML=t;this.renderedHTML_=t}};ol.control.MousePosition.Property_={PROJECTION:"projection",COORDINATE_FORMAT:"coordinateFormat"};goog.provide("ol.OverlayPositioning");ol.OverlayPositioning={BOTTOM_LEFT:"bottom-left",BOTTOM_CENTER:"bottom-center",BOTTOM_RIGHT:"bottom-right",CENTER_LEFT:"center-left",CENTER_CENTER:"center-center",CENTER_RIGHT:"center-right",TOP_LEFT:"top-left",TOP_CENTER:"top-center",TOP_RIGHT:"top-right"};goog.provide("ol.Overlay");goog.require("ol");goog.require("ol.MapEventType");goog.require("ol.Object");goog.require("ol.OverlayPositioning");goog.require("ol.css");goog.require("ol.dom");goog.require("ol.events");goog.require("ol.extent");ol.Overlay=function(e){ol.Object.call(this);this.options=e;this.id=e.id;this.insertFirst=e.insertFirst!==undefined?e.insertFirst:true;this.stopEvent=e.stopEvent!==undefined?e.stopEvent:true;this.element=document.createElement("DIV");this.element.className=e.className!==undefined?e.className:"ol-overlay-container "+ol.css.CLASS_SELECTABLE;this.element.style.position="absolute";this.autoPan=e.autoPan!==undefined?e.autoPan:false;this.autoPanAnimation=e.autoPanAnimation||{};this.autoPanMargin=e.autoPanMargin!==undefined?e.autoPanMargin:20;this.rendered={bottom_:"",left_:"",right_:"",top_:"",visible:true};this.mapPostrenderListenerKey=null;ol.events.listen(this,ol.Object.getChangeEventType(ol.Overlay.Property.ELEMENT),this.handleElementChanged,this);ol.events.listen(this,ol.Object.getChangeEventType(ol.Overlay.Property.MAP),this.handleMapChanged,this);ol.events.listen(this,ol.Object.getChangeEventType(ol.Overlay.Property.OFFSET),this.handleOffsetChanged,this);ol.events.listen(this,ol.Object.getChangeEventType(ol.Overlay.Property.POSITION),this.handlePositionChanged,this);ol.events.listen(this,ol.Object.getChangeEventType(ol.Overlay.Property.POSITIONING),this.handlePositioningChanged,this);if(e.element!==undefined){this.setElement(e.element)}this.setOffset(e.offset!==undefined?e.offset:[0,0]);this.setPositioning(e.positioning!==undefined?e.positioning:ol.OverlayPositioning.TOP_LEFT);if(e.position!==undefined){this.setPosition(e.position)}};ol.inherits(ol.Overlay,ol.Object);ol.Overlay.prototype.getElement=function(){return this.get(ol.Overlay.Property.ELEMENT)};ol.Overlay.prototype.getId=function(){return this.id};ol.Overlay.prototype.getMap=function(){return this.get(ol.Overlay.Property.MAP)};ol.Overlay.prototype.getOffset=function(){return this.get(ol.Overlay.Property.OFFSET)};ol.Overlay.prototype.getPosition=function(){return this.get(ol.Overlay.Property.POSITION)};ol.Overlay.prototype.getPositioning=function(){return this.get(ol.Overlay.Property.POSITIONING)};ol.Overlay.prototype.handleElementChanged=function(){ol.dom.removeChildren(this.element);var e=this.getElement();if(e){this.element.appendChild(e)}};ol.Overlay.prototype.handleMapChanged=function(){if(this.mapPostrenderListenerKey){ol.dom.removeNode(this.element);ol.events.unlistenByKey(this.mapPostrenderListenerKey);this.mapPostrenderListenerKey=null}var e=this.getMap();if(e){this.mapPostrenderListenerKey=ol.events.listen(e,ol.MapEventType.POSTRENDER,this.render,this);this.updatePixelPosition();var t=this.stopEvent?e.getOverlayContainerStopEvent():e.getOverlayContainer();if(this.insertFirst){t.insertBefore(this.element,t.childNodes[0]||null)}else{t.appendChild(this.element)}}};ol.Overlay.prototype.render=function(){this.updatePixelPosition()};ol.Overlay.prototype.handleOffsetChanged=function(){this.updatePixelPosition()};ol.Overlay.prototype.handlePositionChanged=function(){this.updatePixelPosition();if(this.get(ol.Overlay.Property.POSITION)&&this.autoPan){this.panIntoView()}};ol.Overlay.prototype.handlePositioningChanged=function(){this.updatePixelPosition()};ol.Overlay.prototype.setElement=function(e){this.set(ol.Overlay.Property.ELEMENT,e)};ol.Overlay.prototype.setMap=function(e){this.set(ol.Overlay.Property.MAP,e)};ol.Overlay.prototype.setOffset=function(e){this.set(ol.Overlay.Property.OFFSET,e)};ol.Overlay.prototype.setPosition=function(e){this.set(ol.Overlay.Property.POSITION,e)};ol.Overlay.prototype.panIntoView=function(){var e=this.getMap();if(!e||!e.getTargetElement()){return}var t=this.getRect(e.getTargetElement(),e.getSize());var o=this.getElement();var r=this.getRect(o,[ol.dom.outerWidth(o),ol.dom.outerHeight(o)]);var i=this.autoPanMargin;if(!ol.extent.containsExtent(t,r)){var n=r[0]-t[0];var l=t[2]-r[2];var a=r[1]-t[1];var s=t[3]-r[3];var p=[0,0];if(n<0){p[0]=n-i}else if(l<0){p[0]=Math.abs(l)+i}if(a<0){p[1]=a-i}else if(s<0){p[1]=Math.abs(s)+i}if(p[0]!==0||p[1]!==0){var g=e.getView().getCenter();var u=e.getPixelFromCoordinate(g);var c=[u[0]+p[0],u[1]+p[1]];e.getView().animate({center:e.getCoordinateFromPixel(c),duration:this.autoPanAnimation.duration,easing:this.autoPanAnimation.easing})}}};ol.Overlay.prototype.getRect=function(e,t){var o=e.getBoundingClientRect();var r=o.left+window.pageXOffset;var i=o.top+window.pageYOffset;return[r,i,r+t[0],i+t[1]]};ol.Overlay.prototype.setPositioning=function(e){this.set(ol.Overlay.Property.POSITIONING,e)};ol.Overlay.prototype.setVisible=function(e){if(this.rendered.visible!==e){this.element.style.display=e?"":"none";this.rendered.visible=e}};ol.Overlay.prototype.updatePixelPosition=function(){var e=this.getMap();var t=this.getPosition();if(!e||!e.isRendered()||!t){this.setVisible(false);return}var o=e.getPixelFromCoordinate(t);var r=e.getSize();this.updateRenderedPosition(o,r)};ol.Overlay.prototype.updateRenderedPosition=function(e,t){var o=this.element.style;var r=this.getOffset();var i=this.getPositioning();this.setVisible(true);var n=r[0];var l=r[1];if(i==ol.OverlayPositioning.BOTTOM_RIGHT||i==ol.OverlayPositioning.CENTER_RIGHT||i==ol.OverlayPositioning.TOP_RIGHT){if(this.rendered.left_!==""){this.rendered.left_=o.left=""}var a=Math.round(t[0]-e[0]-n)+"px";if(this.rendered.right_!=a){this.rendered.right_=o.right=a}}else{if(this.rendered.right_!==""){this.rendered.right_=o.right=""}if(i==ol.OverlayPositioning.BOTTOM_CENTER||i==ol.OverlayPositioning.CENTER_CENTER||i==ol.OverlayPositioning.TOP_CENTER){n-=this.element.offsetWidth/2}var s=Math.round(e[0]+n)+"px";if(this.rendered.left_!=s){this.rendered.left_=o.left=s}}if(i==ol.OverlayPositioning.BOTTOM_LEFT||i==ol.OverlayPositioning.BOTTOM_CENTER||i==ol.OverlayPositioning.BOTTOM_RIGHT){if(this.rendered.top_!==""){this.rendered.top_=o.top=""}var p=Math.round(t[1]-e[1]-l)+"px";if(this.rendered.bottom_!=p){this.rendered.bottom_=o.bottom=p}}else{if(this.rendered.bottom_!==""){this.rendered.bottom_=o.bottom=""}if(i==ol.OverlayPositioning.CENTER_LEFT||i==ol.OverlayPositioning.CENTER_CENTER||i==ol.OverlayPositioning.CENTER_RIGHT){l-=this.element.offsetHeight/2}var g=Math.round(e[1]+l)+"px";if(this.rendered.top_!=g){this.rendered.top_=o.top=g}}};ol.Overlay.prototype.getOptions=function(){return this.options};ol.Overlay.Property={ELEMENT:"element",MAP:"map",OFFSET:"offset",POSITION:"position",POSITIONING:"positioning"};goog.provide("ol.control.OverviewMap");goog.require("ol");goog.require("ol.Collection");goog.require("ol.PluggableMap");goog.require("ol.MapEventType");goog.require("ol.MapProperty");goog.require("ol.Object");goog.require("ol.ObjectEventType");goog.require("ol.Overlay");goog.require("ol.OverlayPositioning");goog.require("ol.ViewProperty");goog.require("ol.control.Control");goog.require("ol.coordinate");goog.require("ol.css");goog.require("ol.dom");goog.require("ol.events");goog.require("ol.events.EventType");goog.require("ol.extent");ol.control.OverviewMap=function(e){var t=e?e:{};this.collapsed_=t.collapsed!==undefined?t.collapsed:true;this.collapsible_=t.collapsible!==undefined?t.collapsible:true;if(!this.collapsible_){this.collapsed_=false}var o=t.className!==undefined?t.className:"ol-overviewmap";var r=t.tipLabel!==undefined?t.tipLabel:"Overview map";var i=t.collapseLabel!==undefined?t.collapseLabel:"«";if(typeof i==="string"){this.collapseLabel_=document.createElement("span");this.collapseLabel_.textContent=i}else{this.collapseLabel_=i}var n=t.label!==undefined?t.label:"»";if(typeof n==="string"){this.label_=document.createElement("span");this.label_.textContent=n}else{this.label_=n}var l=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;var a=document.createElement("button");a.setAttribute("type","button");a.title=r;a.appendChild(l);ol.events.listen(a,ol.events.EventType.CLICK,this.handleClick_,this);this.ovmapDiv_=document.createElement("DIV");this.ovmapDiv_.className="ol-overviewmap-map";this.ovmap_=new ol.PluggableMap({controls:new ol.Collection,interactions:new ol.Collection,view:t.view});var s=this.ovmap_;if(t.layers){t.layers.forEach(function(e){s.addLayer(e)},this)}var p=document.createElement("DIV");p.className="ol-overviewmap-box";p.style.boxSizing="border-box";this.boxOverlay_=new ol.Overlay({position:[0,0],positioning:ol.OverlayPositioning.BOTTOM_LEFT,element:p});this.ovmap_.addOverlay(this.boxOverlay_);var g=o+" "+ol.css.CLASS_UNSELECTABLE+" "+ol.css.CLASS_CONTROL+(this.collapsed_&&this.collapsible_?" ol-collapsed":"")+(this.collapsible_?"":" ol-uncollapsible");var u=document.createElement("div");u.className=g;u.appendChild(this.ovmapDiv_);u.appendChild(a);var c=t.render?t.render:ol.control.OverviewMap.render;ol.control.Control.call(this,{element:u,render:c,target:t.target});var y=this;var d=this.boxOverlay_;var h=this.boxOverlay_.getElement();var f=function(e){return{clientX:e.clientX-h.offsetWidth/2,clientY:e.clientY+h.offsetHeight/2}};var m=function(e){var t=s.getEventCoordinate(f(e));d.setPosition(t)};var v=function(e){var t=s.getEventCoordinate(e);y.getMap().getView().setCenter(t);window.removeEventListener("mousemove",m);window.removeEventListener("mouseup",v)};h.addEventListener("mousedown",function(){window.addEventListener("mousemove",m);window.addEventListener("mouseup",v)})};ol.inherits(ol.control.OverviewMap,ol.control.Control);ol.control.OverviewMap.prototype.setMap=function(e){var t=this.getMap();if(e===t){return}if(t){var o=t.getView();if(o){this.unbindView_(o)}this.ovmap_.setTarget(null)}ol.control.Control.prototype.setMap.call(this,e);if(e){this.ovmap_.setTarget(this.ovmapDiv_);this.listenerKeys.push(ol.events.listen(e,ol.ObjectEventType.PROPERTYCHANGE,this.handleMapPropertyChange_,this));if(this.ovmap_.getLayers().getLength()===0){this.ovmap_.setLayerGroup(e.getLayerGroup())}var r=e.getView();if(r){this.bindView_(r);if(r.isDef()){this.ovmap_.updateSize();this.resetExtent_()}}}};ol.control.OverviewMap.prototype.handleMapPropertyChange_=function(e){if(e.key===ol.MapProperty.VIEW){var t=e.oldValue;if(t){this.unbindView_(t)}var o=this.getMap().getView();this.bindView_(o)}};ol.control.OverviewMap.prototype.bindView_=function(e){ol.events.listen(e,ol.Object.getChangeEventType(ol.ViewProperty.ROTATION),this.handleRotationChanged_,this)};ol.control.OverviewMap.prototype.unbindView_=function(e){ol.events.unlisten(e,ol.Object.getChangeEventType(ol.ViewProperty.ROTATION),this.handleRotationChanged_,this)};ol.control.OverviewMap.prototype.handleRotationChanged_=function(){this.ovmap_.getView().setRotation(this.getMap().getView().getRotation())};ol.control.OverviewMap.render=function(e){this.validateExtent_();this.updateBox_()};ol.control.OverviewMap.prototype.validateExtent_=function(){var e=this.getMap();var t=this.ovmap_;if(!e.isRendered()||!t.isRendered()){return}var o=e.getSize();var r=e.getView();var i=r.calculateExtent(o);var n=t.getSize();var l=t.getView();var a=l.calculateExtent(n);var s=t.getPixelFromCoordinate(ol.extent.getTopLeft(i));var p=t.getPixelFromCoordinate(ol.extent.getBottomRight(i));var g=Math.abs(s[0]-p[0]);var u=Math.abs(s[1]-p[1]);var c=n[0];var y=n[1];if(g<c*ol.OVERVIEWMAP_MIN_RATIO||u<y*ol.OVERVIEWMAP_MIN_RATIO||g>c*ol.OVERVIEWMAP_MAX_RATIO||u>y*ol.OVERVIEWMAP_MAX_RATIO){this.resetExtent_()}else if(!ol.extent.containsExtent(a,i)){this.recenter_()}};ol.control.OverviewMap.prototype.resetExtent_=function(){if(ol.OVERVIEWMAP_MAX_RATIO===0||ol.OVERVIEWMAP_MIN_RATIO===0){return}var e=this.getMap();var t=this.ovmap_;var o=e.getSize();var r=e.getView();var i=r.calculateExtent(o);var n=t.getView();var l=Math.log(ol.OVERVIEWMAP_MAX_RATIO/ol.OVERVIEWMAP_MIN_RATIO)/Math.LN2;var a=1/(Math.pow(2,l/2)*ol.OVERVIEWMAP_MIN_RATIO);ol.extent.scaleFromCenter(i,a);n.fit(i)};ol.control.OverviewMap.prototype.recenter_=function(){var e=this.getMap();var t=this.ovmap_;var o=e.getView();var r=t.getView();r.setCenter(o.getCenter())};ol.control.OverviewMap.prototype.updateBox_=function(){var e=this.getMap();var t=this.ovmap_;if(!e.isRendered()||!t.isRendered()){return}var o=e.getSize();var r=e.getView();var i=t.getView();var n=r.getRotation();var l=this.boxOverlay_;var a=this.boxOverlay_.getElement();var s=r.calculateExtent(o);var p=i.getResolution();var g=ol.extent.getBottomLeft(s);var u=ol.extent.getTopRight(s);var c=this.calculateCoordinateRotate_(n,g);l.setPosition(c);if(a){a.style.width=Math.abs((g[0]-u[0])/p)+"px";a.style.height=Math.abs((u[1]-g[1])/p)+"px"}};ol.control.OverviewMap.prototype.calculateCoordinateRotate_=function(e,t){var o;var r=this.getMap();var i=r.getView();var n=i.getCenter();if(n){o=[t[0]-n[0],t[1]-n[1]];ol.coordinate.rotate(o,e);ol.coordinate.add(o,n)}return o};ol.control.OverviewMap.prototype.handleClick_=function(e){e.preventDefault();this.handleToggle_()};ol.control.OverviewMap.prototype.handleToggle_=function(){this.element.classList.toggle("ol-collapsed");if(this.collapsed_){ol.dom.replaceNode(this.collapseLabel_,this.label_)}else{ol.dom.replaceNode(this.label_,this.collapseLabel_)}this.collapsed_=!this.collapsed_;var e=this.ovmap_;if(!this.collapsed_&&!e.isRendered()){e.updateSize();this.resetExtent_();ol.events.listenOnce(e,ol.MapEventType.POSTRENDER,function(e){this.updateBox_()},this)}};ol.control.OverviewMap.prototype.getCollapsible=function(){return this.collapsible_};ol.control.OverviewMap.prototype.setCollapsible=function(e){if(this.collapsible_===e){return}this.collapsible_=e;this.element.classList.toggle("ol-uncollapsible");if(!e&&this.collapsed_){this.handleToggle_()}};ol.control.OverviewMap.prototype.setCollapsed=function(e){if(!this.collapsible_||this.collapsed_===e){return}this.handleToggle_()};ol.control.OverviewMap.prototype.getCollapsed=function(){return this.collapsed_};ol.control.OverviewMap.prototype.getOverviewMap=function(){return this.ovmap_};goog.provide("ol.control.ScaleLineUnits");ol.control.ScaleLineUnits={DEGREES:"degrees",IMPERIAL:"imperial",NAUTICAL:"nautical",METRIC:"metric",US:"us"};goog.provide("ol.control.ScaleLine");goog.require("ol");goog.require("ol.Object");goog.require("ol.asserts");goog.require("ol.control.Control");goog.require("ol.control.ScaleLineUnits");goog.require("ol.css");goog.require("ol.events");goog.require("ol.proj");goog.require("ol.proj.Units");ol.control.ScaleLine=function(e){var t=e?e:{};var o=t.className!==undefined?t.className:"ol-scale-line";this.innerElement_=document.createElement("DIV");this.innerElement_.className=o+"-inner";this.element_=document.createElement("DIV");this.element_.className=o+" "+ol.css.CLASS_UNSELECTABLE;this.element_.appendChild(this.innerElement_);this.viewState_=null;this.minWidth_=t.minWidth!==undefined?t.minWidth:64;this.renderedVisible_=false;this.renderedWidth_=undefined;this.renderedHTML_="";var r=t.render?t.render:ol.control.ScaleLine.render;ol.control.Control.call(this,{element:this.element_,render:r,target:t.target});ol.events.listen(this,ol.Object.getChangeEventType(ol.control.ScaleLine.Property_.UNITS),this.handleUnitsChanged_,this);this.setUnits(t.units||ol.control.ScaleLineUnits.METRIC)};ol.inherits(ol.control.ScaleLine,ol.control.Control);ol.control.ScaleLine.LEADING_DIGITS=[1,2,5];ol.control.ScaleLine.prototype.getUnits=function(){return this.get(ol.control.ScaleLine.Property_.UNITS)};ol.control.ScaleLine.render=function(e){var t=e.frameState;if(!t){this.viewState_=null}else{this.viewState_=t.viewState}this.updateElement_()};ol.control.ScaleLine.prototype.handleUnitsChanged_=function(){this.updateElement_()};ol.control.ScaleLine.prototype.setUnits=function(e){this.set(ol.control.ScaleLine.Property_.UNITS,e)};ol.control.ScaleLine.prototype.updateElement_=function(){var e=this.viewState_;if(!e){if(this.renderedVisible_){this.element_.style.display="none";this.renderedVisible_=false}return}var t=e.center;var o=e.projection;var r=this.getUnits();var i=r==ol.control.ScaleLineUnits.DEGREES?ol.proj.Units.DEGREES:ol.proj.Units.METERS;var n=ol.proj.getPointResolution(o,e.resolution,t,i);if(r!=ol.control.ScaleLineUnits.DEGREES){n*=o.getMetersPerUnit()}var l=this.minWidth_*n;var a="";if(r==ol.control.ScaleLineUnits.DEGREES){var s=ol.proj.METERS_PER_UNIT[ol.proj.Units.DEGREES];if(o.getUnits()==ol.proj.Units.DEGREES){l*=s}else{n/=s}if(l<s/60){a="″";n*=3600}else if(l<s){a="′";n*=60}else{a="°"}}else if(r==ol.control.ScaleLineUnits.IMPERIAL){if(l<.9144){a="in";n/=.0254}else if(l<1609.344){a="ft";n/=.3048}else{a="mi";n/=1609.344}}else if(r==ol.control.ScaleLineUnits.NAUTICAL){n/=1852;a="nm"}else if(r==ol.control.ScaleLineUnits.METRIC){if(l<.001){a="μm";n*=1e6}else if(l<1){a="mm";n*=1e3}else if(l<1e3){a="m"}else{a="km";n/=1e3}}else if(r==ol.control.ScaleLineUnits.US){if(l<.9144){a="in";n*=39.37}else if(l<1609.344){a="ft";n/=.30480061}else{a="mi";n/=1609.3472}}else{ol.asserts.assert(false,33)}var p=3*Math.floor(Math.log(this.minWidth_*n)/Math.log(10));var g,u;while(true){g=ol.control.ScaleLine.LEADING_DIGITS[(p%3+3)%3]*Math.pow(10,Math.floor(p/3));u=Math.round(g/n);if(isNaN(u)){this.element_.style.display="none";this.renderedVisible_=false;return}else if(u>=this.minWidth_){break}++p}var c=g+" "+a;if(this.renderedHTML_!=c){this.innerElement_.innerHTML=c;this.renderedHTML_=c}if(this.renderedWidth_!=u){this.innerElement_.style.width=u+"px";this.renderedWidth_=u}if(!this.renderedVisible_){this.element_.style.display="";this.renderedVisible_=true}};ol.control.ScaleLine.Property_={UNITS:"units"};goog.provide("ol.control.ZoomSlider");goog.require("ol");goog.require("ol.ViewHint");goog.require("ol.control.Control");goog.require("ol.css");goog.require("ol.easing");goog.require("ol.events");goog.require("ol.events.Event");goog.require("ol.events.EventType");goog.require("ol.math");goog.require("ol.pointer.EventType");goog.require("ol.pointer.PointerEventHandler");ol.control.ZoomSlider=function(e){var t=e?e:{};this.currentResolution_=undefined;this.direction_=ol.control.ZoomSlider.Direction_.VERTICAL;this.dragging_;this.heightLimit_=0;this.widthLimit_=0;this.previousX_;this.previousY_;this.thumbSize_=null;this.sliderInitialized_=false;this.duration_=t.duration!==undefined?t.duration:200;var o=t.className!==undefined?t.className:"ol-zoomslider";var r=document.createElement("button");r.setAttribute("type","button");r.className=o+"-thumb "+ol.css.CLASS_UNSELECTABLE;var i=document.createElement("div");i.className=o+" "+ol.css.CLASS_UNSELECTABLE+" "+ol.css.CLASS_CONTROL;i.appendChild(r);this.dragger_=new ol.pointer.PointerEventHandler(i);ol.events.listen(this.dragger_,ol.pointer.EventType.POINTERDOWN,this.handleDraggerStart_,this);ol.events.listen(this.dragger_,ol.pointer.EventType.POINTERMOVE,this.handleDraggerDrag_,this);ol.events.listen(this.dragger_,ol.pointer.EventType.POINTERUP,this.handleDraggerEnd_,this);ol.events.listen(i,ol.events.EventType.CLICK,this.handleContainerClick_,this);ol.events.listen(r,ol.events.EventType.CLICK,ol.events.Event.stopPropagation);var n=t.render?t.render:ol.control.ZoomSlider.render;ol.control.Control.call(this,{element:i,render:n})};ol.inherits(ol.control.ZoomSlider,ol.control.Control);ol.control.ZoomSlider.prototype.disposeInternal=function(){this.dragger_.dispose();ol.control.Control.prototype.disposeInternal.call(this)};ol.control.ZoomSlider.Direction_={VERTICAL:0,HORIZONTAL:1};ol.control.ZoomSlider.prototype.setMap=function(e){ol.control.Control.prototype.setMap.call(this,e);if(e){e.render()}};ol.control.ZoomSlider.prototype.initSlider_=function(){var e=this.element;var t={width:e.offsetWidth,height:e.offsetHeight};var o=e.firstElementChild;var r=getComputedStyle(o);var i=o.offsetWidth+parseFloat(r["marginRight"])+parseFloat(r["marginLeft"]);var n=o.offsetHeight+parseFloat(r["marginTop"])+parseFloat(r["marginBottom"]);this.thumbSize_=[i,n];if(t.width>t.height){this.direction_=ol.control.ZoomSlider.Direction_.HORIZONTAL;this.widthLimit_=t.width-i}else{this.direction_=ol.control.ZoomSlider.Direction_.VERTICAL;this.heightLimit_=t.height-n}this.sliderInitialized_=true};ol.control.ZoomSlider.render=function(e){if(!e.frameState){return}if(!this.sliderInitialized_){this.initSlider_()}var t=e.frameState.viewState.resolution;if(t!==this.currentResolution_){this.currentResolution_=t;this.setThumbPosition_(t)}};ol.control.ZoomSlider.prototype.handleContainerClick_=function(e){var t=this.getMap().getView();var o=this.getRelativePosition_(e.offsetX-this.thumbSize_[0]/2,e.offsetY-this.thumbSize_[1]/2);var r=this.getResolutionForPosition_(o);t.animate({resolution:t.constrainResolution(r),duration:this.duration_,easing:ol.easing.easeOut})};ol.control.ZoomSlider.prototype.handleDraggerStart_=function(e){if(!this.dragging_&&e.originalEvent.target===this.element.firstElementChild){this.getMap().getView().setHint(ol.ViewHint.INTERACTING,1);this.previousX_=e.clientX;this.previousY_=e.clientY;this.dragging_=true}};ol.control.ZoomSlider.prototype.handleDraggerDrag_=function(e){if(this.dragging_){var t=this.element.firstElementChild;var o=e.clientX-this.previousX_+parseInt(t.style.left,10);var r=e.clientY-this.previousY_+parseInt(t.style.top,10);var i=this.getRelativePosition_(o,r);this.currentResolution_=this.getResolutionForPosition_(i);this.getMap().getView().setResolution(this.currentResolution_);this.setThumbPosition_(this.currentResolution_);this.previousX_=e.clientX;this.previousY_=e.clientY}};ol.control.ZoomSlider.prototype.handleDraggerEnd_=function(e){if(this.dragging_){var t=this.getMap().getView();t.setHint(ol.ViewHint.INTERACTING,-1);t.animate({resolution:t.constrainResolution(this.currentResolution_),duration:this.duration_,easing:ol.easing.easeOut});this.dragging_=false;this.previousX_=undefined;this.previousY_=undefined}};ol.control.ZoomSlider.prototype.setThumbPosition_=function(e){var t=this.getPositionForResolution_(e);var o=this.element.firstElementChild;if(this.direction_==ol.control.ZoomSlider.Direction_.HORIZONTAL){o.style.left=this.widthLimit_*t+"px"}else{o.style.top=this.heightLimit_*t+"px"}};ol.control.ZoomSlider.prototype.getRelativePosition_=function(e,t){var o;if(this.direction_===ol.control.ZoomSlider.Direction_.HORIZONTAL){o=e/this.widthLimit_}else{o=t/this.heightLimit_}return ol.math.clamp(o,0,1)};ol.control.ZoomSlider.prototype.getResolutionForPosition_=function(e){var t=this.getMap().getView().getResolutionForValueFunction();return t(1-e)};ol.control.ZoomSlider.prototype.getPositionForResolution_=function(e){var t=this.getMap().getView().getValueForResolutionFunction();return 1-t(e)};goog.provide("ol.control.ZoomToExtent");goog.require("ol");goog.require("ol.events");goog.require("ol.events.EventType");goog.require("ol.control.Control");goog.require("ol.css");ol.control.ZoomToExtent=function(e){var t=e?e:{};this.extent=t.extent?t.extent:null;var o=t.className!==undefined?t.className:"ol-zoom-extent";var r=t.label!==undefined?t.label:"E";var i=t.tipLabel!==undefined?t.tipLabel:"Fit to extent";var n=document.createElement("button");n.setAttribute("type","button");n.title=i;n.appendChild(typeof r==="string"?document.createTextNode(r):r);ol.events.listen(n,ol.events.EventType.CLICK,this.handleClick_,this);var l=o+" "+ol.css.CLASS_UNSELECTABLE+" "+ol.css.CLASS_CONTROL;var a=document.createElement("div");a.className=l;a.appendChild(n);ol.control.Control.call(this,{element:a,target:t.target})};ol.inherits(ol.control.ZoomToExtent,ol.control.Control);ol.control.ZoomToExtent.prototype.handleClick_=function(e){e.preventDefault();this.handleZoomToExtent()};ol.control.ZoomToExtent.prototype.handleZoomToExtent=function(){var e=this.getMap();var t=e.getView();var o=!this.extent?t.getProjection().getExtent():this.extent;t.fit(o)};goog.provide("ol.DeviceOrientation");goog.require("ol.events");goog.require("ol");goog.require("ol.Object");goog.require("ol.has");goog.require("ol.math");ol.DeviceOrientation=function(e){ol.Object.call(this);var t=e?e:{};this.listenerKey_=null;ol.events.listen(this,ol.Object.getChangeEventType(ol.DeviceOrientation.Property_.TRACKING),this.handleTrackingChanged_,this);this.setTracking(t.tracking!==undefined?t.tracking:false)};ol.inherits(ol.DeviceOrientation,ol.Object);ol.DeviceOrientation.prototype.disposeInternal=function(){this.setTracking(false);ol.Object.prototype.disposeInternal.call(this)};ol.DeviceOrientation.prototype.orientationChange_=function(e){var t=e;if(t.alpha!==null){var o=ol.math.toRadians(t.alpha);this.set(ol.DeviceOrientation.Property_.ALPHA,o);if(typeof t.absolute==="boolean"&&t.absolute){this.set(ol.DeviceOrientation.Property_.HEADING,o)}else if(typeof t.webkitCompassHeading==="number"&&t.webkitCompassAccuracy!=-1){var r=ol.math.toRadians(t.webkitCompassHeading);this.set(ol.DeviceOrientation.Property_.HEADING,r)}}if(t.beta!==null){this.set(ol.DeviceOrientation.Property_.BETA,ol.math.toRadians(t.beta))}if(t.gamma!==null){this.set(ol.DeviceOrientation.Property_.GAMMA,ol.math.toRadians(t.gamma))}this.changed()};ol.DeviceOrientation.prototype.getAlpha=function(){return this.get(ol.DeviceOrientation.Property_.ALPHA)};ol.DeviceOrientation.prototype.getBeta=function(){return this.get(ol.DeviceOrientation.Property_.BETA)};ol.DeviceOrientation.prototype.getGamma=function(){return this.get(ol.DeviceOrientation.Property_.GAMMA)};ol.DeviceOrientation.prototype.getHeading=function(){return this.get(ol.DeviceOrientation.Property_.HEADING)};ol.DeviceOrientation.prototype.getTracking=function(){return this.get(ol.DeviceOrientation.Property_.TRACKING)};ol.DeviceOrientation.prototype.handleTrackingChanged_=function(){if(ol.has.DEVICE_ORIENTATION){var e=this.getTracking();if(e&&!this.listenerKey_){this.listenerKey_=ol.events.listen(window,"deviceorientation",this.orientationChange_,this)}else if(!e&&this.listenerKey_!==null){ol.events.unlistenByKey(this.listenerKey_);this.listenerKey_=null}}};ol.DeviceOrientation.prototype.setTracking=function(e){this.set(ol.DeviceOrientation.Property_.TRACKING,e)};ol.DeviceOrientation.Property_={ALPHA:"alpha",BETA:"beta",GAMMA:"gamma",HEADING:"heading",TRACKING:"tracking"};goog.provide("ol.style.Image");ol.style.Image=function(e){this.opacity_=e.opacity;this.rotateWithView_=e.rotateWithView;this.rotation_=e.rotation;this.scale_=e.scale;this.snapToPixel_=e.snapToPixel};ol.style.Image.prototype.getOpacity=function(){return this.opacity_};ol.style.Image.prototype.getRotateWithView=function(){return this.rotateWithView_};ol.style.Image.prototype.getRotation=function(){return this.rotation_};ol.style.Image.prototype.getScale=function(){return this.scale_};ol.style.Image.prototype.getSnapToPixel=function(){return this.snapToPixel_};ol.style.Image.prototype.getAnchor=function(){};ol.style.Image.prototype.getImage=function(e){};ol.style.Image.prototype.getHitDetectionImage=function(e){};ol.style.Image.prototype.getImageState=function(){};ol.style.Image.prototype.getImageSize=function(){};ol.style.Image.prototype.getHitDetectionImageSize=function(){};ol.style.Image.prototype.getOrigin=function(){};ol.style.Image.prototype.getSize=function(){};ol.style.Image.prototype.setOpacity=function(e){this.opacity_=e};ol.style.Image.prototype.setRotateWithView=function(e){this.rotateWithView_=e};ol.style.Image.prototype.setRotation=function(e){this.rotation_=e};ol.style.Image.prototype.setScale=function(e){this.scale_=e};ol.style.Image.prototype.setSnapToPixel=function(e){this.snapToPixel_=e};ol.style.Image.prototype.listenImageChange=function(e,t){};ol.style.Image.prototype.load=function(){};ol.style.Image.prototype.unlistenImageChange=function(e,t){};goog.provide("ol.style.RegularShape");goog.require("ol");goog.require("ol.colorlike");goog.require("ol.dom");goog.require("ol.has");goog.require("ol.ImageState");goog.require("ol.render.canvas");goog.require("ol.style.Image");ol.style.RegularShape=function(e){this.checksums_=null;this.canvas_=null;this.hitDetectionCanvas_=null;this.fill_=e.fill!==undefined?e.fill:null;this.origin_=[0,0];this.points_=e.points;this.radius_=e.radius!==undefined?e.radius:e.radius1;this.radius2_=e.radius2;this.angle_=e.angle!==undefined?e.angle:0;this.stroke_=e.stroke!==undefined?e.stroke:null;this.anchor_=null;this.size_=null;this.imageSize_=null;this.hitDetectionImageSize_=null;this.atlasManager_=e.atlasManager;this.render_(this.atlasManager_);var t=e.snapToPixel!==undefined?e.snapToPixel:true;var o=e.rotateWithView!==undefined?e.rotateWithView:false;ol.style.Image.call(this,{opacity:1,rotateWithView:o,rotation:e.rotation!==undefined?e.rotation:0,scale:1,snapToPixel:t})};ol.inherits(ol.style.RegularShape,ol.style.Image);ol.style.RegularShape.prototype.clone=function(){var e=new ol.style.RegularShape({fill:this.getFill()?this.getFill().clone():undefined,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),snapToPixel:this.getSnapToPixel(),stroke:this.getStroke()?this.getStroke().clone():undefined,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),atlasManager:this.atlasManager_});e.setOpacity(this.getOpacity());e.setScale(this.getScale());return e};ol.style.RegularShape.prototype.getAnchor=function(){return this.anchor_};ol.style.RegularShape.prototype.getAngle=function(){return this.angle_};ol.style.RegularShape.prototype.getFill=function(){return this.fill_};ol.style.RegularShape.prototype.getHitDetectionImage=function(e){return this.hitDetectionCanvas_};ol.style.RegularShape.prototype.getImage=function(e){return this.canvas_};ol.style.RegularShape.prototype.getImageSize=function(){return this.imageSize_};ol.style.RegularShape.prototype.getHitDetectionImageSize=function(){return this.hitDetectionImageSize_};ol.style.RegularShape.prototype.getImageState=function(){return ol.ImageState.LOADED};ol.style.RegularShape.prototype.getOrigin=function(){return this.origin_};ol.style.RegularShape.prototype.getPoints=function(){return this.points_};ol.style.RegularShape.prototype.getRadius=function(){return this.radius_};ol.style.RegularShape.prototype.getRadius2=function(){return this.radius2_};ol.style.RegularShape.prototype.getSize=function(){return this.size_};ol.style.RegularShape.prototype.getStroke=function(){return this.stroke_};ol.style.RegularShape.prototype.listenImageChange=function(e,t){};ol.style.RegularShape.prototype.load=function(){};ol.style.RegularShape.prototype.unlistenImageChange=function(e,t){};ol.style.RegularShape.prototype.render_=function(e){var t;var o="";var r="";var i=0;var n=null;var l=0;var a;var s=0;if(this.stroke_){a=this.stroke_.getColor();if(a===null){a=ol.render.canvas.defaultStrokeStyle}a=ol.colorlike.asColorLike(a);s=this.stroke_.getWidth();if(s===undefined){s=ol.render.canvas.defaultLineWidth}n=this.stroke_.getLineDash();l=this.stroke_.getLineDashOffset();if(!ol.has.CANVAS_LINE_DASH){n=null;l=0}r=this.stroke_.getLineJoin();if(r===undefined){r=ol.render.canvas.defaultLineJoin}o=this.stroke_.getLineCap();if(o===undefined){o=ol.render.canvas.defaultLineCap}i=this.stroke_.getMiterLimit();if(i===undefined){i=ol.render.canvas.defaultMiterLimit}}var p=2*(this.radius_+s)+1;var g={strokeStyle:a,strokeWidth:s,size:p,lineCap:o,lineDash:n,lineDashOffset:l,lineJoin:r,miterLimit:i};if(e===undefined){var u=ol.dom.createCanvasContext2D(p,p);this.canvas_=u.canvas;p=this.canvas_.width;t=p;this.draw_(g,u,0,0);this.createHitDetectionCanvas_(g)}else{p=Math.round(p);var c=!this.fill_;var y;if(c){y=this.drawHitDetectionCanvas_.bind(this,g)}var d=this.getChecksum();var h=e.add(d,p,p,this.draw_.bind(this,g),y);this.canvas_=h.image;this.origin_=[h.offsetX,h.offsetY];t=h.image.width;if(c){this.hitDetectionCanvas_=h.hitImage;this.hitDetectionImageSize_=[h.hitImage.width,h.hitImage.height]}else{this.hitDetectionCanvas_=this.canvas_;this.hitDetectionImageSize_=[t,t]}}this.anchor_=[p/2,p/2];this.size_=[p,p];this.imageSize_=[t,t]};ol.style.RegularShape.prototype.draw_=function(e,t,o,r){var i,n,l;t.setTransform(1,0,0,1,0,0);t.translate(o,r);t.beginPath();var a=this.points_;if(a===Infinity){t.arc(e.size/2,e.size/2,this.radius_,0,2*Math.PI,true)}else{var s=this.radius2_!==undefined?this.radius2_:this.radius_;if(s!==this.radius_){a=2*a}for(i=0;i<=a;i++){n=i*2*Math.PI/a-Math.PI/2+this.angle_;l=i%2===0?this.radius_:s;t.lineTo(e.size/2+l*Math.cos(n),e.size/2+l*Math.sin(n))}}if(this.fill_){var p=this.fill_.getColor();if(p===null){p=ol.render.canvas.defaultFillStyle}t.fillStyle=ol.colorlike.asColorLike(p);t.fill()}if(this.stroke_){t.strokeStyle=e.strokeStyle;t.lineWidth=e.strokeWidth;if(e.lineDash){t.setLineDash(e.lineDash);t.lineDashOffset=e.lineDashOffset}t.lineCap=e.lineCap;t.lineJoin=e.lineJoin;t.miterLimit=e.miterLimit;t.stroke()}t.closePath()};ol.style.RegularShape.prototype.createHitDetectionCanvas_=function(e){this.hitDetectionImageSize_=[e.size,e.size];if(this.fill_){this.hitDetectionCanvas_=this.canvas_;return}var t=ol.dom.createCanvasContext2D(e.size,e.size);this.hitDetectionCanvas_=t.canvas;this.drawHitDetectionCanvas_(e,t,0,0)};ol.style.RegularShape.prototype.drawHitDetectionCanvas_=function(e,t,o,r){t.setTransform(1,0,0,1,0,0);t.translate(o,r);t.beginPath();var i=this.points_;if(i===Infinity){t.arc(e.size/2,e.size/2,this.radius_,0,2*Math.PI,true)}else{var n=this.radius2_!==undefined?this.radius2_:this.radius_;if(n!==this.radius_){i=2*i}var l,a,s;for(l=0;l<=i;l++){s=l*2*Math.PI/i-Math.PI/2+this.angle_;a=l%2===0?this.radius_:n;t.lineTo(e.size/2+a*Math.cos(s),e.size/2+a*Math.sin(s))}}t.fillStyle=ol.render.canvas.defaultFillStyle;t.fill();if(this.stroke_){t.strokeStyle=e.strokeStyle;t.lineWidth=e.strokeWidth;if(e.lineDash){t.setLineDash(e.lineDash);t.lineDashOffset=e.lineDashOffset}t.stroke()}t.closePath()};ol.style.RegularShape.prototype.getChecksum=function(){var e=this.stroke_?this.stroke_.getChecksum():"-";var t=this.fill_?this.fill_.getChecksum():"-";var o=!this.checksums_||(e!=this.checksums_[1]||t!=this.checksums_[2]||this.radius_!=this.checksums_[3]||this.radius2_!=this.checksums_[4]||this.angle_!=this.checksums_[5]||this.points_!=this.checksums_[6]);if(o){var r="r"+e+t+(this.radius_!==undefined?this.radius_.toString():"-")+(this.radius2_!==undefined?this.radius2_.toString():"-")+(this.angle_!==undefined?this.angle_.toString():"-")+(this.points_!==undefined?this.points_.toString():"-");this.checksums_=[r,e,t,this.radius_,this.radius2_,this.angle_,this.points_]}return this.checksums_[0]};goog.provide("ol.style.Circle");goog.require("ol");goog.require("ol.style.RegularShape");ol.style.Circle=function(e){var t=e||{};ol.style.RegularShape.call(this,{points:Infinity,fill:t.fill,radius:t.radius,snapToPixel:t.snapToPixel,stroke:t.stroke,atlasManager:t.atlasManager})};ol.inherits(ol.style.Circle,ol.style.RegularShape);ol.style.Circle.prototype.clone=function(){var e=new ol.style.Circle({fill:this.getFill()?this.getFill().clone():undefined,stroke:this.getStroke()?this.getStroke().clone():undefined,radius:this.getRadius(),snapToPixel:this.getSnapToPixel(),atlasManager:this.atlasManager_});e.setOpacity(this.getOpacity());e.setScale(this.getScale());return e};ol.style.Circle.prototype.setRadius=function(e){this.radius_=e;this.render_(this.atlasManager_)};goog.provide("ol.style.Fill");goog.require("ol");goog.require("ol.color");ol.style.Fill=function(e){var t=e||{};this.color_=t.color!==undefined?t.color:null;this.checksum_=undefined};ol.style.Fill.prototype.clone=function(){var e=this.getColor();return new ol.style.Fill({color:e&&e.slice?e.slice():e||undefined})};ol.style.Fill.prototype.getColor=function(){return this.color_};ol.style.Fill.prototype.setColor=function(e){this.color_=e;this.checksum_=undefined};ol.style.Fill.prototype.getChecksum=function(){if(this.checksum_===undefined){if(this.color_ instanceof CanvasPattern||this.color_ instanceof CanvasGradient){this.checksum_=ol.getUid(this.color_).toString()}else{this.checksum_="f"+(this.color_?ol.color.asString(this.color_):"-")}}return this.checksum_};goog.provide("ol.style.Stroke");goog.require("ol");ol.style.Stroke=function(e){var t=e||{};this.color_=t.color!==undefined?t.color:null;this.lineCap_=t.lineCap;this.lineDash_=t.lineDash!==undefined?t.lineDash:null;this.lineDashOffset_=t.lineDashOffset;this.lineJoin_=t.lineJoin;this.miterLimit_=t.miterLimit;this.width_=t.width;this.checksum_=undefined};ol.style.Stroke.prototype.clone=function(){var e=this.getColor();return new ol.style.Stroke({color:e&&e.slice?e.slice():e||undefined,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():undefined,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})};ol.style.Stroke.prototype.getColor=function(){return this.color_};ol.style.Stroke.prototype.getLineCap=function(){return this.lineCap_};ol.style.Stroke.prototype.getLineDash=function(){return this.lineDash_};ol.style.Stroke.prototype.getLineDashOffset=function(){return this.lineDashOffset_};ol.style.Stroke.prototype.getLineJoin=function(){return this.lineJoin_};ol.style.Stroke.prototype.getMiterLimit=function(){return this.miterLimit_};ol.style.Stroke.prototype.getWidth=function(){return this.width_};ol.style.Stroke.prototype.setColor=function(e){this.color_=e;this.checksum_=undefined};ol.style.Stroke.prototype.setLineCap=function(e){this.lineCap_=e;this.checksum_=undefined};ol.style.Stroke.prototype.setLineDash=function(e){this.lineDash_=e;this.checksum_=undefined};ol.style.Stroke.prototype.setLineDashOffset=function(e){this.lineDashOffset_=e;this.checksum_=undefined};ol.style.Stroke.prototype.setLineJoin=function(e){this.lineJoin_=e;this.checksum_=undefined};ol.style.Stroke.prototype.setMiterLimit=function(e){this.miterLimit_=e;this.checksum_=undefined};ol.style.Stroke.prototype.setWidth=function(e){this.width_=e;this.checksum_=undefined};ol.style.Stroke.prototype.getChecksum=function(){if(this.checksum_===undefined){this.checksum_="s";if(this.color_){if(typeof this.color_==="string"){this.checksum_+=this.color_}else{this.checksum_+=ol.getUid(this.color_).toString()}}else{this.checksum_+="-"}this.checksum_+=","+(this.lineCap_!==undefined?this.lineCap_.toString():"-")+","+(this.lineDash_?this.lineDash_.toString():"-")+","+(this.lineDashOffset_!==undefined?this.lineDashOffset_:"-")+","+(this.lineJoin_!==undefined?this.lineJoin_:"-")+","+(this.miterLimit_!==undefined?this.miterLimit_.toString():"-")+","+(this.width_!==undefined?this.width_.toString():"-")}return this.checksum_};goog.provide("ol.style.Style");goog.require("ol.asserts");goog.require("ol.geom.GeometryType");goog.require("ol.style.Circle");goog.require("ol.style.Fill");goog.require("ol.style.Stroke");ol.style.Style=function(e){var t=e||{};this.geometry_=null;this.geometryFunction_=ol.style.Style.defaultGeometryFunction;if(t.geometry!==undefined){this.setGeometry(t.geometry)}this.fill_=t.fill!==undefined?t.fill:null;this.image_=t.image!==undefined?t.image:null;this.renderer_=t.renderer!==undefined?t.renderer:null;this.stroke_=t.stroke!==undefined?t.stroke:null;this.text_=t.text!==undefined?t.text:null;this.zIndex_=t.zIndex};ol.style.Style.prototype.clone=function(){var e=this.getGeometry();if(e&&e.clone){e=e.clone()}return new ol.style.Style({geometry:e,fill:this.getFill()?this.getFill().clone():undefined,image:this.getImage()?this.getImage().clone():undefined,stroke:this.getStroke()?this.getStroke().clone():undefined,text:this.getText()?this.getText().clone():undefined,zIndex:this.getZIndex()})};ol.style.Style.prototype.getRenderer=function(){return this.renderer_};ol.style.Style.prototype.setRenderer=function(e){this.renderer_=e};ol.style.Style.prototype.getGeometry=function(){return this.geometry_};ol.style.Style.prototype.getGeometryFunction=function(){return this.geometryFunction_};ol.style.Style.prototype.getFill=function(){return this.fill_};ol.style.Style.prototype.setFill=function(e){this.fill_=e};ol.style.Style.prototype.getImage=function(){return this.image_};ol.style.Style.prototype.setImage=function(e){this.image_=e};ol.style.Style.prototype.getStroke=function(){return this.stroke_};ol.style.Style.prototype.setStroke=function(e){this.stroke_=e};ol.style.Style.prototype.getText=function(){return this.text_};ol.style.Style.prototype.setText=function(e){this.text_=e};ol.style.Style.prototype.getZIndex=function(){return this.zIndex_};ol.style.Style.prototype.setGeometry=function(e){if(typeof e==="function"){this.geometryFunction_=e}else if(typeof e==="string"){this.geometryFunction_=function(t){return t.get(e)}}else if(!e){this.geometryFunction_=ol.style.Style.defaultGeometryFunction}else if(e!==undefined){this.geometryFunction_=function(){return e}}this.geometry_=e};ol.style.Style.prototype.setZIndex=function(e){this.zIndex_=e};ol.style.Style.createFunction=function(e){var t;if(typeof e==="function"){t=e}else{var o;if(Array.isArray(e)){o=e}else{ol.asserts.assert(e instanceof ol.style.Style,41);o=[e]}t=function(){return o}}return t};ol.style.Style.default_=null;ol.style.Style.defaultFunction=function(e,t){if(!ol.style.Style.default_){var o=new ol.style.Fill({color:"rgba(255,255,255,0.4)"});var r=new ol.style.Stroke({color:"#3399CC",width:1.25});ol.style.Style.default_=[new ol.style.Style({image:new ol.style.Circle({fill:o,stroke:r,radius:5}),fill:o,stroke:r})]}return ol.style.Style.default_};ol.style.Style.createDefaultEditing=function(){var e={};var t=[255,255,255,1];var o=[0,153,255,1];var r=3;e[ol.geom.GeometryType.POLYGON]=[new ol.style.Style({fill:new ol.style.Fill({color:[255,255,255,.5]})})];e[ol.geom.GeometryType.MULTI_POLYGON]=e[ol.geom.GeometryType.POLYGON];e[ol.geom.GeometryType.LINE_STRING]=[new ol.style.Style({stroke:new ol.style.Stroke({color:t,width:r+2})}),new ol.style.Style({stroke:new ol.style.Stroke({color:o,width:r})})];e[ol.geom.GeometryType.MULTI_LINE_STRING]=e[ol.geom.GeometryType.LINE_STRING];e[ol.geom.GeometryType.CIRCLE]=e[ol.geom.GeometryType.POLYGON].concat(e[ol.geom.GeometryType.LINE_STRING]);e[ol.geom.GeometryType.POINT]=[new ol.style.Style({image:new ol.style.Circle({radius:r*2,fill:new ol.style.Fill({color:o}),stroke:new ol.style.Stroke({color:t,width:r/2})}),zIndex:Infinity})];e[ol.geom.GeometryType.MULTI_POINT]=e[ol.geom.GeometryType.POINT];e[ol.geom.GeometryType.GEOMETRY_COLLECTION]=e[ol.geom.GeometryType.POLYGON].concat(e[ol.geom.GeometryType.LINE_STRING],e[ol.geom.GeometryType.POINT]);return e};ol.style.Style.defaultGeometryFunction=function(e){return e.getGeometry()};goog.provide("ol.Feature");goog.require("ol.asserts");goog.require("ol.events");goog.require("ol.events.EventType");goog.require("ol");goog.require("ol.Object");goog.require("ol.geom.Geometry");goog.require("ol.style.Style");ol.Feature=function(e){ol.Object.call(this);this.id_=undefined;this.geometryName_="geometry";this.style_=null;this.styleFunction_=undefined;this.geometryChangeKey_=null;ol.events.listen(this,ol.Object.getChangeEventType(this.geometryName_),this.handleGeometryChanged_,this);if(e!==undefined){if(e instanceof ol.geom.Geometry||!e){var t=e;this.setGeometry(t)}else{var o=e;this.setProperties(o)}}};ol.inherits(ol.Feature,ol.Object);ol.Feature.prototype.clone=function(){var e=new ol.Feature(this.getProperties());e.setGeometryName(this.getGeometryName());var t=this.getGeometry();if(t){e.setGeometry(t.clone())}var o=this.getStyle();if(o){e.setStyle(o)}return e};ol.Feature.prototype.getGeometry=function(){return this.get(this.geometryName_)};ol.Feature.prototype.getId=function(){return this.id_};ol.Feature.prototype.getGeometryName=function(){return this.geometryName_};ol.Feature.prototype.getStyle=function(){return this.style_};ol.Feature.prototype.getStyleFunction=function(){return this.styleFunction_};ol.Feature.prototype.handleGeometryChange_=function(){this.changed()};ol.Feature.prototype.handleGeometryChanged_=function(){if(this.geometryChangeKey_){ol.events.unlistenByKey(this.geometryChangeKey_);this.geometryChangeKey_=null}var e=this.getGeometry();if(e){this.geometryChangeKey_=ol.events.listen(e,ol.events.EventType.CHANGE,this.handleGeometryChange_,this)}this.changed()};ol.Feature.prototype.setGeometry=function(e){this.set(this.geometryName_,e)};ol.Feature.prototype.setStyle=function(e){this.style_=e;this.styleFunction_=!e?undefined:ol.Feature.createStyleFunction(e);this.changed()};ol.Feature.prototype.setId=function(e){this.id_=e;this.changed()};ol.Feature.prototype.setGeometryName=function(e){ol.events.unlisten(this,ol.Object.getChangeEventType(this.geometryName_),this.handleGeometryChanged_,this);this.geometryName_=e;ol.events.listen(this,ol.Object.getChangeEventType(this.geometryName_),this.handleGeometryChanged_,this);this.handleGeometryChanged_()};ol.Feature.createStyleFunction=function(e){var t;if(typeof e==="function"){if(e.length==2){t=function(t){return e(this,t)}}else{t=e}}else{var o;if(Array.isArray(e)){o=e}else{ol.asserts.assert(e instanceof ol.style.Style,41);o=[e]}t=function(){return o}}return t};goog.provide("ol.format.FormatType");ol.format.FormatType={ARRAY_BUFFER:"arraybuffer",JSON:"json",TEXT:"text",XML:"xml"};goog.provide("ol.xml");goog.require("ol.array");ol.xml.DOCUMENT=document.implementation.createDocument("","",null);ol.xml.createElementNS=function(e,t){return ol.xml.DOCUMENT.createElementNS(e,t)};ol.xml.getAllTextContent=function(e,t){return ol.xml.getAllTextContent_(e,t,[]).join("")};ol.xml.getAllTextContent_=function(e,t,o){if(e.nodeType==Node.CDATA_SECTION_NODE||e.nodeType==Node.TEXT_NODE){if(t){o.push(String(e.nodeValue).replace(/(\r\n|\r|\n)/g,""))}else{o.push(e.nodeValue)}}else{var r;for(r=e.firstChild;r;r=r.nextSibling){ol.xml.getAllTextContent_(r,t,o)}}return o};ol.xml.isDocument=function(e){return e instanceof Document};ol.xml.isNode=function(e){return e instanceof Node};ol.xml.getAttributeNS=function(e,t,o){return e.getAttributeNS(t,o)||""};ol.xml.setAttributeNS=function(e,t,o,r){e.setAttributeNS(t,o,r)};ol.xml.parse=function(e){return(new DOMParser).parseFromString(e,"application/xml")};ol.xml.makeArrayExtender=function(e,t){return function(o,r){var i=e.call(t,o,r);if(i!==undefined){var n=r[r.length-1];ol.array.extend(n,i)}}};ol.xml.makeArrayPusher=function(e,t){return function(o,r){var i=e.call(t!==undefined?t:this,o,r);if(i!==undefined){var n=r[r.length-1];n.push(i)}}};ol.xml.makeReplacer=function(e,t){return function(o,r){var i=e.call(t!==undefined?t:this,o,r);if(i!==undefined){r[r.length-1]=i}}};ol.xml.makeObjectPropertyPusher=function(e,t,o){return function(r,i){var n=e.call(o!==undefined?o:this,r,i);if(n!==undefined){var l=i[i.length-1];var a=t!==undefined?t:r.localName;var s;if(a in l){s=l[a]}else{s=l[a]=[]}s.push(n)}}};ol.xml.makeObjectPropertySetter=function(e,t,o){return function(r,i){var n=e.call(o!==undefined?o:this,r,i);if(n!==undefined){var l=i[i.length-1];var a=t!==undefined?t:r.localName;l[a]=n}}};ol.xml.makeChildAppender=function(e,t){return function(o,r,i){e.call(t!==undefined?t:this,o,r,i);var n=i[i.length-1];var l=n.node;l.appendChild(o)}};ol.xml.makeArraySerializer=function(e,t){var o,r;return function(t,i,n){if(o===undefined){o={};var l={};l[t.localName]=e;o[t.namespaceURI]=l;r=ol.xml.makeSimpleNodeFactory(t.localName)}ol.xml.serialize(o,r,i,n)}};ol.xml.makeSimpleNodeFactory=function(e,t){var o=e;return function(e,r,i){var n=r[r.length-1];var l=n.node;var a=o;if(a===undefined){a=i}var s=t;if(t===undefined){s=l.namespaceURI}return ol.xml.createElementNS(s,a)}};ol.xml.OBJECT_PROPERTY_NODE_FACTORY=ol.xml.makeSimpleNodeFactory();ol.xml.makeSequence=function(e,t){var o=t.length;var r=new Array(o);for(var i=0;i<o;++i){r[i]=e[t[i]]}return r};ol.xml.makeStructureNS=function(e,t,o){var r=o!==undefined?o:{};var i,n;for(i=0,n=e.length;i<n;++i){r[e[i]]=t}return r};ol.xml.parseNode=function(e,t,o,r){var i;for(i=t.firstElementChild;i;i=i.nextElementSibling){var n=e[i.namespaceURI];if(n!==undefined){var l=n[i.localName];if(l!==undefined){l.call(r,i,o)}}}};ol.xml.pushParseAndPop=function(e,t,o,r,i){r.push(e);ol.xml.parseNode(t,o,r,i);return r.pop()};ol.xml.serialize=function(e,t,o,r,i,n){var l=(i!==undefined?i:o).length;var a,s;for(var p=0;p<l;++p){a=o[p];if(a!==undefined){s=t.call(n,a,r,i!==undefined?i[p]:undefined);if(s!==undefined){e[s.namespaceURI][s.localName].call(n,s,a,r)}}}};ol.xml.pushSerializeAndPop=function(e,t,o,r,i,n,l){i.push(e);ol.xml.serialize(t,o,r,i,n,l);return i.pop()};goog.provide("ol.featureloader");goog.require("ol");goog.require("ol.format.FormatType");goog.require("ol.xml");ol.featureloader.loadFeaturesXhr=function(e,t,o,r){return function(i,n,l){var a=new XMLHttpRequest;a.open("GET",typeof e==="function"?e(i,n,l):e,true);if(t.getType()==ol.format.FormatType.ARRAY_BUFFER){a.responseType="arraybuffer"}a.onload=function(e){if(!a.status||a.status>=200&&a.status<300){var i=t.getType();var n;if(i==ol.format.FormatType.JSON||i==ol.format.FormatType.TEXT){n=a.responseText}else if(i==ol.format.FormatType.XML){n=a.responseXML;if(!n){n=ol.xml.parse(a.responseText)}}else if(i==ol.format.FormatType.ARRAY_BUFFER){n=a.response}if(n){o.call(this,t.readFeatures(n,{featureProjection:l}),t.readProjection(n),t.getLastExtent())}else{r.call(this)}}else{r.call(this)}}.bind(this);a.onerror=function(){r.call(this)}.bind(this);a.send()}};ol.featureloader.xhr=function(e,t){return ol.featureloader.loadFeaturesXhr(e,t,function(e,t){this.addFeatures(e)},ol.nullFunction)};goog.provide("ol.format.Feature");goog.require("ol.geom.Geometry");goog.require("ol.obj");goog.require("ol.proj");ol.format.Feature=function(){this.defaultDataProjection=null;this.defaultFeatureProjection=null};ol.format.Feature.prototype.getReadOptions=function(e,t){var o;if(t){o={dataProjection:t.dataProjection?t.dataProjection:this.readProjection(e),featureProjection:t.featureProjection}}return this.adaptOptions(o)};ol.format.Feature.prototype.adaptOptions=function(e){return ol.obj.assign({dataProjection:this.defaultDataProjection,featureProjection:this.defaultFeatureProjection},e)};ol.format.Feature.prototype.getLastExtent=function(){return null};ol.format.Feature.prototype.getType=function(){};ol.format.Feature.prototype.readFeature=function(e,t){};ol.format.Feature.prototype.readFeatures=function(e,t){};ol.format.Feature.prototype.readGeometry=function(e,t){};ol.format.Feature.prototype.readProjection=function(e){};ol.format.Feature.prototype.writeFeature=function(e,t){};ol.format.Feature.prototype.writeFeatures=function(e,t){};ol.format.Feature.prototype.writeGeometry=function(e,t){};ol.format.Feature.transformWithOptions=function(e,t,o){var r=o?ol.proj.get(o.featureProjection):null;var i=o?ol.proj.get(o.dataProjection):null;var n;if(r&&i&&!ol.proj.equivalent(r,i)){if(e instanceof ol.geom.Geometry){n=(t?e.clone():e).transform(t?r:i,t?i:r)}else{n=ol.proj.transformExtent(e,i,r)}}else{n=e}if(t&&o&&o.decimals!==undefined){var l=Math.pow(10,o.decimals);var a=function(e){for(var t=0,o=e.length;t<o;++t){e[t]=Math.round(e[t]*l)/l}return e};if(n===e){n=n.clone()}n.applyTransform(a)}return n};goog.provide("ol.format.JSONFeature");goog.require("ol");goog.require("ol.format.Feature");goog.require("ol.format.FormatType");ol.format.JSONFeature=function(){ol.format.Feature.call(this)};ol.inherits(ol.format.JSONFeature,ol.format.Feature);ol.format.JSONFeature.prototype.getObject_=function(e){if(typeof e==="string"){var t=JSON.parse(e);return t?t:null}else if(e!==null){return e}else{return null}};ol.format.JSONFeature.prototype.getType=function(){return ol.format.FormatType.JSON};ol.format.JSONFeature.prototype.readFeature=function(e,t){return this.readFeatureFromObject(this.getObject_(e),this.getReadOptions(e,t))};ol.format.JSONFeature.prototype.readFeatures=function(e,t){return this.readFeaturesFromObject(this.getObject_(e),this.getReadOptions(e,t))};ol.format.JSONFeature.prototype.readFeatureFromObject=function(e,t){};ol.format.JSONFeature.prototype.readFeaturesFromObject=function(e,t){};ol.format.JSONFeature.prototype.readGeometry=function(e,t){return this.readGeometryFromObject(this.getObject_(e),this.getReadOptions(e,t))};ol.format.JSONFeature.prototype.readGeometryFromObject=function(e,t){};ol.format.JSONFeature.prototype.readProjection=function(e){return this.readProjectionFromObject(this.getObject_(e))};ol.format.JSONFeature.prototype.readProjectionFromObject=function(e){};ol.format.JSONFeature.prototype.writeFeature=function(e,t){return JSON.stringify(this.writeFeatureObject(e,t))};ol.format.JSONFeature.prototype.writeFeatureObject=function(e,t){};ol.format.JSONFeature.prototype.writeFeatures=function(e,t){return JSON.stringify(this.writeFeaturesObject(e,t))};ol.format.JSONFeature.prototype.writeFeaturesObject=function(e,t){};ol.format.JSONFeature.prototype.writeGeometry=function(e,t){return JSON.stringify(this.writeGeometryObject(e,t))};ol.format.JSONFeature.prototype.writeGeometryObject=function(e,t){};goog.provide("ol.geom.flat.interpolate");goog.require("ol.array");goog.require("ol.math");ol.geom.flat.interpolate.lineString=function(e,t,o,r,i,n){var l=NaN;var a=NaN;var s=(o-t)/r;if(s===1){l=e[t];a=e[t+1]}else if(s==2){l=(1-i)*e[t]+i*e[t+r];a=(1-i)*e[t+1]+i*e[t+r+1]}else if(s!==0){var p=e[t];var g=e[t+1];var u=0;var c=[0];var y;for(y=t+r;y<o;y+=r){var d=e[y];var h=e[y+1];u+=Math.sqrt((d-p)*(d-p)+(h-g)*(h-g));c.push(u);p=d;g=h}var f=i*u;var m=ol.array.binarySearch(c,f);if(m<0){var v=(f-c[-m-2])/(c[-m-1]-c[-m-2]);var _=t+(-m-2)*r;l=ol.math.lerp(e[_],e[_+r],v);a=ol.math.lerp(e[_+1],e[_+r+1],v)}else{l=e[t+m*r];a=e[t+m*r+1]}}if(n){n[0]=l;n[1]=a;return n}else{return[l,a]}};ol.geom.flat.interpolate.lineStringCoordinateAtM=function(e,t,o,r,i,n){if(o==t){return null}var l;if(i<e[t+r-1]){if(n){l=e.slice(t,t+r);l[r-1]=i;return l}else{return null}}else if(e[o-1]<i){if(n){l=e.slice(o-r,o);l[r-1]=i;return l}else{return null}}if(i==e[t+r-1]){return e.slice(t,t+r)}var a=t/r;var s=o/r;while(a<s){var p=a+s>>1;if(i<e[(p+1)*r-1]){s=p}else{a=p+1}}var g=e[a*r-1];if(i==g){return e.slice((a-1)*r,(a-1)*r+r)}var u=e[(a+1)*r-1];var c=(i-g)/(u-g);l=[];var y;for(y=0;y<r-1;++y){l.push(ol.math.lerp(e[(a-1)*r+y],e[a*r+y],c))}l.push(i);return l};ol.geom.flat.interpolate.lineStringsCoordinateAtM=function(e,t,o,r,i,n,l){if(l){return ol.geom.flat.interpolate.lineStringCoordinateAtM(e,t,o[o.length-1],r,i,n)}var a;if(i<e[r-1]){if(n){a=e.slice(0,r);a[r-1]=i;return a}else{return null}}if(e[e.length-1]<i){if(n){a=e.slice(e.length-r);a[r-1]=i;return a}else{return null}}var s,p;for(s=0,p=o.length;s<p;++s){var g=o[s];if(t==g){continue}if(i<e[t+r-1]){return null}else if(i<=e[g-1]){return ol.geom.flat.interpolate.lineStringCoordinateAtM(e,t,g,r,i,false)}t=g}return null};goog.provide("ol.geom.LineString");goog.require("ol");goog.require("ol.array");goog.require("ol.extent");goog.require("ol.geom.GeometryLayout");goog.require("ol.geom.GeometryType");goog.require("ol.geom.SimpleGeometry");goog.require("ol.geom.flat.closest");goog.require("ol.geom.flat.deflate");goog.require("ol.geom.flat.inflate");goog.require("ol.geom.flat.interpolate");goog.require("ol.geom.flat.intersectsextent");goog.require("ol.geom.flat.length");goog.require("ol.geom.flat.segments");goog.require("ol.geom.flat.simplify");ol.geom.LineString=function(e,t){ol.geom.SimpleGeometry.call(this);this.flatMidpoint_=null;this.flatMidpointRevision_=-1;this.maxDelta_=-1;this.maxDeltaRevision_=-1;this.setCoordinates(e,t)};ol.inherits(ol.geom.LineString,ol.geom.SimpleGeometry);ol.geom.LineString.prototype.appendCoordinate=function(e){if(!this.flatCoordinates){this.flatCoordinates=e.slice()}else{ol.array.extend(this.flatCoordinates,e)}this.changed()};ol.geom.LineString.prototype.clone=function(){var e=new ol.geom.LineString(null);e.setFlatCoordinates(this.layout,this.flatCoordinates.slice());return e};ol.geom.LineString.prototype.closestPointXY=function(e,t,o,r){if(r<ol.extent.closestSquaredDistanceXY(this.getExtent(),e,t)){return r}if(this.maxDeltaRevision_!=this.getRevision()){this.maxDelta_=Math.sqrt(ol.geom.flat.closest.getMaxSquaredDelta(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0));this.maxDeltaRevision_=this.getRevision()}return ol.geom.flat.closest.getClosestPoint(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,false,e,t,o,r)};ol.geom.LineString.prototype.forEachSegment=function(e,t){return ol.geom.flat.segments.forEach(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t)};ol.geom.LineString.prototype.getCoordinateAtM=function(e,t){if(this.layout!=ol.geom.GeometryLayout.XYM&&this.layout!=ol.geom.GeometryLayout.XYZM){return null}var o=t!==undefined?t:false;return ol.geom.flat.interpolate.lineStringCoordinateAtM(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,o)};ol.geom.LineString.prototype.getCoordinates=function(){return ol.geom.flat.inflate.coordinates(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)};ol.geom.LineString.prototype.getCoordinateAt=function(e,t){return ol.geom.flat.interpolate.lineString(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t)};ol.geom.LineString.prototype.getLength=function(){return ol.geom.flat.length.lineString(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)};ol.geom.LineString.prototype.getFlatMidpoint=function(){if(this.flatMidpointRevision_!=this.getRevision()){this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_);this.flatMidpointRevision_=this.getRevision()}return this.flatMidpoint_};ol.geom.LineString.prototype.getSimplifiedGeometryInternal=function(e){var t=[];t.length=ol.geom.flat.simplify.douglasPeucker(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,0);var o=new ol.geom.LineString(null);o.setFlatCoordinates(ol.geom.GeometryLayout.XY,t);return o};ol.geom.LineString.prototype.getType=function(){return ol.geom.GeometryType.LINE_STRING};ol.geom.LineString.prototype.intersectsExtent=function(e){return ol.geom.flat.intersectsextent.lineString(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)};ol.geom.LineString.prototype.setCoordinates=function(e,t){if(!e){this.setFlatCoordinates(ol.geom.GeometryLayout.XY,null)}else{this.setLayout(t,e,1);if(!this.flatCoordinates){this.flatCoordinates=[]}this.flatCoordinates.length=ol.geom.flat.deflate.coordinates(this.flatCoordinates,0,e,this.stride);this.changed()}};ol.geom.LineString.prototype.setFlatCoordinates=function(e,t){this.setFlatCoordinatesInternal(e,t);this.changed()};goog.provide("ol.geom.MultiLineString");goog.require("ol");goog.require("ol.array");goog.require("ol.extent");goog.require("ol.geom.GeometryLayout");goog.require("ol.geom.GeometryType");goog.require("ol.geom.LineString");goog.require("ol.geom.SimpleGeometry");goog.require("ol.geom.flat.closest");goog.require("ol.geom.flat.deflate");goog.require("ol.geom.flat.inflate");goog.require("ol.geom.flat.interpolate");goog.require("ol.geom.flat.intersectsextent");goog.require("ol.geom.flat.simplify");ol.geom.MultiLineString=function(e,t){ol.geom.SimpleGeometry.call(this);this.ends_=[];this.maxDelta_=-1;this.maxDeltaRevision_=-1;this.setCoordinates(e,t)};ol.inherits(ol.geom.MultiLineString,ol.geom.SimpleGeometry);ol.geom.MultiLineString.prototype.appendLineString=function(e){if(!this.flatCoordinates){this.flatCoordinates=e.getFlatCoordinates().slice()}else{ol.array.extend(this.flatCoordinates,e.getFlatCoordinates().slice())}this.ends_.push(this.flatCoordinates.length);this.changed()};ol.geom.MultiLineString.prototype.clone=function(){var e=new ol.geom.MultiLineString(null);e.setFlatCoordinates(this.layout,this.flatCoordinates.slice(),this.ends_.slice());return e};ol.geom.MultiLineString.prototype.closestPointXY=function(e,t,o,r){if(r<ol.extent.closestSquaredDistanceXY(this.getExtent(),e,t)){return r}if(this.maxDeltaRevision_!=this.getRevision()){this.maxDelta_=Math.sqrt(ol.geom.flat.closest.getsMaxSquaredDelta(this.flatCoordinates,0,this.ends_,this.stride,0));this.maxDeltaRevision_=this.getRevision()}return ol.geom.flat.closest.getsClosestPoint(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,false,e,t,o,r)};ol.geom.MultiLineString.prototype.getCoordinateAtM=function(e,t,o){if(this.layout!=ol.geom.GeometryLayout.XYM&&this.layout!=ol.geom.GeometryLayout.XYZM||this.flatCoordinates.length===0){return null}var r=t!==undefined?t:false;var i=o!==undefined?o:false;return ol.geom.flat.interpolate.lineStringsCoordinateAtM(this.flatCoordinates,0,this.ends_,this.stride,e,r,i)};ol.geom.MultiLineString.prototype.getCoordinates=function(){return ol.geom.flat.inflate.coordinatess(this.flatCoordinates,0,this.ends_,this.stride)};ol.geom.MultiLineString.prototype.getEnds=function(){return this.ends_};ol.geom.MultiLineString.prototype.getLineString=function(e){if(e<0||this.ends_.length<=e){return null}var t=new ol.geom.LineString(null);t.setFlatCoordinates(this.layout,this.flatCoordinates.slice(e===0?0:this.ends_[e-1],this.ends_[e]));return t};ol.geom.MultiLineString.prototype.getLineStrings=function(){var e=this.flatCoordinates;var t=this.ends_;var o=this.layout;var r=[];var i=0;var n,l;for(n=0,l=t.length;n<l;++n){var a=t[n];var s=new ol.geom.LineString(null);s.setFlatCoordinates(o,e.slice(i,a));r.push(s);i=a}return r};ol.geom.MultiLineString.prototype.getFlatMidpoints=function(){var e=[];var t=this.flatCoordinates;var o=0;var r=this.ends_;var i=this.stride;var n,l;for(n=0,l=r.length;n<l;++n){var a=r[n];var s=ol.geom.flat.interpolate.lineString(t,o,a,i,.5);ol.array.extend(e,s);o=a}return e};ol.geom.MultiLineString.prototype.getSimplifiedGeometryInternal=function(e){var t=[];var o=[];t.length=ol.geom.flat.simplify.douglasPeuckers(this.flatCoordinates,0,this.ends_,this.stride,e,t,0,o);var r=new ol.geom.MultiLineString(null);r.setFlatCoordinates(ol.geom.GeometryLayout.XY,t,o);return r};ol.geom.MultiLineString.prototype.getType=function(){return ol.geom.GeometryType.MULTI_LINE_STRING};ol.geom.MultiLineString.prototype.intersectsExtent=function(e){return ol.geom.flat.intersectsextent.lineStrings(this.flatCoordinates,0,this.ends_,this.stride,e)};ol.geom.MultiLineString.prototype.setCoordinates=function(e,t){if(!e){this.setFlatCoordinates(ol.geom.GeometryLayout.XY,null,this.ends_)}else{this.setLayout(t,e,2);if(!this.flatCoordinates){this.flatCoordinates=[]}var o=ol.geom.flat.deflate.coordinatess(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=o.length===0?0:o[o.length-1];this.changed()}};ol.geom.MultiLineString.prototype.setFlatCoordinates=function(e,t,o){this.setFlatCoordinatesInternal(e,t);this.ends_=o;this.changed()};ol.geom.MultiLineString.prototype.setLineStrings=function(e){var t=this.getLayout();var o=[];var r=[];var i,n;for(i=0,n=e.length;i<n;++i){var l=e[i];if(i===0){t=l.getLayout()}ol.array.extend(o,l.getFlatCoordinates());r.push(o.length)}this.setFlatCoordinates(t,o,r)};goog.provide("ol.geom.MultiPoint");goog.require("ol");goog.require("ol.array");goog.require("ol.extent");goog.require("ol.geom.GeometryLayout");goog.require("ol.geom.GeometryType");goog.require("ol.geom.Point");goog.require("ol.geom.SimpleGeometry");goog.require("ol.geom.flat.deflate");goog.require("ol.geom.flat.inflate");goog.require("ol.math");ol.geom.MultiPoint=function(e,t){ol.geom.SimpleGeometry.call(this);this.setCoordinates(e,t)};ol.inherits(ol.geom.MultiPoint,ol.geom.SimpleGeometry);ol.geom.MultiPoint.prototype.appendPoint=function(e){if(!this.flatCoordinates){this.flatCoordinates=e.getFlatCoordinates().slice()}else{ol.array.extend(this.flatCoordinates,e.getFlatCoordinates())}this.changed()};ol.geom.MultiPoint.prototype.clone=function(){var e=new ol.geom.MultiPoint(null);e.setFlatCoordinates(this.layout,this.flatCoordinates.slice());return e};ol.geom.MultiPoint.prototype.closestPointXY=function(e,t,o,r){if(r<ol.extent.closestSquaredDistanceXY(this.getExtent(),e,t)){return r}var i=this.flatCoordinates;var n=this.stride;var l,a,s;for(l=0,a=i.length;l<a;l+=n){var p=ol.math.squaredDistance(e,t,i[l],i[l+1]);if(p<r){r=p;for(s=0;s<n;++s){o[s]=i[l+s]}o.length=n}}return r};ol.geom.MultiPoint.prototype.getCoordinates=function(){return ol.geom.flat.inflate.coordinates(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)};ol.geom.MultiPoint.prototype.getPoint=function(e){var t=!this.flatCoordinates?0:this.flatCoordinates.length/this.stride;if(e<0||t<=e){return null}var o=new ol.geom.Point(null);o.setFlatCoordinates(this.layout,this.flatCoordinates.slice(e*this.stride,(e+1)*this.stride));return o};ol.geom.MultiPoint.prototype.getPoints=function(){var e=this.flatCoordinates;var t=this.layout;var o=this.stride;var r=[];var i,n;for(i=0,n=e.length;i<n;i+=o){var l=new ol.geom.Point(null);l.setFlatCoordinates(t,e.slice(i,i+o));r.push(l)}return r};ol.geom.MultiPoint.prototype.getType=function(){return ol.geom.GeometryType.MULTI_POINT};ol.geom.MultiPoint.prototype.intersectsExtent=function(e){var t=this.flatCoordinates;var o=this.stride;var r,i,n,l;for(r=0,i=t.length;r<i;r+=o){n=t[r];l=t[r+1];if(ol.extent.containsXY(e,n,l)){return true}}return false};ol.geom.MultiPoint.prototype.setCoordinates=function(e,t){if(!e){this.setFlatCoordinates(ol.geom.GeometryLayout.XY,null)}else{this.setLayout(t,e,1);if(!this.flatCoordinates){this.flatCoordinates=[]}this.flatCoordinates.length=ol.geom.flat.deflate.coordinates(this.flatCoordinates,0,e,this.stride);this.changed()}};ol.geom.MultiPoint.prototype.setFlatCoordinates=function(e,t){this.setFlatCoordinatesInternal(e,t);this.changed()};goog.provide("ol.geom.flat.center");goog.require("ol.extent");ol.geom.flat.center.linearRingss=function(e,t,o,r){var i=[];var n,l;var a=ol.extent.createEmpty();for(n=0,l=o.length;n<l;++n){var s=o[n];a=ol.extent.createOrUpdateFromFlatCoordinates(e,t,s[0],r);i.push((a[0]+a[2])/2,(a[1]+a[3])/2);t=s[s.length-1]}return i};goog.provide("ol.geom.MultiPolygon");goog.require("ol");goog.require("ol.array");goog.require("ol.extent");goog.require("ol.geom.GeometryLayout");goog.require("ol.geom.GeometryType");goog.require("ol.geom.MultiPoint");goog.require("ol.geom.Polygon");goog.require("ol.geom.SimpleGeometry");goog.require("ol.geom.flat.area");goog.require("ol.geom.flat.center");goog.require("ol.geom.flat.closest");goog.require("ol.geom.flat.contains");goog.require("ol.geom.flat.deflate");goog.require("ol.geom.flat.inflate");goog.require("ol.geom.flat.interiorpoint");goog.require("ol.geom.flat.intersectsextent");goog.require("ol.geom.flat.orient");goog.require("ol.geom.flat.simplify");ol.geom.MultiPolygon=function(e,t){ol.geom.SimpleGeometry.call(this);this.endss_=[];this.flatInteriorPointsRevision_=-1;this.flatInteriorPoints_=null;this.maxDelta_=-1;this.maxDeltaRevision_=-1;this.orientedRevision_=-1;this.orientedFlatCoordinates_=null;this.setCoordinates(e,t)};ol.inherits(ol.geom.MultiPolygon,ol.geom.SimpleGeometry);ol.geom.MultiPolygon.prototype.appendPolygon=function(e){var t;if(!this.flatCoordinates){this.flatCoordinates=e.getFlatCoordinates().slice();t=e.getEnds().slice();this.endss_.push()}else{var o=this.flatCoordinates.length;ol.array.extend(this.flatCoordinates,e.getFlatCoordinates());t=e.getEnds().slice();var r,i;for(r=0,i=t.length;r<i;++r){t[r]+=o}}this.endss_.push(t);this.changed()};ol.geom.MultiPolygon.prototype.clone=function(){var e=new ol.geom.MultiPolygon(null);var t=this.endss_.length;var o=new Array(t);for(var r=0;r<t;++r){o[r]=this.endss_[r].slice()}e.setFlatCoordinates(this.layout,this.flatCoordinates.slice(),o);return e};ol.geom.MultiPolygon.prototype.closestPointXY=function(e,t,o,r){if(r<ol.extent.closestSquaredDistanceXY(this.getExtent(),e,t)){return r}if(this.maxDeltaRevision_!=this.getRevision()){this.maxDelta_=Math.sqrt(ol.geom.flat.closest.getssMaxSquaredDelta(this.flatCoordinates,0,this.endss_,this.stride,0));this.maxDeltaRevision_=this.getRevision()}return ol.geom.flat.closest.getssClosestPoint(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,true,e,t,o,r)};ol.geom.MultiPolygon.prototype.containsXY=function(e,t){return ol.geom.flat.contains.linearRingssContainsXY(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e,t)};ol.geom.MultiPolygon.prototype.getArea=function(){return ol.geom.flat.area.linearRingss(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)};ol.geom.MultiPolygon.prototype.getCoordinates=function(e){var t;if(e!==undefined){t=this.getOrientedFlatCoordinates().slice();ol.geom.flat.orient.orientLinearRingss(t,0,this.endss_,this.stride,e)}else{t=this.flatCoordinates}return ol.geom.flat.inflate.coordinatesss(t,0,this.endss_,this.stride)};ol.geom.MultiPolygon.prototype.getEndss=function(){return this.endss_};ol.geom.MultiPolygon.prototype.getFlatInteriorPoints=function(){if(this.flatInteriorPointsRevision_!=this.getRevision()){var e=ol.geom.flat.center.linearRingss(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=ol.geom.flat.interiorpoint.linearRingss(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e);this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_};ol.geom.MultiPolygon.prototype.getInteriorPoints=function(){var e=new ol.geom.MultiPoint(null);e.setFlatCoordinates(ol.geom.GeometryLayout.XYM,this.getFlatInteriorPoints().slice());return e};ol.geom.MultiPolygon.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var e=this.flatCoordinates;if(ol.geom.flat.orient.linearRingssAreOriented(e,0,this.endss_,this.stride)){this.orientedFlatCoordinates_=e}else{this.orientedFlatCoordinates_=e.slice();this.orientedFlatCoordinates_.length=ol.geom.flat.orient.orientLinearRingss(this.orientedFlatCoordinates_,0,this.endss_,this.stride)}this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_};ol.geom.MultiPolygon.prototype.getSimplifiedGeometryInternal=function(e){var t=[];var o=[];t.length=ol.geom.flat.simplify.quantizess(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(e),t,0,o);var r=new ol.geom.MultiPolygon(null);r.setFlatCoordinates(ol.geom.GeometryLayout.XY,t,o);return r};ol.geom.MultiPolygon.prototype.getPolygon=function(e){if(e<0||this.endss_.length<=e){return null}var t;if(e===0){t=0}else{var o=this.endss_[e-1];t=o[o.length-1]}var r=this.endss_[e].slice();var i=r[r.length-1];if(t!==0){var n,l;for(n=0,l=r.length;n<l;++n){r[n]-=t}}var a=new ol.geom.Polygon(null);a.setFlatCoordinates(this.layout,this.flatCoordinates.slice(t,i),r);return a};ol.geom.MultiPolygon.prototype.getPolygons=function(){var e=this.layout;var t=this.flatCoordinates;var o=this.endss_;var r=[];var i=0;var n,l,a,s;for(n=0,l=o.length;n<l;++n){var p=o[n].slice();var g=p[p.length-1];if(i!==0){for(a=0,s=p.length;a<s;++a){p[a]-=i}}var u=new ol.geom.Polygon(null);u.setFlatCoordinates(e,t.slice(i,g),p);r.push(u);i=g}return r};ol.geom.MultiPolygon.prototype.getType=function(){return ol.geom.GeometryType.MULTI_POLYGON};ol.geom.MultiPolygon.prototype.intersectsExtent=function(e){return ol.geom.flat.intersectsextent.linearRingss(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e)};ol.geom.MultiPolygon.prototype.setCoordinates=function(e,t){if(!e){this.setFlatCoordinates(ol.geom.GeometryLayout.XY,null,this.endss_)}else{this.setLayout(t,e,3);if(!this.flatCoordinates){this.flatCoordinates=[]}var o=ol.geom.flat.deflate.coordinatesss(this.flatCoordinates,0,e,this.stride,this.endss_);if(o.length===0){this.flatCoordinates.length=0}else{var r=o[o.length-1];this.flatCoordinates.length=r.length===0?0:r[r.length-1]}this.changed()}};ol.geom.MultiPolygon.prototype.setFlatCoordinates=function(e,t,o){this.setFlatCoordinatesInternal(e,t);this.endss_=o;this.changed()};ol.geom.MultiPolygon.prototype.setPolygons=function(e){var t=this.getLayout();var o=[];var r=[];var i,n,l;for(i=0,n=e.length;i<n;++i){var a=e[i];if(i===0){t=a.getLayout()}var s=o.length;l=a.getEnds();var p,g;for(p=0,g=l.length;p<g;++p){l[p]+=s}ol.array.extend(o,a.getFlatCoordinates());r.push(l)}this.setFlatCoordinates(t,o,r)};goog.provide("ol.format.EsriJSON");goog.require("ol");goog.require("ol.Feature");goog.require("ol.asserts");goog.require("ol.extent");goog.require("ol.format.Feature");goog.require("ol.format.JSONFeature");goog.require("ol.geom.GeometryLayout");goog.require("ol.geom.GeometryType");goog.require("ol.geom.LineString");goog.require("ol.geom.LinearRing");goog.require("ol.geom.MultiLineString");goog.require("ol.geom.MultiPoint");goog.require("ol.geom.MultiPolygon");goog.require("ol.geom.Point");goog.require("ol.geom.Polygon");goog.require("ol.geom.flat.deflate");goog.require("ol.geom.flat.orient");goog.require("ol.obj");goog.require("ol.proj");ol.format.EsriJSON=function(e){var t=e?e:{};ol.format.JSONFeature.call(this);this.geometryName_=t.geometryName};ol.inherits(ol.format.EsriJSON,ol.format.JSONFeature);ol.format.EsriJSON.readGeometry_=function(e,t){if(!e){return null}var o;if(typeof e.x==="number"&&typeof e.y==="number"){o=ol.geom.GeometryType.POINT}else if(e.points){o=ol.geom.GeometryType.MULTI_POINT}else if(e.paths){if(e.paths.length===1){o=ol.geom.GeometryType.LINE_STRING}else{o=ol.geom.GeometryType.MULTI_LINE_STRING}}else if(e.rings){var r=ol.format.EsriJSON.getGeometryLayout_(e);var i=ol.format.EsriJSON.convertRings_(e.rings,r);e=ol.obj.assign({},e);if(i.length===1){o=ol.geom.GeometryType.POLYGON;e.rings=i[0]}else{o=ol.geom.GeometryType.MULTI_POLYGON;e.rings=i}}var n=ol.format.EsriJSON.GEOMETRY_READERS_[o];return ol.format.Feature.transformWithOptions(n(e),false,t)};ol.format.EsriJSON.convertRings_=function(e,t){var o=[];var r=[];var i=[];var n,l;for(n=0,l=e.length;n<l;++n){o.length=0;ol.geom.flat.deflate.coordinates(o,0,e[n],t.length);var a=ol.geom.flat.orient.linearRingIsClockwise(o,0,o.length,t.length);if(a){r.push([e[n]])}else{i.push(e[n])}}while(i.length){var s=i.shift();var p=false;for(n=r.length-1;n>=0;n--){var g=r[n][0];var u=ol.extent.containsExtent(new ol.geom.LinearRing(g).getExtent(),new ol.geom.LinearRing(s).getExtent());if(u){r[n].push(s);p=true;break}}if(!p){r.push([s.reverse()])}}return r};ol.format.EsriJSON.readPointGeometry_=function(e){var t;if(e.m!==undefined&&e.z!==undefined){t=new ol.geom.Point([e.x,e.y,e.z,e.m],ol.geom.GeometryLayout.XYZM)}else if(e.z!==undefined){t=new ol.geom.Point([e.x,e.y,e.z],ol.geom.GeometryLayout.XYZ)}else if(e.m!==undefined){t=new ol.geom.Point([e.x,e.y,e.m],ol.geom.GeometryLayout.XYM)}else{t=new ol.geom.Point([e.x,e.y])}return t};ol.format.EsriJSON.readLineStringGeometry_=function(e){var t=ol.format.EsriJSON.getGeometryLayout_(e);return new ol.geom.LineString(e.paths[0],t)};ol.format.EsriJSON.readMultiLineStringGeometry_=function(e){var t=ol.format.EsriJSON.getGeometryLayout_(e);return new ol.geom.MultiLineString(e.paths,t)};ol.format.EsriJSON.getGeometryLayout_=function(e){var t=ol.geom.GeometryLayout.XY;if(e.hasZ===true&&e.hasM===true){t=ol.geom.GeometryLayout.XYZM}else if(e.hasZ===true){t=ol.geom.GeometryLayout.XYZ}else if(e.hasM===true){t=ol.geom.GeometryLayout.XYM}return t};ol.format.EsriJSON.readMultiPointGeometry_=function(e){var t=ol.format.EsriJSON.getGeometryLayout_(e);return new ol.geom.MultiPoint(e.points,t)};ol.format.EsriJSON.readMultiPolygonGeometry_=function(e){var t=ol.format.EsriJSON.getGeometryLayout_(e);return new ol.geom.MultiPolygon(e.rings,t)};ol.format.EsriJSON.readPolygonGeometry_=function(e){var t=ol.format.EsriJSON.getGeometryLayout_(e);return new ol.geom.Polygon(e.rings,t)};ol.format.EsriJSON.writePointGeometry_=function(e,t){var o=e.getCoordinates();var r;var i=e.getLayout();if(i===ol.geom.GeometryLayout.XYZ){r={x:o[0],y:o[1],z:o[2]}}else if(i===ol.geom.GeometryLayout.XYM){r={x:o[0],y:o[1],m:o[2]}}else if(i===ol.geom.GeometryLayout.XYZM){r={x:o[0],y:o[1],z:o[2],m:o[3]}}else if(i===ol.geom.GeometryLayout.XY){r={x:o[0],y:o[1]}}else{ol.asserts.assert(false,34)}return r};ol.format.EsriJSON.getHasZM_=function(e){var t=e.getLayout();return{hasZ:t===ol.geom.GeometryLayout.XYZ||t===ol.geom.GeometryLayout.XYZM,hasM:t===ol.geom.GeometryLayout.XYM||t===ol.geom.GeometryLayout.XYZM}};ol.format.EsriJSON.writeLineStringGeometry_=function(e,t){var o=ol.format.EsriJSON.getHasZM_(e);return{hasZ:o.hasZ,hasM:o.hasM,paths:[e.getCoordinates()]}};ol.format.EsriJSON.writePolygonGeometry_=function(e,t){var o=ol.format.EsriJSON.getHasZM_(e);return{hasZ:o.hasZ,hasM:o.hasM,rings:e.getCoordinates(false)}};ol.format.EsriJSON.writeMultiLineStringGeometry_=function(e,t){var o=ol.format.EsriJSON.getHasZM_(e);return{hasZ:o.hasZ,hasM:o.hasM,paths:e.getCoordinates()}};ol.format.EsriJSON.writeMultiPointGeometry_=function(e,t){var o=ol.format.EsriJSON.getHasZM_(e);return{hasZ:o.hasZ,hasM:o.hasM,points:e.getCoordinates()}};ol.format.EsriJSON.writeMultiPolygonGeometry_=function(e,t){var o=ol.format.EsriJSON.getHasZM_(e);var r=e.getCoordinates(false);var i=[];for(var n=0;n<r.length;n++){for(var l=r[n].length-1;l>=0;l--){i.push(r[n][l])}}return{hasZ:o.hasZ,hasM:o.hasM,rings:i}};ol.format.EsriJSON.GEOMETRY_READERS_={};ol.format.EsriJSON.GEOMETRY_READERS_[ol.geom.GeometryType.POINT]=ol.format.EsriJSON.readPointGeometry_;ol.format.EsriJSON.GEOMETRY_READERS_[ol.geom.GeometryType.LINE_STRING]=ol.format.EsriJSON.readLineStringGeometry_;ol.format.EsriJSON.GEOMETRY_READERS_[ol.geom.GeometryType.POLYGON]=ol.format.EsriJSON.readPolygonGeometry_;ol.format.EsriJSON.GEOMETRY_READERS_[ol.geom.GeometryType.MULTI_POINT]=ol.format.EsriJSON.readMultiPointGeometry_;ol.format.EsriJSON.GEOMETRY_READERS_[ol.geom.GeometryType.MULTI_LINE_STRING]=ol.format.EsriJSON.readMultiLineStringGeometry_;ol.format.EsriJSON.GEOMETRY_READERS_[ol.geom.GeometryType.MULTI_POLYGON]=ol.format.EsriJSON.readMultiPolygonGeometry_;ol.format.EsriJSON.GEOMETRY_WRITERS_={};ol.format.EsriJSON.GEOMETRY_WRITERS_[ol.geom.GeometryType.POINT]=ol.format.EsriJSON.writePointGeometry_;ol.format.EsriJSON.GEOMETRY_WRITERS_[ol.geom.GeometryType.LINE_STRING]=ol.format.EsriJSON.writeLineStringGeometry_;ol.format.EsriJSON.GEOMETRY_WRITERS_[ol.geom.GeometryType.POLYGON]=ol.format.EsriJSON.writePolygonGeometry_;ol.format.EsriJSON.GEOMETRY_WRITERS_[ol.geom.GeometryType.MULTI_POINT]=ol.format.EsriJSON.writeMultiPointGeometry_;ol.format.EsriJSON.GEOMETRY_WRITERS_[ol.geom.GeometryType.MULTI_LINE_STRING]=ol.format.EsriJSON.writeMultiLineStringGeometry_;ol.format.EsriJSON.GEOMETRY_WRITERS_[ol.geom.GeometryType.MULTI_POLYGON]=ol.format.EsriJSON.writeMultiPolygonGeometry_;ol.format.EsriJSON.prototype.readFeature;ol.format.EsriJSON.prototype.readFeatures;ol.format.EsriJSON.prototype.readFeatureFromObject=function(e,t){var o=e;var r=ol.format.EsriJSON.readGeometry_(o.geometry,t);var i=new ol.Feature;if(this.geometryName_){i.setGeometryName(this.geometryName_)}i.setGeometry(r);if(t&&t.idField&&o.attributes[t.idField]){i.setId(o.attributes[t.idField])}if(o.attributes){i.setProperties(o.attributes)}return i};ol.format.EsriJSON.prototype.readFeaturesFromObject=function(e,t){var o=e;var r=t?t:{};if(o.features){var i=e;var n=[];var l=i.features;var a,s;r.idField=e.objectIdFieldName;for(a=0,s=l.length;a<s;++a){n.push(this.readFeatureFromObject(l[a],r))}return n}else{return[this.readFeatureFromObject(e,r)]}};ol.format.EsriJSON.prototype.readGeometry;ol.format.EsriJSON.prototype.readGeometryFromObject=function(e,t){return ol.format.EsriJSON.readGeometry_(e,t)};ol.format.EsriJSON.prototype.readProjection;ol.format.EsriJSON.prototype.readProjectionFromObject=function(e){var t=e;if(t.spatialReference&&t.spatialReference.wkid){var o=t.spatialReference.wkid;return ol.proj.get("EPSG:"+o)}else{return null}};ol.format.EsriJSON.writeGeometry_=function(e,t){var o=ol.format.EsriJSON.GEOMETRY_WRITERS_[e.getType()];return o(ol.format.Feature.transformWithOptions(e,true,t),t)};ol.format.EsriJSON.prototype.writeGeometry;ol.format.EsriJSON.prototype.writeGeometryObject=function(e,t){return ol.format.EsriJSON.writeGeometry_(e,this.adaptOptions(t))};ol.format.EsriJSON.prototype.writeFeature;ol.format.EsriJSON.prototype.writeFeatureObject=function(e,t){t=this.adaptOptions(t);var o={};var r=e.getGeometry();if(r){o["geometry"]=ol.format.EsriJSON.writeGeometry_(r,t);if(t&&t.featureProjection){o["geometry"]["spatialReference"]={wkid:ol.proj.get(t.featureProjection).getCode().split(":").pop()}}}var i=e.getProperties();delete i[e.getGeometryName()];if(!ol.obj.isEmpty(i)){o["attributes"]=i}else{o["attributes"]={}}return o};ol.format.EsriJSON.prototype.writeFeatures;ol.format.EsriJSON.prototype.writeFeaturesObject=function(e,t){t=this.adaptOptions(t);var o=[];var r,i;for(r=0,i=e.length;r<i;++r){o.push(this.writeFeatureObject(e[r],t))}return{features:o}};goog.provide("ol.format.filter.Filter");ol.format.filter.Filter=function(e){this.tagName_=e};ol.format.filter.Filter.prototype.getTagName=function(){return this.tagName_};goog.provide("ol.format.filter.LogicalNary");goog.require("ol");goog.require("ol.asserts");goog.require("ol.format.filter.Filter");ol.format.filter.LogicalNary=function(e,t){ol.format.filter.Filter.call(this,e);this.conditions=Array.prototype.slice.call(arguments,1);ol.asserts.assert(this.conditions.length>=2,57)};ol.inherits(ol.format.filter.LogicalNary,ol.format.filter.Filter);goog.provide("ol.format.filter.And");goog.require("ol");goog.require("ol.format.filter.LogicalNary");ol.format.filter.And=function(e){var t=["And"].concat(Array.prototype.slice.call(arguments));ol.format.filter.LogicalNary.apply(this,t)};ol.inherits(ol.format.filter.And,ol.format.filter.LogicalNary);goog.provide("ol.format.filter.Bbox");goog.require("ol");goog.require("ol.format.filter.Filter");ol.format.filter.Bbox=function(e,t,o){ol.format.filter.Filter.call(this,"BBOX");this.geometryName=e;this.extent=t;this.srsName=o};ol.inherits(ol.format.filter.Bbox,ol.format.filter.Filter);goog.provide("ol.format.filter.Spatial");goog.require("ol");goog.require("ol.format.filter.Filter");ol.format.filter.Spatial=function(e,t,o,r){ol.format.filter.Filter.call(this,e);this.geometryName=t||"the_geom";this.geometry=o;this.srsName=r};ol.inherits(ol.format.filter.Spatial,ol.format.filter.Filter);goog.provide("ol.format.filter.Contains");goog.require("ol");goog.require("ol.format.filter.Spatial");ol.format.filter.Contains=function(e,t,o){ol.format.filter.Spatial.call(this,"Contains",e,t,o)};ol.inherits(ol.format.filter.Contains,ol.format.filter.Spatial);goog.provide("ol.format.filter.Comparison");goog.require("ol");goog.require("ol.format.filter.Filter");ol.format.filter.Comparison=function(e,t){ol.format.filter.Filter.call(this,e);this.propertyName=t};ol.inherits(ol.format.filter.Comparison,ol.format.filter.Filter);goog.provide("ol.format.filter.During");goog.require("ol");goog.require("ol.format.filter.Comparison");ol.format.filter.During=function(e,t,o){ol.format.filter.Comparison.call(this,"During",e);this.begin=t;this.end=o};ol.inherits(ol.format.filter.During,ol.format.filter.Comparison);goog.provide("ol.format.filter.ComparisonBinary");goog.require("ol");goog.require("ol.format.filter.Comparison");ol.format.filter.ComparisonBinary=function(e,t,o,r){ol.format.filter.Comparison.call(this,e,t);this.expression=o;this.matchCase=r};ol.inherits(ol.format.filter.ComparisonBinary,ol.format.filter.Comparison);goog.provide("ol.format.filter.EqualTo");goog.require("ol");goog.require("ol.format.filter.ComparisonBinary");ol.format.filter.EqualTo=function(e,t,o){ol.format.filter.ComparisonBinary.call(this,"PropertyIsEqualTo",e,t,o)};ol.inherits(ol.format.filter.EqualTo,ol.format.filter.ComparisonBinary);goog.provide("ol.format.filter.GreaterThan");goog.require("ol");goog.require("ol.format.filter.ComparisonBinary");ol.format.filter.GreaterThan=function(e,t){ol.format.filter.ComparisonBinary.call(this,"PropertyIsGreaterThan",e,t)};ol.inherits(ol.format.filter.GreaterThan,ol.format.filter.ComparisonBinary);goog.provide("ol.format.filter.GreaterThanOrEqualTo");goog.require("ol");goog.require("ol.format.filter.ComparisonBinary");ol.format.filter.GreaterThanOrEqualTo=function(e,t){ol.format.filter.ComparisonBinary.call(this,"PropertyIsGreaterThanOrEqualTo",e,t)};ol.inherits(ol.format.filter.GreaterThanOrEqualTo,ol.format.filter.ComparisonBinary);goog.provide("ol.format.filter.Intersects");goog.require("ol");goog.require("ol.format.filter.Spatial");ol.format.filter.Intersects=function(e,t,o){ol.format.filter.Spatial.call(this,"Intersects",e,t,o)};ol.inherits(ol.format.filter.Intersects,ol.format.filter.Spatial);goog.provide("ol.format.filter.IsBetween");goog.require("ol");goog.require("ol.format.filter.Comparison");ol.format.filter.IsBetween=function(e,t,o){ol.format.filter.Comparison.call(this,"PropertyIsBetween",e);this.lowerBoundary=t;this.upperBoundary=o};ol.inherits(ol.format.filter.IsBetween,ol.format.filter.Comparison);goog.provide("ol.format.filter.IsLike");goog.require("ol");goog.require("ol.format.filter.Comparison");ol.format.filter.IsLike=function(e,t,o,r,i,n){ol.format.filter.Comparison.call(this,"PropertyIsLike",e);this.pattern=t;this.wildCard=o!==undefined?o:"*";this.singleChar=r!==undefined?r:".";this.escapeChar=i!==undefined?i:"!";this.matchCase=n};ol.inherits(ol.format.filter.IsLike,ol.format.filter.Comparison);goog.provide("ol.format.filter.IsNull");goog.require("ol");goog.require("ol.format.filter.Comparison");ol.format.filter.IsNull=function(e){ol.format.filter.Comparison.call(this,"PropertyIsNull",e)};ol.inherits(ol.format.filter.IsNull,ol.format.filter.Comparison);goog.provide("ol.format.filter.LessThan");goog.require("ol");goog.require("ol.format.filter.ComparisonBinary");ol.format.filter.LessThan=function(e,t){ol.format.filter.ComparisonBinary.call(this,"PropertyIsLessThan",e,t)};ol.inherits(ol.format.filter.LessThan,ol.format.filter.ComparisonBinary);goog.provide("ol.format.filter.LessThanOrEqualTo");goog.require("ol");goog.require("ol.format.filter.ComparisonBinary");ol.format.filter.LessThanOrEqualTo=function(e,t){ol.format.filter.ComparisonBinary.call(this,"PropertyIsLessThanOrEqualTo",e,t)};ol.inherits(ol.format.filter.LessThanOrEqualTo,ol.format.filter.ComparisonBinary);goog.provide("ol.format.filter.Not");goog.require("ol");goog.require("ol.format.filter.Filter");ol.format.filter.Not=function(e){ol.format.filter.Filter.call(this,"Not");this.condition=e};ol.inherits(ol.format.filter.Not,ol.format.filter.Filter);goog.provide("ol.format.filter.NotEqualTo");goog.require("ol");goog.require("ol.format.filter.ComparisonBinary");ol.format.filter.NotEqualTo=function(e,t,o){ol.format.filter.ComparisonBinary.call(this,"PropertyIsNotEqualTo",e,t,o)};ol.inherits(ol.format.filter.NotEqualTo,ol.format.filter.ComparisonBinary);goog.provide("ol.format.filter.Or");goog.require("ol");goog.require("ol.format.filter.LogicalNary");ol.format.filter.Or=function(e){var t=["Or"].concat(Array.prototype.slice.call(arguments));ol.format.filter.LogicalNary.apply(this,t)};ol.inherits(ol.format.filter.Or,ol.format.filter.LogicalNary);goog.provide("ol.format.filter.Within");goog.require("ol");goog.require("ol.format.filter.Spatial");ol.format.filter.Within=function(e,t,o){ol.format.filter.Spatial.call(this,"Within",e,t,o)};ol.inherits(ol.format.filter.Within,ol.format.filter.Spatial);goog.provide("ol.format.filter");goog.require("ol.format.filter.And");goog.require("ol.format.filter.Bbox");goog.require("ol.format.filter.Contains");goog.require("ol.format.filter.During");goog.require("ol.format.filter.EqualTo");goog.require("ol.format.filter.GreaterThan");goog.require("ol.format.filter.GreaterThanOrEqualTo");goog.require("ol.format.filter.Intersects");goog.require("ol.format.filter.IsBetween");goog.require("ol.format.filter.IsLike");goog.require("ol.format.filter.IsNull");goog.require("ol.format.filter.LessThan");goog.require("ol.format.filter.LessThanOrEqualTo");goog.require("ol.format.filter.Not");goog.require("ol.format.filter.NotEqualTo");goog.require("ol.format.filter.Or");goog.require("ol.format.filter.Within");ol.format.filter.and=function(e){var t=[null].concat(Array.prototype.slice.call(arguments));return new(Function.prototype.bind.apply(ol.format.filter.And,t))};ol.format.filter.or=function(e){var t=[null].concat(Array.prototype.slice.call(arguments));return new(Function.prototype.bind.apply(ol.format.filter.Or,t))};ol.format.filter.not=function(e){return new ol.format.filter.Not(e)};ol.format.filter.bbox=function(e,t,o){return new ol.format.filter.Bbox(e,t,o)};ol.format.filter.contains=function(e,t,o){return new ol.format.filter.Contains(e,t,o)};ol.format.filter.intersects=function(e,t,o){return new ol.format.filter.Intersects(e,t,o)};ol.format.filter.within=function(e,t,o){return new ol.format.filter.Within(e,t,o)};ol.format.filter.equalTo=function(e,t,o){return new ol.format.filter.EqualTo(e,t,o)};ol.format.filter.notEqualTo=function(e,t,o){return new ol.format.filter.NotEqualTo(e,t,o)};ol.format.filter.lessThan=function(e,t){return new ol.format.filter.LessThan(e,t)};ol.format.filter.lessThanOrEqualTo=function(e,t){return new ol.format.filter.LessThanOrEqualTo(e,t)};ol.format.filter.greaterThan=function(e,t){return new ol.format.filter.GreaterThan(e,t)};ol.format.filter.greaterThanOrEqualTo=function(e,t){return new ol.format.filter.GreaterThanOrEqualTo(e,t)};ol.format.filter.isNull=function(e){return new ol.format.filter.IsNull(e)};ol.format.filter.between=function(e,t,o){return new ol.format.filter.IsBetween(e,t,o)};ol.format.filter.like=function(e,t,o,r,i,n){return new ol.format.filter.IsLike(e,t,o,r,i,n)};ol.format.filter.during=function(e,t,o){return new ol.format.filter.During(e,t,o)};goog.provide("ol.geom.GeometryCollection");goog.require("ol");goog.require("ol.events");goog.require("ol.events.EventType");goog.require("ol.extent");goog.require("ol.geom.Geometry");goog.require("ol.geom.GeometryType");goog.require("ol.obj");ol.geom.GeometryCollection=function(e){ol.geom.Geometry.call(this);this.geometries_=e?e:null;this.listenGeometriesChange_()};ol.inherits(ol.geom.GeometryCollection,ol.geom.Geometry);ol.geom.GeometryCollection.cloneGeometries_=function(e){var t=[];var o,r;for(o=0,r=e.length;o<r;++o){t.push(e[o].clone())}return t};ol.geom.GeometryCollection.prototype.unlistenGeometriesChange_=function(){var e,t;if(!this.geometries_){return}for(e=0,t=this.geometries_.length;e<t;++e){ol.events.unlisten(this.geometries_[e],ol.events.EventType.CHANGE,this.changed,this)}};ol.geom.GeometryCollection.prototype.listenGeometriesChange_=function(){var e,t;if(!this.geometries_){return}for(e=0,t=this.geometries_.length;e<t;++e){ol.events.listen(this.geometries_[e],ol.events.EventType.CHANGE,this.changed,this)}};ol.geom.GeometryCollection.prototype.clone=function(){var e=new ol.geom.GeometryCollection(null);e.setGeometries(this.geometries_);return e};ol.geom.GeometryCollection.prototype.closestPointXY=function(e,t,o,r){if(r<ol.extent.closestSquaredDistanceXY(this.getExtent(),e,t)){return r}var i=this.geometries_;var n,l;for(n=0,l=i.length;n<l;++n){r=i[n].closestPointXY(e,t,o,r)}return r};ol.geom.GeometryCollection.prototype.containsXY=function(e,t){var o=this.geometries_;var r,i;for(r=0,i=o.length;r<i;++r){if(o[r].containsXY(e,t)){return true}}return false};ol.geom.GeometryCollection.prototype.computeExtent=function(e){ol.extent.createOrUpdateEmpty(e);var t=this.geometries_;for(var o=0,r=t.length;o<r;++o){ol.extent.extend(e,t[o].getExtent())}return e};ol.geom.GeometryCollection.prototype.getGeometries=function(){return ol.geom.GeometryCollection.cloneGeometries_(this.geometries_)};ol.geom.GeometryCollection.prototype.getGeometriesArray=function(){return this.geometries_};ol.geom.GeometryCollection.prototype.getSimplifiedGeometry=function(e){if(this.simplifiedGeometryRevision!=this.getRevision()){ol.obj.clear(this.simplifiedGeometryCache);this.simplifiedGeometryMaxMinSquaredTolerance=0;this.simplifiedGeometryRevision=this.getRevision()}if(e<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&e<this.simplifiedGeometryMaxMinSquaredTolerance){return this}var t=e.toString();if(this.simplifiedGeometryCache.hasOwnProperty(t)){return this.simplifiedGeometryCache[t]}else{var o=[];var r=this.geometries_;var i=false;var n,l;for(n=0,l=r.length;n<l;++n){var a=r[n];var s=a.getSimplifiedGeometry(e);o.push(s);if(s!==a){i=true}}if(i){var p=new ol.geom.GeometryCollection(null);p.setGeometriesArray(o);this.simplifiedGeometryCache[t]=p;return p}else{this.simplifiedGeometryMaxMinSquaredTolerance=e;return this}}};ol.geom.GeometryCollection.prototype.getType=function(){return ol.geom.GeometryType.GEOMETRY_COLLECTION};ol.geom.GeometryCollection.prototype.intersectsExtent=function(e){var t=this.geometries_;var o,r;for(o=0,r=t.length;o<r;++o){if(t[o].intersectsExtent(e)){return true}}return false};ol.geom.GeometryCollection.prototype.isEmpty=function(){return this.geometries_.length===0};ol.geom.GeometryCollection.prototype.rotate=function(e,t){var o=this.geometries_;for(var r=0,i=o.length;r<i;++r){o[r].rotate(e,t)}this.changed()};ol.geom.GeometryCollection.prototype.scale=function(e,t,o){var r=o;if(!r){r=ol.extent.getCenter(this.getExtent())}var i=this.geometries_;for(var n=0,l=i.length;n<l;++n){i[n].scale(e,t,r)}this.changed()};ol.geom.GeometryCollection.prototype.setGeometries=function(e){this.setGeometriesArray(ol.geom.GeometryCollection.cloneGeometries_(e))};ol.geom.GeometryCollection.prototype.setGeometriesArray=function(e){this.unlistenGeometriesChange_();this.geometries_=e;this.listenGeometriesChange_();this.changed()};ol.geom.GeometryCollection.prototype.applyTransform=function(e){var t=this.geometries_;var o,r;for(o=0,r=t.length;o<r;++o){t[o].applyTransform(e)}this.changed()};ol.geom.GeometryCollection.prototype.translate=function(e,t){var o=this.geometries_;var r,i;for(r=0,i=o.length;r<i;++r){o[r].translate(e,t)}this.changed()};ol.geom.GeometryCollection.prototype.disposeInternal=function(){this.unlistenGeometriesChange_();ol.geom.Geometry.prototype.disposeInternal.call(this)};goog.provide("ol.format.GeoJSON");goog.require("ol");goog.require("ol.asserts");goog.require("ol.Feature");goog.require("ol.format.Feature");goog.require("ol.format.JSONFeature");goog.require("ol.geom.GeometryCollection");goog.require("ol.geom.LineString");goog.require("ol.geom.MultiLineString");goog.require("ol.geom.MultiPoint");goog.require("ol.geom.MultiPolygon");goog.require("ol.geom.Point");goog.require("ol.geom.Polygon");goog.require("ol.obj");goog.require("ol.proj");ol.format.GeoJSON=function(e){var t=e?e:{};ol.format.JSONFeature.call(this);this.defaultDataProjection=ol.proj.get(t.defaultDataProjection?t.defaultDataProjection:"EPSG:4326");if(t.featureProjection){this.defaultFeatureProjection=ol.proj.get(t.featureProjection)}this.geometryName_=t.geometryName;this.extractGeometryName_=t.extractGeometryName};ol.inherits(ol.format.GeoJSON,ol.format.JSONFeature);ol.format.GeoJSON.readGeometry_=function(e,t){if(!e){return null}var o=ol.format.GeoJSON.GEOMETRY_READERS_[e.type];return ol.format.Feature.transformWithOptions(o(e),false,t)};ol.format.GeoJSON.readGeometryCollectionGeometry_=function(e,t){var o=e.geometries.map(function(e){return ol.format.GeoJSON.readGeometry_(e,t)});return new ol.geom.GeometryCollection(o)};ol.format.GeoJSON.readPointGeometry_=function(e){return new ol.geom.Point(e.coordinates)};ol.format.GeoJSON.readLineStringGeometry_=function(e){return new ol.geom.LineString(e.coordinates)};ol.format.GeoJSON.readMultiLineStringGeometry_=function(e){return new ol.geom.MultiLineString(e.coordinates)};ol.format.GeoJSON.readMultiPointGeometry_=function(e){return new ol.geom.MultiPoint(e.coordinates)};ol.format.GeoJSON.readMultiPolygonGeometry_=function(e){return new ol.geom.MultiPolygon(e.coordinates)};ol.format.GeoJSON.readPolygonGeometry_=function(e){return new ol.geom.Polygon(e.coordinates)};ol.format.GeoJSON.writeGeometry_=function(e,t){var o=ol.format.GeoJSON.GEOMETRY_WRITERS_[e.getType()];return o(ol.format.Feature.transformWithOptions(e,true,t),t)};ol.format.GeoJSON.writeEmptyGeometryCollectionGeometry_=function(e){return{type:"GeometryCollection",geometries:[]}};ol.format.GeoJSON.writeGeometryCollectionGeometry_=function(e,t){var o=e.getGeometriesArray().map(function(e){var o=ol.obj.assign({},t);delete o.featureProjection;return ol.format.GeoJSON.writeGeometry_(e,o)});return{type:"GeometryCollection",geometries:o}};ol.format.GeoJSON.writeLineStringGeometry_=function(e,t){return{type:"LineString",coordinates:e.getCoordinates()}};ol.format.GeoJSON.writeMultiLineStringGeometry_=function(e,t){return{type:"MultiLineString",coordinates:e.getCoordinates()}};ol.format.GeoJSON.writeMultiPointGeometry_=function(e,t){return{type:"MultiPoint",coordinates:e.getCoordinates()}};ol.format.GeoJSON.writeMultiPolygonGeometry_=function(e,t){var o;if(t){o=t.rightHanded}return{type:"MultiPolygon",coordinates:e.getCoordinates(o)}};ol.format.GeoJSON.writePointGeometry_=function(e,t){return{type:"Point",coordinates:e.getCoordinates()}};ol.format.GeoJSON.writePolygonGeometry_=function(e,t){var o;if(t){o=t.rightHanded}return{type:"Polygon",coordinates:e.getCoordinates(o)}};ol.format.GeoJSON.GEOMETRY_READERS_={Point:ol.format.GeoJSON.readPointGeometry_,LineString:ol.format.GeoJSON.readLineStringGeometry_,Polygon:ol.format.GeoJSON.readPolygonGeometry_,MultiPoint:ol.format.GeoJSON.readMultiPointGeometry_,MultiLineString:ol.format.GeoJSON.readMultiLineStringGeometry_,MultiPolygon:ol.format.GeoJSON.readMultiPolygonGeometry_,GeometryCollection:ol.format.GeoJSON.readGeometryCollectionGeometry_};ol.format.GeoJSON.GEOMETRY_WRITERS_={Point:ol.format.GeoJSON.writePointGeometry_,LineString:ol.format.GeoJSON.writeLineStringGeometry_,Polygon:ol.format.GeoJSON.writePolygonGeometry_,MultiPoint:ol.format.GeoJSON.writeMultiPointGeometry_,MultiLineString:ol.format.GeoJSON.writeMultiLineStringGeometry_,MultiPolygon:ol.format.GeoJSON.writeMultiPolygonGeometry_,GeometryCollection:ol.format.GeoJSON.writeGeometryCollectionGeometry_,Circle:ol.format.GeoJSON.writeEmptyGeometryCollectionGeometry_};ol.format.GeoJSON.prototype.readFeature;ol.format.GeoJSON.prototype.readFeatures;ol.format.GeoJSON.prototype.readFeatureFromObject=function(e,t){var o=null;if(e.type==="Feature"){o=e}else{o={type:"Feature",geometry:e}}var r=ol.format.GeoJSON.readGeometry_(o.geometry,t);var i=new ol.Feature;if(this.geometryName_){i.setGeometryName(this.geometryName_)}else if(this.extractGeometryName_&&o.geometry_name!==undefined){i.setGeometryName(o.geometry_name)}i.setGeometry(r);if(o.id!==undefined){i.setId(o.id)}if(o.properties){i.setProperties(o.properties)}return i};ol.format.GeoJSON.prototype.readFeaturesFromObject=function(e,t){var o=e;var r=null;if(o.type==="FeatureCollection"){var i=e;r=[];var n=i.features;var l,a;for(l=0,a=n.length;l<a;++l){r.push(this.readFeatureFromObject(n[l],t))}}else{r=[this.readFeatureFromObject(e,t)]}return r};ol.format.GeoJSON.prototype.readGeometry;ol.format.GeoJSON.prototype.readGeometryFromObject=function(e,t){return ol.format.GeoJSON.readGeometry_(e,t)};ol.format.GeoJSON.prototype.readProjection;ol.format.GeoJSON.prototype.readProjectionFromObject=function(e){var t=e;var o=t.crs;var r;if(o){if(o.type=="name"){r=ol.proj.get(o.properties.name)}else{ol.asserts.assert(false,36)}}else{r=this.defaultDataProjection}return r};ol.format.GeoJSON.prototype.writeFeature;ol.format.GeoJSON.prototype.writeFeatureObject=function(e,t){t=this.adaptOptions(t);var o={type:"Feature"};var r=e.getId();if(r!==undefined){o.id=r}var i=e.getGeometry();if(i){o.geometry=ol.format.GeoJSON.writeGeometry_(i,t)}else{o.geometry=null}var n=e.getProperties();delete n[e.getGeometryName()];if(!ol.obj.isEmpty(n)){o.properties=n}else{o.properties=null}return o};ol.format.GeoJSON.prototype.writeFeatures;ol.format.GeoJSON.prototype.writeFeaturesObject=function(e,t){t=this.adaptOptions(t);var o=[];var r,i;for(r=0,i=e.length;r<i;++r){o.push(this.writeFeatureObject(e[r],t))}return{type:"FeatureCollection",features:o}};ol.format.GeoJSON.prototype.writeGeometry;ol.format.GeoJSON.prototype.writeGeometryObject=function(e,t){return ol.format.GeoJSON.writeGeometry_(e,this.adaptOptions(t))};goog.provide("ol.format.XMLFeature");goog.require("ol");goog.require("ol.array");goog.require("ol.format.Feature");goog.require("ol.format.FormatType");goog.require("ol.xml");ol.format.XMLFeature=function(){this.xmlSerializer_=new XMLSerializer;ol.format.Feature.call(this)};ol.inherits(ol.format.XMLFeature,ol.format.Feature);ol.format.XMLFeature.prototype.getType=function(){return ol.format.FormatType.XML};ol.format.XMLFeature.prototype.readFeature=function(e,t){if(ol.xml.isDocument(e)){return this.readFeatureFromDocument(e,t)}else if(ol.xml.isNode(e)){return this.readFeatureFromNode(e,t)}else if(typeof e==="string"){var o=ol.xml.parse(e);return this.readFeatureFromDocument(o,t)}else{return null}};ol.format.XMLFeature.prototype.readFeatureFromDocument=function(e,t){var o=this.readFeaturesFromDocument(e,t);if(o.length>0){return o[0]}else{return null}};ol.format.XMLFeature.prototype.readFeatureFromNode=function(e,t){return null};ol.format.XMLFeature.prototype.readFeatures=function(e,t){if(ol.xml.isDocument(e)){return this.readFeaturesFromDocument(e,t)}else if(ol.xml.isNode(e)){return this.readFeaturesFromNode(e,t)}else if(typeof e==="string"){var o=ol.xml.parse(e);return this.readFeaturesFromDocument(o,t)}else{return[]}};ol.format.XMLFeature.prototype.readFeaturesFromDocument=function(e,t){var o=[];var r;for(r=e.firstChild;r;r=r.nextSibling){if(r.nodeType==Node.ELEMENT_NODE){ol.array.extend(o,this.readFeaturesFromNode(r,t))}}return o};ol.format.XMLFeature.prototype.readFeaturesFromNode=function(e,t){};ol.format.XMLFeature.prototype.readGeometry=function(e,t){if(ol.xml.isDocument(e)){return this.readGeometryFromDocument(e,t)}else if(ol.xml.isNode(e)){return this.readGeometryFromNode(e,t)}else if(typeof e==="string"){var o=ol.xml.parse(e);return this.readGeometryFromDocument(o,t)}else{return null}};ol.format.XMLFeature.prototype.readGeometryFromDocument=function(e,t){return null};ol.format.XMLFeature.prototype.readGeometryFromNode=function(e,t){return null};ol.format.XMLFeature.prototype.readProjection=function(e){if(ol.xml.isDocument(e)){return this.readProjectionFromDocument(e)}else if(ol.xml.isNode(e)){return this.readProjectionFromNode(e)}else if(typeof e==="string"){var t=ol.xml.parse(e);return this.readProjectionFromDocument(t)}else{return null}};ol.format.XMLFeature.prototype.readProjectionFromDocument=function(e){return this.defaultDataProjection};ol.format.XMLFeature.prototype.readProjectionFromNode=function(e){return this.defaultDataProjection};ol.format.XMLFeature.prototype.writeFeature=function(e,t){var o=this.writeFeatureNode(e,t);return this.xmlSerializer_.serializeToString(o)};ol.format.XMLFeature.prototype.writeFeatureNode=function(e,t){return null};ol.format.XMLFeature.prototype.writeFeatures=function(e,t){var o=this.writeFeaturesNode(e,t);return this.xmlSerializer_.serializeToString(o)};ol.format.XMLFeature.prototype.writeFeaturesNode=function(e,t){return null};ol.format.XMLFeature.prototype.writeGeometry=function(e,t){var o=this.writeGeometryNode(e,t);return this.xmlSerializer_.serializeToString(o)};ol.format.XMLFeature.prototype.writeGeometryNode=function(e,t){return null};goog.provide("ol.format.GMLBase");goog.require("ol");goog.require("ol.array");goog.require("ol.Feature");goog.require("ol.format.Feature");goog.require("ol.format.XMLFeature");goog.require("ol.geom.GeometryLayout");goog.require("ol.geom.LineString");goog.require("ol.geom.LinearRing");goog.require("ol.geom.MultiLineString");goog.require("ol.geom.MultiPoint");goog.require("ol.geom.MultiPolygon");goog.require("ol.geom.Point");goog.require("ol.geom.Polygon");goog.require("ol.obj");goog.require("ol.proj");goog.require("ol.xml");ol.format.GMLBase=function(e){var t=e?e:{};this.featureType=t.featureType;this.featureNS=t.featureNS;this.srsName=t.srsName;this.schemaLocation="";this.FEATURE_COLLECTION_PARSERS={};this.FEATURE_COLLECTION_PARSERS[ol.format.GMLBase.GMLNS]={featureMember:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readFeaturesInternal),featureMembers:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readFeaturesInternal)};ol.format.XMLFeature.call(this)};ol.inherits(ol.format.GMLBase,ol.format.XMLFeature);ol.format.GMLBase.GMLNS="http://www.opengis.net/gml";ol.format.GMLBase.ONLY_WHITESPACE_RE_=/^[\s\xa0]*$/;ol.format.GMLBase.prototype.readFeaturesInternal=function(e,t){var o=e.localName;var r=null;if(o=="FeatureCollection"){if(e.namespaceURI==="http://www.opengis.net/wfs"){r=ol.xml.pushParseAndPop([],this.FEATURE_COLLECTION_PARSERS,e,t,this)}else{r=ol.xml.pushParseAndPop(null,this.FEATURE_COLLECTION_PARSERS,e,t,this)}}else if(o=="featureMembers"||o=="featureMember"){var i=t[0];var n=i["featureType"];var l=i["featureNS"];var a,s,p="p",g="p0";if(!n&&e.childNodes){n=[],l={};for(a=0,s=e.childNodes.length;a<s;++a){var u=e.childNodes[a];if(u.nodeType===1){var c=u.nodeName.split(":").pop();if(n.indexOf(c)===-1){var y="";var d=0;var h=u.namespaceURI;for(var f in l){if(l[f]===h){y=f;break}++d}if(!y){y=p+d;l[y]=h}n.push(y+":"+c)}}}if(o!="featureMember"){i["featureType"]=n;i["featureNS"]=l}}if(typeof l==="string"){var m=l;l={};l[g]=m}var v={};var _=Array.isArray(n)?n:[n];for(var S in l){var x={};for(a=0,s=_.length;a<s;++a){var P=_[a].indexOf(":")===-1?g:_[a].split(":")[0];if(P===S){x[_[a].split(":").pop()]=o=="featureMembers"?ol.xml.makeArrayPusher(this.readFeatureElement,this):ol.xml.makeReplacer(this.readFeatureElement,this)}}v[l[S]]=x}if(o=="featureMember"){r=ol.xml.pushParseAndPop(undefined,v,e,t)}else{r=ol.xml.pushParseAndPop([],v,e,t)}}if(r===null){r=[]}return r};ol.format.GMLBase.prototype.readGeometryElement=function(e,t){var o=t[0];o["srsName"]=e.firstElementChild.getAttribute("srsName");o["srsDimension"]=e.firstElementChild.getAttribute("srsDimension");var r=ol.xml.pushParseAndPop(null,this.GEOMETRY_PARSERS_,e,t,this);if(r){return ol.format.Feature.transformWithOptions(r,false,o)}else{return undefined}};ol.format.GMLBase.prototype.readFeatureElement=function(e,t){var o;var r=e.getAttribute("fid")||ol.xml.getAttributeNS(e,ol.format.GMLBase.GMLNS,"id");var i={},n;for(o=e.firstElementChild;o;o=o.nextElementSibling){var l=o.localName;if(o.childNodes.length===0||o.childNodes.length===1&&(o.firstChild.nodeType===3||o.firstChild.nodeType===4)){var a=ol.xml.getAllTextContent(o,false);if(ol.format.GMLBase.ONLY_WHITESPACE_RE_.test(a)){a=undefined}i[l]=a}else{if(l!=="boundedBy"){n=l}i[l]=this.readGeometryElement(o,t)}}var s=new ol.Feature(i);if(n){s.setGeometryName(n)}if(r){s.setId(r)}return s};ol.format.GMLBase.prototype.readPoint=function(e,t){var o=this.readFlatCoordinatesFromNode_(e,t);if(o){var r=new ol.geom.Point(null);r.setFlatCoordinates(ol.geom.GeometryLayout.XYZ,o);return r}};ol.format.GMLBase.prototype.readMultiPoint=function(e,t){var o=ol.xml.pushParseAndPop([],this.MULTIPOINT_PARSERS_,e,t,this);if(o){return new ol.geom.MultiPoint(o)}else{return undefined}};ol.format.GMLBase.prototype.readMultiLineString=function(e,t){var o=ol.xml.pushParseAndPop([],this.MULTILINESTRING_PARSERS_,e,t,this);if(o){var r=new ol.geom.MultiLineString(null);r.setLineStrings(o);return r}else{return undefined}};ol.format.GMLBase.prototype.readMultiPolygon=function(e,t){var o=ol.xml.pushParseAndPop([],this.MULTIPOLYGON_PARSERS_,e,t,this);if(o){var r=new ol.geom.MultiPolygon(null);r.setPolygons(o);return r}else{return undefined}};ol.format.GMLBase.prototype.pointMemberParser_=function(e,t){ol.xml.parseNode(this.POINTMEMBER_PARSERS_,e,t,this)};ol.format.GMLBase.prototype.lineStringMemberParser_=function(e,t){ol.xml.parseNode(this.LINESTRINGMEMBER_PARSERS_,e,t,this)};ol.format.GMLBase.prototype.polygonMemberParser_=function(e,t){ol.xml.parseNode(this.POLYGONMEMBER_PARSERS_,e,t,this)};ol.format.GMLBase.prototype.readLineString=function(e,t){var o=this.readFlatCoordinatesFromNode_(e,t);if(o){var r=new ol.geom.LineString(null);r.setFlatCoordinates(ol.geom.GeometryLayout.XYZ,o);return r}else{return undefined}};ol.format.GMLBase.prototype.readFlatLinearRing_=function(e,t){var o=ol.xml.pushParseAndPop(null,this.GEOMETRY_FLAT_COORDINATES_PARSERS_,e,t,this);if(o){return o}else{return undefined}};ol.format.GMLBase.prototype.readLinearRing=function(e,t){var o=this.readFlatCoordinatesFromNode_(e,t);if(o){var r=new ol.geom.LinearRing(null);r.setFlatCoordinates(ol.geom.GeometryLayout.XYZ,o);return r}else{return undefined}};ol.format.GMLBase.prototype.readPolygon=function(e,t){var o=ol.xml.pushParseAndPop([null],this.FLAT_LINEAR_RINGS_PARSERS_,e,t,this);if(o&&o[0]){var r=new ol.geom.Polygon(null);var i=o[0];var n=[i.length];var l,a;for(l=1,a=o.length;l<a;++l){ol.array.extend(i,o[l]);n.push(i.length)}r.setFlatCoordinates(ol.geom.GeometryLayout.XYZ,i,n);return r}else{return undefined}};ol.format.GMLBase.prototype.readFlatCoordinatesFromNode_=function(e,t){return ol.xml.pushParseAndPop(null,this.GEOMETRY_FLAT_COORDINATES_PARSERS_,e,t,this)};ol.format.GMLBase.prototype.MULTIPOINT_PARSERS_={"http://www.opengis.net/gml":{pointMember:ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.pointMemberParser_),pointMembers:ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.pointMemberParser_)}};ol.format.GMLBase.prototype.MULTILINESTRING_PARSERS_={"http://www.opengis.net/gml":{lineStringMember:ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.lineStringMemberParser_),lineStringMembers:ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.lineStringMemberParser_)}};ol.format.GMLBase.prototype.MULTIPOLYGON_PARSERS_={"http://www.opengis.net/gml":{polygonMember:ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.polygonMemberParser_),polygonMembers:ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.polygonMemberParser_)}};ol.format.GMLBase.prototype.POINTMEMBER_PARSERS_={"http://www.opengis.net/gml":{Point:ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.readFlatCoordinatesFromNode_)}};ol.format.GMLBase.prototype.LINESTRINGMEMBER_PARSERS_={"http://www.opengis.net/gml":{LineString:ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.readLineString)}};ol.format.GMLBase.prototype.POLYGONMEMBER_PARSERS_={"http://www.opengis.net/gml":{Polygon:ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.readPolygon)}};ol.format.GMLBase.prototype.RING_PARSERS={"http://www.opengis.net/gml":{LinearRing:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readFlatLinearRing_)}};ol.format.GMLBase.prototype.readGeometryFromNode=function(e,t){var o=this.readGeometryElement(e,[this.getReadOptions(e,t?t:{})]);return o?o:null};ol.format.GMLBase.prototype.readFeatures;ol.format.GMLBase.prototype.readFeaturesFromNode=function(e,t){var o={featureType:this.featureType,featureNS:this.featureNS};if(t){ol.obj.assign(o,this.getReadOptions(e,t))}var r=this.readFeaturesInternal(e,[o]);return r||[]};ol.format.GMLBase.prototype.readProjectionFromNode=function(e){return ol.proj.get(this.srsName?this.srsName:e.firstElementChild.getAttribute("srsName"))};goog.provide("ol.format.XSD");goog.require("ol.xml");goog.require("ol.string");ol.format.XSD.NAMESPACE_URI="http://www.w3.org/2001/XMLSchema";ol.format.XSD.readBoolean=function(e){var t=ol.xml.getAllTextContent(e,false);return ol.format.XSD.readBooleanString(t)};ol.format.XSD.readBooleanString=function(e){var t=/^\s*(true|1)|(false|0)\s*$/.exec(e);if(t){return t[1]!==undefined||false}else{return undefined}};ol.format.XSD.readDateTime=function(e){var t=ol.xml.getAllTextContent(e,false);var o=Date.parse(t);return isNaN(o)?undefined:o/1e3};ol.format.XSD.readDecimal=function(e){var t=ol.xml.getAllTextContent(e,false);return ol.format.XSD.readDecimalString(t)};ol.format.XSD.readDecimalString=function(e){var t=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(e);if(t){return parseFloat(t[1])}else{return undefined}};ol.format.XSD.readNonNegativeInteger=function(e){var t=ol.xml.getAllTextContent(e,false);return ol.format.XSD.readNonNegativeIntegerString(t)};ol.format.XSD.readNonNegativeIntegerString=function(e){var t=/^\s*(\d+)\s*$/.exec(e);if(t){return parseInt(t[1],10)}else{return undefined}};ol.format.XSD.readString=function(e){return ol.xml.getAllTextContent(e,false).trim()};ol.format.XSD.writeBooleanTextNode=function(e,t){ol.format.XSD.writeStringTextNode(e,t?"1":"0")};ol.format.XSD.writeCDATASection=function(e,t){e.appendChild(ol.xml.DOCUMENT.createCDATASection(t))};ol.format.XSD.writeDateTimeTextNode=function(e,t){var o=new Date(t*1e3);var r=o.getUTCFullYear()+"-"+ol.string.padNumber(o.getUTCMonth()+1,2)+"-"+ol.string.padNumber(o.getUTCDate(),2)+"T"+ol.string.padNumber(o.getUTCHours(),2)+":"+ol.string.padNumber(o.getUTCMinutes(),2)+":"+ol.string.padNumber(o.getUTCSeconds(),2)+"Z";e.appendChild(ol.xml.DOCUMENT.createTextNode(r))};ol.format.XSD.writeDecimalTextNode=function(e,t){var o=t.toPrecision();e.appendChild(ol.xml.DOCUMENT.createTextNode(o))};ol.format.XSD.writeNonNegativeIntegerTextNode=function(e,t){var o=t.toString();e.appendChild(ol.xml.DOCUMENT.createTextNode(o))};ol.format.XSD.writeStringTextNode=function(e,t){e.appendChild(ol.xml.DOCUMENT.createTextNode(t))};goog.provide("ol.format.GML3");goog.require("ol");goog.require("ol.array");goog.require("ol.extent");goog.require("ol.format.Feature");goog.require("ol.format.GMLBase");goog.require("ol.format.XSD");goog.require("ol.geom.Geometry");goog.require("ol.geom.GeometryLayout");goog.require("ol.geom.LineString");goog.require("ol.geom.MultiLineString");goog.require("ol.geom.MultiPolygon");goog.require("ol.geom.Polygon");goog.require("ol.obj");goog.require("ol.proj");goog.require("ol.xml");ol.format.GML3=function(e){var t=e?e:{};ol.format.GMLBase.call(this,t);this.surface_=t.surface!==undefined?t.surface:false;this.curve_=t.curve!==undefined?t.curve:false;this.multiCurve_=t.multiCurve!==undefined?t.multiCurve:true;this.multiSurface_=t.multiSurface!==undefined?t.multiSurface:true;this.schemaLocation=t.schemaLocation?t.schemaLocation:ol.format.GML3.schemaLocation_;this.hasZ=t.hasZ!==undefined?t.hasZ:false};ol.inherits(ol.format.GML3,ol.format.GMLBase);ol.format.GML3.schemaLocation_=ol.format.GMLBase.GMLNS+" http://schemas.opengis.net/gml/3.1.1/profiles/gmlsfProfile/"+"1.0.0/gmlsf.xsd";ol.format.GML3.prototype.readMultiCurve_=function(e,t){var o=ol.xml.pushParseAndPop([],this.MULTICURVE_PARSERS_,e,t,this);if(o){var r=new ol.geom.MultiLineString(null);r.setLineStrings(o);return r}else{return undefined}};ol.format.GML3.prototype.readMultiSurface_=function(e,t){var o=ol.xml.pushParseAndPop([],this.MULTISURFACE_PARSERS_,e,t,this);if(o){var r=new ol.geom.MultiPolygon(null);r.setPolygons(o);return r}else{return undefined}};ol.format.GML3.prototype.curveMemberParser_=function(e,t){ol.xml.parseNode(this.CURVEMEMBER_PARSERS_,e,t,this)};ol.format.GML3.prototype.surfaceMemberParser_=function(e,t){ol.xml.parseNode(this.SURFACEMEMBER_PARSERS_,e,t,this)};ol.format.GML3.prototype.readPatch_=function(e,t){return ol.xml.pushParseAndPop([null],this.PATCHES_PARSERS_,e,t,this)};ol.format.GML3.prototype.readSegment_=function(e,t){return ol.xml.pushParseAndPop([null],this.SEGMENTS_PARSERS_,e,t,this)};ol.format.GML3.prototype.readPolygonPatch_=function(e,t){return ol.xml.pushParseAndPop([null],this.FLAT_LINEAR_RINGS_PARSERS_,e,t,this)};ol.format.GML3.prototype.readLineStringSegment_=function(e,t){return ol.xml.pushParseAndPop([null],this.GEOMETRY_FLAT_COORDINATES_PARSERS_,e,t,this)};ol.format.GML3.prototype.interiorParser_=function(e,t){var o=ol.xml.pushParseAndPop(undefined,this.RING_PARSERS,e,t,this);if(o){var r=t[t.length-1];r.push(o)}};ol.format.GML3.prototype.exteriorParser_=function(e,t){var o=ol.xml.pushParseAndPop(undefined,this.RING_PARSERS,e,t,this);if(o){var r=t[t.length-1];r[0]=o}};ol.format.GML3.prototype.readSurface_=function(e,t){var o=ol.xml.pushParseAndPop([null],this.SURFACE_PARSERS_,e,t,this);if(o&&o[0]){var r=new ol.geom.Polygon(null);var i=o[0];var n=[i.length];var l,a;for(l=1,a=o.length;l<a;++l){ol.array.extend(i,o[l]);n.push(i.length)}r.setFlatCoordinates(ol.geom.GeometryLayout.XYZ,i,n);return r}else{return undefined}};ol.format.GML3.prototype.readCurve_=function(e,t){var o=ol.xml.pushParseAndPop([null],this.CURVE_PARSERS_,e,t,this);if(o){var r=new ol.geom.LineString(null);r.setFlatCoordinates(ol.geom.GeometryLayout.XYZ,o);return r}else{return undefined}};ol.format.GML3.prototype.readEnvelope_=function(e,t){var o=ol.xml.pushParseAndPop([null],this.ENVELOPE_PARSERS_,e,t,this);return ol.extent.createOrUpdate(o[1][0],o[1][1],o[2][0],o[2][1])};ol.format.GML3.prototype.readFlatPos_=function(e,t){var o=ol.xml.getAllTextContent(e,false);var r=/^\s*([+\-]?\d*\.?\d+(?:[eE][+\-]?\d+)?)\s*/;var i=[];var n;while(n=r.exec(o)){i.push(parseFloat(n[1]));o=o.substr(n[0].length)}if(o!==""){return undefined}var l=t[0];var a=l["srsName"];var s="enu";if(a){var p=ol.proj.get(a);s=p.getAxisOrientation()}if(s==="neu"){var g,u;for(g=0,u=i.length;g<u;g+=3){var c=i[g];var y=i[g+1];i[g]=y;i[g+1]=c}}var d=i.length;if(d==2){i.push(0)}if(d===0){return undefined}return i};ol.format.GML3.prototype.readFlatPosList_=function(e,t){var o=ol.xml.getAllTextContent(e,false).replace(/^\s*|\s*$/g,"");var r=t[0];var i=r["srsName"];var n=r["srsDimension"];var l="enu";if(i){var a=ol.proj.get(i);l=a.getAxisOrientation()}var s=o.split(/\s+/);var p=2;if(e.getAttribute("srsDimension")){p=ol.format.XSD.readNonNegativeIntegerString(e.getAttribute("srsDimension"))}else if(e.getAttribute("dimension")){p=ol.format.XSD.readNonNegativeIntegerString(e.getAttribute("dimension"))}else if(e.parentNode.getAttribute("srsDimension")){p=ol.format.XSD.readNonNegativeIntegerString(e.parentNode.getAttribute("srsDimension"))}else if(n){p=ol.format.XSD.readNonNegativeIntegerString(n)}var g,u,c;var y=[];for(var d=0,h=s.length;d<h;d+=p){g=parseFloat(s[d]);u=parseFloat(s[d+1]);c=p===3?parseFloat(s[d+2]):0;if(l.substr(0,2)==="en"){y.push(g,u,c)}else{y.push(u,g,c)}}return y};ol.format.GML3.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS_={"http://www.opengis.net/gml":{pos:ol.xml.makeReplacer(ol.format.GML3.prototype.readFlatPos_),posList:ol.xml.makeReplacer(ol.format.GML3.prototype.readFlatPosList_)}};ol.format.GML3.prototype.FLAT_LINEAR_RINGS_PARSERS_={"http://www.opengis.net/gml":{interior:ol.format.GML3.prototype.interiorParser_,exterior:ol.format.GML3.prototype.exteriorParser_}};ol.format.GML3.prototype.GEOMETRY_PARSERS_={"http://www.opengis.net/gml":{Point:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readPoint),MultiPoint:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readMultiPoint),LineString:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readLineString),MultiLineString:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readMultiLineString),LinearRing:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readLinearRing),Polygon:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readPolygon),MultiPolygon:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readMultiPolygon),Surface:ol.xml.makeReplacer(ol.format.GML3.prototype.readSurface_),MultiSurface:ol.xml.makeReplacer(ol.format.GML3.prototype.readMultiSurface_),Curve:ol.xml.makeReplacer(ol.format.GML3.prototype.readCurve_),MultiCurve:ol.xml.makeReplacer(ol.format.GML3.prototype.readMultiCurve_),Envelope:ol.xml.makeReplacer(ol.format.GML3.prototype.readEnvelope_)}};ol.format.GML3.prototype.MULTICURVE_PARSERS_={"http://www.opengis.net/gml":{curveMember:ol.xml.makeArrayPusher(ol.format.GML3.prototype.curveMemberParser_),curveMembers:ol.xml.makeArrayPusher(ol.format.GML3.prototype.curveMemberParser_)}};ol.format.GML3.prototype.MULTISURFACE_PARSERS_={"http://www.opengis.net/gml":{surfaceMember:ol.xml.makeArrayPusher(ol.format.GML3.prototype.surfaceMemberParser_),surfaceMembers:ol.xml.makeArrayPusher(ol.format.GML3.prototype.surfaceMemberParser_)}};ol.format.GML3.prototype.CURVEMEMBER_PARSERS_={"http://www.opengis.net/gml":{LineString:ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.readLineString),Curve:ol.xml.makeArrayPusher(ol.format.GML3.prototype.readCurve_)}};ol.format.GML3.prototype.SURFACEMEMBER_PARSERS_={"http://www.opengis.net/gml":{Polygon:ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.readPolygon),Surface:ol.xml.makeArrayPusher(ol.format.GML3.prototype.readSurface_)}};ol.format.GML3.prototype.SURFACE_PARSERS_={"http://www.opengis.net/gml":{patches:ol.xml.makeReplacer(ol.format.GML3.prototype.readPatch_)}};ol.format.GML3.prototype.CURVE_PARSERS_={"http://www.opengis.net/gml":{segments:ol.xml.makeReplacer(ol.format.GML3.prototype.readSegment_)}};ol.format.GML3.prototype.ENVELOPE_PARSERS_={"http://www.opengis.net/gml":{lowerCorner:ol.xml.makeArrayPusher(ol.format.GML3.prototype.readFlatPosList_),upperCorner:ol.xml.makeArrayPusher(ol.format.GML3.prototype.readFlatPosList_)}};ol.format.GML3.prototype.PATCHES_PARSERS_={"http://www.opengis.net/gml":{PolygonPatch:ol.xml.makeReplacer(ol.format.GML3.prototype.readPolygonPatch_)}};ol.format.GML3.prototype.SEGMENTS_PARSERS_={"http://www.opengis.net/gml":{LineStringSegment:ol.xml.makeReplacer(ol.format.GML3.prototype.readLineStringSegment_)}};ol.format.GML3.prototype.writePos_=function(e,t,o){var r=o[o.length-1];var i=r["hasZ"];var n=i?3:2;e.setAttribute("srsDimension",n);var l=r["srsName"];var a="enu";if(l){a=ol.proj.get(l).getAxisOrientation()}var s=t.getCoordinates();var p;if(a.substr(0,2)==="en"){p=s[0]+" "+s[1]}else{p=s[1]+" "+s[0]}if(i){var g=s[2]||0;p+=" "+g}ol.format.XSD.writeStringTextNode(e,p)};ol.format.GML3.prototype.getCoords_=function(e,t,o){var r="enu";if(t){r=ol.proj.get(t).getAxisOrientation()}var i=r.substr(0,2)==="en"?e[0]+" "+e[1]:e[1]+" "+e[0];if(o){var n=e[2]||0;i+=" "+n}return i};ol.format.GML3.prototype.writePosList_=function(e,t,o){var r=o[o.length-1];var i=r["hasZ"];var n=i?3:2;e.setAttribute("srsDimension",n);var l=r["srsName"];var a=t.getCoordinates();var s=a.length;var p=new Array(s);var g;for(var u=0;u<s;++u){g=a[u];p[u]=this.getCoords_(g,l,i)}ol.format.XSD.writeStringTextNode(e,p.join(" "))};ol.format.GML3.prototype.writePoint_=function(e,t,o){var r=o[o.length-1];var i=r["srsName"];if(i){e.setAttribute("srsName",i)}var n=ol.xml.createElementNS(e.namespaceURI,"pos");e.appendChild(n);this.writePos_(n,t,o)};ol.format.GML3.ENVELOPE_SERIALIZERS_={"http://www.opengis.net/gml":{lowerCorner:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),upperCorner:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode)}};ol.format.GML3.prototype.writeEnvelope=function(e,t,o){var r=o[o.length-1];var i=r["srsName"];if(i){e.setAttribute("srsName",i)}var n=["lowerCorner","upperCorner"];var l=[t[0]+" "+t[1],t[2]+" "+t[3]];ol.xml.pushSerializeAndPop({node:e},ol.format.GML3.ENVELOPE_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,l,o,n,this)};ol.format.GML3.prototype.writeLinearRing_=function(e,t,o){var r=o[o.length-1];var i=r["srsName"];if(i){e.setAttribute("srsName",i)}var n=ol.xml.createElementNS(e.namespaceURI,"posList");e.appendChild(n);this.writePosList_(n,t,o)};ol.format.GML3.prototype.RING_NODE_FACTORY_=function(e,t,o){var r=t[t.length-1];var i=r.node;var n=r["exteriorWritten"];if(n===undefined){r["exteriorWritten"]=true}return ol.xml.createElementNS(i.namespaceURI,n!==undefined?"interior":"exterior")};ol.format.GML3.prototype.writeSurfaceOrPolygon_=function(e,t,o){var r=o[o.length-1];var i=r["hasZ"];var n=r["srsName"];if(e.nodeName!=="PolygonPatch"&&n){e.setAttribute("srsName",n)}if(e.nodeName==="Polygon"||e.nodeName==="PolygonPatch"){var l=t.getLinearRings();ol.xml.pushSerializeAndPop({node:e,hasZ:i,srsName:n},ol.format.GML3.RING_SERIALIZERS_,this.RING_NODE_FACTORY_,l,o,undefined,this)}else if(e.nodeName==="Surface"){var a=ol.xml.createElementNS(e.namespaceURI,"patches");e.appendChild(a);this.writeSurfacePatches_(a,t,o)}};ol.format.GML3.prototype.writeCurveOrLineString_=function(e,t,o){var r=o[o.length-1];var i=r["srsName"];if(e.nodeName!=="LineStringSegment"&&i){e.setAttribute("srsName",i)}if(e.nodeName==="LineString"||e.nodeName==="LineStringSegment"){var n=ol.xml.createElementNS(e.namespaceURI,"posList");e.appendChild(n);this.writePosList_(n,t,o)}else if(e.nodeName==="Curve"){var l=ol.xml.createElementNS(e.namespaceURI,"segments");e.appendChild(l);this.writeCurveSegments_(l,t,o)}};ol.format.GML3.prototype.writeMultiSurfaceOrPolygon_=function(e,t,o){var r=o[o.length-1];var i=r["hasZ"];var n=r["srsName"];var l=r["surface"];if(n){e.setAttribute("srsName",n)}var a=t.getPolygons();ol.xml.pushSerializeAndPop({node:e,hasZ:i,srsName:n,surface:l},ol.format.GML3.SURFACEORPOLYGONMEMBER_SERIALIZERS_,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,a,o,undefined,this)};ol.format.GML3.prototype.writeMultiPoint_=function(e,t,o){var r=o[o.length-1];var i=r["srsName"];var n=r["hasZ"];if(i){e.setAttribute("srsName",i)}var l=t.getPoints();ol.xml.pushSerializeAndPop({node:e,hasZ:n,srsName:i},ol.format.GML3.POINTMEMBER_SERIALIZERS_,ol.xml.makeSimpleNodeFactory("pointMember"),l,o,undefined,this)};ol.format.GML3.prototype.writeMultiCurveOrLineString_=function(e,t,o){var r=o[o.length-1];var i=r["hasZ"];var n=r["srsName"];var l=r["curve"];if(n){e.setAttribute("srsName",n)}var a=t.getLineStrings();ol.xml.pushSerializeAndPop({node:e,hasZ:i,srsName:n,curve:l},ol.format.GML3.LINESTRINGORCURVEMEMBER_SERIALIZERS_,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,a,o,undefined,this)};ol.format.GML3.prototype.writeRing_=function(e,t,o){var r=ol.xml.createElementNS(e.namespaceURI,"LinearRing");e.appendChild(r);this.writeLinearRing_(r,t,o)};ol.format.GML3.prototype.writeSurfaceOrPolygonMember_=function(e,t,o){var r=this.GEOMETRY_NODE_FACTORY_(t,o);if(r){e.appendChild(r);this.writeSurfaceOrPolygon_(r,t,o)}};ol.format.GML3.prototype.writePointMember_=function(e,t,o){var r=ol.xml.createElementNS(e.namespaceURI,"Point");e.appendChild(r);this.writePoint_(r,t,o)};ol.format.GML3.prototype.writeLineStringOrCurveMember_=function(e,t,o){var r=this.GEOMETRY_NODE_FACTORY_(t,o);if(r){e.appendChild(r);this.writeCurveOrLineString_(r,t,o)}};ol.format.GML3.prototype.writeSurfacePatches_=function(e,t,o){var r=ol.xml.createElementNS(e.namespaceURI,"PolygonPatch");e.appendChild(r);this.writeSurfaceOrPolygon_(r,t,o)};ol.format.GML3.prototype.writeCurveSegments_=function(e,t,o){var r=ol.xml.createElementNS(e.namespaceURI,"LineStringSegment");e.appendChild(r);this.writeCurveOrLineString_(r,t,o)};ol.format.GML3.prototype.writeGeometryElement=function(e,t,o){var r=o[o.length-1];var i=ol.obj.assign({},r);i.node=e;var n;if(Array.isArray(t)){if(r.dataProjection){n=ol.proj.transformExtent(t,r.featureProjection,r.dataProjection)}else{n=t}}else{n=ol.format.Feature.transformWithOptions(t,true,r)}ol.xml.pushSerializeAndPop(i,ol.format.GML3.GEOMETRY_SERIALIZERS_,this.GEOMETRY_NODE_FACTORY_,[n],o,undefined,this)};ol.format.GML3.prototype.writeFeatureElement=function(e,t,o){var r=t.getId();if(r){e.setAttribute("fid",r)}var i=o[o.length-1];var n=i["featureNS"];var l=t.getGeometryName();if(!i.serializers){i.serializers={};i.serializers[n]={}}var a=t.getProperties();var s=[],p=[];for(var g in a){var u=a[g];if(u!==null){s.push(g);p.push(u);if(g==l||u instanceof ol.geom.Geometry){if(!(g in i.serializers[n])){i.serializers[n][g]=ol.xml.makeChildAppender(this.writeGeometryElement,this)}}else{if(!(g in i.serializers[n])){i.serializers[n][g]=ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode)}}}}var c=ol.obj.assign({},i);c.node=e;ol.xml.pushSerializeAndPop(c,i.serializers,ol.xml.makeSimpleNodeFactory(undefined,n),p,o,s)};ol.format.GML3.prototype.writeFeatureMembers_=function(e,t,o){var r=o[o.length-1];var i=r["featureType"];var n=r["featureNS"];var l={};l[n]={};l[n][i]=ol.xml.makeChildAppender(this.writeFeatureElement,this);var a=ol.obj.assign({},r);a.node=e;ol.xml.pushSerializeAndPop(a,l,ol.xml.makeSimpleNodeFactory(i,n),t,o)};ol.format.GML3.SURFACEORPOLYGONMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{surfaceMember:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeSurfaceOrPolygonMember_),polygonMember:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeSurfaceOrPolygonMember_)}};ol.format.GML3.POINTMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{pointMember:ol.xml.makeChildAppender(ol.format.GML3.prototype.writePointMember_)}};ol.format.GML3.LINESTRINGORCURVEMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{lineStringMember:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeLineStringOrCurveMember_),curveMember:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeLineStringOrCurveMember_)}};ol.format.GML3.RING_SERIALIZERS_={"http://www.opengis.net/gml":{exterior:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeRing_),interior:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeRing_)}};ol.format.GML3.GEOMETRY_SERIALIZERS_={"http://www.opengis.net/gml":{Curve:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeCurveOrLineString_),MultiCurve:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeMultiCurveOrLineString_),Point:ol.xml.makeChildAppender(ol.format.GML3.prototype.writePoint_),MultiPoint:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeMultiPoint_),LineString:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeCurveOrLineString_),MultiLineString:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeMultiCurveOrLineString_),LinearRing:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeLinearRing_),Polygon:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeSurfaceOrPolygon_),MultiPolygon:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeMultiSurfaceOrPolygon_),Surface:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeSurfaceOrPolygon_),MultiSurface:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeMultiSurfaceOrPolygon_),Envelope:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeEnvelope)}};ol.format.GML3.MULTIGEOMETRY_TO_MEMBER_NODENAME_={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"};ol.format.GML3.prototype.MULTIGEOMETRY_MEMBER_NODE_FACTORY_=function(e,t,o){var r=t[t.length-1].node;return ol.xml.createElementNS("http://www.opengis.net/gml",ol.format.GML3.MULTIGEOMETRY_TO_MEMBER_NODENAME_[r.nodeName])};ol.format.GML3.prototype.GEOMETRY_NODE_FACTORY_=function(e,t,o){var r=t[t.length-1];var i=r["multiSurface"];var n=r["surface"];var l=r["curve"];var a=r["multiCurve"];var s;if(!Array.isArray(e)){s=e.getType();if(s==="MultiPolygon"&&i===true){s="MultiSurface"}else if(s==="Polygon"&&n===true){s="Surface"}else if(s==="LineString"&&l===true){s="Curve"}else if(s==="MultiLineString"&&a===true){s="MultiCurve"}}else{s="Envelope"}return ol.xml.createElementNS("http://www.opengis.net/gml",s)};ol.format.GML3.prototype.writeGeometryNode=function(e,t){t=this.adaptOptions(t);var o=ol.xml.createElementNS("http://www.opengis.net/gml","geom");var r={node:o,hasZ:this.hasZ,srsName:this.srsName,curve:this.curve_,surface:this.surface_,multiSurface:this.multiSurface_,multiCurve:this.multiCurve_};if(t){ol.obj.assign(r,t)}this.writeGeometryElement(o,e,[r]);return o};ol.format.GML3.prototype.writeFeatures;ol.format.GML3.prototype.writeFeaturesNode=function(e,t){t=this.adaptOptions(t);var o=ol.xml.createElementNS("http://www.opengis.net/gml","featureMembers");ol.xml.setAttributeNS(o,"http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation",this.schemaLocation);var r={srsName:this.srsName,hasZ:this.hasZ,curve:this.curve_,surface:this.surface_,multiSurface:this.multiSurface_,multiCurve:this.multiCurve_,featureNS:this.featureNS,featureType:this.featureType};if(t){ol.obj.assign(r,t)}this.writeFeatureMembers_(o,e,[r]);return o};goog.provide("ol.format.GML");goog.require("ol.format.GML3");ol.format.GML=ol.format.GML3;ol.format.GML.prototype.writeFeatures;ol.format.GML.prototype.writeFeaturesNode;goog.provide("ol.format.GML2");goog.require("ol");goog.require("ol.extent");goog.require("ol.format.Feature");goog.require("ol.format.GMLBase");goog.require("ol.format.XSD");goog.require("ol.geom.Geometry");goog.require("ol.obj");goog.require("ol.proj");goog.require("ol.xml");ol.format.GML2=function(e){var t=e?e:{};ol.format.GMLBase.call(this,t);this.FEATURE_COLLECTION_PARSERS[ol.format.GMLBase.GMLNS]["featureMember"]=ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.readFeaturesInternal);this.schemaLocation=t.schemaLocation?t.schemaLocation:ol.format.GML2.schemaLocation_};ol.inherits(ol.format.GML2,ol.format.GMLBase);ol.format.GML2.schemaLocation_=ol.format.GMLBase.GMLNS+" http://schemas.opengis.net/gml/2.1.2/feature.xsd";ol.format.GML2.prototype.readFlatCoordinates_=function(e,t){var o=ol.xml.getAllTextContent(e,false).replace(/^\s*|\s*$/g,"");var r=t[0];var i=r["srsName"];var n="enu";if(i){var l=ol.proj.get(i);if(l){n=l.getAxisOrientation()}}var a=o.trim().split(/\s+/);var s,p,g;var u=[];for(var c=0,y=a.length;c<y;c++){var d=a[c].split(/,+/);s=parseFloat(d[0]);p=parseFloat(d[1]);g=d.length===3?parseFloat(d[2]):0;if(n.substr(0,2)==="en"){u.push(s,p,g)}else{u.push(p,s,g)}}return u};ol.format.GML2.prototype.readBox_=function(e,t){var o=ol.xml.pushParseAndPop([null],this.BOX_PARSERS_,e,t,this);return ol.extent.createOrUpdate(o[1][0],o[1][1],o[1][3],o[1][4])};ol.format.GML2.prototype.innerBoundaryIsParser_=function(e,t){var o=ol.xml.pushParseAndPop(undefined,this.RING_PARSERS,e,t,this);if(o){var r=t[t.length-1];r.push(o)}};ol.format.GML2.prototype.outerBoundaryIsParser_=function(e,t){var o=ol.xml.pushParseAndPop(undefined,this.RING_PARSERS,e,t,this);if(o){var r=t[t.length-1];r[0]=o}};ol.format.GML2.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS_={"http://www.opengis.net/gml":{coordinates:ol.xml.makeReplacer(ol.format.GML2.prototype.readFlatCoordinates_)}};ol.format.GML2.prototype.FLAT_LINEAR_RINGS_PARSERS_={"http://www.opengis.net/gml":{innerBoundaryIs:ol.format.GML2.prototype.innerBoundaryIsParser_,outerBoundaryIs:ol.format.GML2.prototype.outerBoundaryIsParser_}};ol.format.GML2.prototype.BOX_PARSERS_={"http://www.opengis.net/gml":{coordinates:ol.xml.makeArrayPusher(ol.format.GML2.prototype.readFlatCoordinates_)}};ol.format.GML2.prototype.GEOMETRY_PARSERS_={"http://www.opengis.net/gml":{Point:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readPoint),MultiPoint:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readMultiPoint),LineString:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readLineString),MultiLineString:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readMultiLineString),LinearRing:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readLinearRing),Polygon:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readPolygon),MultiPolygon:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readMultiPolygon),Box:ol.xml.makeReplacer(ol.format.GML2.prototype.readBox_)}};ol.format.GML2.prototype.GEOMETRY_NODE_FACTORY_=function(e,t,o){var r=t[t.length-1];var i=r["multiSurface"];var n=r["surface"];var l=r["multiCurve"];var a;if(!Array.isArray(e)){a=e.getType();if(a==="MultiPolygon"&&i===true){a="MultiSurface"}else if(a==="Polygon"&&n===true){a="Surface"}else if(a==="MultiLineString"&&l===true){a="MultiCurve"}}else{a="Envelope"}return ol.xml.createElementNS("http://www.opengis.net/gml",a)};ol.format.GML2.prototype.writeFeatureElement=function(e,t,o){var r=t.getId();if(r){e.setAttribute("fid",r)}var i=o[o.length-1];var n=i["featureNS"];var l=t.getGeometryName();if(!i.serializers){i.serializers={};i.serializers[n]={}}var a=t.getProperties();var s=[],p=[];for(var g in a){var u=a[g];if(u!==null){s.push(g);p.push(u);if(g==l||u instanceof ol.geom.Geometry){if(!(g in i.serializers[n])){i.serializers[n][g]=ol.xml.makeChildAppender(this.writeGeometryElement,this)}}else{if(!(g in i.serializers[n])){i.serializers[n][g]=ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode)}}}}var c=ol.obj.assign({},i);c.node=e;ol.xml.pushSerializeAndPop(c,i.serializers,ol.xml.makeSimpleNodeFactory(undefined,n),p,o,s)};ol.format.GML2.prototype.writeGeometryElement=function(e,t,o){var r=o[o.length-1];var i=ol.obj.assign({},r);i.node=e;var n;if(Array.isArray(t)){if(r.dataProjection){n=ol.proj.transformExtent(t,r.featureProjection,r.dataProjection)}else{n=t}}else{n=ol.format.Feature.transformWithOptions(t,true,r)}ol.xml.pushSerializeAndPop(i,ol.format.GML2.GEOMETRY_SERIALIZERS_,this.GEOMETRY_NODE_FACTORY_,[n],o,undefined,this)};ol.format.GML2.prototype.writeCurveOrLineString_=function(e,t,o){var r=o[o.length-1];var i=r["srsName"];if(e.nodeName!=="LineStringSegment"&&i){e.setAttribute("srsName",i)}if(e.nodeName==="LineString"||e.nodeName==="LineStringSegment"){var n=this.createCoordinatesNode_(e.namespaceURI);e.appendChild(n);this.writeCoordinates_(n,t,o)}else if(e.nodeName==="Curve"){var l=ol.xml.createElementNS(e.namespaceURI,"segments");e.appendChild(l);this.writeCurveSegments_(l,t,o)}};ol.format.GML2.prototype.createCoordinatesNode_=function(e){var t=ol.xml.createElementNS(e,"coordinates");t.setAttribute("decimal",".");t.setAttribute("cs",",");t.setAttribute("ts"," ");return t};ol.format.GML2.prototype.writeCoordinates_=function(e,t,o){var r=o[o.length-1];var i=r["hasZ"];var n=r["srsName"];var l=t.getCoordinates();var a=l.length;var s=new Array(a);var p;for(var g=0;g<a;++g){p=l[g];s[g]=this.getCoords_(p,n,i)}ol.format.XSD.writeStringTextNode(e,s.join(" "))};ol.format.GML2.prototype.writeCurveSegments_=function(e,t,o){var r=ol.xml.createElementNS(e.namespaceURI,"LineStringSegment");e.appendChild(r);this.writeCurveOrLineString_(r,t,o)};ol.format.GML2.prototype.writeSurfaceOrPolygon_=function(e,t,o){var r=o[o.length-1];var i=r["hasZ"];var n=r["srsName"];if(e.nodeName!=="PolygonPatch"&&n){e.setAttribute("srsName",n)}if(e.nodeName==="Polygon"||e.nodeName==="PolygonPatch"){var l=t.getLinearRings();ol.xml.pushSerializeAndPop({node:e,hasZ:i,srsName:n},ol.format.GML2.RING_SERIALIZERS_,this.RING_NODE_FACTORY_,l,o,undefined,this)}else if(e.nodeName==="Surface"){var a=ol.xml.createElementNS(e.namespaceURI,"patches");e.appendChild(a);this.writeSurfacePatches_(a,t,o)}};ol.format.GML2.prototype.RING_NODE_FACTORY_=function(e,t,o){var r=t[t.length-1];var i=r.node;var n=r["exteriorWritten"];if(n===undefined){r["exteriorWritten"]=true}return ol.xml.createElementNS(i.namespaceURI,n!==undefined?"innerBoundaryIs":"outerBoundaryIs")};ol.format.GML2.prototype.writeSurfacePatches_=function(e,t,o){var r=ol.xml.createElementNS(e.namespaceURI,"PolygonPatch");e.appendChild(r);this.writeSurfaceOrPolygon_(r,t,o)};ol.format.GML2.prototype.writeRing_=function(e,t,o){var r=ol.xml.createElementNS(e.namespaceURI,"LinearRing");e.appendChild(r);this.writeLinearRing_(r,t,o)};ol.format.GML2.prototype.getCoords_=function(e,t,o){var r="enu";if(t){r=ol.proj.get(t).getAxisOrientation()}var i=r.substr(0,2)==="en"?e[0]+","+e[1]:e[1]+","+e[0];if(o){var n=e[2]||0;i+=","+n}return i};ol.format.GML2.prototype.writeMultiCurveOrLineString_=function(e,t,o){var r=o[o.length-1];var i=r["hasZ"];var n=r["srsName"];var l=r["curve"];if(n){e.setAttribute("srsName",n)}var a=t.getLineStrings();ol.xml.pushSerializeAndPop({node:e,hasZ:i,srsName:n,curve:l},ol.format.GML2.LINESTRINGORCURVEMEMBER_SERIALIZERS_,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,a,o,undefined,this)};ol.format.GML2.prototype.writePoint_=function(e,t,o){var r=o[o.length-1];var i=r["hasZ"];var n=r["srsName"];if(n){e.setAttribute("srsName",n)}var l=this.createCoordinatesNode_(e.namespaceURI);e.appendChild(l);var a=t.getCoordinates();var s=this.getCoords_(a,n,i);ol.format.XSD.writeStringTextNode(l,s)};ol.format.GML2.prototype.writeMultiPoint_=function(e,t,o){var r=o[o.length-1];var i=r["hasZ"];var n=r["srsName"];if(n){e.setAttribute("srsName",n)}var l=t.getPoints();ol.xml.pushSerializeAndPop({node:e,hasZ:i,srsName:n},ol.format.GML2.POINTMEMBER_SERIALIZERS_,ol.xml.makeSimpleNodeFactory("pointMember"),l,o,undefined,this)};ol.format.GML2.prototype.writePointMember_=function(e,t,o){var r=ol.xml.createElementNS(e.namespaceURI,"Point");e.appendChild(r);this.writePoint_(r,t,o)};ol.format.GML2.prototype.writeLineStringOrCurveMember_=function(e,t,o){var r=this.GEOMETRY_NODE_FACTORY_(t,o);if(r){e.appendChild(r);this.writeCurveOrLineString_(r,t,o)}};ol.format.GML2.prototype.writeLinearRing_=function(e,t,o){var r=o[o.length-1];var i=r["srsName"];if(i){e.setAttribute("srsName",i)}var n=this.createCoordinatesNode_(e.namespaceURI);e.appendChild(n);this.writeCoordinates_(n,t,o)};ol.format.GML2.prototype.writeMultiSurfaceOrPolygon_=function(e,t,o){var r=o[o.length-1];var i=r["hasZ"];var n=r["srsName"];var l=r["surface"];if(n){e.setAttribute("srsName",n)}var a=t.getPolygons();ol.xml.pushSerializeAndPop({node:e,hasZ:i,srsName:n,surface:l},ol.format.GML2.SURFACEORPOLYGONMEMBER_SERIALIZERS_,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,a,o,undefined,this)};ol.format.GML2.prototype.writeSurfaceOrPolygonMember_=function(e,t,o){var r=this.GEOMETRY_NODE_FACTORY_(t,o);if(r){e.appendChild(r);this.writeSurfaceOrPolygon_(r,t,o)}};ol.format.GML2.prototype.writeEnvelope=function(e,t,o){var r=o[o.length-1];var i=r["srsName"];if(i){e.setAttribute("srsName",i)}var n=["lowerCorner","upperCorner"];var l=[t[0]+" "+t[1],t[2]+" "+t[3]];ol.xml.pushSerializeAndPop({node:e},ol.format.GML2.ENVELOPE_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,l,o,n,this)};ol.format.GML2.GEOMETRY_SERIALIZERS_={"http://www.opengis.net/gml":{Curve:ol.xml.makeChildAppender(ol.format.GML2.prototype.writeCurveOrLineString_),MultiCurve:ol.xml.makeChildAppender(ol.format.GML2.prototype.writeMultiCurveOrLineString_),Point:ol.xml.makeChildAppender(ol.format.GML2.prototype.writePoint_),MultiPoint:ol.xml.makeChildAppender(ol.format.GML2.prototype.writeMultiPoint_),LineString:ol.xml.makeChildAppender(ol.format.GML2.prototype.writeCurveOrLineString_),MultiLineString:ol.xml.makeChildAppender(ol.format.GML2.prototype.writeMultiCurveOrLineString_),LinearRing:ol.xml.makeChildAppender(ol.format.GML2.prototype.writeLinearRing_),Polygon:ol.xml.makeChildAppender(ol.format.GML2.prototype.writeSurfaceOrPolygon_),MultiPolygon:ol.xml.makeChildAppender(ol.format.GML2.prototype.writeMultiSurfaceOrPolygon_),Surface:ol.xml.makeChildAppender(ol.format.GML2.prototype.writeSurfaceOrPolygon_),MultiSurface:ol.xml.makeChildAppender(ol.format.GML2.prototype.writeMultiSurfaceOrPolygon_),Envelope:ol.xml.makeChildAppender(ol.format.GML2.prototype.writeEnvelope)}};ol.format.GML2.RING_SERIALIZERS_={"http://www.opengis.net/gml":{outerBoundaryIs:ol.xml.makeChildAppender(ol.format.GML2.prototype.writeRing_),innerBoundaryIs:ol.xml.makeChildAppender(ol.format.GML2.prototype.writeRing_)}};ol.format.GML2.POINTMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{pointMember:ol.xml.makeChildAppender(ol.format.GML2.prototype.writePointMember_)}};ol.format.GML2.LINESTRINGORCURVEMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{lineStringMember:ol.xml.makeChildAppender(ol.format.GML2.prototype.writeLineStringOrCurveMember_),curveMember:ol.xml.makeChildAppender(ol.format.GML2.prototype.writeLineStringOrCurveMember_)}};ol.format.GML2.prototype.MULTIGEOMETRY_MEMBER_NODE_FACTORY_=function(e,t,o){var r=t[t.length-1].node;return ol.xml.createElementNS("http://www.opengis.net/gml",ol.format.GML2.MULTIGEOMETRY_TO_MEMBER_NODENAME_[r.nodeName])};ol.format.GML2.MULTIGEOMETRY_TO_MEMBER_NODENAME_={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"};ol.format.GML2.SURFACEORPOLYGONMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{surfaceMember:ol.xml.makeChildAppender(ol.format.GML2.prototype.writeSurfaceOrPolygonMember_),polygonMember:ol.xml.makeChildAppender(ol.format.GML2.prototype.writeSurfaceOrPolygonMember_)}};ol.format.GML2.ENVELOPE_SERIALIZERS_={"http://www.opengis.net/gml":{lowerCorner:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),upperCorner:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode)}};goog.provide("ol.format.GPX");goog.require("ol");goog.require("ol.Feature");goog.require("ol.array");goog.require("ol.format.Feature");goog.require("ol.format.XMLFeature");goog.require("ol.format.XSD");goog.require("ol.geom.GeometryLayout");goog.require("ol.geom.LineString");goog.require("ol.geom.MultiLineString");goog.require("ol.geom.Point");goog.require("ol.proj");goog.require("ol.xml");ol.format.GPX=function(e){var t=e?e:{};ol.format.XMLFeature.call(this);this.defaultDataProjection=ol.proj.get("EPSG:4326");this.readExtensions_=t.readExtensions};ol.inherits(ol.format.GPX,ol.format.XMLFeature);ol.format.GPX.NAMESPACE_URIS_=[null,"http://www.topografix.com/GPX/1/0","http://www.topografix.com/GPX/1/1"];ol.format.GPX.SCHEMA_LOCATION_="http://www.topografix.com/GPX/1/1 "+"http://www.topografix.com/GPX/1/1/gpx.xsd";ol.format.GPX.appendCoordinate_=function(e,t,o,r){e.push(parseFloat(o.getAttribute("lon")),parseFloat(o.getAttribute("lat")));if("ele"in r){e.push(r["ele"]);delete r["ele"];t.hasZ=true}else{e.push(0)}if("time"in r){e.push(r["time"]);delete r["time"];t.hasM=true}else{e.push(0)}return e};ol.format.GPX.applyLayoutOptions_=function(e,t,o){var r=ol.geom.GeometryLayout.XY;var i=2;if(e.hasZ&&e.hasM){r=ol.geom.GeometryLayout.XYZM;i=4}else if(e.hasZ){r=ol.geom.GeometryLayout.XYZ;i=3}else if(e.hasM){r=ol.geom.GeometryLayout.XYM;i=3}if(i!==4){var n,l;for(n=0,l=t.length/4;n<l;n++){t[n*i]=t[n*4];t[n*i+1]=t[n*4+1];if(e.hasZ){t[n*i+2]=t[n*4+2]}if(e.hasM){t[n*i+2]=t[n*4+3]}}t.length=t.length/4*i;if(o){for(n=0,l=o.length;n<l;n++){o[n]=o[n]/4*i}}}return r};ol.format.GPX.parseLink_=function(e,t){var o=t[t.length-1];var r=e.getAttribute("href");if(r!==null){o["link"]=r}ol.xml.parseNode(ol.format.GPX.LINK_PARSERS_,e,t)};ol.format.GPX.parseExtensions_=function(e,t){var o=t[t.length-1];o["extensionsNode_"]=e};ol.format.GPX.parseRtePt_=function(e,t){var o=ol.xml.pushParseAndPop({},ol.format.GPX.RTEPT_PARSERS_,e,t);if(o){var r=t[t.length-1];var i=r["flatCoordinates"];var n=r["layoutOptions"];ol.format.GPX.appendCoordinate_(i,n,e,o)}};ol.format.GPX.parseTrkPt_=function(e,t){var o=ol.xml.pushParseAndPop({},ol.format.GPX.TRKPT_PARSERS_,e,t);if(o){var r=t[t.length-1];var i=r["flatCoordinates"];var n=r["layoutOptions"];ol.format.GPX.appendCoordinate_(i,n,e,o)}};ol.format.GPX.parseTrkSeg_=function(e,t){var o=t[t.length-1];ol.xml.parseNode(ol.format.GPX.TRKSEG_PARSERS_,e,t);var r=o["flatCoordinates"];var i=o["ends"];i.push(r.length)};ol.format.GPX.readRte_=function(e,t){var o=t[0];var r=ol.xml.pushParseAndPop({flatCoordinates:[],layoutOptions:{}},ol.format.GPX.RTE_PARSERS_,e,t);if(!r){return undefined}var i=r["flatCoordinates"];delete r["flatCoordinates"];var n=r["layoutOptions"];delete r["layoutOptions"];var l=ol.format.GPX.applyLayoutOptions_(n,i);var a=new ol.geom.LineString(null);a.setFlatCoordinates(l,i);ol.format.Feature.transformWithOptions(a,false,o);var s=new ol.Feature(a);s.setProperties(r);return s};ol.format.GPX.readTrk_=function(e,t){var o=t[0];var r=ol.xml.pushParseAndPop({flatCoordinates:[],ends:[],layoutOptions:{}},ol.format.GPX.TRK_PARSERS_,e,t);if(!r){return undefined}var i=r["flatCoordinates"];delete r["flatCoordinates"];var n=r["ends"];delete r["ends"];var l=r["layoutOptions"];delete r["layoutOptions"];var a=ol.format.GPX.applyLayoutOptions_(l,i,n);var s=new ol.geom.MultiLineString(null);s.setFlatCoordinates(a,i,n);ol.format.Feature.transformWithOptions(s,false,o);var p=new ol.Feature(s);p.setProperties(r);return p};ol.format.GPX.readWpt_=function(e,t){var o=t[0];var r=ol.xml.pushParseAndPop({},ol.format.GPX.WPT_PARSERS_,e,t);if(!r){return undefined}var i={};var n=ol.format.GPX.appendCoordinate_([],i,e,r);var l=ol.format.GPX.applyLayoutOptions_(i,n);var a=new ol.geom.Point(n,l);ol.format.Feature.transformWithOptions(a,false,o);var s=new ol.Feature(a);s.setProperties(r);return s};ol.format.GPX.FEATURE_READER_={rte:ol.format.GPX.readRte_,trk:ol.format.GPX.readTrk_,wpt:ol.format.GPX.readWpt_};ol.format.GPX.GPX_PARSERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{rte:ol.xml.makeArrayPusher(ol.format.GPX.readRte_),trk:ol.xml.makeArrayPusher(ol.format.GPX.readTrk_),wpt:ol.xml.makeArrayPusher(ol.format.GPX.readWpt_)});ol.format.GPX.LINK_PARSERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{text:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString,"linkText"),type:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString,"linkType")});ol.format.GPX.RTE_PARSERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{name:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),cmt:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),desc:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),src:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),link:ol.format.GPX.parseLink_,number:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),extensions:ol.format.GPX.parseExtensions_,type:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),rtept:ol.format.GPX.parseRtePt_});ol.format.GPX.RTEPT_PARSERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{ele:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),time:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDateTime)});ol.format.GPX.TRK_PARSERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{name:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),cmt:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),desc:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),src:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),link:ol.format.GPX.parseLink_,number:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),type:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),extensions:ol.format.GPX.parseExtensions_,trkseg:ol.format.GPX.parseTrkSeg_});ol.format.GPX.TRKSEG_PARSERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{trkpt:ol.format.GPX.parseTrkPt_});ol.format.GPX.TRKPT_PARSERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{ele:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),time:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDateTime)});ol.format.GPX.WPT_PARSERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{ele:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),time:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDateTime),magvar:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),geoidheight:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),name:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),cmt:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),desc:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),src:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),link:ol.format.GPX.parseLink_,sym:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),type:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),fix:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),sat:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),hdop:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),vdop:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),pdop:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),ageofdgpsdata:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),dgpsid:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),extensions:ol.format.GPX.parseExtensions_});ol.format.GPX.prototype.handleReadExtensions_=function(e){if(!e){e=[]}for(var t=0,o=e.length;t<o;++t){var r=e[t];if(this.readExtensions_){var i=r.get("extensionsNode_")||null;this.readExtensions_(r,i)}r.set("extensionsNode_",undefined)}};ol.format.GPX.prototype.readFeature;ol.format.GPX.prototype.readFeatureFromNode=function(e,t){if(!ol.array.includes(ol.format.GPX.NAMESPACE_URIS_,e.namespaceURI)){return null}var o=ol.format.GPX.FEATURE_READER_[e.localName];if(!o){return null}var r=o(e,[this.getReadOptions(e,t)]);if(!r){return null}this.handleReadExtensions_([r]);return r};ol.format.GPX.prototype.readFeatures;ol.format.GPX.prototype.readFeaturesFromNode=function(e,t){if(!ol.array.includes(ol.format.GPX.NAMESPACE_URIS_,e.namespaceURI)){return[]}if(e.localName=="gpx"){var o=ol.xml.pushParseAndPop([],ol.format.GPX.GPX_PARSERS_,e,[this.getReadOptions(e,t)]);if(o){this.handleReadExtensions_(o);return o}else{return[]}}return[]};ol.format.GPX.prototype.readProjection;ol.format.GPX.writeLink_=function(e,t,o){e.setAttribute("href",t);var r=o[o.length-1];var i=r["properties"];var n=[i["linkText"],i["linkType"]];ol.xml.pushSerializeAndPop({node:e},ol.format.GPX.LINK_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,n,o,ol.format.GPX.LINK_SEQUENCE_)};ol.format.GPX.writeWptType_=function(e,t,o){var r=o[o.length-1];var i=r.node;var n=i.namespaceURI;var l=r["properties"];ol.xml.setAttributeNS(e,null,"lat",t[1]);ol.xml.setAttributeNS(e,null,"lon",t[0]);var a=r["geometryLayout"];switch(a){case ol.geom.GeometryLayout.XYZM:if(t[3]!==0){l["time"]=t[3]}case ol.geom.GeometryLayout.XYZ:if(t[2]!==0){l["ele"]=t[2]}break;case ol.geom.GeometryLayout.XYM:if(t[2]!==0){l["time"]=t[2]}break;default:}var s=e.nodeName=="rtept"?ol.format.GPX.RTEPT_TYPE_SEQUENCE_[n]:ol.format.GPX.WPT_TYPE_SEQUENCE_[n];var p=ol.xml.makeSequence(l,s);ol.xml.pushSerializeAndPop({node:e,properties:l},ol.format.GPX.WPT_TYPE_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,p,o,s)};ol.format.GPX.writeRte_=function(e,t,o){var r=o[0];var i=t.getProperties();var n={node:e,properties:i};var l=t.getGeometry();if(l){l=ol.format.Feature.transformWithOptions(l,true,r);n["geometryLayout"]=l.getLayout();i["rtept"]=l.getCoordinates()}var a=o[o.length-1].node;var s=ol.format.GPX.RTE_SEQUENCE_[a.namespaceURI];var p=ol.xml.makeSequence(i,s);ol.xml.pushSerializeAndPop(n,ol.format.GPX.RTE_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,p,o,s)};ol.format.GPX.writeTrk_=function(e,t,o){var r=o[0];var i=t.getProperties();var n={node:e,properties:i};var l=t.getGeometry();if(l){l=ol.format.Feature.transformWithOptions(l,true,r);i["trkseg"]=l.getLineStrings()}var a=o[o.length-1].node;var s=ol.format.GPX.TRK_SEQUENCE_[a.namespaceURI];var p=ol.xml.makeSequence(i,s);ol.xml.pushSerializeAndPop(n,ol.format.GPX.TRK_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,p,o,s)};ol.format.GPX.writeTrkSeg_=function(e,t,o){var r={node:e,geometryLayout:t.getLayout(),properties:{}};ol.xml.pushSerializeAndPop(r,ol.format.GPX.TRKSEG_SERIALIZERS_,ol.format.GPX.TRKSEG_NODE_FACTORY_,t.getCoordinates(),o)};ol.format.GPX.writeWpt_=function(e,t,o){var r=o[0];var i=o[o.length-1];i["properties"]=t.getProperties();var n=t.getGeometry();if(n){n=ol.format.Feature.transformWithOptions(n,true,r);i["geometryLayout"]=n.getLayout();ol.format.GPX.writeWptType_(e,n.getCoordinates(),o)}};ol.format.GPX.LINK_SEQUENCE_=["text","type"];ol.format.GPX.LINK_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{text:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),type:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode)});ol.format.GPX.RTE_SEQUENCE_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,["name","cmt","desc","src","link","number","type","rtept"]);ol.format.GPX.RTE_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{name:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),cmt:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),desc:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),src:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),link:ol.xml.makeChildAppender(ol.format.GPX.writeLink_),number:ol.xml.makeChildAppender(ol.format.XSD.writeNonNegativeIntegerTextNode),type:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),rtept:ol.xml.makeArraySerializer(ol.xml.makeChildAppender(ol.format.GPX.writeWptType_))});ol.format.GPX.RTEPT_TYPE_SEQUENCE_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,["ele","time"]);ol.format.GPX.TRK_SEQUENCE_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,["name","cmt","desc","src","link","number","type","trkseg"]);ol.format.GPX.TRK_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{name:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),cmt:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),desc:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),src:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),link:ol.xml.makeChildAppender(ol.format.GPX.writeLink_),number:ol.xml.makeChildAppender(ol.format.XSD.writeNonNegativeIntegerTextNode),type:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),trkseg:ol.xml.makeArraySerializer(ol.xml.makeChildAppender(ol.format.GPX.writeTrkSeg_))});ol.format.GPX.TRKSEG_NODE_FACTORY_=ol.xml.makeSimpleNodeFactory("trkpt");ol.format.GPX.TRKSEG_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{trkpt:ol.xml.makeChildAppender(ol.format.GPX.writeWptType_)});ol.format.GPX.WPT_TYPE_SEQUENCE_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,["ele","time","magvar","geoidheight","name","cmt","desc","src","link","sym","type","fix","sat","hdop","vdop","pdop","ageofdgpsdata","dgpsid"]);ol.format.GPX.WPT_TYPE_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{ele:ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode),time:ol.xml.makeChildAppender(ol.format.XSD.writeDateTimeTextNode),magvar:ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode),geoidheight:ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode),name:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),cmt:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),desc:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),src:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),link:ol.xml.makeChildAppender(ol.format.GPX.writeLink_),sym:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),type:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),fix:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),sat:ol.xml.makeChildAppender(ol.format.XSD.writeNonNegativeIntegerTextNode),hdop:ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode),vdop:ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode),pdop:ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode),ageofdgpsdata:ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode),dgpsid:ol.xml.makeChildAppender(ol.format.XSD.writeNonNegativeIntegerTextNode)});ol.format.GPX.GEOMETRY_TYPE_TO_NODENAME_={Point:"wpt",LineString:"rte",MultiLineString:"trk"};ol.format.GPX.GPX_NODE_FACTORY_=function(e,t,o){var r=e.getGeometry();if(r){var i=ol.format.GPX.GEOMETRY_TYPE_TO_NODENAME_[r.getType()];if(i){var n=t[t.length-1].node;return ol.xml.createElementNS(n.namespaceURI,i)}}};ol.format.GPX.GPX_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{rte:ol.xml.makeChildAppender(ol.format.GPX.writeRte_),trk:ol.xml.makeChildAppender(ol.format.GPX.writeTrk_),wpt:ol.xml.makeChildAppender(ol.format.GPX.writeWpt_)});ol.format.GPX.prototype.writeFeatures;ol.format.GPX.prototype.writeFeaturesNode=function(e,t){t=this.adaptOptions(t);var o=ol.xml.createElementNS("http://www.topografix.com/GPX/1/1","gpx");var r="http://www.w3.org/2000/xmlns/";var i="http://www.w3.org/2001/XMLSchema-instance";ol.xml.setAttributeNS(o,r,"xmlns:xsi",i);ol.xml.setAttributeNS(o,i,"xsi:schemaLocation",ol.format.GPX.SCHEMA_LOCATION_);o.setAttribute("version","1.1");o.setAttribute("creator","OpenLayers");ol.xml.pushSerializeAndPop({node:o},ol.format.GPX.GPX_SERIALIZERS_,ol.format.GPX.GPX_NODE_FACTORY_,e,[t]);return o};goog.provide("ol.format.IGCZ");ol.format.IGCZ={BAROMETRIC:"barometric",GPS:"gps",NONE:"none"};goog.provide("ol.format.TextFeature");goog.require("ol");goog.require("ol.format.Feature");goog.require("ol.format.FormatType");ol.format.TextFeature=function(){ol.format.Feature.call(this)};ol.inherits(ol.format.TextFeature,ol.format.Feature);ol.format.TextFeature.prototype.getText_=function(e){if(typeof e==="string"){return e}else{return""}};ol.format.TextFeature.prototype.getType=function(){return ol.format.FormatType.TEXT};ol.format.TextFeature.prototype.readFeature=function(e,t){return this.readFeatureFromText(this.getText_(e),this.adaptOptions(t))};ol.format.TextFeature.prototype.readFeatureFromText=function(e,t){};ol.format.TextFeature.prototype.readFeatures=function(e,t){return this.readFeaturesFromText(this.getText_(e),this.adaptOptions(t))};ol.format.TextFeature.prototype.readFeaturesFromText=function(e,t){};ol.format.TextFeature.prototype.readGeometry=function(e,t){return this.readGeometryFromText(this.getText_(e),this.adaptOptions(t))};ol.format.TextFeature.prototype.readGeometryFromText=function(e,t){};ol.format.TextFeature.prototype.readProjection=function(e){return this.readProjectionFromText(this.getText_(e))};ol.format.TextFeature.prototype.readProjectionFromText=function(e){return this.defaultDataProjection};ol.format.TextFeature.prototype.writeFeature=function(e,t){return this.writeFeatureText(e,this.adaptOptions(t))};ol.format.TextFeature.prototype.writeFeatureText=function(e,t){};ol.format.TextFeature.prototype.writeFeatures=function(e,t){return this.writeFeaturesText(e,this.adaptOptions(t))};ol.format.TextFeature.prototype.writeFeaturesText=function(e,t){};ol.format.TextFeature.prototype.writeGeometry=function(e,t){return this.writeGeometryText(e,this.adaptOptions(t))};ol.format.TextFeature.prototype.writeGeometryText=function(e,t){};goog.provide("ol.format.IGC");goog.require("ol");goog.require("ol.Feature");goog.require("ol.format.Feature");goog.require("ol.format.IGCZ");goog.require("ol.format.TextFeature");goog.require("ol.geom.GeometryLayout");goog.require("ol.geom.LineString");goog.require("ol.proj");ol.format.IGC=function(e){var t=e?e:{};ol.format.TextFeature.call(this);this.defaultDataProjection=ol.proj.get("EPSG:4326");this.altitudeMode_=t.altitudeMode?t.altitudeMode:ol.format.IGCZ.NONE};ol.inherits(ol.format.IGC,ol.format.TextFeature);ol.format.IGC.B_RECORD_RE_=/^B(\d{2})(\d{2})(\d{2})(\d{2})(\d{5})([NS])(\d{3})(\d{5})([EW])([AV])(\d{5})(\d{5})/;ol.format.IGC.H_RECORD_RE_=/^H.([A-Z]{3}).*?:(.*)/;ol.format.IGC.HFDTE_RECORD_RE_=/^HFDTE(\d{2})(\d{2})(\d{2})/;ol.format.IGC.NEWLINE_RE_=/\r\n|\r|\n/;ol.format.IGC.prototype.readFeature;ol.format.IGC.prototype.readFeatureFromText=function(e,t){var o=this.altitudeMode_;var r=e.split(ol.format.IGC.NEWLINE_RE_);var i={};var n=[];var l=2e3;var a=0;var s=1;var p=-1;var g,u;for(g=0,u=r.length;g<u;++g){var c=r[g];var y;if(c.charAt(0)=="B"){y=ol.format.IGC.B_RECORD_RE_.exec(c);if(y){var d=parseInt(y[1],10);var h=parseInt(y[2],10);var f=parseInt(y[3],10);var m=parseInt(y[4],10)+parseInt(y[5],10)/6e4;if(y[6]=="S"){m=-m}var v=parseInt(y[7],10)+parseInt(y[8],10)/6e4;if(y[9]=="W"){v=-v}n.push(v,m);if(o!=ol.format.IGCZ.NONE){var _;if(o==ol.format.IGCZ.GPS){_=parseInt(y[11],10)}else if(o==ol.format.IGCZ.BAROMETRIC){_=parseInt(y[12],10)}else{_=0}n.push(_)}var S=Date.UTC(l,a,s,d,h,f);if(S<p){S=Date.UTC(l,a,s+1,d,h,f)}n.push(S/1e3);p=S}}else if(c.charAt(0)=="H"){y=ol.format.IGC.HFDTE_RECORD_RE_.exec(c);if(y){s=parseInt(y[1],10);a=parseInt(y[2],10)-1;l=2e3+parseInt(y[3],10)}else{y=ol.format.IGC.H_RECORD_RE_.exec(c);if(y){i[y[1]]=y[2].trim()}}}}if(n.length===0){return null}var x=new ol.geom.LineString(null);var P=o==ol.format.IGCZ.NONE?ol.geom.GeometryLayout.XYM:ol.geom.GeometryLayout.XYZM;x.setFlatCoordinates(P,n);var E=new ol.Feature(ol.format.Feature.transformWithOptions(x,false,t));E.setProperties(i);return E};ol.format.IGC.prototype.readFeatures;ol.format.IGC.prototype.readFeaturesFromText=function(e,t){var o=this.readFeatureFromText(e,t);if(o){return[o]}else{return[]}};ol.format.IGC.prototype.readProjection;ol.format.IGC.prototype.writeFeatureText=function(e,t){};ol.format.IGC.prototype.writeFeaturesText=function(e,t){};ol.format.IGC.prototype.writeGeometryText=function(e,t){};ol.format.IGC.prototype.readGeometryFromText=function(e,t){};goog.provide("ol.style.IconAnchorUnits");ol.style.IconAnchorUnits={FRACTION:"fraction",PIXELS:"pixels"};goog.provide("ol.style.IconImage");goog.require("ol");goog.require("ol.dom");goog.require("ol.events");goog.require("ol.events.EventTarget");goog.require("ol.events.EventType");goog.require("ol.ImageState");goog.require("ol.style");ol.style.IconImage=function(e,t,o,r,i,n){ol.events.EventTarget.call(this);this.hitDetectionImage_=null;this.image_=!e?new Image:e;if(r!==null){this.image_.crossOrigin=r}this.canvas_=n?document.createElement("CANVAS"):null;this.color_=n;this.imageListenerKeys_=null;this.imageState_=i;this.size_=o;this.src_=t;this.tainting_=false;if(this.imageState_==ol.ImageState.LOADED){this.determineTainting_()}};ol.inherits(ol.style.IconImage,ol.events.EventTarget);ol.style.IconImage.get=function(e,t,o,r,i,n){var l=ol.style.iconImageCache;var a=l.get(t,r,n);if(!a){a=new ol.style.IconImage(e,t,o,r,i,n);l.set(t,r,n,a)}return a};ol.style.IconImage.prototype.determineTainting_=function(){var e=ol.dom.createCanvasContext2D(1,1);try{e.drawImage(this.image_,0,0);e.getImageData(0,0,1,1)}catch(e){this.tainting_=true}};ol.style.IconImage.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(ol.events.EventType.CHANGE)};ol.style.IconImage.prototype.handleImageError_=function(){this.imageState_=ol.ImageState.ERROR;this.unlistenImage_();this.dispatchChangeEvent_()};ol.style.IconImage.prototype.handleImageLoad_=function(){this.imageState_=ol.ImageState.LOADED;if(this.size_){this.image_.width=this.size_[0];this.image_.height=this.size_[1]}this.size_=[this.image_.width,this.image_.height];this.unlistenImage_();this.determineTainting_();this.replaceColor_();this.dispatchChangeEvent_()};ol.style.IconImage.prototype.getImage=function(e){return this.canvas_?this.canvas_:this.image_};ol.style.IconImage.prototype.getImageState=function(){return this.imageState_};ol.style.IconImage.prototype.getHitDetectionImage=function(e){if(!this.hitDetectionImage_){if(this.tainting_){var t=this.size_[0];var o=this.size_[1];var r=ol.dom.createCanvasContext2D(t,o);r.fillRect(0,0,t,o);this.hitDetectionImage_=r.canvas}else{this.hitDetectionImage_=this.image_}}return this.hitDetectionImage_};ol.style.IconImage.prototype.getSize=function(){return this.size_};ol.style.IconImage.prototype.getSrc=function(){return this.src_};ol.style.IconImage.prototype.load=function(){if(this.imageState_==ol.ImageState.IDLE){this.imageState_=ol.ImageState.LOADING;this.imageListenerKeys_=[ol.events.listenOnce(this.image_,ol.events.EventType.ERROR,this.handleImageError_,this),ol.events.listenOnce(this.image_,ol.events.EventType.LOAD,this.handleImageLoad_,this)];try{this.image_.src=this.src_}catch(e){this.handleImageError_()}}};ol.style.IconImage.prototype.replaceColor_=function(){if(this.tainting_||this.color_===null){return}this.canvas_.width=this.image_.width;this.canvas_.height=this.image_.height;var e=this.canvas_.getContext("2d");e.drawImage(this.image_,0,0);var t=e.getImageData(0,0,this.image_.width,this.image_.height);var o=t.data;var r=this.color_[0]/255;var i=this.color_[1]/255;var n=this.color_[2]/255;for(var l=0,a=o.length;l<a;l+=4){o[l]*=r;o[l+1]*=i;o[l+2]*=n}e.putImageData(t,0,0)};ol.style.IconImage.prototype.unlistenImage_=function(){this.imageListenerKeys_.forEach(ol.events.unlistenByKey);this.imageListenerKeys_=null};goog.provide("ol.style.IconOrigin");ol.style.IconOrigin={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"};goog.provide("ol.style.Icon");goog.require("ol");goog.require("ol.ImageState");goog.require("ol.asserts");goog.require("ol.color");goog.require("ol.events");goog.require("ol.events.EventType");goog.require("ol.style.IconAnchorUnits");goog.require("ol.style.IconImage");goog.require("ol.style.IconOrigin");goog.require("ol.style.Image");ol.style.Icon=function(e){var t=e||{};this.anchor_=t.anchor!==undefined?t.anchor:[.5,.5];this.normalizedAnchor_=null;this.anchorOrigin_=t.anchorOrigin!==undefined?t.anchorOrigin:ol.style.IconOrigin.TOP_LEFT;this.anchorXUnits_=t.anchorXUnits!==undefined?t.anchorXUnits:ol.style.IconAnchorUnits.FRACTION;this.anchorYUnits_=t.anchorYUnits!==undefined?t.anchorYUnits:ol.style.IconAnchorUnits.FRACTION;this.crossOrigin_=t.crossOrigin!==undefined?t.crossOrigin:null;var o=t.img!==undefined?t.img:null;var r=t.imgSize!==undefined?t.imgSize:null;var i=t.src;ol.asserts.assert(!(i!==undefined&&o),4);ol.asserts.assert(!o||o&&r,5);if((i===undefined||i.length===0)&&o){i=o.src||ol.getUid(o).toString()}ol.asserts.assert(i!==undefined&&i.length>0,6);var n=t.src!==undefined?ol.ImageState.IDLE:ol.ImageState.LOADED;this.color_=t.color!==undefined?ol.color.asArray(t.color):null;this.iconImage_=ol.style.IconImage.get(o,i,r,this.crossOrigin_,n,this.color_);this.offset_=t.offset!==undefined?t.offset:[0,0];this.offsetOrigin_=t.offsetOrigin!==undefined?t.offsetOrigin:ol.style.IconOrigin.TOP_LEFT;this.origin_=null;this.size_=t.size!==undefined?t.size:null;var l=t.opacity!==undefined?t.opacity:1;var a=t.rotateWithView!==undefined?t.rotateWithView:false;var s=t.rotation!==undefined?t.rotation:0;var p=t.scale!==undefined?t.scale:1;var g=t.snapToPixel!==undefined?t.snapToPixel:true;ol.style.Image.call(this,{opacity:l,rotation:s,scale:p,snapToPixel:g,rotateWithView:a})};ol.inherits(ol.style.Icon,ol.style.Image);ol.style.Icon.prototype.clone=function(){return new ol.style.Icon({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,crossOrigin:this.crossOrigin_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||undefined,src:this.getSrc(),offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,size:this.size_!==null?this.size_.slice():undefined,opacity:this.getOpacity(),scale:this.getScale(),snapToPixel:this.getSnapToPixel(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})};ol.style.Icon.prototype.getAnchor=function(){if(this.normalizedAnchor_){return this.normalizedAnchor_}var e=this.anchor_;var t=this.getSize();if(this.anchorXUnits_==ol.style.IconAnchorUnits.FRACTION||this.anchorYUnits_==ol.style.IconAnchorUnits.FRACTION){if(!t){return null}e=this.anchor_.slice();if(this.anchorXUnits_==ol.style.IconAnchorUnits.FRACTION){e[0]*=t[0]}if(this.anchorYUnits_==ol.style.IconAnchorUnits.FRACTION){e[1]*=t[1]}}if(this.anchorOrigin_!=ol.style.IconOrigin.TOP_LEFT){if(!t){return null}if(e===this.anchor_){e=this.anchor_.slice()}if(this.anchorOrigin_==ol.style.IconOrigin.TOP_RIGHT||this.anchorOrigin_==ol.style.IconOrigin.BOTTOM_RIGHT){e[0]=-e[0]+t[0]}if(this.anchorOrigin_==ol.style.IconOrigin.BOTTOM_LEFT||this.anchorOrigin_==ol.style.IconOrigin.BOTTOM_RIGHT){e[1]=-e[1]+t[1]}}this.normalizedAnchor_=e;return this.normalizedAnchor_};ol.style.Icon.prototype.getColor=function(){return this.color_};ol.style.Icon.prototype.getImage=function(e){return this.iconImage_.getImage(e)};ol.style.Icon.prototype.getImageSize=function(){return this.iconImage_.getSize()};ol.style.Icon.prototype.getHitDetectionImageSize=function(){return this.getImageSize()};ol.style.Icon.prototype.getImageState=function(){return this.iconImage_.getImageState()};ol.style.Icon.prototype.getHitDetectionImage=function(e){return this.iconImage_.getHitDetectionImage(e)};ol.style.Icon.prototype.getOrigin=function(){if(this.origin_){return this.origin_}var e=this.offset_;if(this.offsetOrigin_!=ol.style.IconOrigin.TOP_LEFT){var t=this.getSize();var o=this.iconImage_.getSize();if(!t||!o){return null}e=e.slice();if(this.offsetOrigin_==ol.style.IconOrigin.TOP_RIGHT||this.offsetOrigin_==ol.style.IconOrigin.BOTTOM_RIGHT){e[0]=o[0]-t[0]-e[0]}if(this.offsetOrigin_==ol.style.IconOrigin.BOTTOM_LEFT||this.offsetOrigin_==ol.style.IconOrigin.BOTTOM_RIGHT){e[1]=o[1]-t[1]-e[1]}}this.origin_=e;return this.origin_};ol.style.Icon.prototype.getSrc=function(){return this.iconImage_.getSrc()};ol.style.Icon.prototype.getSize=function(){return!this.size_?this.iconImage_.getSize():this.size_};ol.style.Icon.prototype.listenImageChange=function(e,t){return ol.events.listen(this.iconImage_,ol.events.EventType.CHANGE,e,t)};ol.style.Icon.prototype.load=function(){this.iconImage_.load()};ol.style.Icon.prototype.unlistenImageChange=function(e,t){ol.events.unlisten(this.iconImage_,ol.events.EventType.CHANGE,e,t)};goog.provide("ol.style.Text");goog.require("ol.style.Fill");goog.require("ol.style.TextPlacement");ol.style.Text=function(e){var t=e||{};this.font_=t.font;this.rotation_=t.rotation;this.rotateWithView_=t.rotateWithView;this.scale_=t.scale;this.text_=t.text;this.textAlign_=t.textAlign;this.textBaseline_=t.textBaseline;this.fill_=t.fill!==undefined?t.fill:new ol.style.Fill({color:ol.style.Text.DEFAULT_FILL_COLOR_});this.maxAngle_=t.maxAngle!==undefined?t.maxAngle:Math.PI/4;this.placement_=t.placement!==undefined?t.placement:ol.style.TextPlacement.POINT;var o=t.overflow===undefined?t.exceedLength:t.overflow;this.overflow_=o!==undefined?o:false;this.stroke_=t.stroke!==undefined?t.stroke:null;this.offsetX_=t.offsetX!==undefined?t.offsetX:0;this.offsetY_=t.offsetY!==undefined?t.offsetY:0;this.backgroundFill_=t.backgroundFill?t.backgroundFill:null;this.backgroundStroke_=t.backgroundStroke?t.backgroundStroke:null;this.padding_=t.padding===undefined?null:t.padding};ol.style.Text.DEFAULT_FILL_COLOR_="#333";ol.style.Text.prototype.clone=function(){return new ol.style.Text({font:this.getFont(),placement:this.getPlacement(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:this.getScale(),text:this.getText(),textAlign:this.getTextAlign(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():undefined,stroke:this.getStroke()?this.getStroke().clone():undefined,offsetX:this.getOffsetX(),offsetY:this.getOffsetY()})};ol.style.Text.prototype.getOverflow=function(){return this.overflow_};ol.style.Text.prototype.getFont=function(){return this.font_};ol.style.Text.prototype.getMaxAngle=function(){return this.maxAngle_};ol.style.Text.prototype.getPlacement=function(){return this.placement_};ol.style.Text.prototype.getOffsetX=function(){return this.offsetX_};ol.style.Text.prototype.getOffsetY=function(){return this.offsetY_};ol.style.Text.prototype.getFill=function(){return this.fill_};ol.style.Text.prototype.getRotateWithView=function(){return this.rotateWithView_};ol.style.Text.prototype.getRotation=function(){return this.rotation_};ol.style.Text.prototype.getScale=function(){return this.scale_};ol.style.Text.prototype.getStroke=function(){return this.stroke_};ol.style.Text.prototype.getText=function(){return this.text_};ol.style.Text.prototype.getTextAlign=function(){return this.textAlign_};ol.style.Text.prototype.getTextBaseline=function(){return this.textBaseline_};ol.style.Text.prototype.getBackgroundFill=function(){return this.backgroundFill_};ol.style.Text.prototype.getBackgroundStroke=function(){return this.backgroundStroke_};ol.style.Text.prototype.getPadding=function(){return this.padding_};ol.style.Text.prototype.setOverflow=function(e){this.overflow_=e};ol.style.Text.prototype.setFont=function(e){this.font_=e};ol.style.Text.prototype.setMaxAngle=function(e){this.maxAngle_=e};ol.style.Text.prototype.setOffsetX=function(e){this.offsetX_=e};ol.style.Text.prototype.setOffsetY=function(e){this.offsetY_=e};ol.style.Text.prototype.setPlacement=function(e){this.placement_=e};ol.style.Text.prototype.setFill=function(e){this.fill_=e};ol.style.Text.prototype.setRotation=function(e){this.rotation_=e};ol.style.Text.prototype.setScale=function(e){this.scale_=e};ol.style.Text.prototype.setStroke=function(e){this.stroke_=e};ol.style.Text.prototype.setText=function(e){this.text_=e};ol.style.Text.prototype.setTextAlign=function(e){this.textAlign_=e};ol.style.Text.prototype.setTextBaseline=function(e){this.textBaseline_=e};ol.style.Text.prototype.setBackgroundFill=function(e){this.backgroundFill_=e};ol.style.Text.prototype.setBackgroundStroke=function(e){this.backgroundStroke_=e};ol.style.Text.prototype.setPadding=function(e){this.padding_=e};goog.provide("ol.format.KML");goog.require("ol");goog.require("ol.Feature");goog.require("ol.array");goog.require("ol.asserts");goog.require("ol.color");goog.require("ol.format.Feature");goog.require("ol.format.XMLFeature");goog.require("ol.format.XSD");goog.require("ol.geom.GeometryCollection");goog.require("ol.geom.GeometryLayout");goog.require("ol.geom.GeometryType");goog.require("ol.geom.LineString");goog.require("ol.geom.MultiLineString");goog.require("ol.geom.MultiPoint");goog.require("ol.geom.MultiPolygon");goog.require("ol.geom.Point");goog.require("ol.geom.Polygon");goog.require("ol.math");goog.require("ol.proj");goog.require("ol.style.Fill");goog.require("ol.style.Icon");goog.require("ol.style.IconAnchorUnits");goog.require("ol.style.IconOrigin");goog.require("ol.style.Stroke");goog.require("ol.style.Style");goog.require("ol.style.Text");goog.require("ol.xml");ol.format.KML=function(e){var t=e?e:{};ol.format.XMLFeature.call(this);if(!ol.format.KML.DEFAULT_STYLE_ARRAY_){ol.format.KML.createStyleDefaults_()}this.defaultDataProjection=ol.proj.get("EPSG:4326");this.defaultStyle_=t.defaultStyle?t.defaultStyle:ol.format.KML.DEFAULT_STYLE_ARRAY_;this.extractStyles_=t.extractStyles!==undefined?t.extractStyles:true;this.writeStyles_=t.writeStyles!==undefined?t.writeStyles:true;this.sharedStyles_={};this.showPointNames_=t.showPointNames!==undefined?t.showPointNames:true};ol.inherits(ol.format.KML,ol.format.XMLFeature);ol.format.KML.GX_NAMESPACE_URIS_=["http://www.google.com/kml/ext/2.2"];ol.format.KML.NAMESPACE_URIS_=[null,"http://earth.google.com/kml/2.0","http://earth.google.com/kml/2.1","http://earth.google.com/kml/2.2","http://www.opengis.net/kml/2.2"];ol.format.KML.SCHEMA_LOCATION_="http://www.opengis.net/kml/2.2 "+"https://developers.google.com/kml/schema/kml22gx.xsd";ol.format.KML.createStyleDefaults_=function(){ol.format.KML.DEFAULT_COLOR_=[255,255,255,1];ol.format.KML.DEFAULT_FILL_STYLE_=new ol.style.Fill({color:ol.format.KML.DEFAULT_COLOR_});ol.format.KML.DEFAULT_IMAGE_STYLE_ANCHOR_=[20,2];ol.format.KML.DEFAULT_IMAGE_STYLE_ANCHOR_X_UNITS_=ol.style.IconAnchorUnits.PIXELS;ol.format.KML.DEFAULT_IMAGE_STYLE_ANCHOR_Y_UNITS_=ol.style.IconAnchorUnits.PIXELS;ol.format.KML.DEFAULT_IMAGE_STYLE_SIZE_=[64,64];ol.format.KML.DEFAULT_IMAGE_STYLE_SRC_="https://maps.google.com/mapfiles/kml/pushpin/ylw-pushpin.png";ol.format.KML.DEFAULT_IMAGE_SCALE_MULTIPLIER_=.5;ol.format.KML.DEFAULT_IMAGE_STYLE_=new ol.style.Icon({anchor:ol.format.KML.DEFAULT_IMAGE_STYLE_ANCHOR_,anchorOrigin:ol.style.IconOrigin.BOTTOM_LEFT,anchorXUnits:ol.format.KML.DEFAULT_IMAGE_STYLE_ANCHOR_X_UNITS_,anchorYUnits:ol.format.KML.DEFAULT_IMAGE_STYLE_ANCHOR_Y_UNITS_,crossOrigin:"anonymous",rotation:0,scale:ol.format.KML.DEFAULT_IMAGE_SCALE_MULTIPLIER_,size:ol.format.KML.DEFAULT_IMAGE_STYLE_SIZE_,src:ol.format.KML.DEFAULT_IMAGE_STYLE_SRC_});ol.format.KML.DEFAULT_NO_IMAGE_STYLE_="NO_IMAGE";ol.format.KML.DEFAULT_STROKE_STYLE_=new ol.style.Stroke({color:ol.format.KML.DEFAULT_COLOR_,width:1});ol.format.KML.DEFAULT_TEXT_STROKE_STYLE_=new ol.style.Stroke({color:[51,51,51,1],width:2});ol.format.KML.DEFAULT_TEXT_STYLE_=new ol.style.Text({font:"bold 16px Helvetica",fill:ol.format.KML.DEFAULT_FILL_STYLE_,stroke:ol.format.KML.DEFAULT_TEXT_STROKE_STYLE_,scale:.8});ol.format.KML.DEFAULT_STYLE_=new ol.style.Style({fill:ol.format.KML.DEFAULT_FILL_STYLE_,image:ol.format.KML.DEFAULT_IMAGE_STYLE_,text:ol.format.KML.DEFAULT_TEXT_STYLE_,stroke:ol.format.KML.DEFAULT_STROKE_STYLE_,zIndex:0});ol.format.KML.DEFAULT_STYLE_ARRAY_=[ol.format.KML.DEFAULT_STYLE_];return ol.format.KML.DEFAULT_STYLE_ARRAY_};ol.format.KML.ICON_ANCHOR_UNITS_MAP_={fraction:ol.style.IconAnchorUnits.FRACTION,pixels:ol.style.IconAnchorUnits.PIXELS,insetPixels:ol.style.IconAnchorUnits.PIXELS};ol.format.KML.createNameStyleFunction_=function(e,t){var o=null;var r=[0,0];var i="start";if(e.getImage()){var n=e.getImage().getImageSize();if(n===null){n=ol.format.KML.DEFAULT_IMAGE_STYLE_SIZE_}if(n.length==2){var l=e.getImage().getScale();r[0]=l*n[0]/2;r[1]=-l*n[1]/2;i="left"}}if(e.getText()!==null){var a=e.getText();o=a.clone();o.setFont(a.getFont()||ol.format.KML.DEFAULT_TEXT_STYLE_.getFont());o.setScale(a.getScale()||ol.format.KML.DEFAULT_TEXT_STYLE_.getScale());o.setFill(a.getFill()||ol.format.KML.DEFAULT_TEXT_STYLE_.getFill());o.setStroke(a.getStroke()||ol.format.KML.DEFAULT_TEXT_STROKE_STYLE_)}else{o=ol.format.KML.DEFAULT_TEXT_STYLE_.clone()}o.setText(t);o.setOffsetX(r[0]);o.setOffsetY(r[1]);o.setTextAlign(i);var s=new ol.style.Style({text:o});return s};ol.format.KML.createFeatureStyleFunction_=function(e,t,o,r,i){return function(n){var l=i;var a;var s="";if(l){if(this.getGeometry()){l=this.getGeometry().getType()===ol.geom.GeometryType.POINT}}if(l){s=this.get("name");l=l&&s}if(e){if(l){a=ol.format.KML.createNameStyleFunction_(e[0],s);return e.concat(a)}return e}if(t){var p=ol.format.KML.findStyle_(t,o,r);if(l){a=ol.format.KML.createNameStyleFunction_(p[0],s);return p.concat(a)}return p}if(l){a=ol.format.KML.createNameStyleFunction_(o[0],s);return o.concat(a)}return o}};ol.format.KML.findStyle_=function(e,t,o){if(Array.isArray(e)){return e}else if(typeof e==="string"){if(!(e in o)&&"#"+e in o){e="#"+e}return ol.format.KML.findStyle_(o[e],t,o)}else{return t}};ol.format.KML.readColor_=function(e){var t=ol.xml.getAllTextContent(e,false);var o=/^\s*#?\s*([0-9A-Fa-f]{8})\s*$/.exec(t);if(o){var r=o[1];return[parseInt(r.substr(6,2),16),parseInt(r.substr(4,2),16),parseInt(r.substr(2,2),16),parseInt(r.substr(0,2),16)/255]}else{return undefined}};ol.format.KML.readFlatCoordinates_=function(e){var t=ol.xml.getAllTextContent(e,false);var o=[];var r=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*,\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)(?:\s*,\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?))?\s*/i;var i;while(i=r.exec(t)){var n=parseFloat(i[1]);var l=parseFloat(i[2]);var a=i[3]?parseFloat(i[3]):0;o.push(n,l,a);t=t.substr(i[0].length)}if(t!==""){return undefined}return o};ol.format.KML.readURI_=function(e){var t=ol.xml.getAllTextContent(e,false).trim();var o=e.baseURI;if(!o||o=="about:blank"){o=window.location.href}if(o){var r=new URL(t,o);return r.href}else{return t}};ol.format.KML.readVec2_=function(e){var t=e.getAttribute("xunits");var o=e.getAttribute("yunits");var r;if(t!=="insetPixels"){if(o!=="insetPixels"){r=ol.style.IconOrigin.BOTTOM_LEFT}else{r=ol.style.IconOrigin.TOP_LEFT}}else{if(o!=="insetPixels"){r=ol.style.IconOrigin.BOTTOM_RIGHT}else{r=ol.style.IconOrigin.TOP_RIGHT}}return{x:parseFloat(e.getAttribute("x")),xunits:ol.format.KML.ICON_ANCHOR_UNITS_MAP_[t],y:parseFloat(e.getAttribute("y")),yunits:ol.format.KML.ICON_ANCHOR_UNITS_MAP_[o],origin:r}};ol.format.KML.readScale_=function(e){return ol.format.XSD.readDecimal(e)};ol.format.KML.readStyleMapValue_=function(e,t){return ol.xml.pushParseAndPop(undefined,ol.format.KML.STYLE_MAP_PARSERS_,e,t)};ol.format.KML.IconStyleParser_=function(e,t){var o=ol.xml.pushParseAndPop({},ol.format.KML.ICON_STYLE_PARSERS_,e,t);if(!o){return}var r=t[t.length-1];var i="Icon"in o?o["Icon"]:{};var n=!("Icon"in o)||Object.keys(i).length>0;var l;var a=i["href"];if(a){l=a}else if(n){l=ol.format.KML.DEFAULT_IMAGE_STYLE_SRC_}var s,p,g;var u=ol.style.IconOrigin.BOTTOM_LEFT;var c=o["hotSpot"];if(c){s=[c.x,c.y];p=c.xunits;g=c.yunits;u=c.origin}else if(l===ol.format.KML.DEFAULT_IMAGE_STYLE_SRC_){s=ol.format.KML.DEFAULT_IMAGE_STYLE_ANCHOR_;p=ol.format.KML.DEFAULT_IMAGE_STYLE_ANCHOR_X_UNITS_;g=ol.format.KML.DEFAULT_IMAGE_STYLE_ANCHOR_Y_UNITS_}else if(/^http:\/\/maps\.(?:google|gstatic)\.com\//.test(l)){s=[.5,0];p=ol.style.IconAnchorUnits.FRACTION;g=ol.style.IconAnchorUnits.FRACTION}var y;var d=i["x"];var h=i["y"];if(d!==undefined&&h!==undefined){y=[d,h]}var f;var m=i["w"];var v=i["h"];if(m!==undefined&&v!==undefined){f=[m,v]}var _;var S=o["heading"];if(S!==undefined){_=ol.math.toRadians(S)}var x=o["scale"];if(n){if(l==ol.format.KML.DEFAULT_IMAGE_STYLE_SRC_){f=ol.format.KML.DEFAULT_IMAGE_STYLE_SIZE_;if(x===undefined){x=ol.format.KML.DEFAULT_IMAGE_SCALE_MULTIPLIER_}}var P=new ol.style.Icon({anchor:s,anchorOrigin:u,anchorXUnits:p,anchorYUnits:g,crossOrigin:"anonymous",offset:y,offsetOrigin:ol.style.IconOrigin.BOTTOM_LEFT,rotation:_,scale:x,size:f,src:l});r["imageStyle"]=P}else{r["imageStyle"]=ol.format.KML.DEFAULT_NO_IMAGE_STYLE_}};ol.format.KML.LabelStyleParser_=function(e,t){var o=ol.xml.pushParseAndPop({},ol.format.KML.LABEL_STYLE_PARSERS_,e,t);if(!o){return}var r=t[t.length-1];var i=new ol.style.Text({fill:new ol.style.Fill({color:"color"in o?o["color"]:ol.format.KML.DEFAULT_COLOR_}),scale:o["scale"]});r["textStyle"]=i};ol.format.KML.LineStyleParser_=function(e,t){var o=ol.xml.pushParseAndPop({},ol.format.KML.LINE_STYLE_PARSERS_,e,t);if(!o){return}var r=t[t.length-1];var i=new ol.style.Stroke({color:"color"in o?o["color"]:ol.format.KML.DEFAULT_COLOR_,width:"width"in o?o["width"]:1});r["strokeStyle"]=i};ol.format.KML.PolyStyleParser_=function(e,t){var o=ol.xml.pushParseAndPop({},ol.format.KML.POLY_STYLE_PARSERS_,e,t);if(!o){return}var r=t[t.length-1];var i=new ol.style.Fill({color:"color"in o?o["color"]:ol.format.KML.DEFAULT_COLOR_});r["fillStyle"]=i;var n=o["fill"];if(n!==undefined){r["fill"]=n}var l=o["outline"];if(l!==undefined){r["outline"]=l}};ol.format.KML.readFlatLinearRing_=function(e,t){return ol.xml.pushParseAndPop(null,ol.format.KML.FLAT_LINEAR_RING_PARSERS_,e,t)};ol.format.KML.gxCoordParser_=function(e,t){var o=t[t.length-1];var r=o.flatCoordinates;var i=ol.xml.getAllTextContent(e,false);var n=/^\s*([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s*$/i;var l=n.exec(i);if(l){var a=parseFloat(l[1]);var s=parseFloat(l[2]);var p=parseFloat(l[3]);r.push(a,s,p,0)}else{r.push(0,0,0,0)}};ol.format.KML.readGxMultiTrack_=function(e,t){var o=ol.xml.pushParseAndPop([],ol.format.KML.GX_MULTITRACK_GEOMETRY_PARSERS_,e,t);if(!o){return undefined}var r=new ol.geom.MultiLineString(null);r.setLineStrings(o);return r};ol.format.KML.readGxTrack_=function(e,t){var o=ol.xml.pushParseAndPop({flatCoordinates:[],whens:[]},ol.format.KML.GX_TRACK_PARSERS_,e,t);if(!o){return undefined}var r=o.flatCoordinates;var i=o.whens;var n,l;for(n=0,l=Math.min(r.length,i.length);n<l;++n){r[4*n+3]=i[n]}var a=new ol.geom.LineString(null);a.setFlatCoordinates(ol.geom.GeometryLayout.XYZM,r);return a};ol.format.KML.readIcon_=function(e,t){var o=ol.xml.pushParseAndPop({},ol.format.KML.ICON_PARSERS_,e,t);if(o){return o}else{return null}};ol.format.KML.readFlatCoordinatesFromNode_=function(e,t){return ol.xml.pushParseAndPop(null,ol.format.KML.GEOMETRY_FLAT_COORDINATES_PARSERS_,e,t)};ol.format.KML.readLineString_=function(e,t){var o=ol.xml.pushParseAndPop({},ol.format.KML.EXTRUDE_AND_ALTITUDE_MODE_PARSERS_,e,t);var r=ol.format.KML.readFlatCoordinatesFromNode_(e,t);if(r){var i=new ol.geom.LineString(null);i.setFlatCoordinates(ol.geom.GeometryLayout.XYZ,r);i.setProperties(o);return i}else{return undefined}};ol.format.KML.readLinearRing_=function(e,t){var o=ol.xml.pushParseAndPop({},ol.format.KML.EXTRUDE_AND_ALTITUDE_MODE_PARSERS_,e,t);var r=ol.format.KML.readFlatCoordinatesFromNode_(e,t);if(r){var i=new ol.geom.Polygon(null);i.setFlatCoordinates(ol.geom.GeometryLayout.XYZ,r,[r.length]);i.setProperties(o);return i}else{return undefined}};ol.format.KML.readMultiGeometry_=function(e,t){var o=ol.xml.pushParseAndPop([],ol.format.KML.MULTI_GEOMETRY_PARSERS_,e,t);if(!o){return null}if(o.length===0){return new ol.geom.GeometryCollection(o)}var r;var i=true;var n=o[0].getType();var l,a,s;for(a=1,s=o.length;a<s;++a){l=o[a];if(l.getType()!=n){i=false;break}}if(i){var p;var g;if(n==ol.geom.GeometryType.POINT){var u=o[0];p=u.getLayout();g=u.getFlatCoordinates();for(a=1,s=o.length;a<s;++a){l=o[a];ol.array.extend(g,l.getFlatCoordinates())}r=new ol.geom.MultiPoint(null);r.setFlatCoordinates(p,g);ol.format.KML.setCommonGeometryProperties_(r,o)}else if(n==ol.geom.GeometryType.LINE_STRING){r=new ol.geom.MultiLineString(null);r.setLineStrings(o);ol.format.KML.setCommonGeometryProperties_(r,o)}else if(n==ol.geom.GeometryType.POLYGON){r=new ol.geom.MultiPolygon(null);r.setPolygons(o);ol.format.KML.setCommonGeometryProperties_(r,o)}else if(n==ol.geom.GeometryType.GEOMETRY_COLLECTION){r=new ol.geom.GeometryCollection(o)}else{ol.asserts.assert(false,37)}}else{r=new ol.geom.GeometryCollection(o)}return r};ol.format.KML.readPoint_=function(e,t){var o=ol.xml.pushParseAndPop({},ol.format.KML.EXTRUDE_AND_ALTITUDE_MODE_PARSERS_,e,t);var r=ol.format.KML.readFlatCoordinatesFromNode_(e,t);if(r){var i=new ol.geom.Point(null);i.setFlatCoordinates(ol.geom.GeometryLayout.XYZ,r);i.setProperties(o);return i}else{return undefined}};ol.format.KML.readPolygon_=function(e,t){var o=ol.xml.pushParseAndPop({},ol.format.KML.EXTRUDE_AND_ALTITUDE_MODE_PARSERS_,e,t);var r=ol.xml.pushParseAndPop([null],ol.format.KML.FLAT_LINEAR_RINGS_PARSERS_,e,t);if(r&&r[0]){var i=new ol.geom.Polygon(null);var n=r[0];var l=[n.length];var a,s;for(a=1,s=r.length;a<s;++a){ol.array.extend(n,r[a]);l.push(n.length)}i.setFlatCoordinates(ol.geom.GeometryLayout.XYZ,n,l);i.setProperties(o);return i}else{return undefined}};ol.format.KML.readStyle_=function(e,t){var o=ol.xml.pushParseAndPop({},ol.format.KML.STYLE_PARSERS_,e,t);if(!o){return null}var r="fillStyle"in o?o["fillStyle"]:ol.format.KML.DEFAULT_FILL_STYLE_;var i=o["fill"];if(i!==undefined&&!i){r=null}var n="imageStyle"in o?o["imageStyle"]:ol.format.KML.DEFAULT_IMAGE_STYLE_;if(n==ol.format.KML.DEFAULT_NO_IMAGE_STYLE_){n=undefined}var l="textStyle"in o?o["textStyle"]:ol.format.KML.DEFAULT_TEXT_STYLE_;var a="strokeStyle"in o?o["strokeStyle"]:ol.format.KML.DEFAULT_STROKE_STYLE_;var s=o["outline"];if(s!==undefined&&!s){a=null}return[new ol.style.Style({fill:r,image:n,stroke:a,text:l,zIndex:undefined})]};ol.format.KML.setCommonGeometryProperties_=function(e,t){var o=t.length;var r=new Array(t.length);var i=new Array(t.length);var n=new Array(t.length);var l,a,s,p,g;s=p=g=false;for(a=0;a<o;++a){l=t[a];r[a]=l.get("extrude");i[a]=l.get("tessellate");n[a]=l.get("altitudeMode");s=s||r[a]!==undefined;p=p||i[a]!==undefined;g=g||n[a]}if(s){e.set("extrude",r)}if(p){e.set("tessellate",i)}if(g){e.set("altitudeMode",n)}};ol.format.KML.DataParser_=function(e,t){var o=e.getAttribute("name");ol.xml.parseNode(ol.format.KML.DATA_PARSERS_,e,t);var r=t[t.length-1];if(o!==null){r[o]=r.value}else if(r.displayName!==null){r[r.displayName]=r.value}delete r["value"]};ol.format.KML.ExtendedDataParser_=function(e,t){ol.xml.parseNode(ol.format.KML.EXTENDED_DATA_PARSERS_,e,t)};ol.format.KML.RegionParser_=function(e,t){ol.xml.parseNode(ol.format.KML.REGION_PARSERS_,e,t)};ol.format.KML.PairDataParser_=function(e,t){var o=ol.xml.pushParseAndPop({},ol.format.KML.PAIR_PARSERS_,e,t);if(!o){return}var r=o["key"];if(r&&r=="normal"){var i=o["styleUrl"];if(i){t[t.length-1]=i}var n=o["Style"];if(n){t[t.length-1]=n}}};ol.format.KML.PlacemarkStyleMapParser_=function(e,t){var o=ol.format.KML.readStyleMapValue_(e,t);if(!o){return}var r=t[t.length-1];if(Array.isArray(o)){r["Style"]=o}else if(typeof o==="string"){r["styleUrl"]=o}else{ol.asserts.assert(false,38)}};ol.format.KML.SchemaDataParser_=function(e,t){ol.xml.parseNode(ol.format.KML.SCHEMA_DATA_PARSERS_,e,t)};ol.format.KML.SimpleDataParser_=function(e,t){var o=e.getAttribute("name");if(o!==null){var r=ol.format.XSD.readString(e);var i=t[t.length-1];i[o]=r}};ol.format.KML.LatLonAltBoxParser_=function(e,t){var o=ol.xml.pushParseAndPop({},ol.format.KML.LAT_LON_ALT_BOX_PARSERS_,e,t);if(!o){return}var r=t[t.length-1];var i=[parseFloat(o["west"]),parseFloat(o["south"]),parseFloat(o["east"]),parseFloat(o["north"])];r["extent"]=i;r["altitudeMode"]=o["altitudeMode"];r["minAltitude"]=parseFloat(o["minAltitude"]);r["maxAltitude"]=parseFloat(o["maxAltitude"])};ol.format.KML.LodParser_=function(e,t){var o=ol.xml.pushParseAndPop({},ol.format.KML.LOD_PARSERS_,e,t);if(!o){return}var r=t[t.length-1];r["minLodPixels"]=parseFloat(o["minLodPixels"]);r["maxLodPixels"]=parseFloat(o["maxLodPixels"]);r["minFadeExtent"]=parseFloat(o["minFadeExtent"]);r["maxFadeExtent"]=parseFloat(o["maxFadeExtent"])};ol.format.KML.innerBoundaryIsParser_=function(e,t){var o=ol.xml.pushParseAndPop(undefined,ol.format.KML.INNER_BOUNDARY_IS_PARSERS_,e,t);if(o){var r=t[t.length-1];r.push(o)}};ol.format.KML.outerBoundaryIsParser_=function(e,t){var o=ol.xml.pushParseAndPop(undefined,ol.format.KML.OUTER_BOUNDARY_IS_PARSERS_,e,t);if(o){var r=t[t.length-1];r[0]=o}};ol.format.KML.LinkParser_=function(e,t){ol.xml.parseNode(ol.format.KML.LINK_PARSERS_,e,t)};ol.format.KML.whenParser_=function(e,t){var o=t[t.length-1];var r=o.whens;var i=ol.xml.getAllTextContent(e,false);var n=Date.parse(i);r.push(isNaN(n)?0:n)};ol.format.KML.DATA_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{displayName:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),value:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)});ol.format.KML.EXTENDED_DATA_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{Data:ol.format.KML.DataParser_,SchemaData:ol.format.KML.SchemaDataParser_});ol.format.KML.REGION_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{LatLonAltBox:ol.format.KML.LatLonAltBoxParser_,Lod:ol.format.KML.LodParser_});ol.format.KML.LAT_LON_ALT_BOX_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{altitudeMode:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),minAltitude:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),maxAltitude:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),north:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),south:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),east:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),west:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal)});ol.format.KML.LOD_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{minLodPixels:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),maxLodPixels:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),minFadeExtent:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),maxFadeExtent:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal)});ol.format.KML.EXTRUDE_AND_ALTITUDE_MODE_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{extrude:ol.xml.makeObjectPropertySetter(ol.format.XSD.readBoolean),tessellate:ol.xml.makeObjectPropertySetter(ol.format.XSD.readBoolean),altitudeMode:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)});ol.format.KML.FLAT_LINEAR_RING_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{coordinates:ol.xml.makeReplacer(ol.format.KML.readFlatCoordinates_)});ol.format.KML.FLAT_LINEAR_RINGS_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{innerBoundaryIs:ol.format.KML.innerBoundaryIsParser_,outerBoundaryIs:ol.format.KML.outerBoundaryIsParser_});ol.format.KML.GX_TRACK_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{when:ol.format.KML.whenParser_},ol.xml.makeStructureNS(ol.format.KML.GX_NAMESPACE_URIS_,{coord:ol.format.KML.gxCoordParser_}));ol.format.KML.GEOMETRY_FLAT_COORDINATES_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{coordinates:ol.xml.makeReplacer(ol.format.KML.readFlatCoordinates_)});ol.format.KML.ICON_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{href:ol.xml.makeObjectPropertySetter(ol.format.KML.readURI_)},ol.xml.makeStructureNS(ol.format.KML.GX_NAMESPACE_URIS_,{x:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),y:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),w:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),h:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal)}));ol.format.KML.ICON_STYLE_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{Icon:ol.xml.makeObjectPropertySetter(ol.format.KML.readIcon_),heading:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),hotSpot:ol.xml.makeObjectPropertySetter(ol.format.KML.readVec2_),scale:ol.xml.makeObjectPropertySetter(ol.format.KML.readScale_)});ol.format.KML.INNER_BOUNDARY_IS_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{LinearRing:ol.xml.makeReplacer(ol.format.KML.readFlatLinearRing_)});ol.format.KML.LABEL_STYLE_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{color:ol.xml.makeObjectPropertySetter(ol.format.KML.readColor_),scale:ol.xml.makeObjectPropertySetter(ol.format.KML.readScale_)});ol.format.KML.LINE_STYLE_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{color:ol.xml.makeObjectPropertySetter(ol.format.KML.readColor_),width:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal)});ol.format.KML.MULTI_GEOMETRY_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{LineString:ol.xml.makeArrayPusher(ol.format.KML.readLineString_),LinearRing:ol.xml.makeArrayPusher(ol.format.KML.readLinearRing_),MultiGeometry:ol.xml.makeArrayPusher(ol.format.KML.readMultiGeometry_),Point:ol.xml.makeArrayPusher(ol.format.KML.readPoint_),Polygon:ol.xml.makeArrayPusher(ol.format.KML.readPolygon_)});ol.format.KML.GX_MULTITRACK_GEOMETRY_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.GX_NAMESPACE_URIS_,{Track:ol.xml.makeArrayPusher(ol.format.KML.readGxTrack_)});ol.format.KML.NETWORK_LINK_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{ExtendedData:ol.format.KML.ExtendedDataParser_,Region:ol.format.KML.RegionParser_,Link:ol.format.KML.LinkParser_,address:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),description:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),name:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),open:ol.xml.makeObjectPropertySetter(ol.format.XSD.readBoolean),phoneNumber:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),visibility:ol.xml.makeObjectPropertySetter(ol.format.XSD.readBoolean)});ol.format.KML.LINK_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{href:ol.xml.makeObjectPropertySetter(ol.format.KML.readURI_)});ol.format.KML.OUTER_BOUNDARY_IS_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{LinearRing:ol.xml.makeReplacer(ol.format.KML.readFlatLinearRing_)});ol.format.KML.PAIR_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{Style:ol.xml.makeObjectPropertySetter(ol.format.KML.readStyle_),key:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),styleUrl:ol.xml.makeObjectPropertySetter(ol.format.KML.readURI_)});ol.format.KML.PLACEMARK_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{ExtendedData:ol.format.KML.ExtendedDataParser_,Region:ol.format.KML.RegionParser_,MultiGeometry:ol.xml.makeObjectPropertySetter(ol.format.KML.readMultiGeometry_,"geometry"),LineString:ol.xml.makeObjectPropertySetter(ol.format.KML.readLineString_,"geometry"),LinearRing:ol.xml.makeObjectPropertySetter(ol.format.KML.readLinearRing_,"geometry"),Point:ol.xml.makeObjectPropertySetter(ol.format.KML.readPoint_,"geometry"),Polygon:ol.xml.makeObjectPropertySetter(ol.format.KML.readPolygon_,"geometry"),Style:ol.xml.makeObjectPropertySetter(ol.format.KML.readStyle_),StyleMap:ol.format.KML.PlacemarkStyleMapParser_,address:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),description:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),name:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),open:ol.xml.makeObjectPropertySetter(ol.format.XSD.readBoolean),phoneNumber:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),styleUrl:ol.xml.makeObjectPropertySetter(ol.format.KML.readURI_),visibility:ol.xml.makeObjectPropertySetter(ol.format.XSD.readBoolean)},ol.xml.makeStructureNS(ol.format.KML.GX_NAMESPACE_URIS_,{MultiTrack:ol.xml.makeObjectPropertySetter(ol.format.KML.readGxMultiTrack_,"geometry"),Track:ol.xml.makeObjectPropertySetter(ol.format.KML.readGxTrack_,"geometry")}));ol.format.KML.POLY_STYLE_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{color:ol.xml.makeObjectPropertySetter(ol.format.KML.readColor_),fill:ol.xml.makeObjectPropertySetter(ol.format.XSD.readBoolean),outline:ol.xml.makeObjectPropertySetter(ol.format.XSD.readBoolean)});ol.format.KML.SCHEMA_DATA_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{SimpleData:ol.format.KML.SimpleDataParser_});ol.format.KML.STYLE_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{IconStyle:ol.format.KML.IconStyleParser_,LabelStyle:ol.format.KML.LabelStyleParser_,LineStyle:ol.format.KML.LineStyleParser_,PolyStyle:ol.format.KML.PolyStyleParser_});ol.format.KML.STYLE_MAP_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{Pair:ol.format.KML.PairDataParser_});ol.format.KML.prototype.readDocumentOrFolder_=function(e,t){var o=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{Document:ol.xml.makeArrayExtender(this.readDocumentOrFolder_,this),Folder:ol.xml.makeArrayExtender(this.readDocumentOrFolder_,this),Placemark:ol.xml.makeArrayPusher(this.readPlacemark_,this),Style:this.readSharedStyle_.bind(this),StyleMap:this.readSharedStyleMap_.bind(this)});var r=ol.xml.pushParseAndPop([],o,e,t,this);if(r){return r}else{return undefined}};ol.format.KML.prototype.readPlacemark_=function(e,t){var o=ol.xml.pushParseAndPop({geometry:null},ol.format.KML.PLACEMARK_PARSERS_,e,t);if(!o){return undefined}var r=new ol.Feature;var i=e.getAttribute("id");if(i!==null){r.setId(i)}var n=t[0];var l=o["geometry"];if(l){ol.format.Feature.transformWithOptions(l,false,n)}r.setGeometry(l);delete o["geometry"];if(this.extractStyles_){var a=o["Style"];var s=o["styleUrl"];var p=ol.format.KML.createFeatureStyleFunction_(a,s,this.defaultStyle_,this.sharedStyles_,this.showPointNames_);r.setStyle(p)}delete o["Style"];r.setProperties(o);return r};ol.format.KML.prototype.readSharedStyle_=function(e,t){var o=e.getAttribute("id");if(o!==null){var r=ol.format.KML.readStyle_(e,t);if(r){var i;var n=e.baseURI;if(!n||n=="about:blank"){n=window.location.href}if(n){var l=new URL("#"+o,n);i=l.href}else{i="#"+o}this.sharedStyles_[i]=r}}};ol.format.KML.prototype.readSharedStyleMap_=function(e,t){var o=e.getAttribute("id");if(o===null){return}var r=ol.format.KML.readStyleMapValue_(e,t);if(!r){return}var i;var n=e.baseURI;if(!n||n=="about:blank"){n=window.location.href}if(n){var l=new URL("#"+o,n);i=l.href}else{i="#"+o}this.sharedStyles_[i]=r};ol.format.KML.prototype.readFeature;ol.format.KML.prototype.readFeatureFromNode=function(e,t){if(!ol.array.includes(ol.format.KML.NAMESPACE_URIS_,e.namespaceURI)){return null}var o=this.readPlacemark_(e,[this.getReadOptions(e,t)]);if(o){return o}else{return null}};ol.format.KML.prototype.readFeatures;ol.format.KML.prototype.readFeaturesFromNode=function(e,t){if(!ol.array.includes(ol.format.KML.NAMESPACE_URIS_,e.namespaceURI)){return[]}var o;var r=e.localName;if(r=="Document"||r=="Folder"){o=this.readDocumentOrFolder_(e,[this.getReadOptions(e,t)]);if(o){return o}else{return[]}}else if(r=="Placemark"){var i=this.readPlacemark_(e,[this.getReadOptions(e,t)]);if(i){return[i]}else{return[]}}else if(r=="kml"){o=[];var n;for(n=e.firstElementChild;n;n=n.nextElementSibling){var l=this.readFeaturesFromNode(n,t);if(l){ol.array.extend(o,l)}}return o}else{return[]}};ol.format.KML.prototype.readName=function(e){if(ol.xml.isDocument(e)){return this.readNameFromDocument(e)}else if(ol.xml.isNode(e)){return this.readNameFromNode(e)}else if(typeof e==="string"){var t=ol.xml.parse(e);return this.readNameFromDocument(t)}else{return undefined}};ol.format.KML.prototype.readNameFromDocument=function(e){var t;for(t=e.firstChild;t;t=t.nextSibling){if(t.nodeType==Node.ELEMENT_NODE){var o=this.readNameFromNode(t);if(o){return o}}}return undefined};ol.format.KML.prototype.readNameFromNode=function(e){var t;for(t=e.firstElementChild;t;t=t.nextElementSibling){if(ol.array.includes(ol.format.KML.NAMESPACE_URIS_,t.namespaceURI)&&t.localName=="name"){return ol.format.XSD.readString(t)}}for(t=e.firstElementChild;t;t=t.nextElementSibling){var o=t.localName;if(ol.array.includes(ol.format.KML.NAMESPACE_URIS_,t.namespaceURI)&&(o=="Document"||o=="Folder"||o=="Placemark"||o=="kml")){var r=this.readNameFromNode(t);if(r){return r}}}return undefined};ol.format.KML.prototype.readNetworkLinks=function(e){var t=[];if(ol.xml.isDocument(e)){ol.array.extend(t,this.readNetworkLinksFromDocument(e))}else if(ol.xml.isNode(e)){ol.array.extend(t,this.readNetworkLinksFromNode(e))}else if(typeof e==="string"){var o=ol.xml.parse(e);ol.array.extend(t,this.readNetworkLinksFromDocument(o))}return t};ol.format.KML.prototype.readNetworkLinksFromDocument=function(e){var t,o=[];for(t=e.firstChild;t;t=t.nextSibling){if(t.nodeType==Node.ELEMENT_NODE){ol.array.extend(o,this.readNetworkLinksFromNode(t))}}return o};ol.format.KML.prototype.readNetworkLinksFromNode=function(e){var t,o=[];for(t=e.firstElementChild;t;t=t.nextElementSibling){if(ol.array.includes(ol.format.KML.NAMESPACE_URIS_,t.namespaceURI)&&t.localName=="NetworkLink"){var r=ol.xml.pushParseAndPop({},ol.format.KML.NETWORK_LINK_PARSERS_,t,[]);o.push(r)}}for(t=e.firstElementChild;t;t=t.nextElementSibling){var i=t.localName;if(ol.array.includes(ol.format.KML.NAMESPACE_URIS_,t.namespaceURI)&&(i=="Document"||i=="Folder"||i=="kml")){ol.array.extend(o,this.readNetworkLinksFromNode(t))}}return o};ol.format.KML.prototype.readRegion=function(e){var t=[];if(ol.xml.isDocument(e)){ol.array.extend(t,this.readRegionFromDocument(e))}else if(ol.xml.isNode(e)){ol.array.extend(t,this.readRegionFromNode(e))}else if(typeof e==="string"){var o=ol.xml.parse(e);ol.array.extend(t,this.readRegionFromDocument(o))}return t};ol.format.KML.prototype.readRegionFromDocument=function(e){var t,o=[];for(t=e.firstChild;t;t=t.nextSibling){if(t.nodeType==Node.ELEMENT_NODE){ol.array.extend(o,this.readRegionFromNode(t))}}return o};ol.format.KML.prototype.readRegionFromNode=function(e){var t,o=[];for(t=e.firstElementChild;t;t=t.nextElementSibling){if(ol.array.includes(ol.format.KML.NAMESPACE_URIS_,t.namespaceURI)&&t.localName=="Region"){var r=ol.xml.pushParseAndPop({},ol.format.KML.REGION_PARSERS_,t,[]);o.push(r)}}for(t=e.firstElementChild;t;t=t.nextElementSibling){var i=t.localName;if(ol.array.includes(ol.format.KML.NAMESPACE_URIS_,t.namespaceURI)&&(i=="Document"||i=="Folder"||i=="kml")){ol.array.extend(o,this.readRegionFromNode(t))}}return o};ol.format.KML.prototype.readProjection;ol.format.KML.writeColorTextNode_=function(e,t){var o=ol.color.asArray(t);var r=o.length==4?o[3]:1;var i=[r*255,o[2],o[1],o[0]];var n;for(n=0;n<4;++n){var l=parseInt(i[n],10).toString(16);i[n]=l.length==1?"0"+l:l}ol.format.XSD.writeStringTextNode(e,i.join(""))};ol.format.KML.writeCoordinatesTextNode_=function(e,t,o){var r=o[o.length-1];var i=r["layout"];var n=r["stride"];var l;if(i==ol.geom.GeometryLayout.XY||i==ol.geom.GeometryLayout.XYM){l=2}else if(i==ol.geom.GeometryLayout.XYZ||i==ol.geom.GeometryLayout.XYZM){l=3}else{ol.asserts.assert(false,34)}var a,s;var p=t.length;var g="";if(p>0){g+=t[0];for(a=1;a<l;++a){g+=","+t[a]}for(s=n;s<p;s+=n){g+=" "+t[s];for(a=1;a<l;++a){g+=","+t[s+a]}}}ol.format.XSD.writeStringTextNode(e,g)};ol.format.KML.writeDataNode_=function(e,t,o){e.setAttribute("name",t.name);var r={node:e};var i=t.value;if(typeof i=="object"){if(i!==null&&i.displayName){ol.xml.pushSerializeAndPop(r,ol.format.KML.EXTENDEDDATA_NODE_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,[i.displayName],o,["displayName"])}if(i!==null&&i.value){ol.xml.pushSerializeAndPop(r,ol.format.KML.EXTENDEDDATA_NODE_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,[i.value],o,["value"])}}else{ol.xml.pushSerializeAndPop(r,ol.format.KML.EXTENDEDDATA_NODE_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,[i],o,["value"])}};ol.format.KML.writeDataNodeName_=function(e,t){ol.format.XSD.writeCDATASection(e,t)};ol.format.KML.writeDataNodeValue_=function(e,t){ol.format.XSD.writeStringTextNode(e,t)};ol.format.KML.writeDocument_=function(e,t,o){var r={node:e};ol.xml.pushSerializeAndPop(r,ol.format.KML.DOCUMENT_SERIALIZERS_,ol.format.KML.DOCUMENT_NODE_FACTORY_,t,o,undefined,this)};ol.format.KML.writeExtendedData_=function(e,t,o){var r={node:e};var i=t.names,n=t.values;var l=i.length;for(var a=0;a<l;a++){ol.xml.pushSerializeAndPop(r,ol.format.KML.EXTENDEDDATA_NODE_SERIALIZERS_,ol.format.KML.DATA_NODE_FACTORY_,[{name:i[a],value:n[a]}],o)}};ol.format.KML.writeIcon_=function(e,t,o){var r={node:e};var i=o[o.length-1].node;var n=ol.format.KML.ICON_SEQUENCE_[i.namespaceURI];var l=ol.xml.makeSequence(t,n);ol.xml.pushSerializeAndPop(r,ol.format.KML.ICON_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,l,o,n);n=ol.format.KML.ICON_SEQUENCE_[ol.format.KML.GX_NAMESPACE_URIS_[0]];l=ol.xml.makeSequence(t,n);ol.xml.pushSerializeAndPop(r,ol.format.KML.ICON_SERIALIZERS_,ol.format.KML.GX_NODE_FACTORY_,l,o,n)};ol.format.KML.writeIconStyle_=function(e,t,o){var r={node:e};var i={};var n=t.getSrc();var l=t.getSize();var a=t.getImageSize();var s={href:n};if(l){s["w"]=l[0];s["h"]=l[1];var p=t.getAnchor();var g=t.getOrigin();if(g&&a&&g[0]!==0&&g[1]!==l[1]){s["x"]=g[0];s["y"]=a[1]-(g[1]+l[1])}if(p&&(p[0]!==l[0]/2||p[1]!==l[1]/2)){var u={x:p[0],xunits:ol.style.IconAnchorUnits.PIXELS,y:l[1]-p[1],yunits:ol.style.IconAnchorUnits.PIXELS};i["hotSpot"]=u}}i["Icon"]=s;var c=t.getScale();if(c!==1){i["scale"]=c}var y=t.getRotation();if(y!==0){i["heading"]=y}var d=o[o.length-1].node;var h=ol.format.KML.ICON_STYLE_SEQUENCE_[d.namespaceURI];var f=ol.xml.makeSequence(i,h);ol.xml.pushSerializeAndPop(r,ol.format.KML.ICON_STYLE_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,f,o,h)};ol.format.KML.writeLabelStyle_=function(e,t,o){var r={node:e};var i={};var n=t.getFill();if(n){i["color"]=n.getColor()}var l=t.getScale();if(l&&l!==1){i["scale"]=l}var a=o[o.length-1].node;var s=ol.format.KML.LABEL_STYLE_SEQUENCE_[a.namespaceURI];var p=ol.xml.makeSequence(i,s);ol.xml.pushSerializeAndPop(r,ol.format.KML.LABEL_STYLE_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,p,o,s)};ol.format.KML.writeLineStyle_=function(e,t,o){var r={node:e};var i={color:t.getColor(),width:t.getWidth()};var n=o[o.length-1].node;var l=ol.format.KML.LINE_STYLE_SEQUENCE_[n.namespaceURI];var a=ol.xml.makeSequence(i,l);ol.xml.pushSerializeAndPop(r,ol.format.KML.LINE_STYLE_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,a,o,l)};ol.format.KML.writeMultiGeometry_=function(e,t,o){var r={node:e};var i=t.getType();var n;var l;if(i==ol.geom.GeometryType.GEOMETRY_COLLECTION){n=t.getGeometries();l=ol.format.KML.GEOMETRY_NODE_FACTORY_}else if(i==ol.geom.GeometryType.MULTI_POINT){n=t.getPoints();l=ol.format.KML.POINT_NODE_FACTORY_}else if(i==ol.geom.GeometryType.MULTI_LINE_STRING){n=t.getLineStrings();l=ol.format.KML.LINE_STRING_NODE_FACTORY_}else if(i==ol.geom.GeometryType.MULTI_POLYGON){n=t.getPolygons();l=ol.format.KML.POLYGON_NODE_FACTORY_}else{ol.asserts.assert(false,39)}ol.xml.pushSerializeAndPop(r,ol.format.KML.MULTI_GEOMETRY_SERIALIZERS_,l,n,o)};ol.format.KML.writeBoundaryIs_=function(e,t,o){var r={node:e};ol.xml.pushSerializeAndPop(r,ol.format.KML.BOUNDARY_IS_SERIALIZERS_,ol.format.KML.LINEAR_RING_NODE_FACTORY_,[t],o)};ol.format.KML.writePlacemark_=function(e,t,o){var r={node:e};if(t.getId()){e.setAttribute("id",t.getId())}var i=t.getProperties();var n={address:1,description:1,name:1,open:1,phoneNumber:1,styleUrl:1,visibility:1};n[t.getGeometryName()]=1;var l=Object.keys(i||{}).sort().filter(function(e){return!n[e]});if(l.length>0){var a=ol.xml.makeSequence(i,l);var s={names:l,values:a};ol.xml.pushSerializeAndPop(r,ol.format.KML.PLACEMARK_SERIALIZERS_,ol.format.KML.EXTENDEDDATA_NODE_FACTORY_,[s],o)}var p=t.getStyleFunction();if(p){var g=p.call(t,0);if(g){var u=Array.isArray(g)?g[0]:g;if(this.writeStyles_){i["Style"]=u}var c=u.getText();if(c){i["name"]=c.getText()}}}var y=o[o.length-1].node;var d=ol.format.KML.PLACEMARK_SEQUENCE_[y.namespaceURI];var h=ol.xml.makeSequence(i,d);ol.xml.pushSerializeAndPop(r,ol.format.KML.PLACEMARK_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,h,o,d);var f=o[0];var m=t.getGeometry();if(m){m=ol.format.Feature.transformWithOptions(m,true,f)}ol.xml.pushSerializeAndPop(r,ol.format.KML.PLACEMARK_SERIALIZERS_,ol.format.KML.GEOMETRY_NODE_FACTORY_,[m],o)};ol.format.KML.writePrimitiveGeometry_=function(e,t,o){var r=t.getFlatCoordinates();var i={node:e};i["layout"]=t.getLayout();i["stride"]=t.getStride();var n=t.getProperties();n.coordinates=r;var l=o[o.length-1].node;var a=ol.format.KML.PRIMITIVE_GEOMETRY_SEQUENCE_[l.namespaceURI];var s=ol.xml.makeSequence(n,a);ol.xml.pushSerializeAndPop(i,ol.format.KML.PRIMITIVE_GEOMETRY_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,s,o,a)};ol.format.KML.writePolygon_=function(e,t,o){var r=t.getLinearRings();var i=r.shift();var n={node:e};ol.xml.pushSerializeAndPop(n,ol.format.KML.POLYGON_SERIALIZERS_,ol.format.KML.INNER_BOUNDARY_NODE_FACTORY_,r,o);ol.xml.pushSerializeAndPop(n,ol.format.KML.POLYGON_SERIALIZERS_,ol.format.KML.OUTER_BOUNDARY_NODE_FACTORY_,[i],o)};ol.format.KML.writePolyStyle_=function(e,t,o){var r={node:e};ol.xml.pushSerializeAndPop(r,ol.format.KML.POLY_STYLE_SERIALIZERS_,ol.format.KML.COLOR_NODE_FACTORY_,[t.getColor()],o)};ol.format.KML.writeScaleTextNode_=function(e,t){ol.format.XSD.writeDecimalTextNode(e,Math.round(t*1e6)/1e6)};ol.format.KML.writeStyle_=function(e,t,o){var r={node:e};var i={};var n=t.getFill();var l=t.getStroke();var a=t.getImage();var s=t.getText();if(a instanceof ol.style.Icon){i["IconStyle"]=a}if(s){i["LabelStyle"]=s}if(l){i["LineStyle"]=l}if(n){i["PolyStyle"]=n}var p=o[o.length-1].node;var g=ol.format.KML.STYLE_SEQUENCE_[p.namespaceURI];var u=ol.xml.makeSequence(i,g);ol.xml.pushSerializeAndPop(r,ol.format.KML.STYLE_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,u,o,g)};ol.format.KML.writeVec2_=function(e,t){e.setAttribute("x",t.x);e.setAttribute("y",t.y);e.setAttribute("xunits",t.xunits);e.setAttribute("yunits",t.yunits)};ol.format.KML.KML_SEQUENCE_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,["Document","Placemark"]);ol.format.KML.KML_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{Document:ol.xml.makeChildAppender(ol.format.KML.writeDocument_),Placemark:ol.xml.makeChildAppender(ol.format.KML.writePlacemark_)});ol.format.KML.DOCUMENT_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{Placemark:ol.xml.makeChildAppender(ol.format.KML.writePlacemark_)});ol.format.KML.EXTENDEDDATA_NODE_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{Data:ol.xml.makeChildAppender(ol.format.KML.writeDataNode_),value:ol.xml.makeChildAppender(ol.format.KML.writeDataNodeValue_),displayName:ol.xml.makeChildAppender(ol.format.KML.writeDataNodeName_)});ol.format.KML.GEOMETRY_TYPE_TO_NODENAME_={Point:"Point",LineString:"LineString",LinearRing:"LinearRing",Polygon:"Polygon",MultiPoint:"MultiGeometry",MultiLineString:"MultiGeometry",MultiPolygon:"MultiGeometry",GeometryCollection:"MultiGeometry"};ol.format.KML.ICON_SEQUENCE_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,["href"],ol.xml.makeStructureNS(ol.format.KML.GX_NAMESPACE_URIS_,["x","y","w","h"]));ol.format.KML.ICON_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{href:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode)},ol.xml.makeStructureNS(ol.format.KML.GX_NAMESPACE_URIS_,{x:ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode),y:ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode),w:ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode),h:ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode)}));ol.format.KML.ICON_STYLE_SEQUENCE_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,["scale","heading","Icon","hotSpot"]);ol.format.KML.ICON_STYLE_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{Icon:ol.xml.makeChildAppender(ol.format.KML.writeIcon_),heading:ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode),hotSpot:ol.xml.makeChildAppender(ol.format.KML.writeVec2_),scale:ol.xml.makeChildAppender(ol.format.KML.writeScaleTextNode_)});ol.format.KML.LABEL_STYLE_SEQUENCE_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,["color","scale"]);ol.format.KML.LABEL_STYLE_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{color:ol.xml.makeChildAppender(ol.format.KML.writeColorTextNode_),scale:ol.xml.makeChildAppender(ol.format.KML.writeScaleTextNode_)});ol.format.KML.LINE_STYLE_SEQUENCE_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,["color","width"]);ol.format.KML.LINE_STYLE_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{color:ol.xml.makeChildAppender(ol.format.KML.writeColorTextNode_),width:ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode)});ol.format.KML.BOUNDARY_IS_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{LinearRing:ol.xml.makeChildAppender(ol.format.KML.writePrimitiveGeometry_)});ol.format.KML.MULTI_GEOMETRY_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{LineString:ol.xml.makeChildAppender(ol.format.KML.writePrimitiveGeometry_),Point:ol.xml.makeChildAppender(ol.format.KML.writePrimitiveGeometry_),Polygon:ol.xml.makeChildAppender(ol.format.KML.writePolygon_),GeometryCollection:ol.xml.makeChildAppender(ol.format.KML.writeMultiGeometry_)});ol.format.KML.PLACEMARK_SEQUENCE_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,["name","open","visibility","address","phoneNumber","description","styleUrl","Style"]);ol.format.KML.PLACEMARK_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{ExtendedData:ol.xml.makeChildAppender(ol.format.KML.writeExtendedData_),MultiGeometry:ol.xml.makeChildAppender(ol.format.KML.writeMultiGeometry_),LineString:ol.xml.makeChildAppender(ol.format.KML.writePrimitiveGeometry_),LinearRing:ol.xml.makeChildAppender(ol.format.KML.writePrimitiveGeometry_),Point:ol.xml.makeChildAppender(ol.format.KML.writePrimitiveGeometry_),Polygon:ol.xml.makeChildAppender(ol.format.KML.writePolygon_),Style:ol.xml.makeChildAppender(ol.format.KML.writeStyle_),address:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),description:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),name:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),open:ol.xml.makeChildAppender(ol.format.XSD.writeBooleanTextNode),phoneNumber:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),styleUrl:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),visibility:ol.xml.makeChildAppender(ol.format.XSD.writeBooleanTextNode)});ol.format.KML.PRIMITIVE_GEOMETRY_SEQUENCE_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,["extrude","tessellate","altitudeMode","coordinates"]);ol.format.KML.PRIMITIVE_GEOMETRY_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{extrude:ol.xml.makeChildAppender(ol.format.XSD.writeBooleanTextNode),tessellate:ol.xml.makeChildAppender(ol.format.XSD.writeBooleanTextNode),altitudeMode:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),coordinates:ol.xml.makeChildAppender(ol.format.KML.writeCoordinatesTextNode_)});ol.format.KML.POLYGON_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{outerBoundaryIs:ol.xml.makeChildAppender(ol.format.KML.writeBoundaryIs_),innerBoundaryIs:ol.xml.makeChildAppender(ol.format.KML.writeBoundaryIs_)});ol.format.KML.POLY_STYLE_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{color:ol.xml.makeChildAppender(ol.format.KML.writeColorTextNode_)});ol.format.KML.STYLE_SEQUENCE_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,["IconStyle","LabelStyle","LineStyle","PolyStyle"]);ol.format.KML.STYLE_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{IconStyle:ol.xml.makeChildAppender(ol.format.KML.writeIconStyle_),LabelStyle:ol.xml.makeChildAppender(ol.format.KML.writeLabelStyle_),LineStyle:ol.xml.makeChildAppender(ol.format.KML.writeLineStyle_),PolyStyle:ol.xml.makeChildAppender(ol.format.KML.writePolyStyle_)});ol.format.KML.GX_NODE_FACTORY_=function(e,t,o){return ol.xml.createElementNS(ol.format.KML.GX_NAMESPACE_URIS_[0],"gx:"+o)};ol.format.KML.DOCUMENT_NODE_FACTORY_=function(e,t,o){var r=t[t.length-1].node;return ol.xml.createElementNS(r.namespaceURI,"Placemark")};ol.format.KML.GEOMETRY_NODE_FACTORY_=function(e,t,o){if(e){var r=t[t.length-1].node;return ol.xml.createElementNS(r.namespaceURI,ol.format.KML.GEOMETRY_TYPE_TO_NODENAME_[e.getType()])}};ol.format.KML.COLOR_NODE_FACTORY_=ol.xml.makeSimpleNodeFactory("color");ol.format.KML.DATA_NODE_FACTORY_=ol.xml.makeSimpleNodeFactory("Data");ol.format.KML.EXTENDEDDATA_NODE_FACTORY_=ol.xml.makeSimpleNodeFactory("ExtendedData");ol.format.KML.INNER_BOUNDARY_NODE_FACTORY_=ol.xml.makeSimpleNodeFactory("innerBoundaryIs");ol.format.KML.POINT_NODE_FACTORY_=ol.xml.makeSimpleNodeFactory("Point");ol.format.KML.LINE_STRING_NODE_FACTORY_=ol.xml.makeSimpleNodeFactory("LineString");ol.format.KML.LINEAR_RING_NODE_FACTORY_=ol.xml.makeSimpleNodeFactory("LinearRing");ol.format.KML.POLYGON_NODE_FACTORY_=ol.xml.makeSimpleNodeFactory("Polygon");ol.format.KML.OUTER_BOUNDARY_NODE_FACTORY_=ol.xml.makeSimpleNodeFactory("outerBoundaryIs");ol.format.KML.prototype.writeFeatures;ol.format.KML.prototype.writeFeaturesNode=function(e,t){t=this.adaptOptions(t);var o=ol.xml.createElementNS(ol.format.KML.NAMESPACE_URIS_[4],"kml");var r="http://www.w3.org/2000/xmlns/";var i="http://www.w3.org/2001/XMLSchema-instance";ol.xml.setAttributeNS(o,r,"xmlns:gx",ol.format.KML.GX_NAMESPACE_URIS_[0]);ol.xml.setAttributeNS(o,r,"xmlns:xsi",i);ol.xml.setAttributeNS(o,i,"xsi:schemaLocation",ol.format.KML.SCHEMA_LOCATION_);var n={node:o};var l={};if(e.length>1){l["Document"]=e}else if(e.length==1){l["Placemark"]=e[0]}var a=ol.format.KML.KML_SEQUENCE_[o.namespaceURI];var s=ol.xml.makeSequence(l,a);ol.xml.pushSerializeAndPop(n,ol.format.KML.KML_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,s,[t],a,this);return o};goog.provide("ol.ext.PBF");ol.ext.PBF=function(){};(function(){(function(e){"use strict";var t=function(e,t,o,r,i){var n,l;var a=i*8-r-1;var s=(1<<a)-1;var p=s>>1;var g=-7;var u=o?i-1:0;var c=o?-1:1;var y=e[t+u];u+=c;n=y&(1<<-g)-1;y>>=-g;g+=a;for(;g>0;n=n*256+e[t+u],u+=c,g-=8){}l=n&(1<<-g)-1;n>>=-g;g+=r;for(;g>0;l=l*256+e[t+u],u+=c,g-=8){}if(n===0){n=1-p}else if(n===s){return l?NaN:(y?-1:1)*Infinity}else{l=l+Math.pow(2,r);n=n-p}return(y?-1:1)*l*Math.pow(2,n-r)};var o=function(e,t,o,r,i,n){var l,a,s;var p=n*8-i-1;var g=(1<<p)-1;var u=g>>1;var c=i===23?Math.pow(2,-24)-Math.pow(2,-77):0;var y=r?0:n-1;var d=r?1:-1;var h=t<0||t===0&&1/t<0?1:0;t=Math.abs(t);if(isNaN(t)||t===Infinity){a=isNaN(t)?1:0;l=g}else{l=Math.floor(Math.log(t)/Math.LN2);if(t*(s=Math.pow(2,-l))<1){l--;s*=2}if(l+u>=1){t+=c/s}else{t+=c*Math.pow(2,1-u)}if(t*s>=2){l++;s/=2}if(l+u>=g){a=0;l=g}else if(l+u>=1){a=(t*s-1)*Math.pow(2,i);l=l+u}else{a=t*Math.pow(2,u-1)*Math.pow(2,i);l=0}}for(;i>=8;e[o+y]=a&255,y+=d,a/=256,i-=8){}l=l<<i|a;p+=i;for(;p>0;e[o+y]=l&255,y+=d,l/=256,p-=8){}e[o+y-d]|=h*128};var r={read:t,write:o};var i=n;function n(e){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(e)?e:new Uint8Array(e||0);this.pos=0;this.type=0;this.length=this.buf.length}n.Varint=0;n.Fixed64=1;n.Bytes=2;n.Fixed32=5;var l=(1<<16)*(1<<16);var a=1/l;n.prototype={destroy:function(){this.buf=null},readFields:function(e,t,o){o=o||this.length;while(this.pos<o){var r=this.readVarint(),i=r>>3,n=this.pos;this.type=r&7;e(i,t,this);if(this.pos===n)this.skip(r)}return t},readMessage:function(e,t){return this.readFields(e,t,this.readVarint()+this.pos)},readFixed32:function(){var e=T(this.buf,this.pos);this.pos+=4;return e},readSFixed32:function(){var e=L(this.buf,this.pos);this.pos+=4;return e},readFixed64:function(){var e=T(this.buf,this.pos)+T(this.buf,this.pos+4)*l;this.pos+=8;return e},readSFixed64:function(){var e=T(this.buf,this.pos)+L(this.buf,this.pos+4)*l;this.pos+=8;return e},readFloat:function(){var e=r.read(this.buf,this.pos,true,23,4);this.pos+=4;return e},readDouble:function(){var e=r.read(this.buf,this.pos,true,52,8);this.pos+=8;return e},readVarint:function(e){var t=this.buf,o,r;r=t[this.pos++];o=r&127;if(r<128)return o;r=t[this.pos++];o|=(r&127)<<7;if(r<128)return o;r=t[this.pos++];o|=(r&127)<<14;if(r<128)return o;r=t[this.pos++];o|=(r&127)<<21;if(r<128)return o;r=t[this.pos];o|=(r&15)<<28;return s(o,e,this)},readVarint64:function(){return this.readVarint(true)},readSVarint:function(){var e=this.readVarint();return e%2===1?(e+1)/-2:e/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var e=this.readVarint()+this.pos,t=M(this.buf,this.pos,e);this.pos=e;return t},readBytes:function(){var e=this.readVarint()+this.pos,t=this.buf.subarray(this.pos,e);this.pos=e;return t},readPackedVarint:function(e,t){var o=p(this);e=e||[];while(this.pos<o)e.push(this.readVarint(t));return e},readPackedSVarint:function(e){var t=p(this);e=e||[];while(this.pos<t)e.push(this.readSVarint());return e},readPackedBoolean:function(e){var t=p(this);e=e||[];while(this.pos<t)e.push(this.readBoolean());return e},readPackedFloat:function(e){var t=p(this);e=e||[];while(this.pos<t)e.push(this.readFloat());return e},readPackedDouble:function(e){var t=p(this);e=e||[];while(this.pos<t)e.push(this.readDouble());return e},readPackedFixed32:function(e){var t=p(this);e=e||[];while(this.pos<t)e.push(this.readFixed32());return e},readPackedSFixed32:function(e){var t=p(this);e=e||[];while(this.pos<t)e.push(this.readSFixed32());return e},readPackedFixed64:function(e){var t=p(this);e=e||[];while(this.pos<t)e.push(this.readFixed64());return e},readPackedSFixed64:function(e){var t=p(this);e=e||[];while(this.pos<t)e.push(this.readSFixed64());return e},skip:function(e){var t=e&7;if(t===n.Varint)while(this.buf[this.pos++]>127){}else if(t===n.Bytes)this.pos=this.readVarint()+this.pos;else if(t===n.Fixed32)this.pos+=4;else if(t===n.Fixed64)this.pos+=8;else throw new Error("Unimplemented type: "+t)},writeTag:function(e,t){this.writeVarint(e<<3|t)},realloc:function(e){var t=this.length||16;while(t<this.pos+e)t*=2;if(t!==this.length){var o=new Uint8Array(t);o.set(this.buf);this.buf=o;this.length=t}},finish:function(){this.length=this.pos;this.pos=0;return this.buf.subarray(0,this.length)},writeFixed32:function(e){this.realloc(4);R(this.buf,e,this.pos);this.pos+=4},writeSFixed32:function(e){this.realloc(4);R(this.buf,e,this.pos);this.pos+=4},writeFixed64:function(e){this.realloc(8);R(this.buf,e&-1,this.pos);R(this.buf,Math.floor(e*a),this.pos+4);this.pos+=8},writeSFixed64:function(e){this.realloc(8);R(this.buf,e&-1,this.pos);R(this.buf,Math.floor(e*a),this.pos+4);this.pos+=8},writeVarint:function(e){e=+e||0;if(e>268435455||e<0){u(e,this);return}this.realloc(4);this.buf[this.pos++]=e&127|(e>127?128:0);if(e<=127)return;this.buf[this.pos++]=(e>>>=7)&127|(e>127?128:0);if(e<=127)return;this.buf[this.pos++]=(e>>>=7)&127|(e>127?128:0);if(e<=127)return;this.buf[this.pos++]=e>>>7&127},writeSVarint:function(e){this.writeVarint(e<0?-e*2-1:e*2)},writeBoolean:function(e){this.writeVarint(Boolean(e))},writeString:function(e){e=String(e);this.realloc(e.length*4);this.pos++;var t=this.pos;this.pos=C(this.buf,e,this.pos);var o=this.pos-t;if(o>=128)d(t,o,this);this.pos=t-1;this.writeVarint(o);this.pos+=o},writeFloat:function(e){this.realloc(4);r.write(this.buf,e,this.pos,true,23,4);this.pos+=4},writeDouble:function(e){this.realloc(8);r.write(this.buf,e,this.pos,true,52,8);this.pos+=8},writeBytes:function(e){var t=e.length;this.writeVarint(t);this.realloc(t);for(var o=0;o<t;o++)this.buf[this.pos++]=e[o]},writeRawMessage:function(e,t){this.pos++;var o=this.pos;e(t,this);var r=this.pos-o;if(r>=128)d(o,r,this);this.pos=o-1;this.writeVarint(r);this.pos+=r},writeMessage:function(e,t,o){this.writeTag(e,n.Bytes);this.writeRawMessage(t,o)},writePackedVarint:function(e,t){this.writeMessage(e,h,t)},writePackedSVarint:function(e,t){this.writeMessage(e,f,t)},writePackedBoolean:function(e,t){this.writeMessage(e,_,t)},writePackedFloat:function(e,t){this.writeMessage(e,m,t)},writePackedDouble:function(e,t){this.writeMessage(e,v,t)},writePackedFixed32:function(e,t){this.writeMessage(e,S,t)},writePackedSFixed32:function(e,t){this.writeMessage(e,x,t)},writePackedFixed64:function(e,t){this.writeMessage(e,P,t)},writePackedSFixed64:function(e,t){this.writeMessage(e,E,t)},writeBytesField:function(e,t){this.writeTag(e,n.Bytes);this.writeBytes(t)},writeFixed32Field:function(e,t){this.writeTag(e,n.Fixed32);this.writeFixed32(t)},writeSFixed32Field:function(e,t){this.writeTag(e,n.Fixed32);this.writeSFixed32(t)},writeFixed64Field:function(e,t){this.writeTag(e,n.Fixed64);this.writeFixed64(t)},writeSFixed64Field:function(e,t){this.writeTag(e,n.Fixed64);this.writeSFixed64(t)},writeVarintField:function(e,t){this.writeTag(e,n.Varint);this.writeVarint(t)},writeSVarintField:function(e,t){this.writeTag(e,n.Varint);this.writeSVarint(t)},writeStringField:function(e,t){this.writeTag(e,n.Bytes);this.writeString(t)},writeFloatField:function(e,t){this.writeTag(e,n.Fixed32);this.writeFloat(t)},writeDoubleField:function(e,t){this.writeTag(e,n.Fixed64);this.writeDouble(t)},writeBooleanField:function(e,t){this.writeVarintField(e,Boolean(t))}};function s(e,t,o){var r=o.buf,i,n;n=r[o.pos++];i=(n&112)>>4;if(n<128)return g(e,i,t);n=r[o.pos++];i|=(n&127)<<3;if(n<128)return g(e,i,t);n=r[o.pos++];i|=(n&127)<<10;if(n<128)return g(e,i,t);n=r[o.pos++];i|=(n&127)<<17;if(n<128)return g(e,i,t);n=r[o.pos++];i|=(n&127)<<24;if(n<128)return g(e,i,t);n=r[o.pos++];i|=(n&1)<<31;if(n<128)return g(e,i,t);throw new Error("Expected varint not more than 10 bytes")}function p(e){return e.type===n.Bytes?e.readVarint()+e.pos:e.pos+1}function g(e,t,o){if(o){return t*4294967296+(e>>>0)}return(t>>>0)*4294967296+(e>>>0)}function u(e,t){var o,r;if(e>=0){o=e%4294967296|0;r=e/4294967296|0}else{o=~(-e%4294967296);r=~(-e/4294967296);if(o^4294967295){o=o+1|0}else{o=0;r=r+1|0}}if(e>=0x10000000000000000||e<-0x10000000000000000){throw new Error("Given varint doesn't fit into 10 bytes")}t.realloc(10);c(o,r,t);y(r,t)}function c(e,t,o){o.buf[o.pos++]=e&127|128;e>>>=7;o.buf[o.pos++]=e&127|128;e>>>=7;o.buf[o.pos++]=e&127|128;e>>>=7;o.buf[o.pos++]=e&127|128;e>>>=7;o.buf[o.pos]=e&127}function y(e,t){var o=(e&7)<<4;t.buf[t.pos++]|=o|((e>>>=3)?128:0);if(!e)return;t.buf[t.pos++]=e&127|((e>>>=7)?128:0);if(!e)return;t.buf[t.pos++]=e&127|((e>>>=7)?128:0);if(!e)return;t.buf[t.pos++]=e&127|((e>>>=7)?128:0);if(!e)return;t.buf[t.pos++]=e&127|((e>>>=7)?128:0);if(!e)return;t.buf[t.pos++]=e&127}function d(e,t,o){var r=t<=16383?1:t<=2097151?2:t<=268435455?3:Math.ceil(Math.log(t)/(Math.LN2*7));o.realloc(r);for(var i=o.pos-1;i>=e;i--)o.buf[i+r]=o.buf[i]}function h(e,t){for(var o=0;o<e.length;o++)t.writeVarint(e[o])}function f(e,t){for(var o=0;o<e.length;o++)t.writeSVarint(e[o])}function m(e,t){for(var o=0;o<e.length;o++)t.writeFloat(e[o])}function v(e,t){for(var o=0;o<e.length;o++)t.writeDouble(e[o])}function _(e,t){for(var o=0;o<e.length;o++)t.writeBoolean(e[o])}function S(e,t){for(var o=0;o<e.length;o++)t.writeFixed32(e[o])}function x(e,t){for(var o=0;o<e.length;o++)t.writeSFixed32(e[o])}function P(e,t){for(var o=0;o<e.length;o++)t.writeFixed64(e[o])}function E(e,t){for(var o=0;o<e.length;o++)t.writeSFixed64(e[o])}function T(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+e[t+3]*16777216}function R(e,t,o){e[o]=t;e[o+1]=t>>>8;e[o+2]=t>>>16;e[o+3]=t>>>24}function L(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+(e[t+3]<<24)}function M(e,t,o){var r="";var i=t;while(i<o){var n=e[i];var l=null;var a=n>239?4:n>223?3:n>191?2:1;if(i+a>o)break;var s,p,g;if(a===1){if(n<128){l=n}}else if(a===2){s=e[i+1];if((s&192)===128){l=(n&31)<<6|s&63;if(l<=127){l=null}}}else if(a===3){s=e[i+1];p=e[i+2];if((s&192)===128&&(p&192)===128){l=(n&15)<<12|(s&63)<<6|p&63;if(l<=2047||l>=55296&&l<=57343){l=null}}}else if(a===4){s=e[i+1];p=e[i+2];g=e[i+3];if((s&192)===128&&(p&192)===128&&(g&192)===128){l=(n&15)<<18|(s&63)<<12|(p&63)<<6|g&63;if(l<=65535||l>=1114112){l=null}}}if(l===null){l=65533;a=1}else if(l>65535){l-=65536;r+=String.fromCharCode(l>>>10&1023|55296);l=56320|l&1023}r+=String.fromCharCode(l);i+=a}return r}function C(e,t,o){for(var r=0,i,n;r<t.length;r++){i=t.charCodeAt(r);if(i>55295&&i<57344){if(n){if(i<56320){e[o++]=239;e[o++]=191;e[o++]=189;n=i;continue}else{i=n-55296<<10|i-56320|65536;n=null}}else{if(i>56319||r+1===t.length){e[o++]=239;e[o++]=191;e[o++]=189}else{n=i}continue}}else if(n){e[o++]=239;e[o++]=191;e[o++]=189;n=null}if(i<128){e[o++]=i}else{if(i<2048){e[o++]=i>>6|192}else{if(i<65536){e[o++]=i>>12|224}else{e[o++]=i>>18|240;e[o++]=i>>12&63|128}e[o++]=i>>6&63|128}e[o++]=i&63|128}}return o}e["default"]=i})(this.PBF=this.PBF||{})}).call(ol.ext);ol.ext.PBF=ol.ext.PBF.default;goog.provide("ol.render.Feature");goog.require("ol");goog.require("ol.array");goog.require("ol.extent");goog.require("ol.geom.GeometryType");goog.require("ol.geom.flat.center");goog.require("ol.geom.flat.interiorpoint");goog.require("ol.geom.flat.interpolate");goog.require("ol.geom.flat.transform");goog.require("ol.transform");ol.render.Feature=function(e,t,o,r,i){this.extent_;this.id_=i;this.type_=e;this.flatCoordinates_=t;this.flatInteriorPoints_=null;this.flatMidpoints_=null;this.ends_=o;this.properties_=r;this.tmpTransform_=ol.transform.create()};ol.render.Feature.prototype.get=function(e){return this.properties_[e]};ol.render.Feature.prototype.getEnds=ol.render.Feature.prototype.getEndss=function(){return this.ends_};ol.render.Feature.prototype.getExtent=function(){if(!this.extent_){this.extent_=this.type_===ol.geom.GeometryType.POINT?ol.extent.createOrUpdateFromCoordinate(this.flatCoordinates_):ol.extent.createOrUpdateFromFlatCoordinates(this.flatCoordinates_,0,this.flatCoordinates_.length,2)}return this.extent_};ol.render.Feature.prototype.getFlatInteriorPoint=function(){if(!this.flatInteriorPoints_){var e=ol.extent.getCenter(this.getExtent());this.flatInteriorPoints_=ol.geom.flat.interiorpoint.linearRings(this.flatCoordinates_,0,this.ends_,2,e,0)}return this.flatInteriorPoints_};ol.render.Feature.prototype.getFlatInteriorPoints=function(){if(!this.flatInteriorPoints_){var e=ol.geom.flat.center.linearRingss(this.flatCoordinates_,0,this.ends_,2);this.flatInteriorPoints_=ol.geom.flat.interiorpoint.linearRingss(this.flatCoordinates_,0,this.ends_,2,e)}return this.flatInteriorPoints_};ol.render.Feature.prototype.getFlatMidpoint=function(){if(!this.flatMidpoints_){this.flatMidpoints_=ol.geom.flat.interpolate.lineString(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)}return this.flatMidpoints_};ol.render.Feature.prototype.getFlatMidpoints=function(){if(!this.flatMidpoints_){this.flatMidpoints_=[];var e=this.flatCoordinates_;var t=0;var o=this.ends_;for(var r=0,i=o.length;r<i;++r){var n=o[r];var l=ol.geom.flat.interpolate.lineString(e,t,n,2,.5);ol.array.extend(this.flatMidpoints_,l);t=n}}return this.flatMidpoints_};ol.render.Feature.prototype.getId=function(){return this.id_};ol.render.Feature.prototype.getOrientedFlatCoordinates=function(){return this.flatCoordinates_};ol.render.Feature.prototype.getFlatCoordinates=ol.render.Feature.prototype.getOrientedFlatCoordinates;ol.render.Feature.prototype.getGeometry=function(){return this};ol.render.Feature.prototype.getProperties=function(){return this.properties_};ol.render.Feature.prototype.getSimplifiedGeometry=ol.render.Feature.prototype.getGeometry;ol.render.Feature.prototype.getStride=function(){return 2};ol.render.Feature.prototype.getStyleFunction=ol.nullFunction;ol.render.Feature.prototype.getType=function(){return this.type_};ol.render.Feature.prototype.transform=function(e,t){var o=e.getExtent();var r=e.getWorldExtent();var i=ol.extent.getHeight(r)/ol.extent.getHeight(o);var n=this.tmpTransform_;ol.transform.compose(n,r[0],r[3],i,-i,0,0,0);ol.geom.flat.transform.transform2D(this.flatCoordinates_,0,this.flatCoordinates_.length,2,n,this.flatCoordinates_)};goog.provide("ol.format.MVT");goog.require("ol");goog.require("ol.asserts");goog.require("ol.ext.PBF");goog.require("ol.format.Feature");goog.require("ol.format.FormatType");goog.require("ol.geom.GeometryLayout");goog.require("ol.geom.GeometryType");goog.require("ol.geom.LineString");goog.require("ol.geom.MultiLineString");goog.require("ol.geom.MultiPoint");goog.require("ol.geom.MultiPolygon");goog.require("ol.geom.Point");goog.require("ol.geom.Polygon");goog.require("ol.geom.flat.orient");goog.require("ol.proj.Projection");goog.require("ol.proj.Units");goog.require("ol.render.Feature");ol.format.MVT=function(e){ol.format.Feature.call(this);var t=e?e:{};this.defaultDataProjection=new ol.proj.Projection({code:"EPSG:3857",units:ol.proj.Units.TILE_PIXELS});this.featureClass_=t.featureClass?t.featureClass:ol.render.Feature;this.geometryName_=t.geometryName;this.layerName_=t.layerName?t.layerName:"layer";this.layers_=t.layers?t.layers:null;this.extent_=null};ol.inherits(ol.format.MVT,ol.format.Feature);ol.format.MVT.pbfReaders_={layers:function(e,t,o){if(e===3){var r={keys:[],values:[],features:[]};var i=o.readVarint()+o.pos;o.readFields(ol.format.MVT.pbfReaders_.layer,r,i);r.length=r.features.length;if(r.length){t[r.name]=r}}},layer:function(e,t,o){if(e===15){t.version=o.readVarint()}else if(e===1){t.name=o.readString()}else if(e===5){t.extent=o.readVarint()}else if(e===2){t.features.push(o.pos)}else if(e===3){t.keys.push(o.readString())}else if(e===4){var r=null;var i=o.readVarint()+o.pos;while(o.pos<i){e=o.readVarint()>>3;r=e===1?o.readString():e===2?o.readFloat():e===3?o.readDouble():e===4?o.readVarint64():e===5?o.readVarint():e===6?o.readSVarint():e===7?o.readBoolean():null}t.values.push(r)}},feature:function(e,t,o){if(e==1){t.id=o.readVarint()}else if(e==2){var r=o.readVarint()+o.pos;while(o.pos<r){var i=t.layer.keys[o.readVarint()];var n=t.layer.values[o.readVarint()];t.properties[i]=n}}else if(e==3){t.type=o.readVarint()}else if(e==4){t.geometry=o.pos}}};ol.format.MVT.readRawFeature_=function(e,t,o){e.pos=t.features[o];var r=e.readVarint()+e.pos;var i={layer:t,type:0,properties:{}};e.readFields(ol.format.MVT.pbfReaders_.feature,i,r);return i};ol.format.MVT.readRawGeometry_=function(e,t,o,r){e.pos=t.geometry;var i=e.readVarint()+e.pos;var n=1;var l=0;var a=0;var s=0;var p=0;var g=0;while(e.pos<i){if(!l){var u=e.readVarint();n=u&7;l=u>>3}l--;if(n===1||n===2){a+=e.readSVarint();s+=e.readSVarint();if(n===1){if(p>g){r.push(p);g=p}}o.push(a,s);p+=2}else if(n===7){if(p>g){o.push(o[g],o[g+1]);p+=2}}else{ol.asserts.assert(false,59)}}if(p>g){r.push(p);g=p}};ol.format.MVT.getGeometryType_=function(e,t){var o;if(e===1){o=t===1?ol.geom.GeometryType.POINT:ol.geom.GeometryType.MULTI_POINT}else if(e===2){o=t===1?ol.geom.GeometryType.LINE_STRING:ol.geom.GeometryType.MULTI_LINE_STRING}else if(e===3){o=ol.geom.GeometryType.POLYGON}return o};ol.format.MVT.prototype.createFeature_=function(e,t,o){var r=t.type;if(r===0){return null}var i;var n=t.id;var l=t.properties;l[this.layerName_]=t.layer.name;var a=[];var s=[];ol.format.MVT.readRawGeometry_(e,t,a,s);var p=ol.format.MVT.getGeometryType_(r,s.length);if(this.featureClass_===ol.render.Feature){i=new this.featureClass_(p,a,s,l,n)}else{var g;if(p==ol.geom.GeometryType.POLYGON){var u=[];var c=0;var y=0;for(var d=0,h=s.length;d<h;++d){var f=s[d];if(!ol.geom.flat.orient.linearRingIsClockwise(a,c,f,2)){u.push(s.slice(y,d));y=d}c=f}if(u.length>1){s=u;g=new ol.geom.MultiPolygon(null)}else{g=new ol.geom.Polygon(null)}}else{g=p===ol.geom.GeometryType.POINT?new ol.geom.Point(null):p===ol.geom.GeometryType.LINE_STRING?new ol.geom.LineString(null):p===ol.geom.GeometryType.POLYGON?new ol.geom.Polygon(null):p===ol.geom.GeometryType.MULTI_POINT?new ol.geom.MultiPoint(null):p===ol.geom.GeometryType.MULTI_LINE_STRING?new ol.geom.MultiLineString(null):null}g.setFlatCoordinates(ol.geom.GeometryLayout.XY,a,s);i=new this.featureClass_;if(this.geometryName_){i.setGeometryName(this.geometryName_)}var m=ol.format.Feature.transformWithOptions(g,false,this.adaptOptions(o));i.setGeometry(m);i.setId(n);i.setProperties(l)}return i};ol.format.MVT.prototype.getLastExtent=function(){return this.extent_};ol.format.MVT.prototype.getType=function(){return ol.format.FormatType.ARRAY_BUFFER};ol.format.MVT.prototype.readFeatures=function(e,t){var o=this.layers_;var r=new ol.ext.PBF(e);var i=r.readFields(ol.format.MVT.pbfReaders_.layers,{});var n=[];var l;for(var a in i){if(o&&o.indexOf(a)==-1){continue}l=i[a];var s;for(var p=0,g=l.length;p<g;++p){s=ol.format.MVT.readRawFeature_(r,l,p);n.push(this.createFeature_(r,s))}this.extent_=l?[0,0,l.extent,l.extent]:null}return n};ol.format.MVT.prototype.readProjection=function(e){return this.defaultDataProjection};ol.format.MVT.prototype.setLayers=function(e){this.layers_=e};ol.format.MVT.prototype.readFeature=function(){};ol.format.MVT.prototype.readGeometry=function(){};ol.format.MVT.prototype.writeFeature=function(){};ol.format.MVT.prototype.writeGeometry=function(){};ol.format.MVT.prototype.writeFeatures=function(){};goog.provide("ol.format.OSMXML");goog.require("ol");goog.require("ol.array");goog.require("ol.Feature");goog.require("ol.format.Feature");goog.require("ol.format.XMLFeature");goog.require("ol.geom.GeometryLayout");goog.require("ol.geom.LineString");goog.require("ol.geom.Point");goog.require("ol.geom.Polygon");goog.require("ol.obj");goog.require("ol.proj");goog.require("ol.xml");ol.format.OSMXML=function(){ol.format.XMLFeature.call(this);this.defaultDataProjection=ol.proj.get("EPSG:4326")};ol.inherits(ol.format.OSMXML,ol.format.XMLFeature);ol.format.OSMXML.readNode_=function(e,t){var o=t[0];var r=t[t.length-1];var i=e.getAttribute("id");var n=[parseFloat(e.getAttribute("lon")),parseFloat(e.getAttribute("lat"))];r.nodes[i]=n;var l=ol.xml.pushParseAndPop({tags:{}},ol.format.OSMXML.NODE_PARSERS_,e,t);if(!ol.obj.isEmpty(l.tags)){var a=new ol.geom.Point(n);ol.format.Feature.transformWithOptions(a,false,o);var s=new ol.Feature(a);s.setId(i);s.setProperties(l.tags);r.features.push(s)}};ol.format.OSMXML.readWay_=function(e,t){var o=e.getAttribute("id");var r=ol.xml.pushParseAndPop({id:o,ndrefs:[],tags:{}},ol.format.OSMXML.WAY_PARSERS_,e,t);var i=t[t.length-1];i.ways.push(r)};ol.format.OSMXML.readNd_=function(e,t){var o=t[t.length-1];o.ndrefs.push(e.getAttribute("ref"))};ol.format.OSMXML.readTag_=function(e,t){var o=t[t.length-1];o.tags[e.getAttribute("k")]=e.getAttribute("v")};ol.format.OSMXML.NAMESPACE_URIS_=[null];ol.format.OSMXML.WAY_PARSERS_=ol.xml.makeStructureNS(ol.format.OSMXML.NAMESPACE_URIS_,{nd:ol.format.OSMXML.readNd_,tag:ol.format.OSMXML.readTag_});ol.format.OSMXML.PARSERS_=ol.xml.makeStructureNS(ol.format.OSMXML.NAMESPACE_URIS_,{node:ol.format.OSMXML.readNode_,way:ol.format.OSMXML.readWay_});ol.format.OSMXML.NODE_PARSERS_=ol.xml.makeStructureNS(ol.format.OSMXML.NAMESPACE_URIS_,{tag:ol.format.OSMXML.readTag_});ol.format.OSMXML.prototype.readFeatures;ol.format.OSMXML.prototype.readFeaturesFromNode=function(e,t){var o=this.getReadOptions(e,t);if(e.localName=="osm"){var r=ol.xml.pushParseAndPop({nodes:{},ways:[],features:[]},ol.format.OSMXML.PARSERS_,e,[o]);for(var i=0;i<r.ways.length;i++){var n=r.ways[i];var l=[];for(var a=0,s=n.ndrefs.length;a<s;a++){var p=r.nodes[n.ndrefs[a]];ol.array.extend(l,p)}var g;if(n.ndrefs[0]==n.ndrefs[n.ndrefs.length-1]){g=new ol.geom.Polygon(null);g.setFlatCoordinates(ol.geom.GeometryLayout.XY,l,[l.length])}else{g=new ol.geom.LineString(null);g.setFlatCoordinates(ol.geom.GeometryLayout.XY,l)}ol.format.Feature.transformWithOptions(g,false,o);var u=new ol.Feature(g);u.setId(n.id);u.setProperties(n.tags);r.features.push(u)}if(r.features){return r.features}}return[]};ol.format.OSMXML.prototype.readProjection;ol.format.OSMXML.prototype.writeFeatureNode=function(e,t){};ol.format.OSMXML.prototype.writeFeaturesNode=function(e,t){};ol.format.OSMXML.prototype.writeGeometryNode=function(e,t){};goog.provide("ol.format.XLink");ol.format.XLink.NAMESPACE_URI="http://www.w3.org/1999/xlink";ol.format.XLink.readHref=function(e){return e.getAttributeNS(ol.format.XLink.NAMESPACE_URI,"href")};goog.provide("ol.format.XML");goog.require("ol.xml");ol.format.XML=function(){};ol.format.XML.prototype.read=function(e){if(ol.xml.isDocument(e)){return this.readFromDocument(e)}else if(ol.xml.isNode(e)){return this.readFromNode(e)}else if(typeof e==="string"){var t=ol.xml.parse(e);return this.readFromDocument(t)}else{return null}};ol.format.XML.prototype.readFromDocument=function(e){};ol.format.XML.prototype.readFromNode=function(e){};goog.provide("ol.format.OWS");goog.require("ol");goog.require("ol.format.XLink");goog.require("ol.format.XML");goog.require("ol.format.XSD");goog.require("ol.xml");ol.format.OWS=function(){ol.format.XML.call(this)};ol.inherits(ol.format.OWS,ol.format.XML);ol.format.OWS.prototype.readFromDocument=function(e){for(var t=e.firstChild;t;t=t.nextSibling){if(t.nodeType==Node.ELEMENT_NODE){return this.readFromNode(t)}}return null};ol.format.OWS.prototype.readFromNode=function(e){var t=ol.xml.pushParseAndPop({},ol.format.OWS.PARSERS_,e,[]);return t?t:null};ol.format.OWS.readAddress_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.OWS.ADDRESS_PARSERS_,e,t)};ol.format.OWS.readAllowedValues_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.OWS.ALLOWED_VALUES_PARSERS_,e,t)};ol.format.OWS.readConstraint_=function(e,t){var o=e.getAttribute("name");if(!o){return undefined}return ol.xml.pushParseAndPop({name:o},ol.format.OWS.CONSTRAINT_PARSERS_,e,t)};ol.format.OWS.readContactInfo_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.OWS.CONTACT_INFO_PARSERS_,e,t)};ol.format.OWS.readDcp_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.OWS.DCP_PARSERS_,e,t)};ol.format.OWS.readGet_=function(e,t){var o=ol.format.XLink.readHref(e);if(!o){return undefined}return ol.xml.pushParseAndPop({href:o},ol.format.OWS.REQUEST_METHOD_PARSERS_,e,t)};ol.format.OWS.readHttp_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.OWS.HTTP_PARSERS_,e,t)};ol.format.OWS.readOperation_=function(e,t){var o=e.getAttribute("name");var r=ol.xml.pushParseAndPop({},ol.format.OWS.OPERATION_PARSERS_,e,t);if(!r){return undefined}var i=t[t.length-1];i[o]=r};ol.format.OWS.readOperationsMetadata_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.OWS.OPERATIONS_METADATA_PARSERS_,e,t)};ol.format.OWS.readPhone_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.OWS.PHONE_PARSERS_,e,t)};ol.format.OWS.readServiceIdentification_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.OWS.SERVICE_IDENTIFICATION_PARSERS_,e,t)};ol.format.OWS.readServiceContact_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.OWS.SERVICE_CONTACT_PARSERS_,e,t)};ol.format.OWS.readServiceProvider_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.OWS.SERVICE_PROVIDER_PARSERS_,e,t)};ol.format.OWS.readValue_=function(e,t){return ol.format.XSD.readString(e)};ol.format.OWS.NAMESPACE_URIS_=[null,"http://www.opengis.net/ows/1.1"];ol.format.OWS.PARSERS_=ol.xml.makeStructureNS(ol.format.OWS.NAMESPACE_URIS_,{ServiceIdentification:ol.xml.makeObjectPropertySetter(ol.format.OWS.readServiceIdentification_),ServiceProvider:ol.xml.makeObjectPropertySetter(ol.format.OWS.readServiceProvider_),OperationsMetadata:ol.xml.makeObjectPropertySetter(ol.format.OWS.readOperationsMetadata_)});ol.format.OWS.ADDRESS_PARSERS_=ol.xml.makeStructureNS(ol.format.OWS.NAMESPACE_URIS_,{DeliveryPoint:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),City:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),AdministrativeArea:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),PostalCode:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Country:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),ElectronicMailAddress:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)});ol.format.OWS.ALLOWED_VALUES_PARSERS_=ol.xml.makeStructureNS(ol.format.OWS.NAMESPACE_URIS_,{Value:ol.xml.makeObjectPropertyPusher(ol.format.OWS.readValue_)});ol.format.OWS.CONSTRAINT_PARSERS_=ol.xml.makeStructureNS(ol.format.OWS.NAMESPACE_URIS_,{AllowedValues:ol.xml.makeObjectPropertySetter(ol.format.OWS.readAllowedValues_)});ol.format.OWS.CONTACT_INFO_PARSERS_=ol.xml.makeStructureNS(ol.format.OWS.NAMESPACE_URIS_,{Phone:ol.xml.makeObjectPropertySetter(ol.format.OWS.readPhone_),Address:ol.xml.makeObjectPropertySetter(ol.format.OWS.readAddress_)});ol.format.OWS.DCP_PARSERS_=ol.xml.makeStructureNS(ol.format.OWS.NAMESPACE_URIS_,{HTTP:ol.xml.makeObjectPropertySetter(ol.format.OWS.readHttp_)});ol.format.OWS.HTTP_PARSERS_=ol.xml.makeStructureNS(ol.format.OWS.NAMESPACE_URIS_,{Get:ol.xml.makeObjectPropertyPusher(ol.format.OWS.readGet_),Post:undefined});ol.format.OWS.OPERATION_PARSERS_=ol.xml.makeStructureNS(ol.format.OWS.NAMESPACE_URIS_,{DCP:ol.xml.makeObjectPropertySetter(ol.format.OWS.readDcp_)});ol.format.OWS.OPERATIONS_METADATA_PARSERS_=ol.xml.makeStructureNS(ol.format.OWS.NAMESPACE_URIS_,{Operation:ol.format.OWS.readOperation_});ol.format.OWS.PHONE_PARSERS_=ol.xml.makeStructureNS(ol.format.OWS.NAMESPACE_URIS_,{Voice:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Facsimile:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)});ol.format.OWS.REQUEST_METHOD_PARSERS_=ol.xml.makeStructureNS(ol.format.OWS.NAMESPACE_URIS_,{Constraint:ol.xml.makeObjectPropertyPusher(ol.format.OWS.readConstraint_)});ol.format.OWS.SERVICE_CONTACT_PARSERS_=ol.xml.makeStructureNS(ol.format.OWS.NAMESPACE_URIS_,{IndividualName:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),PositionName:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),ContactInfo:ol.xml.makeObjectPropertySetter(ol.format.OWS.readContactInfo_)});ol.format.OWS.SERVICE_IDENTIFICATION_PARSERS_=ol.xml.makeStructureNS(ol.format.OWS.NAMESPACE_URIS_,{Abstract:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),AccessConstraints:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Fees:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Title:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),ServiceTypeVersion:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),ServiceType:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)});ol.format.OWS.SERVICE_PROVIDER_PARSERS_=ol.xml.makeStructureNS(ol.format.OWS.NAMESPACE_URIS_,{ProviderName:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),ProviderSite:ol.xml.makeObjectPropertySetter(ol.format.XLink.readHref),ServiceContact:ol.xml.makeObjectPropertySetter(ol.format.OWS.readServiceContact_)});goog.provide("ol.geom.flat.flip");ol.geom.flat.flip.flipXY=function(e,t,o,r,i,n){var l,a;if(i!==undefined){l=i;a=n!==undefined?n:0}else{l=[];a=0}var s=t;while(s<o){var p=e[s++];l[a++]=e[s++];l[a++]=p;for(var g=2;g<r;++g){l[a++]=e[s++]}}l.length=a;return l};goog.provide("ol.format.Polyline");goog.require("ol");goog.require("ol.asserts");goog.require("ol.Feature");goog.require("ol.format.Feature");goog.require("ol.format.TextFeature");goog.require("ol.geom.GeometryLayout");goog.require("ol.geom.LineString");goog.require("ol.geom.SimpleGeometry");goog.require("ol.geom.flat.flip");goog.require("ol.geom.flat.inflate");goog.require("ol.proj");ol.format.Polyline=function(e){var t=e?e:{};ol.format.TextFeature.call(this);this.defaultDataProjection=ol.proj.get("EPSG:4326");this.factor_=t.factor?t.factor:1e5;this.geometryLayout_=t.geometryLayout?t.geometryLayout:ol.geom.GeometryLayout.XY};ol.inherits(ol.format.Polyline,ol.format.TextFeature);ol.format.Polyline.encodeDeltas=function(e,t,o){var r=o?o:1e5;var i;var n=new Array(t);for(i=0;i<t;++i){n[i]=0}var l,a;for(l=0,a=e.length;l<a;){for(i=0;i<t;++i,++l){var s=e[l];var p=s-n[i];n[i]=s;e[l]=p}}return ol.format.Polyline.encodeFloats(e,r)};ol.format.Polyline.decodeDeltas=function(e,t,o){var r=o?o:1e5;var i;var n=new Array(t);for(i=0;i<t;++i){n[i]=0}var l=ol.format.Polyline.decodeFloats(e,r);var a,s;for(a=0,s=l.length;a<s;){for(i=0;i<t;++i,++a){n[i]+=l[a];l[a]=n[i]}}return l};ol.format.Polyline.encodeFloats=function(e,t){var o=t?t:1e5;var r,i;for(r=0,i=e.length;r<i;++r){e[r]=Math.round(e[r]*o)}return ol.format.Polyline.encodeSignedIntegers(e)};ol.format.Polyline.decodeFloats=function(e,t){var o=t?t:1e5;var r=ol.format.Polyline.decodeSignedIntegers(e);var i,n;for(i=0,n=r.length;i<n;++i){r[i]/=o}return r};ol.format.Polyline.encodeSignedIntegers=function(e){var t,o;for(t=0,o=e.length;t<o;++t){var r=e[t];e[t]=r<0?~(r<<1):r<<1}return ol.format.Polyline.encodeUnsignedIntegers(e)};ol.format.Polyline.decodeSignedIntegers=function(e){var t=ol.format.Polyline.decodeUnsignedIntegers(e);var o,r;for(o=0,r=t.length;o<r;++o){var i=t[o];t[o]=i&1?~(i>>1):i>>1}return t};ol.format.Polyline.encodeUnsignedIntegers=function(e){var t="";var o,r;for(o=0,r=e.length;o<r;++o){t+=ol.format.Polyline.encodeUnsignedInteger(e[o])}return t};ol.format.Polyline.decodeUnsignedIntegers=function(e){var t=[];var o=0;var r=0;var i,n;for(i=0,n=e.length;i<n;++i){var l=e.charCodeAt(i)-63;o|=(l&31)<<r;if(l<32){t.push(o);o=0;r=0}else{r+=5}}return t};ol.format.Polyline.encodeUnsignedInteger=function(e){var t,o="";while(e>=32){t=(32|e&31)+63;o+=String.fromCharCode(t);e>>=5}t=e+63;o+=String.fromCharCode(t);return o};ol.format.Polyline.prototype.readFeature;ol.format.Polyline.prototype.readFeatureFromText=function(e,t){var o=this.readGeometryFromText(e,t);return new ol.Feature(o)};ol.format.Polyline.prototype.readFeatures;ol.format.Polyline.prototype.readFeaturesFromText=function(e,t){var o=this.readFeatureFromText(e,t);return[o]};ol.format.Polyline.prototype.readGeometry;ol.format.Polyline.prototype.readGeometryFromText=function(e,t){var o=ol.geom.SimpleGeometry.getStrideForLayout(this.geometryLayout_);var r=ol.format.Polyline.decodeDeltas(e,o,this.factor_);ol.geom.flat.flip.flipXY(r,0,r.length,o,r);var i=ol.geom.flat.inflate.coordinates(r,0,r.length,o);return ol.format.Feature.transformWithOptions(new ol.geom.LineString(i,this.geometryLayout_),false,this.adaptOptions(t))};ol.format.Polyline.prototype.readProjection;ol.format.Polyline.prototype.writeFeatureText=function(e,t){var o=e.getGeometry();if(o){return this.writeGeometryText(o,t)}else{ol.asserts.assert(false,40);return""}};ol.format.Polyline.prototype.writeFeaturesText=function(e,t){return this.writeFeatureText(e[0],t)};ol.format.Polyline.prototype.writeGeometry;ol.format.Polyline.prototype.writeGeometryText=function(e,t){e=ol.format.Feature.transformWithOptions(e,true,this.adaptOptions(t));var o=e.getFlatCoordinates();var r=e.getStride();ol.geom.flat.flip.flipXY(o,0,o.length,r,o);return ol.format.Polyline.encodeDeltas(o,r,this.factor_)};goog.provide("ol.format.TopoJSON");goog.require("ol");goog.require("ol.Feature");goog.require("ol.format.Feature");goog.require("ol.format.JSONFeature");goog.require("ol.geom.LineString");goog.require("ol.geom.MultiLineString");goog.require("ol.geom.MultiPoint");goog.require("ol.geom.MultiPolygon");goog.require("ol.geom.Point");goog.require("ol.geom.Polygon");goog.require("ol.proj");ol.format.TopoJSON=function(e){var t=e?e:{};ol.format.JSONFeature.call(this);this.layerName_=t.layerName;this.layers_=t.layers?t.layers:null;this.defaultDataProjection=ol.proj.get(t.defaultDataProjection?t.defaultDataProjection:"EPSG:4326")};ol.inherits(ol.format.TopoJSON,ol.format.JSONFeature);ol.format.TopoJSON.concatenateArcs_=function(e,t){var o=[];var r,i;var n,l;var a,s;for(n=0,l=e.length;n<l;++n){r=e[n];if(n>0){o.pop()}if(r>=0){i=t[r]}else{i=t[~r].slice().reverse()}o.push.apply(o,i)}for(a=0,s=o.length;a<s;++a){o[a]=o[a].slice()}return o};ol.format.TopoJSON.readPointGeometry_=function(e,t,o){var r=e.coordinates;if(t&&o){ol.format.TopoJSON.transformVertex_(r,t,o)}return new ol.geom.Point(r)};ol.format.TopoJSON.readMultiPointGeometry_=function(e,t,o){var r=e.coordinates;var i,n;if(t&&o){for(i=0,n=r.length;i<n;++i){ol.format.TopoJSON.transformVertex_(r[i],t,o)}}return new ol.geom.MultiPoint(r)};ol.format.TopoJSON.readLineStringGeometry_=function(e,t){var o=ol.format.TopoJSON.concatenateArcs_(e.arcs,t);return new ol.geom.LineString(o)};ol.format.TopoJSON.readMultiLineStringGeometry_=function(e,t){var o=[];var r,i;for(r=0,i=e.arcs.length;r<i;++r){o[r]=ol.format.TopoJSON.concatenateArcs_(e.arcs[r],t)}return new ol.geom.MultiLineString(o)};ol.format.TopoJSON.readPolygonGeometry_=function(e,t){var o=[];var r,i;for(r=0,i=e.arcs.length;r<i;++r){o[r]=ol.format.TopoJSON.concatenateArcs_(e.arcs[r],t)}return new ol.geom.Polygon(o)};ol.format.TopoJSON.readMultiPolygonGeometry_=function(e,t){var o=[];var r,i,n,l;var a,s;for(a=0,s=e.arcs.length;a<s;++a){r=e.arcs[a];i=[];for(n=0,l=r.length;n<l;++n){i[n]=ol.format.TopoJSON.concatenateArcs_(r[n],t)}o[a]=i}return new ol.geom.MultiPolygon(o)};ol.format.TopoJSON.readFeaturesFromGeometryCollection_=function(e,t,o,r,i,n,l){var a=e.geometries;var s=[];var p,g;for(p=0,g=a.length;p<g;++p){s[p]=ol.format.TopoJSON.readFeatureFromGeometry_(a[p],t,o,r,i,n,l)}return s};ol.format.TopoJSON.readFeatureFromGeometry_=function(e,t,o,r,i,n,l){var a;var s=e.type;var p=ol.format.TopoJSON.GEOMETRY_READERS_[s];if(s==="Point"||s==="MultiPoint"){a=p(e,o,r)}else{a=p(e,t)}var g=new ol.Feature;g.setGeometry(ol.format.Feature.transformWithOptions(a,false,l));if(e.id!==undefined){g.setId(e.id)}var u=e.properties;if(i){if(!u){u={}}u[i]=n}if(u){g.setProperties(u)}return g};ol.format.TopoJSON.prototype.readFeatures;ol.format.TopoJSON.prototype.readFeaturesFromObject=function(e,t){if(e.type=="Topology"){var o=e;var r,i=null,n=null;if(o.transform){r=o.transform;i=r.scale;n=r.translate}var l=o.arcs;if(r){ol.format.TopoJSON.transformArcs_(l,i,n)}var a=[];var s=o.objects;var p=this.layerName_;var g,u;for(g in s){if(this.layers_&&this.layers_.indexOf(g)==-1){continue}if(s[g].type==="GeometryCollection"){u=s[g];a.push.apply(a,ol.format.TopoJSON.readFeaturesFromGeometryCollection_(u,l,i,n,p,g,t))}else{u=s[g];a.push(ol.format.TopoJSON.readFeatureFromGeometry_(u,l,i,n,p,g,t))}}return a}else{return[]}};ol.format.TopoJSON.transformArcs_=function(e,t,o){var r,i;for(r=0,i=e.length;r<i;++r){ol.format.TopoJSON.transformArc_(e[r],t,o)}};ol.format.TopoJSON.transformArc_=function(e,t,o){var r=0;var i=0;var n;var l,a;for(l=0,a=e.length;l<a;++l){n=e[l];r+=n[0];i+=n[1];n[0]=r;n[1]=i;ol.format.TopoJSON.transformVertex_(n,t,o)}};ol.format.TopoJSON.transformVertex_=function(e,t,o){e[0]=e[0]*t[0]+o[0];e[1]=e[1]*t[1]+o[1]};ol.format.TopoJSON.prototype.readProjection;ol.format.TopoJSON.prototype.readProjectionFromObject=function(e){return this.defaultDataProjection};ol.format.TopoJSON.GEOMETRY_READERS_={Point:ol.format.TopoJSON.readPointGeometry_,LineString:ol.format.TopoJSON.readLineStringGeometry_,Polygon:ol.format.TopoJSON.readPolygonGeometry_,MultiPoint:ol.format.TopoJSON.readMultiPointGeometry_,MultiLineString:ol.format.TopoJSON.readMultiLineStringGeometry_,MultiPolygon:ol.format.TopoJSON.readMultiPolygonGeometry_};ol.format.TopoJSON.prototype.writeFeatureObject=function(e,t){};ol.format.TopoJSON.prototype.writeFeaturesObject=function(e,t){};ol.format.TopoJSON.prototype.writeGeometryObject=function(e,t){};ol.format.TopoJSON.prototype.readGeometryFromObject=function(){};ol.format.TopoJSON.prototype.readFeatureFromObject=function(){};goog.provide("ol.format.WFS");goog.require("ol");goog.require("ol.asserts");goog.require("ol.format.GML2");goog.require("ol.format.GML3");goog.require("ol.format.GMLBase");goog.require("ol.format.filter");goog.require("ol.format.XMLFeature");goog.require("ol.format.XSD");goog.require("ol.geom.Geometry");goog.require("ol.obj");goog.require("ol.proj");goog.require("ol.xml");ol.format.WFS=function(e){var t=e?e:{};this.featureType_=t.featureType;this.featureNS_=t.featureNS;this.gmlFormat_=t.gmlFormat?t.gmlFormat:new ol.format.GML3;this.schemaLocation_=t.schemaLocation?t.schemaLocation:ol.format.WFS.SCHEMA_LOCATIONS[ol.format.WFS.DEFAULT_VERSION];ol.format.XMLFeature.call(this)};ol.inherits(ol.format.WFS,ol.format.XMLFeature);ol.format.WFS.FEATURE_PREFIX="feature";ol.format.WFS.XMLNS="http://www.w3.org/2000/xmlns/";ol.format.WFS.OGCNS="http://www.opengis.net/ogc";ol.format.WFS.WFSNS="http://www.opengis.net/wfs";ol.format.WFS.FESNS="http://www.opengis.net/fes";ol.format.WFS.SCHEMA_LOCATIONS={"1.1.0":"http://www.opengis.net/wfs "+"http://schemas.opengis.net/wfs/1.1.0/wfs.xsd","1.0.0":"http://www.opengis.net/wfs "+"http://schemas.opengis.net/wfs/1.0.0/wfs.xsd"};ol.format.WFS.DEFAULT_VERSION="1.1.0";ol.format.WFS.prototype.getFeatureType=function(){return this.featureType_};ol.format.WFS.prototype.setFeatureType=function(e){this.featureType_=e};ol.format.WFS.prototype.readFeatures;ol.format.WFS.prototype.readFeaturesFromNode=function(e,t){var o={featureType:this.featureType_,featureNS:this.featureNS_};ol.obj.assign(o,this.getReadOptions(e,t?t:{}));var r=[o];this.gmlFormat_.FEATURE_COLLECTION_PARSERS[ol.format.GMLBase.GMLNS]["featureMember"]=ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.readFeaturesInternal);var i=ol.xml.pushParseAndPop([],this.gmlFormat_.FEATURE_COLLECTION_PARSERS,e,r,this.gmlFormat_);if(!i){i=[]}return i};ol.format.WFS.prototype.readTransactionResponse=function(e){if(ol.xml.isDocument(e)){return this.readTransactionResponseFromDocument(e)}else if(ol.xml.isNode(e)){return this.readTransactionResponseFromNode(e)}else if(typeof e==="string"){var t=ol.xml.parse(e);return this.readTransactionResponseFromDocument(t)}else{return undefined}};ol.format.WFS.prototype.readFeatureCollectionMetadata=function(e){if(ol.xml.isDocument(e)){return this.readFeatureCollectionMetadataFromDocument(e)}else if(ol.xml.isNode(e)){return this.readFeatureCollectionMetadataFromNode(e)}else if(typeof e==="string"){var t=ol.xml.parse(e);return this.readFeatureCollectionMetadataFromDocument(t)}else{return undefined}};ol.format.WFS.prototype.readFeatureCollectionMetadataFromDocument=function(e){for(var t=e.firstChild;t;t=t.nextSibling){if(t.nodeType==Node.ELEMENT_NODE){return this.readFeatureCollectionMetadataFromNode(t)}}return undefined};ol.format.WFS.FEATURE_COLLECTION_PARSERS_={"http://www.opengis.net/gml":{boundedBy:ol.xml.makeObjectPropertySetter(ol.format.GMLBase.prototype.readGeometryElement,"bounds")}};ol.format.WFS.prototype.readFeatureCollectionMetadataFromNode=function(e){var t={};var o=ol.format.XSD.readNonNegativeIntegerString(e.getAttribute("numberOfFeatures"));t["numberOfFeatures"]=o;return ol.xml.pushParseAndPop(t,ol.format.WFS.FEATURE_COLLECTION_PARSERS_,e,[],this.gmlFormat_)};ol.format.WFS.TRANSACTION_SUMMARY_PARSERS_={"http://www.opengis.net/wfs":{totalInserted:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),totalUpdated:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),totalDeleted:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger)}};ol.format.WFS.readTransactionSummary_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.WFS.TRANSACTION_SUMMARY_PARSERS_,e,t)};ol.format.WFS.OGC_FID_PARSERS_={"http://www.opengis.net/ogc":{FeatureId:ol.xml.makeArrayPusher(function(e,t){return e.getAttribute("fid")})}};ol.format.WFS.fidParser_=function(e,t){ol.xml.parseNode(ol.format.WFS.OGC_FID_PARSERS_,e,t)};ol.format.WFS.INSERT_RESULTS_PARSERS_={"http://www.opengis.net/wfs":{Feature:ol.format.WFS.fidParser_}};ol.format.WFS.readInsertResults_=function(e,t){return ol.xml.pushParseAndPop([],ol.format.WFS.INSERT_RESULTS_PARSERS_,e,t)};ol.format.WFS.TRANSACTION_RESPONSE_PARSERS_={"http://www.opengis.net/wfs":{TransactionSummary:ol.xml.makeObjectPropertySetter(ol.format.WFS.readTransactionSummary_,"transactionSummary"),InsertResults:ol.xml.makeObjectPropertySetter(ol.format.WFS.readInsertResults_,"insertIds")}};ol.format.WFS.prototype.readTransactionResponseFromDocument=function(e){for(var t=e.firstChild;t;t=t.nextSibling){if(t.nodeType==Node.ELEMENT_NODE){return this.readTransactionResponseFromNode(t)}}return undefined};ol.format.WFS.prototype.readTransactionResponseFromNode=function(e){return ol.xml.pushParseAndPop({},ol.format.WFS.TRANSACTION_RESPONSE_PARSERS_,e,[])};ol.format.WFS.QUERY_SERIALIZERS_={"http://www.opengis.net/wfs":{PropertyName:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode)}};ol.format.WFS.writeFeature_=function(e,t,o){var r=o[o.length-1];var i=r["featureType"];var n=r["featureNS"];var l=r["gmlVersion"];var a=ol.xml.createElementNS(n,i);e.appendChild(a);if(l===2){ol.format.GML2.prototype.writeFeatureElement(a,t,o)}else{ol.format.GML3.prototype.writeFeatureElement(a,t,o)}};ol.format.WFS.writeOgcFidFilter_=function(e,t,o){var r=ol.xml.createElementNS(ol.format.WFS.OGCNS,"Filter");var i=ol.xml.createElementNS(ol.format.WFS.OGCNS,"FeatureId");r.appendChild(i);i.setAttribute("fid",t);e.appendChild(r)};ol.format.WFS.getTypeName_=function(e,t){e=e?e:ol.format.WFS.FEATURE_PREFIX;var o=e+":";if(t.indexOf(o)===0){return t}else{return o+t}};ol.format.WFS.writeDelete_=function(e,t,o){var r=o[o.length-1];ol.asserts.assert(t.getId()!==undefined,26);var i=r["featureType"];var n=r["featurePrefix"];var l=r["featureNS"];var a=ol.format.WFS.getTypeName_(n,i);e.setAttribute("typeName",a);ol.xml.setAttributeNS(e,ol.format.WFS.XMLNS,"xmlns:"+n,l);var s=t.getId();if(s!==undefined){ol.format.WFS.writeOgcFidFilter_(e,s,o)}};ol.format.WFS.writeUpdate_=function(e,t,o){var r=o[o.length-1];ol.asserts.assert(t.getId()!==undefined,27);var i=r["featureType"];var n=r["featurePrefix"];var l=r["featureNS"];var a=ol.format.WFS.getTypeName_(n,i);var s=t.getGeometryName();e.setAttribute("typeName",a);ol.xml.setAttributeNS(e,ol.format.WFS.XMLNS,"xmlns:"+n,l);var p=t.getId();if(p!==undefined){var g=t.getKeys();var u=[];for(var c=0,y=g.length;c<y;c++){var d=t.get(g[c]);if(d!==undefined){var h=g[c];if(d instanceof ol.geom.Geometry){h=s}u.push({name:h,value:d})}}ol.xml.pushSerializeAndPop({gmlVersion:r["gmlVersion"],node:e,hasZ:r["hasZ"],srsName:r["srsName"]},ol.format.WFS.TRANSACTION_SERIALIZERS_,ol.xml.makeSimpleNodeFactory("Property"),u,o);ol.format.WFS.writeOgcFidFilter_(e,p,o)}};ol.format.WFS.writeProperty_=function(e,t,o){var r=ol.xml.createElementNS(ol.format.WFS.WFSNS,"Name");var i=o[o.length-1];var n=i["gmlVersion"];e.appendChild(r);ol.format.XSD.writeStringTextNode(r,t.name);if(t.value!==undefined&&t.value!==null){var l=ol.xml.createElementNS(ol.format.WFS.WFSNS,"Value");e.appendChild(l);if(t.value instanceof ol.geom.Geometry){if(n===2){ol.format.GML2.prototype.writeGeometryElement(l,t.value,o)}else{ol.format.GML3.prototype.writeGeometryElement(l,t.value,o)}}else{ol.format.XSD.writeStringTextNode(l,t.value)}}};ol.format.WFS.writeNative_=function(e,t,o){if(t.vendorId){e.setAttribute("vendorId",t.vendorId)}if(t.safeToIgnore!==undefined){e.setAttribute("safeToIgnore",t.safeToIgnore)}if(t.value!==undefined){ol.format.XSD.writeStringTextNode(e,t.value)}};ol.format.WFS.TRANSACTION_SERIALIZERS_={"http://www.opengis.net/wfs":{Insert:ol.xml.makeChildAppender(ol.format.WFS.writeFeature_),Update:ol.xml.makeChildAppender(ol.format.WFS.writeUpdate_),Delete:ol.xml.makeChildAppender(ol.format.WFS.writeDelete_),Property:ol.xml.makeChildAppender(ol.format.WFS.writeProperty_),Native:ol.xml.makeChildAppender(ol.format.WFS.writeNative_)}};ol.format.WFS.writeQuery_=function(e,t,o){var r=o[o.length-1];var i=r["featurePrefix"];var n=r["featureNS"];var l=r["propertyNames"];var a=r["srsName"];var s;if(i){s=ol.format.WFS.getTypeName_(i,t)}else{s=t}e.setAttribute("typeName",s);if(a){e.setAttribute("srsName",a)}if(n){ol.xml.setAttributeNS(e,ol.format.WFS.XMLNS,"xmlns:"+i,n)}var p=ol.obj.assign({},r);p.node=e;ol.xml.pushSerializeAndPop(p,ol.format.WFS.QUERY_SERIALIZERS_,ol.xml.makeSimpleNodeFactory("PropertyName"),l,o);var g=r["filter"];if(g){var u=ol.xml.createElementNS(ol.format.WFS.OGCNS,"Filter");e.appendChild(u);ol.format.WFS.writeFilterCondition_(u,g,o)}};ol.format.WFS.writeFilterCondition_=function(e,t,o){var r={node:e};ol.xml.pushSerializeAndPop(r,ol.format.WFS.GETFEATURE_SERIALIZERS_,ol.xml.makeSimpleNodeFactory(t.getTagName()),[t],o)};ol.format.WFS.writeBboxFilter_=function(e,t,o){var r=o[o.length-1];r["srsName"]=t.srsName;ol.format.WFS.writeOgcPropertyName_(e,t.geometryName);ol.format.GML3.prototype.writeGeometryElement(e,t.extent,o)};ol.format.WFS.writeContainsFilter_=function(e,t,o){var r=o[o.length-1];r["srsName"]=t.srsName;ol.format.WFS.writeOgcPropertyName_(e,t.geometryName);ol.format.GML3.prototype.writeGeometryElement(e,t.geometry,o)};ol.format.WFS.writeIntersectsFilter_=function(e,t,o){var r=o[o.length-1];r["srsName"]=t.srsName;ol.format.WFS.writeOgcPropertyName_(e,t.geometryName);ol.format.GML3.prototype.writeGeometryElement(e,t.geometry,o)};ol.format.WFS.writeWithinFilter_=function(e,t,o){var r=o[o.length-1];r["srsName"]=t.srsName;ol.format.WFS.writeOgcPropertyName_(e,t.geometryName);ol.format.GML3.prototype.writeGeometryElement(e,t.geometry,o)};ol.format.WFS.writeDuringFilter_=function(e,t,o){var r=ol.xml.createElementNS(ol.format.WFS.FESNS,"ValueReference");ol.format.XSD.writeStringTextNode(r,t.propertyName);e.appendChild(r);var i=ol.xml.createElementNS(ol.format.GMLBase.GMLNS,"TimePeriod");e.appendChild(i);var n=ol.xml.createElementNS(ol.format.GMLBase.GMLNS,"begin");i.appendChild(n);ol.format.WFS.writeTimeInstant_(n,t.begin);var l=ol.xml.createElementNS(ol.format.GMLBase.GMLNS,"end");i.appendChild(l);ol.format.WFS.writeTimeInstant_(l,t.end)};ol.format.WFS.writeLogicalFilter_=function(e,t,o){var r={node:e};var i=t.conditions;for(var n=0,l=i.length;n<l;++n){var a=i[n];ol.xml.pushSerializeAndPop(r,ol.format.WFS.GETFEATURE_SERIALIZERS_,ol.xml.makeSimpleNodeFactory(a.getTagName()),[a],o)}};ol.format.WFS.writeNotFilter_=function(e,t,o){var r={node:e};var i=t.condition;ol.xml.pushSerializeAndPop(r,ol.format.WFS.GETFEATURE_SERIALIZERS_,ol.xml.makeSimpleNodeFactory(i.getTagName()),[i],o)};ol.format.WFS.writeComparisonFilter_=function(e,t,o){if(t.matchCase!==undefined){e.setAttribute("matchCase",t.matchCase.toString())}ol.format.WFS.writeOgcPropertyName_(e,t.propertyName);ol.format.WFS.writeOgcLiteral_(e,""+t.expression)};ol.format.WFS.writeIsNullFilter_=function(e,t,o){ol.format.WFS.writeOgcPropertyName_(e,t.propertyName)};ol.format.WFS.writeIsBetweenFilter_=function(e,t,o){ol.format.WFS.writeOgcPropertyName_(e,t.propertyName);var r=ol.xml.createElementNS(ol.format.WFS.OGCNS,"LowerBoundary");e.appendChild(r);ol.format.WFS.writeOgcLiteral_(r,""+t.lowerBoundary);var i=ol.xml.createElementNS(ol.format.WFS.OGCNS,"UpperBoundary");e.appendChild(i);ol.format.WFS.writeOgcLiteral_(i,""+t.upperBoundary)};ol.format.WFS.writeIsLikeFilter_=function(e,t,o){e.setAttribute("wildCard",t.wildCard);e.setAttribute("singleChar",t.singleChar);e.setAttribute("escapeChar",t.escapeChar);if(t.matchCase!==undefined){e.setAttribute("matchCase",t.matchCase.toString())}ol.format.WFS.writeOgcPropertyName_(e,t.propertyName);ol.format.WFS.writeOgcLiteral_(e,""+t.pattern)};ol.format.WFS.writeOgcExpression_=function(e,t,o){var r=ol.xml.createElementNS(ol.format.WFS.OGCNS,e);ol.format.XSD.writeStringTextNode(r,o);t.appendChild(r)};ol.format.WFS.writeOgcPropertyName_=function(e,t){ol.format.WFS.writeOgcExpression_("PropertyName",e,t)};ol.format.WFS.writeOgcLiteral_=function(e,t){ol.format.WFS.writeOgcExpression_("Literal",e,t)};ol.format.WFS.writeTimeInstant_=function(e,t){var o=ol.xml.createElementNS(ol.format.GMLBase.GMLNS,"TimeInstant");e.appendChild(o);var r=ol.xml.createElementNS(ol.format.GMLBase.GMLNS,"timePosition");o.appendChild(r);ol.format.XSD.writeStringTextNode(r,t)};ol.format.WFS.GETFEATURE_SERIALIZERS_={"http://www.opengis.net/wfs":{Query:ol.xml.makeChildAppender(ol.format.WFS.writeQuery_)},"http://www.opengis.net/ogc":{During:ol.xml.makeChildAppender(ol.format.WFS.writeDuringFilter_),And:ol.xml.makeChildAppender(ol.format.WFS.writeLogicalFilter_),Or:ol.xml.makeChildAppender(ol.format.WFS.writeLogicalFilter_),Not:ol.xml.makeChildAppender(ol.format.WFS.writeNotFilter_),BBOX:ol.xml.makeChildAppender(ol.format.WFS.writeBboxFilter_),Contains:ol.xml.makeChildAppender(ol.format.WFS.writeContainsFilter_),Intersects:ol.xml.makeChildAppender(ol.format.WFS.writeIntersectsFilter_),Within:ol.xml.makeChildAppender(ol.format.WFS.writeWithinFilter_),PropertyIsEqualTo:ol.xml.makeChildAppender(ol.format.WFS.writeComparisonFilter_),PropertyIsNotEqualTo:ol.xml.makeChildAppender(ol.format.WFS.writeComparisonFilter_),PropertyIsLessThan:ol.xml.makeChildAppender(ol.format.WFS.writeComparisonFilter_),PropertyIsLessThanOrEqualTo:ol.xml.makeChildAppender(ol.format.WFS.writeComparisonFilter_),PropertyIsGreaterThan:ol.xml.makeChildAppender(ol.format.WFS.writeComparisonFilter_),PropertyIsGreaterThanOrEqualTo:ol.xml.makeChildAppender(ol.format.WFS.writeComparisonFilter_),PropertyIsNull:ol.xml.makeChildAppender(ol.format.WFS.writeIsNullFilter_),PropertyIsBetween:ol.xml.makeChildAppender(ol.format.WFS.writeIsBetweenFilter_),PropertyIsLike:ol.xml.makeChildAppender(ol.format.WFS.writeIsLikeFilter_)}};ol.format.WFS.writeFilter=function(e){var t=ol.xml.createElementNS(ol.format.WFS.OGCNS,"Filter");ol.format.WFS.writeFilterCondition_(t,e,[]);return t};ol.format.WFS.writeGetFeature_=function(e,t,o){var r=o[o.length-1];var i=ol.obj.assign({},r);i.node=e;ol.xml.pushSerializeAndPop(i,ol.format.WFS.GETFEATURE_SERIALIZERS_,ol.xml.makeSimpleNodeFactory("Query"),t,o)};ol.format.WFS.prototype.writeGetFeature=function(e){var t=ol.xml.createElementNS(ol.format.WFS.WFSNS,"GetFeature");t.setAttribute("service","WFS");t.setAttribute("version","1.1.0");var o;if(e){if(e.handle){t.setAttribute("handle",e.handle)}if(e.outputFormat){t.setAttribute("outputFormat",e.outputFormat)}if(e.maxFeatures!==undefined){t.setAttribute("maxFeatures",e.maxFeatures)}if(e.resultType){t.setAttribute("resultType",e.resultType)}if(e.startIndex!==undefined){t.setAttribute("startIndex",e.startIndex)}if(e.count!==undefined){t.setAttribute("count",e.count)}o=e.filter;if(e.bbox){ol.asserts.assert(e.geometryName,12);var r=ol.format.filter.bbox(e.geometryName,e.bbox,e.srsName);if(o){o=ol.format.filter.and(o,r)}else{o=r}}}ol.xml.setAttributeNS(t,"http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation",this.schemaLocation_);var i={node:t,srsName:e.srsName,featureNS:e.featureNS?e.featureNS:this.featureNS_,featurePrefix:e.featurePrefix,geometryName:e.geometryName,filter:o,propertyNames:e.propertyNames?e.propertyNames:[]};ol.asserts.assert(Array.isArray(e.featureTypes),11);ol.format.WFS.writeGetFeature_(t,e.featureTypes,[i]);return t};ol.format.WFS.prototype.writeTransaction=function(e,t,o,r){var i=[];var n=ol.xml.createElementNS(ol.format.WFS.WFSNS,"Transaction");var l=r.version?r.version:ol.format.WFS.DEFAULT_VERSION;var a=l==="1.0.0"?2:3;n.setAttribute("service","WFS");n.setAttribute("version",l);var s;var p;if(r){s=r.gmlOptions?r.gmlOptions:{};if(r.handle){n.setAttribute("handle",r.handle)}}var g=ol.format.WFS.SCHEMA_LOCATIONS[l];ol.xml.setAttributeNS(n,"http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation",g);var u=r.featurePrefix?r.featurePrefix:ol.format.WFS.FEATURE_PREFIX;if(e){p={node:n,featureNS:r.featureNS,featureType:r.featureType,featurePrefix:u,gmlVersion:a,hasZ:r.hasZ,srsName:r.srsName};ol.obj.assign(p,s);ol.xml.pushSerializeAndPop(p,ol.format.WFS.TRANSACTION_SERIALIZERS_,ol.xml.makeSimpleNodeFactory("Insert"),e,i)}if(t){p={node:n,featureNS:r.featureNS,featureType:r.featureType,featurePrefix:u,gmlVersion:a,hasZ:r.hasZ,srsName:r.srsName};ol.obj.assign(p,s);ol.xml.pushSerializeAndPop(p,ol.format.WFS.TRANSACTION_SERIALIZERS_,ol.xml.makeSimpleNodeFactory("Update"),t,i)}if(o){ol.xml.pushSerializeAndPop({node:n,featureNS:r.featureNS,featureType:r.featureType,featurePrefix:u,gmlVersion:a,srsName:r.srsName},ol.format.WFS.TRANSACTION_SERIALIZERS_,ol.xml.makeSimpleNodeFactory("Delete"),o,i)}if(r.nativeElements){ol.xml.pushSerializeAndPop({node:n,featureNS:r.featureNS,featureType:r.featureType,featurePrefix:u,gmlVersion:a,srsName:r.srsName},ol.format.WFS.TRANSACTION_SERIALIZERS_,ol.xml.makeSimpleNodeFactory("Native"),r.nativeElements,i)}return n};ol.format.WFS.prototype.readProjection;ol.format.WFS.prototype.readProjectionFromDocument=function(e){for(var t=e.firstChild;t;t=t.nextSibling){if(t.nodeType==Node.ELEMENT_NODE){return this.readProjectionFromNode(t)}}return null};ol.format.WFS.prototype.readProjectionFromNode=function(e){if(e.firstElementChild&&e.firstElementChild.firstElementChild){e=e.firstElementChild.firstElementChild;for(var t=e.firstElementChild;t;t=t.nextElementSibling){if(!(t.childNodes.length===0||t.childNodes.length===1&&t.firstChild.nodeType===3)){var o=[{}];this.gmlFormat_.readGeometryElement(t,o);return ol.proj.get(o.pop().srsName)}}}return null};goog.provide("ol.format.WKT");goog.require("ol");goog.require("ol.Feature");goog.require("ol.format.Feature");goog.require("ol.format.TextFeature");goog.require("ol.geom.GeometryCollection");goog.require("ol.geom.GeometryType");goog.require("ol.geom.GeometryLayout");goog.require("ol.geom.LineString");goog.require("ol.geom.MultiLineString");goog.require("ol.geom.MultiPoint");goog.require("ol.geom.MultiPolygon");goog.require("ol.geom.Point");goog.require("ol.geom.Polygon");goog.require("ol.geom.SimpleGeometry");ol.format.WKT=function(e){var t=e?e:{};ol.format.TextFeature.call(this);this.splitCollection_=t.splitCollection!==undefined?t.splitCollection:false};ol.inherits(ol.format.WKT,ol.format.TextFeature);ol.format.WKT.EMPTY="EMPTY";ol.format.WKT.Z="Z";ol.format.WKT.M="M";ol.format.WKT.ZM="ZM";ol.format.WKT.encodePointGeometry_=function(e){var t=e.getCoordinates();if(t.length===0){return""}return t.join(" ")};ol.format.WKT.encodeMultiPointGeometry_=function(e){var t=[];var o=e.getPoints();for(var r=0,i=o.length;r<i;++r){t.push("("+ol.format.WKT.encodePointGeometry_(o[r])+")")}return t.join(",")};ol.format.WKT.encodeGeometryCollectionGeometry_=function(e){var t=[];var o=e.getGeometries();for(var r=0,i=o.length;r<i;++r){t.push(ol.format.WKT.encode_(o[r]))}return t.join(",")};ol.format.WKT.encodeLineStringGeometry_=function(e){var t=e.getCoordinates();var o=[];for(var r=0,i=t.length;r<i;++r){o.push(t[r].join(" "))}return o.join(",")};ol.format.WKT.encodeMultiLineStringGeometry_=function(e){var t=[];var o=e.getLineStrings();for(var r=0,i=o.length;r<i;++r){t.push("("+ol.format.WKT.encodeLineStringGeometry_(o[r])+")")}return t.join(",")};ol.format.WKT.encodePolygonGeometry_=function(e){var t=[];var o=e.getLinearRings();for(var r=0,i=o.length;r<i;++r){t.push("("+ol.format.WKT.encodeLineStringGeometry_(o[r])+")")}return t.join(",")};ol.format.WKT.encodeMultiPolygonGeometry_=function(e){var t=[];var o=e.getPolygons();for(var r=0,i=o.length;r<i;++r){t.push("("+ol.format.WKT.encodePolygonGeometry_(o[r])+")")}return t.join(",")};ol.format.WKT.encodeGeometryLayout_=function(e){var t=e.getLayout();var o="";if(t===ol.geom.GeometryLayout.XYZ||t===ol.geom.GeometryLayout.XYZM){o+=ol.format.WKT.Z}if(t===ol.geom.GeometryLayout.XYM||t===ol.geom.GeometryLayout.XYZM){o+=ol.format.WKT.M}return o};ol.format.WKT.encode_=function(e){var t=e.getType();var o=ol.format.WKT.GeometryEncoder_[t];var r=o(e);t=t.toUpperCase();if(e instanceof ol.geom.SimpleGeometry){var i=ol.format.WKT.encodeGeometryLayout_(e);if(i.length>0){t+=" "+i}}if(r.length===0){return t+" "+ol.format.WKT.EMPTY}return t+"("+r+")"};ol.format.WKT.GeometryEncoder_={Point:ol.format.WKT.encodePointGeometry_,LineString:ol.format.WKT.encodeLineStringGeometry_,Polygon:ol.format.WKT.encodePolygonGeometry_,MultiPoint:ol.format.WKT.encodeMultiPointGeometry_,MultiLineString:ol.format.WKT.encodeMultiLineStringGeometry_,MultiPolygon:ol.format.WKT.encodeMultiPolygonGeometry_,GeometryCollection:ol.format.WKT.encodeGeometryCollectionGeometry_};ol.format.WKT.prototype.parse_=function(e){var t=new ol.format.WKT.Lexer(e);var o=new ol.format.WKT.Parser(t);return o.parse()};ol.format.WKT.prototype.readFeature;ol.format.WKT.prototype.readFeatureFromText=function(e,t){var o=this.readGeometryFromText(e,t);if(o){var r=new ol.Feature;r.setGeometry(o);return r}return null};ol.format.WKT.prototype.readFeatures;ol.format.WKT.prototype.readFeaturesFromText=function(e,t){var o=[];var r=this.readGeometryFromText(e,t);if(this.splitCollection_&&r.getType()==ol.geom.GeometryType.GEOMETRY_COLLECTION){o=r.getGeometriesArray()}else{o=[r]}var i,n=[];for(var l=0,a=o.length;l<a;++l){i=new ol.Feature;i.setGeometry(o[l]);n.push(i)}return n};ol.format.WKT.prototype.readGeometry;ol.format.WKT.prototype.readGeometryFromText=function(e,t){var o=this.parse_(e);if(o){return ol.format.Feature.transformWithOptions(o,false,t)}else{return null}};ol.format.WKT.prototype.writeFeature;ol.format.WKT.prototype.writeFeatureText=function(e,t){var o=e.getGeometry();if(o){return this.writeGeometryText(o,t)}return""};ol.format.WKT.prototype.writeFeatures;ol.format.WKT.prototype.writeFeaturesText=function(e,t){if(e.length==1){return this.writeFeatureText(e[0],t)}var o=[];for(var r=0,i=e.length;r<i;++r){o.push(e[r].getGeometry())}var n=new ol.geom.GeometryCollection(o);return this.writeGeometryText(n,t)};ol.format.WKT.prototype.writeGeometry;ol.format.WKT.prototype.writeGeometryText=function(e,t){return ol.format.WKT.encode_(ol.format.Feature.transformWithOptions(e,true,t))};ol.format.WKT.TokenType_={TEXT:1,LEFT_PAREN:2,RIGHT_PAREN:3,NUMBER:4,COMMA:5,EOF:6};ol.format.WKT.Lexer=function(e){this.wkt=e;this.index_=-1};ol.format.WKT.Lexer.prototype.isAlpha_=function(e){return e>="a"&&e<="z"||e>="A"&&e<="Z"};ol.format.WKT.Lexer.prototype.isNumeric_=function(e,t){var o=t!==undefined?t:false;return e>="0"&&e<="9"||e=="."&&!o};ol.format.WKT.Lexer.prototype.isWhiteSpace_=function(e){return e==" "||e=="\t"||e=="\r"||e=="\n"};ol.format.WKT.Lexer.prototype.nextChar_=function(){return this.wkt.charAt(++this.index_)};ol.format.WKT.Lexer.prototype.nextToken=function(){var e=this.nextChar_();var t={position:this.index_,value:e};if(e=="("){t.type=ol.format.WKT.TokenType_.LEFT_PAREN}else if(e==","){t.type=ol.format.WKT.TokenType_.COMMA}else if(e==")"){t.type=ol.format.WKT.TokenType_.RIGHT_PAREN}else if(this.isNumeric_(e)||e=="-"){t.type=ol.format.WKT.TokenType_.NUMBER;t.value=this.readNumber_()}else if(this.isAlpha_(e)){t.type=ol.format.WKT.TokenType_.TEXT;t.value=this.readText_()}else if(this.isWhiteSpace_(e)){return this.nextToken()}else if(e===""){t.type=ol.format.WKT.TokenType_.EOF}else{throw new Error("Unexpected character: "+e)}return t};ol.format.WKT.Lexer.prototype.readNumber_=function(){var e,t=this.index_;var o=false;var r=false;do{if(e=="."){o=true}else if(e=="e"||e=="E"){r=true}e=this.nextChar_()}while(this.isNumeric_(e,o)||!r&&(e=="e"||e=="E")||r&&(e=="-"||e=="+"));return parseFloat(this.wkt.substring(t,this.index_--))};ol.format.WKT.Lexer.prototype.readText_=function(){var e,t=this.index_;do{e=this.nextChar_()}while(this.isAlpha_(e));return this.wkt.substring(t,this.index_--).toUpperCase()};ol.format.WKT.Parser=function(e){this.lexer_=e;this.token_;this.layout_=ol.geom.GeometryLayout.XY};ol.format.WKT.Parser.prototype.consume_=function(){this.token_=this.lexer_.nextToken()};ol.format.WKT.Parser.prototype.isTokenType=function(e){var t=this.token_.type==e;return t};ol.format.WKT.Parser.prototype.match=function(e){var t=this.isTokenType(e);if(t){this.consume_()}return t};ol.format.WKT.Parser.prototype.parse=function(){this.consume_();var e=this.parseGeometry_();return e};ol.format.WKT.Parser.prototype.parseGeometryLayout_=function(){var e=ol.geom.GeometryLayout.XY;var t=this.token_;if(this.isTokenType(ol.format.WKT.TokenType_.TEXT)){var o=t.value;if(o===ol.format.WKT.Z){e=ol.geom.GeometryLayout.XYZ}else if(o===ol.format.WKT.M){e=ol.geom.GeometryLayout.XYM}else if(o===ol.format.WKT.ZM){e=ol.geom.GeometryLayout.XYZM}if(e!==ol.geom.GeometryLayout.XY){this.consume_()}}return e};ol.format.WKT.Parser.prototype.parseGeometry_=function(){var e=this.token_;if(this.match(ol.format.WKT.TokenType_.TEXT)){var t=e.value;this.layout_=this.parseGeometryLayout_();if(t==ol.geom.GeometryType.GEOMETRY_COLLECTION.toUpperCase()){var o=this.parseGeometryCollectionText_();return new ol.geom.GeometryCollection(o)}else{var r=ol.format.WKT.Parser.GeometryParser_[t];var i=ol.format.WKT.Parser.GeometryConstructor_[t];if(!r||!i){throw new Error("Invalid geometry type: "+t)}var n=r.call(this);return new i(n,this.layout_)}}throw new Error(this.formatErrorMessage_())};ol.format.WKT.Parser.prototype.parseGeometryCollectionText_=function(){if(this.match(ol.format.WKT.TokenType_.LEFT_PAREN)){var e=[];do{e.push(this.parseGeometry_())}while(this.match(ol.format.WKT.TokenType_.COMMA));if(this.match(ol.format.WKT.TokenType_.RIGHT_PAREN)){return e}}else if(this.isEmptyGeometry_()){return[]}throw new Error(this.formatErrorMessage_())};ol.format.WKT.Parser.prototype.parsePointText_=function(){if(this.match(ol.format.WKT.TokenType_.LEFT_PAREN)){var e=this.parsePoint_();if(this.match(ol.format.WKT.TokenType_.RIGHT_PAREN)){return e}}else if(this.isEmptyGeometry_()){return null}throw new Error(this.formatErrorMessage_())};ol.format.WKT.Parser.prototype.parseLineStringText_=function(){if(this.match(ol.format.WKT.TokenType_.LEFT_PAREN)){var e=this.parsePointList_();if(this.match(ol.format.WKT.TokenType_.RIGHT_PAREN)){return e}}else if(this.isEmptyGeometry_()){return[]}throw new Error(this.formatErrorMessage_())};ol.format.WKT.Parser.prototype.parsePolygonText_=function(){if(this.match(ol.format.WKT.TokenType_.LEFT_PAREN)){var e=this.parseLineStringTextList_();if(this.match(ol.format.WKT.TokenType_.RIGHT_PAREN)){return e}}else if(this.isEmptyGeometry_()){return[]}throw new Error(this.formatErrorMessage_())};ol.format.WKT.Parser.prototype.parseMultiPointText_=function(){if(this.match(ol.format.WKT.TokenType_.LEFT_PAREN)){var e;if(this.token_.type==ol.format.WKT.TokenType_.LEFT_PAREN){e=this.parsePointTextList_()}else{e=this.parsePointList_()}if(this.match(ol.format.WKT.TokenType_.RIGHT_PAREN)){return e}}else if(this.isEmptyGeometry_()){return[]}throw new Error(this.formatErrorMessage_())};ol.format.WKT.Parser.prototype.parseMultiLineStringText_=function(){if(this.match(ol.format.WKT.TokenType_.LEFT_PAREN)){var e=this.parseLineStringTextList_();if(this.match(ol.format.WKT.TokenType_.RIGHT_PAREN)){return e}}else if(this.isEmptyGeometry_()){return[]}throw new Error(this.formatErrorMessage_())};ol.format.WKT.Parser.prototype.parseMultiPolygonText_=function(){if(this.match(ol.format.WKT.TokenType_.LEFT_PAREN)){var e=this.parsePolygonTextList_();if(this.match(ol.format.WKT.TokenType_.RIGHT_PAREN)){return e}}else if(this.isEmptyGeometry_()){return[]}throw new Error(this.formatErrorMessage_())};ol.format.WKT.Parser.prototype.parsePoint_=function(){var e=[];var t=this.layout_.length;for(var o=0;o<t;++o){var r=this.token_;if(this.match(ol.format.WKT.TokenType_.NUMBER)){e.push(r.value)}else{break}}if(e.length==t){return e}throw new Error(this.formatErrorMessage_())};ol.format.WKT.Parser.prototype.parsePointList_=function(){var e=[this.parsePoint_()];while(this.match(ol.format.WKT.TokenType_.COMMA)){e.push(this.parsePoint_())}return e};ol.format.WKT.Parser.prototype.parsePointTextList_=function(){var e=[this.parsePointText_()];while(this.match(ol.format.WKT.TokenType_.COMMA)){e.push(this.parsePointText_())}return e};ol.format.WKT.Parser.prototype.parseLineStringTextList_=function(){var e=[this.parseLineStringText_()];while(this.match(ol.format.WKT.TokenType_.COMMA)){e.push(this.parseLineStringText_())}return e};ol.format.WKT.Parser.prototype.parsePolygonTextList_=function(){var e=[this.parsePolygonText_()];while(this.match(ol.format.WKT.TokenType_.COMMA)){e.push(this.parsePolygonText_())}return e};ol.format.WKT.Parser.prototype.isEmptyGeometry_=function(){var e=this.isTokenType(ol.format.WKT.TokenType_.TEXT)&&this.token_.value==ol.format.WKT.EMPTY;if(e){this.consume_()}return e};ol.format.WKT.Parser.prototype.formatErrorMessage_=function(){return"Unexpected `"+this.token_.value+"` at position "+this.token_.position+" in `"+this.lexer_.wkt+"`"};ol.format.WKT.Parser.GeometryConstructor_={POINT:ol.geom.Point,LINESTRING:ol.geom.LineString,POLYGON:ol.geom.Polygon,MULTIPOINT:ol.geom.MultiPoint,MULTILINESTRING:ol.geom.MultiLineString,MULTIPOLYGON:ol.geom.MultiPolygon};ol.format.WKT.Parser.GeometryParser_={POINT:ol.format.WKT.Parser.prototype.parsePointText_,LINESTRING:ol.format.WKT.Parser.prototype.parseLineStringText_,POLYGON:ol.format.WKT.Parser.prototype.parsePolygonText_,MULTIPOINT:ol.format.WKT.Parser.prototype.parseMultiPointText_,MULTILINESTRING:ol.format.WKT.Parser.prototype.parseMultiLineStringText_,MULTIPOLYGON:ol.format.WKT.Parser.prototype.parseMultiPolygonText_};goog.provide("ol.format.WMSCapabilities");goog.require("ol");goog.require("ol.format.XLink");goog.require("ol.format.XML");goog.require("ol.format.XSD");goog.require("ol.xml");ol.format.WMSCapabilities=function(){ol.format.XML.call(this);this.version=undefined};ol.inherits(ol.format.WMSCapabilities,ol.format.XML);ol.format.WMSCapabilities.prototype.read;ol.format.WMSCapabilities.prototype.readFromDocument=function(e){for(var t=e.firstChild;t;t=t.nextSibling){if(t.nodeType==Node.ELEMENT_NODE){return this.readFromNode(t)}}return null};ol.format.WMSCapabilities.prototype.readFromNode=function(e){this.version=e.getAttribute("version").trim();var t=ol.xml.pushParseAndPop({version:this.version},ol.format.WMSCapabilities.PARSERS_,e,[]);return t?t:null};ol.format.WMSCapabilities.readAttribution_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.ATTRIBUTION_PARSERS_,e,t)};ol.format.WMSCapabilities.readBoundingBox_=function(e,t){var o=[ol.format.XSD.readDecimalString(e.getAttribute("minx")),ol.format.XSD.readDecimalString(e.getAttribute("miny")),ol.format.XSD.readDecimalString(e.getAttribute("maxx")),ol.format.XSD.readDecimalString(e.getAttribute("maxy"))];var r=[ol.format.XSD.readDecimalString(e.getAttribute("resx")),ol.format.XSD.readDecimalString(e.getAttribute("resy"))];return{crs:e.getAttribute("CRS"),extent:o,res:r}};ol.format.WMSCapabilities.readEXGeographicBoundingBox_=function(e,t){var o=ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.EX_GEOGRAPHIC_BOUNDING_BOX_PARSERS_,e,t);if(!o){return undefined}var r=o["westBoundLongitude"];var i=o["southBoundLatitude"];var n=o["eastBoundLongitude"];var l=o["northBoundLatitude"];if(r===undefined||i===undefined||n===undefined||l===undefined){return undefined}return[r,i,n,l]};ol.format.WMSCapabilities.readCapability_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.CAPABILITY_PARSERS_,e,t)};ol.format.WMSCapabilities.readService_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.SERVICE_PARSERS_,e,t)};ol.format.WMSCapabilities.readContactInformation_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.CONTACT_INFORMATION_PARSERS_,e,t)};ol.format.WMSCapabilities.readContactPersonPrimary_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.CONTACT_PERSON_PARSERS_,e,t)};ol.format.WMSCapabilities.readContactAddress_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.CONTACT_ADDRESS_PARSERS_,e,t)};ol.format.WMSCapabilities.readException_=function(e,t){return ol.xml.pushParseAndPop([],ol.format.WMSCapabilities.EXCEPTION_PARSERS_,e,t)};ol.format.WMSCapabilities.readCapabilityLayer_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.LAYER_PARSERS_,e,t)};ol.format.WMSCapabilities.readLayer_=function(e,t){var o=t[t.length-1];var r=ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.LAYER_PARSERS_,e,t);if(!r){return undefined}var i=ol.format.XSD.readBooleanString(e.getAttribute("queryable"));if(i===undefined){i=o["queryable"]}r["queryable"]=i!==undefined?i:false;var n=ol.format.XSD.readNonNegativeIntegerString(e.getAttribute("cascaded"));if(n===undefined){n=o["cascaded"]}r["cascaded"]=n;var l=ol.format.XSD.readBooleanString(e.getAttribute("opaque"));if(l===undefined){l=o["opaque"]}r["opaque"]=l!==undefined?l:false;var a=ol.format.XSD.readBooleanString(e.getAttribute("noSubsets"));if(a===undefined){a=o["noSubsets"]}r["noSubsets"]=a!==undefined?a:false;var s=ol.format.XSD.readDecimalString(e.getAttribute("fixedWidth"));if(!s){s=o["fixedWidth"]}r["fixedWidth"]=s;var p=ol.format.XSD.readDecimalString(e.getAttribute("fixedHeight"));if(!p){p=o["fixedHeight"]}r["fixedHeight"]=p;var g=["Style","CRS","AuthorityURL"];g.forEach(function(e){if(e in o){var t=r[e]||[];r[e]=t.concat(o[e])}});var u=["EX_GeographicBoundingBox","BoundingBox","Dimension","Attribution","MinScaleDenominator","MaxScaleDenominator"];u.forEach(function(e){if(!(e in r)){var t=o[e];r[e]=t}});return r};ol.format.WMSCapabilities.readDimension_=function(e,t){var o={name:e.getAttribute("name"),units:e.getAttribute("units"),unitSymbol:e.getAttribute("unitSymbol"),default:e.getAttribute("default"),multipleValues:ol.format.XSD.readBooleanString(e.getAttribute("multipleValues")),nearestValue:ol.format.XSD.readBooleanString(e.getAttribute("nearestValue")),current:ol.format.XSD.readBooleanString(e.getAttribute("current")),values:ol.format.XSD.readString(e)};return o};ol.format.WMSCapabilities.readFormatOnlineresource_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.FORMAT_ONLINERESOURCE_PARSERS_,e,t)};ol.format.WMSCapabilities.readRequest_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.REQUEST_PARSERS_,e,t)};ol.format.WMSCapabilities.readDCPType_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.DCPTYPE_PARSERS_,e,t)};ol.format.WMSCapabilities.readHTTP_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.HTTP_PARSERS_,e,t)};ol.format.WMSCapabilities.readOperationType_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.OPERATIONTYPE_PARSERS_,e,t)};ol.format.WMSCapabilities.readSizedFormatOnlineresource_=function(e,t){var o=ol.format.WMSCapabilities.readFormatOnlineresource_(e,t);if(o){var r=[ol.format.XSD.readNonNegativeIntegerString(e.getAttribute("width")),ol.format.XSD.readNonNegativeIntegerString(e.getAttribute("height"))];o["size"]=r;return o}return undefined};ol.format.WMSCapabilities.readAuthorityURL_=function(e,t){var o=ol.format.WMSCapabilities.readFormatOnlineresource_(e,t);if(o){o["name"]=e.getAttribute("name");return o}return undefined};ol.format.WMSCapabilities.readMetadataURL_=function(e,t){var o=ol.format.WMSCapabilities.readFormatOnlineresource_(e,t);if(o){o["type"]=e.getAttribute("type");return o}return undefined};ol.format.WMSCapabilities.readStyle_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.STYLE_PARSERS_,e,t)};ol.format.WMSCapabilities.readKeywordList_=function(e,t){return ol.xml.pushParseAndPop([],ol.format.WMSCapabilities.KEYWORDLIST_PARSERS_,e,t)};ol.format.WMSCapabilities.NAMESPACE_URIS_=[null,"http://www.opengis.net/wms"];ol.format.WMSCapabilities.PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{Service:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readService_),Capability:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readCapability_)});ol.format.WMSCapabilities.CAPABILITY_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{Request:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readRequest_),Exception:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readException_),Layer:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readCapabilityLayer_)});ol.format.WMSCapabilities.SERVICE_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{Name:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Title:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Abstract:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),KeywordList:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readKeywordList_),OnlineResource:ol.xml.makeObjectPropertySetter(ol.format.XLink.readHref),ContactInformation:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readContactInformation_),Fees:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),AccessConstraints:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),LayerLimit:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),MaxWidth:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),MaxHeight:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger)});ol.format.WMSCapabilities.CONTACT_INFORMATION_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{ContactPersonPrimary:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readContactPersonPrimary_),ContactPosition:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),ContactAddress:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readContactAddress_),ContactVoiceTelephone:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),ContactFacsimileTelephone:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),ContactElectronicMailAddress:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)});ol.format.WMSCapabilities.CONTACT_PERSON_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{ContactPerson:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),ContactOrganization:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)});ol.format.WMSCapabilities.CONTACT_ADDRESS_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{AddressType:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Address:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),City:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),StateOrProvince:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),PostCode:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Country:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)});ol.format.WMSCapabilities.EXCEPTION_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{Format:ol.xml.makeArrayPusher(ol.format.XSD.readString)});ol.format.WMSCapabilities.LAYER_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{Name:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Title:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Abstract:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),KeywordList:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readKeywordList_),CRS:ol.xml.makeObjectPropertyPusher(ol.format.XSD.readString),EX_GeographicBoundingBox:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readEXGeographicBoundingBox_),BoundingBox:ol.xml.makeObjectPropertyPusher(ol.format.WMSCapabilities.readBoundingBox_),Dimension:ol.xml.makeObjectPropertyPusher(ol.format.WMSCapabilities.readDimension_),Attribution:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readAttribution_),AuthorityURL:ol.xml.makeObjectPropertyPusher(ol.format.WMSCapabilities.readAuthorityURL_),Identifier:ol.xml.makeObjectPropertyPusher(ol.format.XSD.readString),MetadataURL:ol.xml.makeObjectPropertyPusher(ol.format.WMSCapabilities.readMetadataURL_),DataURL:ol.xml.makeObjectPropertyPusher(ol.format.WMSCapabilities.readFormatOnlineresource_),FeatureListURL:ol.xml.makeObjectPropertyPusher(ol.format.WMSCapabilities.readFormatOnlineresource_),Style:ol.xml.makeObjectPropertyPusher(ol.format.WMSCapabilities.readStyle_),MinScaleDenominator:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),MaxScaleDenominator:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),Layer:ol.xml.makeObjectPropertyPusher(ol.format.WMSCapabilities.readLayer_)});ol.format.WMSCapabilities.ATTRIBUTION_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{Title:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),OnlineResource:ol.xml.makeObjectPropertySetter(ol.format.XLink.readHref),LogoURL:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readSizedFormatOnlineresource_)});ol.format.WMSCapabilities.EX_GEOGRAPHIC_BOUNDING_BOX_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{westBoundLongitude:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),eastBoundLongitude:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),southBoundLatitude:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),northBoundLatitude:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal)});ol.format.WMSCapabilities.REQUEST_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{GetCapabilities:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readOperationType_),GetMap:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readOperationType_),GetFeatureInfo:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readOperationType_)});ol.format.WMSCapabilities.OPERATIONTYPE_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{Format:ol.xml.makeObjectPropertyPusher(ol.format.XSD.readString),DCPType:ol.xml.makeObjectPropertyPusher(ol.format.WMSCapabilities.readDCPType_)});ol.format.WMSCapabilities.DCPTYPE_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{HTTP:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readHTTP_)});ol.format.WMSCapabilities.HTTP_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{Get:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readFormatOnlineresource_),Post:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readFormatOnlineresource_)});ol.format.WMSCapabilities.STYLE_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{Name:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Title:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Abstract:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),LegendURL:ol.xml.makeObjectPropertyPusher(ol.format.WMSCapabilities.readSizedFormatOnlineresource_),StyleSheetURL:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readFormatOnlineresource_),StyleURL:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readFormatOnlineresource_)});ol.format.WMSCapabilities.FORMAT_ONLINERESOURCE_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{Format:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),OnlineResource:ol.xml.makeObjectPropertySetter(ol.format.XLink.readHref)});ol.format.WMSCapabilities.KEYWORDLIST_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{Keyword:ol.xml.makeArrayPusher(ol.format.XSD.readString)});goog.provide("ol.format.WMSGetFeatureInfo");goog.require("ol");goog.require("ol.array");goog.require("ol.format.GML2");goog.require("ol.format.XMLFeature");goog.require("ol.obj");goog.require("ol.xml");ol.format.WMSGetFeatureInfo=function(e){var t=e?e:{};this.featureNS_="http://mapserver.gis.umn.edu/mapserver";this.gmlFormat_=new ol.format.GML2;this.layers_=t.layers?t.layers:null;ol.format.XMLFeature.call(this)};ol.inherits(ol.format.WMSGetFeatureInfo,ol.format.XMLFeature);ol.format.WMSGetFeatureInfo.featureIdentifier_="_feature";ol.format.WMSGetFeatureInfo.layerIdentifier_="_layer";ol.format.WMSGetFeatureInfo.prototype.getLayers=function(){return this.layers_};ol.format.WMSGetFeatureInfo.prototype.setLayers=function(e){this.layers_=e};ol.format.WMSGetFeatureInfo.prototype.readFeatures_=function(e,t){e.setAttribute("namespaceURI",this.featureNS_);var o=e.localName;var r=[];if(e.childNodes.length===0){return r}if(o=="msGMLOutput"){for(var i=0,n=e.childNodes.length;i<n;i++){var l=e.childNodes[i];if(l.nodeType!==Node.ELEMENT_NODE){continue}var a=t[0];var s=ol.format.WMSGetFeatureInfo.layerIdentifier_;var p=l.localName.replace(s,"");if(this.layers_&&!ol.array.includes(this.layers_,p)){continue}var g=p+ol.format.WMSGetFeatureInfo.featureIdentifier_;a["featureType"]=g;a["featureNS"]=this.featureNS_;var u={};u[g]=ol.xml.makeArrayPusher(this.gmlFormat_.readFeatureElement,this.gmlFormat_);var c=ol.xml.makeStructureNS([a["featureNS"],null],u);l.setAttribute("namespaceURI",this.featureNS_);var y=ol.xml.pushParseAndPop([],c,l,t,this.gmlFormat_);if(y){ol.array.extend(r,y)}}}if(o=="FeatureCollection"){var d=ol.xml.pushParseAndPop([],this.gmlFormat_.FEATURE_COLLECTION_PARSERS,e,[{}],this.gmlFormat_);if(d){r=d}}return r};ol.format.WMSGetFeatureInfo.prototype.readFeatures;ol.format.WMSGetFeatureInfo.prototype.readFeaturesFromNode=function(e,t){var o={};if(t){ol.obj.assign(o,this.getReadOptions(e,t))}return this.readFeatures_(e,[o])};ol.format.WMSGetFeatureInfo.prototype.writeFeatureNode=function(e,t){};ol.format.WMSGetFeatureInfo.prototype.writeFeaturesNode=function(e,t){};ol.format.WMSGetFeatureInfo.prototype.writeGeometryNode=function(e,t){};goog.provide("ol.format.WMTSCapabilities");goog.require("ol");goog.require("ol.extent");goog.require("ol.format.OWS");goog.require("ol.format.XLink");goog.require("ol.format.XML");goog.require("ol.format.XSD");goog.require("ol.xml");ol.format.WMTSCapabilities=function(){ol.format.XML.call(this);this.owsParser_=new ol.format.OWS};ol.inherits(ol.format.WMTSCapabilities,ol.format.XML);ol.format.WMTSCapabilities.prototype.read;ol.format.WMTSCapabilities.prototype.readFromDocument=function(e){for(var t=e.firstChild;t;t=t.nextSibling){if(t.nodeType==Node.ELEMENT_NODE){return this.readFromNode(t)}}return null};ol.format.WMTSCapabilities.prototype.readFromNode=function(e){var t=e.getAttribute("version").trim();var o=this.owsParser_.readFromNode(e);if(!o){return null}o["version"]=t;o=ol.xml.pushParseAndPop(o,ol.format.WMTSCapabilities.PARSERS_,e,[]);return o?o:null};ol.format.WMTSCapabilities.readContents_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.WMTSCapabilities.CONTENTS_PARSERS_,e,t)};ol.format.WMTSCapabilities.readLayer_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.WMTSCapabilities.LAYER_PARSERS_,e,t)};ol.format.WMTSCapabilities.readTileMatrixSet_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.WMTSCapabilities.TMS_PARSERS_,e,t)};ol.format.WMTSCapabilities.readStyle_=function(e,t){var o=ol.xml.pushParseAndPop({},ol.format.WMTSCapabilities.STYLE_PARSERS_,e,t);if(!o){return undefined}var r=e.getAttribute("isDefault")==="true";o["isDefault"]=r;return o};ol.format.WMTSCapabilities.readTileMatrixSetLink_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.WMTSCapabilities.TMS_LINKS_PARSERS_,e,t)};ol.format.WMTSCapabilities.readDimensions_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.WMTSCapabilities.DIMENSION_PARSERS_,e,t)};ol.format.WMTSCapabilities.readResourceUrl_=function(e,t){var o=e.getAttribute("format");var r=e.getAttribute("template");var i=e.getAttribute("resourceType");var n={};if(o){n["format"]=o}if(r){n["template"]=r}if(i){n["resourceType"]=i}return n};ol.format.WMTSCapabilities.readWgs84BoundingBox_=function(e,t){var o=ol.xml.pushParseAndPop([],ol.format.WMTSCapabilities.WGS84_BBOX_READERS_,e,t);if(o.length!=2){return undefined}return ol.extent.boundingExtent(o)};ol.format.WMTSCapabilities.readLegendUrl_=function(e,t){var o={};o["format"]=e.getAttribute("format");o["href"]=ol.format.XLink.readHref(e);return o};ol.format.WMTSCapabilities.readCoordinates_=function(e,t){var o=ol.format.XSD.readString(e).split(" ");if(!o||o.length!=2){return undefined}var r=+o[0];var i=+o[1];if(isNaN(r)||isNaN(i)){return undefined}return[r,i]};ol.format.WMTSCapabilities.readTileMatrix_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.WMTSCapabilities.TM_PARSERS_,e,t)};ol.format.WMTSCapabilities.readTileMatrixLimitsList_=function(e,t){return ol.xml.pushParseAndPop([],ol.format.WMTSCapabilities.TMS_LIMITS_LIST_PARSERS_,e,t)};ol.format.WMTSCapabilities.readTileMatrixLimits_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.WMTSCapabilities.TMS_LIMITS_PARSERS_,e,t)};ol.format.WMTSCapabilities.NAMESPACE_URIS_=[null,"http://www.opengis.net/wmts/1.0"];ol.format.WMTSCapabilities.OWS_NAMESPACE_URIS_=[null,"http://www.opengis.net/ows/1.1"];ol.format.WMTSCapabilities.PARSERS_=ol.xml.makeStructureNS(ol.format.WMTSCapabilities.NAMESPACE_URIS_,{Contents:ol.xml.makeObjectPropertySetter(ol.format.WMTSCapabilities.readContents_)});ol.format.WMTSCapabilities.CONTENTS_PARSERS_=ol.xml.makeStructureNS(ol.format.WMTSCapabilities.NAMESPACE_URIS_,{Layer:ol.xml.makeObjectPropertyPusher(ol.format.WMTSCapabilities.readLayer_),TileMatrixSet:ol.xml.makeObjectPropertyPusher(ol.format.WMTSCapabilities.readTileMatrixSet_)});ol.format.WMTSCapabilities.LAYER_PARSERS_=ol.xml.makeStructureNS(ol.format.WMTSCapabilities.NAMESPACE_URIS_,{Style:ol.xml.makeObjectPropertyPusher(ol.format.WMTSCapabilities.readStyle_),Format:ol.xml.makeObjectPropertyPusher(ol.format.XSD.readString),TileMatrixSetLink:ol.xml.makeObjectPropertyPusher(ol.format.WMTSCapabilities.readTileMatrixSetLink_),Dimension:ol.xml.makeObjectPropertyPusher(ol.format.WMTSCapabilities.readDimensions_),ResourceURL:ol.xml.makeObjectPropertyPusher(ol.format.WMTSCapabilities.readResourceUrl_)},ol.xml.makeStructureNS(ol.format.WMTSCapabilities.OWS_NAMESPACE_URIS_,{Title:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Abstract:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),WGS84BoundingBox:ol.xml.makeObjectPropertySetter(ol.format.WMTSCapabilities.readWgs84BoundingBox_),Identifier:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)}));ol.format.WMTSCapabilities.STYLE_PARSERS_=ol.xml.makeStructureNS(ol.format.WMTSCapabilities.NAMESPACE_URIS_,{LegendURL:ol.xml.makeObjectPropertyPusher(ol.format.WMTSCapabilities.readLegendUrl_)},ol.xml.makeStructureNS(ol.format.WMTSCapabilities.OWS_NAMESPACE_URIS_,{Title:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Identifier:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)}));ol.format.WMTSCapabilities.TMS_LINKS_PARSERS_=ol.xml.makeStructureNS(ol.format.WMTSCapabilities.NAMESPACE_URIS_,{TileMatrixSet:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),TileMatrixSetLimits:ol.xml.makeObjectPropertySetter(ol.format.WMTSCapabilities.readTileMatrixLimitsList_)});ol.format.WMTSCapabilities.TMS_LIMITS_LIST_PARSERS_=ol.xml.makeStructureNS(ol.format.WMTSCapabilities.NAMESPACE_URIS_,{TileMatrixLimits:ol.xml.makeArrayPusher(ol.format.WMTSCapabilities.readTileMatrixLimits_)});ol.format.WMTSCapabilities.TMS_LIMITS_PARSERS_=ol.xml.makeStructureNS(ol.format.WMTSCapabilities.NAMESPACE_URIS_,{TileMatrix:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),MinTileRow:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),MaxTileRow:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),MinTileCol:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),MaxTileCol:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger)});ol.format.WMTSCapabilities.DIMENSION_PARSERS_=ol.xml.makeStructureNS(ol.format.WMTSCapabilities.NAMESPACE_URIS_,{Default:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Value:ol.xml.makeObjectPropertyPusher(ol.format.XSD.readString)},ol.xml.makeStructureNS(ol.format.WMTSCapabilities.OWS_NAMESPACE_URIS_,{Identifier:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)}));ol.format.WMTSCapabilities.WGS84_BBOX_READERS_=ol.xml.makeStructureNS(ol.format.WMTSCapabilities.OWS_NAMESPACE_URIS_,{LowerCorner:ol.xml.makeArrayPusher(ol.format.WMTSCapabilities.readCoordinates_),UpperCorner:ol.xml.makeArrayPusher(ol.format.WMTSCapabilities.readCoordinates_)});ol.format.WMTSCapabilities.TMS_PARSERS_=ol.xml.makeStructureNS(ol.format.WMTSCapabilities.NAMESPACE_URIS_,{WellKnownScaleSet:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),TileMatrix:ol.xml.makeObjectPropertyPusher(ol.format.WMTSCapabilities.readTileMatrix_)},ol.xml.makeStructureNS(ol.format.WMTSCapabilities.OWS_NAMESPACE_URIS_,{SupportedCRS:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Identifier:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)}));ol.format.WMTSCapabilities.TM_PARSERS_=ol.xml.makeStructureNS(ol.format.WMTSCapabilities.NAMESPACE_URIS_,{TopLeftCorner:ol.xml.makeObjectPropertySetter(ol.format.WMTSCapabilities.readCoordinates_),ScaleDenominator:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),TileWidth:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),TileHeight:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),MatrixWidth:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),MatrixHeight:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger)},ol.xml.makeStructureNS(ol.format.WMTSCapabilities.OWS_NAMESPACE_URIS_,{Identifier:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)}));goog.provide("ol.GeolocationProperty");ol.GeolocationProperty={ACCURACY:"accuracy",ACCURACY_GEOMETRY:"accuracyGeometry",ALTITUDE:"altitude",ALTITUDE_ACCURACY:"altitudeAccuracy",HEADING:"heading",POSITION:"position",PROJECTION:"projection",SPEED:"speed",TRACKING:"tracking",TRACKING_OPTIONS:"trackingOptions"};goog.provide("ol.Geolocation");goog.require("ol");goog.require("ol.GeolocationProperty");goog.require("ol.Object");goog.require("ol.Sphere");goog.require("ol.events");goog.require("ol.events.EventType");goog.require("ol.geom.Polygon");goog.require("ol.has");goog.require("ol.math");goog.require("ol.proj");goog.require("ol.proj.EPSG4326");ol.Geolocation=function(e){ol.Object.call(this);var t=e||{};this.position_=null;this.transform_=ol.proj.identityTransform;this.sphere_=new ol.Sphere(ol.proj.EPSG4326.RADIUS);this.watchId_=undefined;ol.events.listen(this,ol.Object.getChangeEventType(ol.GeolocationProperty.PROJECTION),this.handleProjectionChanged_,this);ol.events.listen(this,ol.Object.getChangeEventType(ol.GeolocationProperty.TRACKING),this.handleTrackingChanged_,this);if(t.projection!==undefined){this.setProjection(t.projection)}if(t.trackingOptions!==undefined){this.setTrackingOptions(t.trackingOptions)}this.setTracking(t.tracking!==undefined?t.tracking:false)};ol.inherits(ol.Geolocation,ol.Object);ol.Geolocation.prototype.disposeInternal=function(){this.setTracking(false);ol.Object.prototype.disposeInternal.call(this)};ol.Geolocation.prototype.handleProjectionChanged_=function(){var e=this.getProjection();if(e){this.transform_=ol.proj.getTransformFromProjections(ol.proj.get("EPSG:4326"),e);if(this.position_){this.set(ol.GeolocationProperty.POSITION,this.transform_(this.position_))}}};ol.Geolocation.prototype.handleTrackingChanged_=function(){if(ol.has.GEOLOCATION){var e=this.getTracking();if(e&&this.watchId_===undefined){this.watchId_=navigator.geolocation.watchPosition(this.positionChange_.bind(this),this.positionError_.bind(this),this.getTrackingOptions())}else if(!e&&this.watchId_!==undefined){navigator.geolocation.clearWatch(this.watchId_);this.watchId_=undefined}}};ol.Geolocation.prototype.positionChange_=function(e){var t=e.coords;this.set(ol.GeolocationProperty.ACCURACY,t.accuracy);this.set(ol.GeolocationProperty.ALTITUDE,t.altitude===null?undefined:t.altitude);this.set(ol.GeolocationProperty.ALTITUDE_ACCURACY,t.altitudeAccuracy===null?undefined:t.altitudeAccuracy);this.set(ol.GeolocationProperty.HEADING,t.heading===null?undefined:ol.math.toRadians(t.heading));if(!this.position_){this.position_=[t.longitude,t.latitude]}else{this.position_[0]=t.longitude;this.position_[1]=t.latitude}var o=this.transform_(this.position_);this.set(ol.GeolocationProperty.POSITION,o);this.set(ol.GeolocationProperty.SPEED,t.speed===null?undefined:t.speed);var r=ol.geom.Polygon.circular(this.sphere_,this.position_,t.accuracy);r.applyTransform(this.transform_);this.set(ol.GeolocationProperty.ACCURACY_GEOMETRY,r);this.changed()};ol.Geolocation.prototype.positionError_=function(e){e.type=ol.events.EventType.ERROR;this.setTracking(false);this.dispatchEvent(e)};ol.Geolocation.prototype.getAccuracy=function(){return this.get(ol.GeolocationProperty.ACCURACY)};ol.Geolocation.prototype.getAccuracyGeometry=function(){return this.get(ol.GeolocationProperty.ACCURACY_GEOMETRY)||null};ol.Geolocation.prototype.getAltitude=function(){return this.get(ol.GeolocationProperty.ALTITUDE)};ol.Geolocation.prototype.getAltitudeAccuracy=function(){return this.get(ol.GeolocationProperty.ALTITUDE_ACCURACY)};ol.Geolocation.prototype.getHeading=function(){return this.get(ol.GeolocationProperty.HEADING)};ol.Geolocation.prototype.getPosition=function(){return this.get(ol.GeolocationProperty.POSITION)};ol.Geolocation.prototype.getProjection=function(){return this.get(ol.GeolocationProperty.PROJECTION)};ol.Geolocation.prototype.getSpeed=function(){return this.get(ol.GeolocationProperty.SPEED)};ol.Geolocation.prototype.getTracking=function(){return this.get(ol.GeolocationProperty.TRACKING)};ol.Geolocation.prototype.getTrackingOptions=function(){return this.get(ol.GeolocationProperty.TRACKING_OPTIONS)};ol.Geolocation.prototype.setProjection=function(e){this.set(ol.GeolocationProperty.PROJECTION,ol.proj.get(e))};ol.Geolocation.prototype.setTracking=function(e){this.set(ol.GeolocationProperty.TRACKING,e)};ol.Geolocation.prototype.setTrackingOptions=function(e){this.set(ol.GeolocationProperty.TRACKING_OPTIONS,e)};goog.provide("ol.geom.Circle");goog.require("ol");goog.require("ol.extent");goog.require("ol.geom.GeometryLayout");goog.require("ol.geom.GeometryType");goog.require("ol.geom.SimpleGeometry");goog.require("ol.geom.flat.deflate");ol.geom.Circle=function(e,t,o){ol.geom.SimpleGeometry.call(this);var r=t?t:0;this.setCenterAndRadius(e,r,o)};ol.inherits(ol.geom.Circle,ol.geom.SimpleGeometry);ol.geom.Circle.prototype.clone=function(){var e=new ol.geom.Circle(null);e.setFlatCoordinates(this.layout,this.flatCoordinates.slice());return e};ol.geom.Circle.prototype.closestPointXY=function(e,t,o,r){var i=this.flatCoordinates;var n=e-i[0];var l=t-i[1];var a=n*n+l*l;if(a<r){var s;if(a===0){for(s=0;s<this.stride;++s){o[s]=i[s]}}else{var p=this.getRadius()/Math.sqrt(a);o[0]=i[0]+p*n;o[1]=i[1]+p*l;for(s=2;s<this.stride;++s){o[s]=i[s]}}o.length=this.stride;return a}else{return r}};ol.geom.Circle.prototype.containsXY=function(e,t){var o=this.flatCoordinates;var r=e-o[0];var i=t-o[1];return r*r+i*i<=this.getRadiusSquared_()};ol.geom.Circle.prototype.getCenter=function(){return this.flatCoordinates.slice(0,this.stride)};ol.geom.Circle.prototype.computeExtent=function(e){var t=this.flatCoordinates;var o=t[this.stride]-t[0];return ol.extent.createOrUpdate(t[0]-o,t[1]-o,t[0]+o,t[1]+o,e)};ol.geom.Circle.prototype.getRadius=function(){return Math.sqrt(this.getRadiusSquared_())};ol.geom.Circle.prototype.getRadiusSquared_=function(){var e=this.flatCoordinates[this.stride]-this.flatCoordinates[0];var t=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return e*e+t*t};ol.geom.Circle.prototype.getType=function(){return ol.geom.GeometryType.CIRCLE};ol.geom.Circle.prototype.intersectsExtent=function(e){var t=this.getExtent();if(ol.extent.intersects(e,t)){var o=this.getCenter();if(e[0]<=o[0]&&e[2]>=o[0]){return true}if(e[1]<=o[1]&&e[3]>=o[1]){return true}return ol.extent.forEachCorner(e,this.intersectsCoordinate,this)}return false};ol.geom.Circle.prototype.setCenter=function(e){var t=this.stride;var o=this.flatCoordinates[t]-this.flatCoordinates[0];var r=e.slice();r[t]=r[0]+o;var i;for(i=1;i<t;++i){r[t+i]=e[i]}this.setFlatCoordinates(this.layout,r)};ol.geom.Circle.prototype.setCenterAndRadius=function(e,t,o){if(!e){this.setFlatCoordinates(ol.geom.GeometryLayout.XY,null)}else{this.setLayout(o,e,0);if(!this.flatCoordinates){this.flatCoordinates=[]}var r=this.flatCoordinates;var i=ol.geom.flat.deflate.coordinate(r,0,e,this.stride);r[i++]=r[0]+t;var n,l;for(n=1,l=this.stride;n<l;++n){r[i++]=r[n]}r.length=i;this.changed()}};ol.geom.Circle.prototype.getCoordinates=function(){};ol.geom.Circle.prototype.setCoordinates=function(e,t){};ol.geom.Circle.prototype.setFlatCoordinates=function(e,t){this.setFlatCoordinatesInternal(e,t);this.changed()};ol.geom.Circle.prototype.setRadius=function(e){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+e;this.changed()};ol.geom.Circle.prototype.transform;goog.provide("ol.geom.flat.geodesic");goog.require("ol.math");goog.require("ol.proj");ol.geom.flat.geodesic.line_=function(e,t,o){var r=[];var i=e(0);var n=e(1);var l=t(i);var a=t(n);var s=[n,i];var p=[a,l];var g=[1,0];var u={};var c=1e5;var y,d,h,f,m,v;while(--c>0&&g.length>0){h=g.pop();i=s.pop();l=p.pop();v=h.toString();if(!(v in u)){r.push(l[0],l[1]);u[v]=true}f=g.pop();n=s.pop();a=p.pop();m=(h+f)/2;y=e(m);d=t(y);if(ol.math.squaredSegmentDistance(d[0],d[1],l[0],l[1],a[0],a[1])<o){r.push(a[0],a[1]);v=f.toString();u[v]=true}else{g.push(f,m,m,h);p.push(a,d,d,l);s.push(n,y,y,i)}}return r};ol.geom.flat.geodesic.greatCircleArc=function(e,t,o,r,i,n){var l=ol.proj.get("EPSG:4326");var a=Math.cos(ol.math.toRadians(t));var s=Math.sin(ol.math.toRadians(t));var p=Math.cos(ol.math.toRadians(r));var g=Math.sin(ol.math.toRadians(r));var u=Math.cos(ol.math.toRadians(o-e));var c=Math.sin(ol.math.toRadians(o-e));var y=s*g+a*p*u;return ol.geom.flat.geodesic.line_(function(t){if(1<=y){return[o,r]}var i=t*Math.acos(y);var n=Math.cos(i);var l=Math.sin(i);var d=c*p;var h=a*g-s*p*u;var f=Math.atan2(d,h);var m=Math.asin(s*n+a*l*Math.cos(f));var v=ol.math.toRadians(e)+Math.atan2(Math.sin(f)*l*a,n-s*Math.sin(m));return[ol.math.toDegrees(v),ol.math.toDegrees(m)]},ol.proj.getTransform(l,i),n)};ol.geom.flat.geodesic.meridian=function(e,t,o,r,i){var n=ol.proj.get("EPSG:4326");return ol.geom.flat.geodesic.line_(function(r){return[e,t+(o-t)*r]},ol.proj.getTransform(n,r),i)};ol.geom.flat.geodesic.parallel=function(e,t,o,r,i){var n=ol.proj.get("EPSG:4326");return ol.geom.flat.geodesic.line_(function(r){return[t+(o-t)*r,e]},ol.proj.getTransform(n,r),i)};goog.provide("ol.geom.flat.topology");goog.require("ol.geom.flat.area");ol.geom.flat.topology.lineStringIsClosed=function(e,t,o,r){var i=o-r;if(e[t]===e[i]&&e[t+1]===e[i+1]&&(o-t)/r>3){return!!ol.geom.flat.area.linearRing(e,t,o,r)}return false};goog.provide("ol.Graticule");goog.require("ol.coordinate");goog.require("ol.extent");goog.require("ol.geom.GeometryLayout");goog.require("ol.geom.LineString");goog.require("ol.geom.Point");goog.require("ol.geom.flat.geodesic");goog.require("ol.math");goog.require("ol.proj");goog.require("ol.render.EventType");goog.require("ol.style.Fill");goog.require("ol.style.Stroke");goog.require("ol.style.Text");ol.Graticule=function(e){var t=e||{};this.map_=null;this.projection_=null;this.maxLat_=Infinity;this.maxLon_=Infinity;this.minLat_=-Infinity;this.minLon_=-Infinity;this.maxLatP_=Infinity;this.maxLonP_=Infinity;this.minLatP_=-Infinity;this.minLonP_=-Infinity;this.targetSize_=t.targetSize!==undefined?t.targetSize:100;this.maxLines_=t.maxLines!==undefined?t.maxLines:100;this.meridians_=[];this.parallels_=[];this.strokeStyle_=t.strokeStyle!==undefined?t.strokeStyle:ol.Graticule.DEFAULT_STROKE_STYLE_;this.fromLonLatTransform_=undefined;this.toLonLatTransform_=undefined;this.projectionCenterLonLat_=null;this.meridiansLabels_=null;this.parallelsLabels_=null;if(t.showLabels==true){var o=ol.coordinate.degreesToStringHDMS;this.lonLabelFormatter_=t.lonLabelFormatter==undefined?o.bind(this,"EW"):t.lonLabelFormatter;this.latLabelFormatter_=t.latLabelFormatter==undefined?o.bind(this,"NS"):t.latLabelFormatter;this.lonLabelPosition_=t.lonLabelPosition==undefined?0:t.lonLabelPosition;this.latLabelPosition_=t.latLabelPosition==undefined?1:t.latLabelPosition;this.lonLabelStyle_=t.lonLabelStyle!==undefined?t.lonLabelStyle:new ol.style.Text({font:"12px Calibri,sans-serif",textBaseline:"bottom",fill:new ol.style.Fill({color:"rgba(0,0,0,1)"}),stroke:new ol.style.Stroke({color:"rgba(255,255,255,1)",width:3})});this.latLabelStyle_=t.latLabelStyle!==undefined?t.latLabelStyle:new ol.style.Text({font:"12px Calibri,sans-serif",textAlign:"end",fill:new ol.style.Fill({color:"rgba(0,0,0,1)"}),stroke:new ol.style.Stroke({color:"rgba(255,255,255,1)",width:3})});this.meridiansLabels_=[];this.parallelsLabels_=[]}this.setMap(t.map!==undefined?t.map:null)};ol.Graticule.DEFAULT_STROKE_STYLE_=new ol.style.Stroke({color:"rgba(0,0,0,0.2)"});ol.Graticule.intervals_=[90,45,30,20,10,5,2,1,.5,.2,.1,.05,.01,.005,.002,.001];ol.Graticule.prototype.addMeridian_=function(e,t,o,r,i,n){var l=this.getMeridian_(e,t,o,r,n);if(ol.extent.intersects(l.getExtent(),i)){if(this.meridiansLabels_){var a=this.getMeridianPoint_(l,i,n);this.meridiansLabels_[n]={geom:a,text:this.lonLabelFormatter_(e)}}this.meridians_[n++]=l}return n};ol.Graticule.prototype.getMeridianPoint_=function(e,t,o){var r=e.getFlatCoordinates();var i=Math.max(t[1],r[1]);var n=Math.min(t[3],r[r.length-1]);var l=ol.math.clamp(t[1]+Math.abs(t[1]-t[3])*this.lonLabelPosition_,i,n);var a=[r[0],l];var s=this.meridiansLabels_[o]!==undefined?this.meridiansLabels_[o].geom:new ol.geom.Point(null);s.setCoordinates(a);return s};ol.Graticule.prototype.addParallel_=function(e,t,o,r,i,n){var l=this.getParallel_(e,t,o,r,n);if(ol.extent.intersects(l.getExtent(),i)){if(this.parallelsLabels_){var a=this.getParallelPoint_(l,i,n);this.parallelsLabels_[n]={geom:a,text:this.latLabelFormatter_(e)}}this.parallels_[n++]=l}return n};ol.Graticule.prototype.getParallelPoint_=function(e,t,o){var r=e.getFlatCoordinates();var i=Math.max(t[0],r[0]);var n=Math.min(t[2],r[r.length-2]);var l=ol.math.clamp(t[0]+Math.abs(t[0]-t[2])*this.latLabelPosition_,i,n);var a=[l,r[1]];var s=this.parallelsLabels_[o]!==undefined?this.parallelsLabels_[o].geom:new ol.geom.Point(null);s.setCoordinates(a);return s};ol.Graticule.prototype.createGraticule_=function(e,t,o,r){var i=this.getInterval_(o);if(i==-1){this.meridians_.length=this.parallels_.length=0;if(this.meridiansLabels_){this.meridiansLabels_.length=0}if(this.parallelsLabels_){this.parallelsLabels_.length=0}return}var n=this.toLonLatTransform_(t);var l=n[0];var a=n[1];var s=this.maxLines_;var p,g,u,c;var y=[Math.max(e[0],this.minLonP_),Math.max(e[1],this.minLatP_),Math.min(e[2],this.maxLonP_),Math.min(e[3],this.maxLatP_)];y=ol.proj.transformExtent(y,this.projection_,"EPSG:4326");var d=y[3];var h=y[2];var f=y[1];var m=y[0];l=Math.floor(l/i)*i;c=ol.math.clamp(l,this.minLon_,this.maxLon_);g=this.addMeridian_(c,f,d,r,e,0);p=0;while(c!=this.minLon_&&p++<s){c=Math.max(c-i,this.minLon_);g=this.addMeridian_(c,f,d,r,e,g)}c=ol.math.clamp(l,this.minLon_,this.maxLon_);p=0;while(c!=this.maxLon_&&p++<s){c=Math.min(c+i,this.maxLon_);g=this.addMeridian_(c,f,d,r,e,g)}this.meridians_.length=g;if(this.meridiansLabels_){this.meridiansLabels_.length=g}a=Math.floor(a/i)*i;u=ol.math.clamp(a,this.minLat_,this.maxLat_);g=this.addParallel_(u,m,h,r,e,0);p=0;while(u!=this.minLat_&&p++<s){u=Math.max(u-i,this.minLat_);g=this.addParallel_(u,m,h,r,e,g)}u=ol.math.clamp(a,this.minLat_,this.maxLat_);p=0;while(u!=this.maxLat_&&p++<s){u=Math.min(u+i,this.maxLat_);g=this.addParallel_(u,m,h,r,e,g)}this.parallels_.length=g;if(this.parallelsLabels_){this.parallelsLabels_.length=g}};ol.Graticule.prototype.getInterval_=function(e){var t=this.projectionCenterLonLat_[0];var o=this.projectionCenterLonLat_[1];var r=-1;var i,n,l,a;var s=Math.pow(this.targetSize_*e,2);var p=[];var g=[];for(i=0,n=ol.Graticule.intervals_.length;i<n;++i){l=ol.Graticule.intervals_[i]/2;p[0]=t-l;p[1]=o-l;g[0]=t+l;g[1]=o+l;this.fromLonLatTransform_(p,p);this.fromLonLatTransform_(g,g);a=Math.pow(g[0]-p[0],2)+Math.pow(g[1]-p[1],2);if(a<=s){break}r=ol.Graticule.intervals_[i]}return r};ol.Graticule.prototype.getMap=function(){return this.map_};ol.Graticule.prototype.getMeridian_=function(e,t,o,r,i){var n=ol.geom.flat.geodesic.meridian(e,t,o,this.projection_,r);var l=this.meridians_[i]!==undefined?this.meridians_[i]:new ol.geom.LineString(null);l.setFlatCoordinates(ol.geom.GeometryLayout.XY,n);return l};ol.Graticule.prototype.getMeridians=function(){return this.meridians_};ol.Graticule.prototype.getParallel_=function(e,t,o,r,i){var n=ol.geom.flat.geodesic.parallel(e,t,o,this.projection_,r);var l=this.parallels_[i]!==undefined?this.parallels_[i]:new ol.geom.LineString(null);l.setFlatCoordinates(ol.geom.GeometryLayout.XY,n);return l};ol.Graticule.prototype.getParallels=function(){return this.parallels_};ol.Graticule.prototype.handlePostCompose_=function(e){var t=e.vectorContext;var o=e.frameState;var r=o.extent;var i=o.viewState;var n=i.center;var l=i.projection;var a=i.resolution;var s=o.pixelRatio;var p=a*a/(4*s*s);var g=!this.projection_||!ol.proj.equivalent(this.projection_,l);if(g){this.updateProjectionInfo_(l)}this.createGraticule_(r,n,a,p);t.setFillStrokeStyle(null,this.strokeStyle_);var u,c,y;for(u=0,c=this.meridians_.length;u<c;++u){y=this.meridians_[u];t.drawGeometry(y)}for(u=0,c=this.parallels_.length;u<c;++u){y=this.parallels_[u];t.drawGeometry(y)}var d;if(this.meridiansLabels_){for(u=0,c=this.meridiansLabels_.length;u<c;++u){d=this.meridiansLabels_[u];this.lonLabelStyle_.setText(d.text);t.setTextStyle(this.lonLabelStyle_);t.drawGeometry(d.geom)}}if(this.parallelsLabels_){for(u=0,c=this.parallelsLabels_.length;u<c;++u){d=this.parallelsLabels_[u];this.latLabelStyle_.setText(d.text);t.setTextStyle(this.latLabelStyle_);t.drawGeometry(d.geom)}}};ol.Graticule.prototype.updateProjectionInfo_=function(e){var t=ol.proj.get("EPSG:4326");var o=e.getExtent();var r=e.getWorldExtent();var i=ol.proj.transformExtent(r,t,e);var n=r[3];var l=r[2];var a=r[1];var s=r[0];var p=i[3];var g=i[2];var u=i[1];var c=i[0];this.maxLat_=n;this.maxLon_=l;this.minLat_=a;this.minLon_=s;this.maxLatP_=p;this.maxLonP_=g;this.minLatP_=u;this.minLonP_=c;this.fromLonLatTransform_=ol.proj.getTransform(t,e);this.toLonLatTransform_=ol.proj.getTransform(e,t);this.projectionCenterLonLat_=this.toLonLatTransform_(ol.extent.getCenter(o));this.projection_=e};ol.Graticule.prototype.setMap=function(e){if(this.map_){this.map_.un(ol.render.EventType.POSTCOMPOSE,this.handlePostCompose_,this);this.map_.render()}if(e){e.on(ol.render.EventType.POSTCOMPOSE,this.handlePostCompose_,this);e.render()}this.map_=e};goog.provide("ol.Image");goog.require("ol");goog.require("ol.ImageBase");goog.require("ol.ImageState");goog.require("ol.events");goog.require("ol.events.EventType");goog.require("ol.extent");ol.Image=function(e,t,o,r,i,n){ol.ImageBase.call(this,e,t,o,ol.ImageState.IDLE);this.src_=r;this.image_=new Image;if(i!==null){this.image_.crossOrigin=i}this.imageListenerKeys_=null;this.state=ol.ImageState.IDLE;this.imageLoadFunction_=n};ol.inherits(ol.Image,ol.ImageBase);ol.Image.prototype.getImage=function(){return this.image_};ol.Image.prototype.handleImageError_=function(){this.state=ol.ImageState.ERROR;this.unlistenImage_();this.changed()};ol.Image.prototype.handleImageLoad_=function(){if(this.resolution===undefined){this.resolution=ol.extent.getHeight(this.extent)/this.image_.height}this.state=ol.ImageState.LOADED;this.unlistenImage_();this.changed()};ol.Image.prototype.load=function(){if(this.state==ol.ImageState.IDLE||this.state==ol.ImageState.ERROR){this.state=ol.ImageState.LOADING;this.changed();this.imageListenerKeys_=[ol.events.listenOnce(this.image_,ol.events.EventType.ERROR,this.handleImageError_,this),ol.events.listenOnce(this.image_,ol.events.EventType.LOAD,this.handleImageLoad_,this)];this.imageLoadFunction_(this,this.src_)}};ol.Image.prototype.setImage=function(e){this.image_=e};ol.Image.prototype.unlistenImage_=function(){this.imageListenerKeys_.forEach(ol.events.unlistenByKey);this.imageListenerKeys_=null};goog.provide("ol.Tile");goog.require("ol");goog.require("ol.TileState");goog.require("ol.easing");goog.require("ol.events.EventTarget");goog.require("ol.events.EventType");ol.Tile=function(e,t,o){ol.events.EventTarget.call(this);var r=o?o:{};this.tileCoord=e;this.state=t;this.interimTile=null;this.key="";this.transition_=r.transition===undefined?250:r.transition;this.transitionStarts_={}};ol.inherits(ol.Tile,ol.events.EventTarget);ol.Tile.prototype.changed=function(){this.dispatchEvent(ol.events.EventType.CHANGE)};ol.Tile.prototype.getKey=function(){return this.key+"/"+this.tileCoord};ol.Tile.prototype.getInterimTile=function(){if(!this.interimTile){return this}var e=this.interimTile;do{if(e.getState()==ol.TileState.LOADED){return e}e=e.interimTile}while(e);return this};ol.Tile.prototype.refreshInterimChain=function(){if(!this.interimTile){return}var e=this.interimTile;var t=this;do{if(e.getState()==ol.TileState.LOADED){e.interimTile=null;break}else if(e.getState()==ol.TileState.LOADING){t=e}else if(e.getState()==ol.TileState.IDLE){t.interimTile=e.interimTile}else{t=e}e=t.interimTile}while(e)};ol.Tile.prototype.getTileCoord=function(){return this.tileCoord};ol.Tile.prototype.getState=function(){return this.state};ol.Tile.prototype.setState=function(e){this.state=e;this.changed()};ol.Tile.prototype.load=function(){};ol.Tile.prototype.getAlpha=function(e,t){if(!this.transition_){return 1}var o=this.transitionStarts_[e];if(!o){o=t;this.transitionStarts_[e]=o}else if(o===-1){return 1}var r=t-o+1e3/60;if(r>=this.transition_){return 1}return ol.easing.easeIn(r/this.transition_)};ol.Tile.prototype.inTransition=function(e){if(!this.transition_){return false}return this.transitionStarts_[e]!==-1};ol.Tile.prototype.endTransition=function(e){if(this.transition_){this.transitionStarts_[e]=-1}};goog.provide("ol.ImageTile");goog.require("ol");goog.require("ol.Tile");goog.require("ol.TileState");goog.require("ol.dom");goog.require("ol.events");goog.require("ol.events.EventType");ol.ImageTile=function(e,t,o,r,i,n){ol.Tile.call(this,e,t,n);this.crossOrigin_=r;this.src_=o;this.image_=new Image;if(r!==null){this.image_.crossOrigin=r}this.imageListenerKeys_=null;this.tileLoadFunction_=i};ol.inherits(ol.ImageTile,ol.Tile);ol.ImageTile.prototype.disposeInternal=function(){if(this.state==ol.TileState.LOADING){this.unlistenImage_();this.image_=ol.ImageTile.getBlankImage()}if(this.interimTile){this.interimTile.dispose()}this.state=ol.TileState.ABORT;this.changed();ol.Tile.prototype.disposeInternal.call(this)};ol.ImageTile.prototype.getImage=function(){return this.image_};ol.ImageTile.prototype.getKey=function(){return this.src_};ol.ImageTile.prototype.handleImageError_=function(){this.state=ol.TileState.ERROR;this.unlistenImage_();this.image_=ol.ImageTile.getBlankImage();this.changed()};ol.ImageTile.prototype.handleImageLoad_=function(){if(this.image_.naturalWidth&&this.image_.naturalHeight){this.state=ol.TileState.LOADED}else{this.state=ol.TileState.EMPTY}this.unlistenImage_();this.changed()};ol.ImageTile.prototype.load=function(){if(this.state==ol.TileState.ERROR){this.state=ol.TileState.IDLE;this.image_=new Image;if(this.crossOrigin_!==null){this.image_.crossOrigin=this.crossOrigin_}}if(this.state==ol.TileState.IDLE){this.state=ol.TileState.LOADING;this.changed();this.imageListenerKeys_=[ol.events.listenOnce(this.image_,ol.events.EventType.ERROR,this.handleImageError_,this),ol.events.listenOnce(this.image_,ol.events.EventType.LOAD,this.handleImageLoad_,this)];this.tileLoadFunction_(this,this.src_)}};ol.ImageTile.prototype.unlistenImage_=function(){this.imageListenerKeys_.forEach(ol.events.unlistenByKey);this.imageListenerKeys_=null};ol.ImageTile.getBlankImage=function(){var e=ol.dom.createCanvasContext2D(1,1);e.fillStyle="rgba(0,0,0,0)";e.fillRect(0,0,1,1);return e.canvas};goog.provide("ol.interaction.DragAndDrop");goog.require("ol");goog.require("ol.functions");goog.require("ol.events");goog.require("ol.events.Event");goog.require("ol.events.EventType");goog.require("ol.interaction.Interaction");goog.require("ol.proj");ol.interaction.DragAndDrop=function(e){var t=e?e:{};ol.interaction.Interaction.call(this,{handleEvent:ol.interaction.DragAndDrop.handleEvent});this.formatConstructors_=t.formatConstructors?t.formatConstructors:[];this.projection_=t.projection?ol.proj.get(t.projection):null;this.dropListenKeys_=null;this.source_=t.source||null;this.target=t.target?t.target:null};ol.inherits(ol.interaction.DragAndDrop,ol.interaction.Interaction);ol.interaction.DragAndDrop.handleDrop_=function(e){var t=e.dataTransfer.files;var o,r,i;for(o=0,r=t.length;o<r;++o){i=t.item(o);var n=new FileReader;n.addEventListener(ol.events.EventType.LOAD,this.handleResult_.bind(this,i));n.readAsText(i)}};ol.interaction.DragAndDrop.handleStop_=function(e){e.stopPropagation();e.preventDefault();e.dataTransfer.dropEffect="copy"};ol.interaction.DragAndDrop.prototype.handleResult_=function(e,t){var o=t.target.result;var r=this.getMap();var i=this.projection_;if(!i){var n=r.getView();i=n.getProjection()}var l=this.formatConstructors_;var a=[];var s,p;for(s=0,p=l.length;s<p;++s){var g=l[s];var u=new g;a=this.tryReadFeatures_(u,o,{featureProjection:i});if(a&&a.length>0){break}}if(this.source_){this.source_.clear();this.source_.addFeatures(a)}this.dispatchEvent(new ol.interaction.DragAndDrop.Event(ol.interaction.DragAndDrop.EventType_.ADD_FEATURES,e,a,i))};ol.interaction.DragAndDrop.handleEvent=ol.functions.TRUE;ol.interaction.DragAndDrop.prototype.registerListeners_=function(){var e=this.getMap();if(e){var t=this.target?this.target:e.getViewport();this.dropListenKeys_=[ol.events.listen(t,ol.events.EventType.DROP,ol.interaction.DragAndDrop.handleDrop_,this),ol.events.listen(t,ol.events.EventType.DRAGENTER,ol.interaction.DragAndDrop.handleStop_,this),ol.events.listen(t,ol.events.EventType.DRAGOVER,ol.interaction.DragAndDrop.handleStop_,this),ol.events.listen(t,ol.events.EventType.DROP,ol.interaction.DragAndDrop.handleStop_,this)]}};ol.interaction.DragAndDrop.prototype.setActive=function(e){ol.interaction.Interaction.prototype.setActive.call(this,e);if(e){this.registerListeners_()}else{this.unregisterListeners_()}};ol.interaction.DragAndDrop.prototype.setMap=function(e){this.unregisterListeners_();ol.interaction.Interaction.prototype.setMap.call(this,e);if(this.getActive()){this.registerListeners_()}};ol.interaction.DragAndDrop.prototype.tryReadFeatures_=function(e,t,o){try{return e.readFeatures(t,o)}catch(e){return null}};ol.interaction.DragAndDrop.prototype.unregisterListeners_=function(){if(this.dropListenKeys_){this.dropListenKeys_.forEach(ol.events.unlistenByKey);this.dropListenKeys_=null}};ol.interaction.DragAndDrop.EventType_={ADD_FEATURES:"addfeatures"};ol.interaction.DragAndDrop.Event=function(e,t,o,r){ol.events.Event.call(this,e);this.features=o;this.file=t;this.projection=r};ol.inherits(ol.interaction.DragAndDrop.Event,ol.events.Event);goog.provide("ol.interaction.DragRotateAndZoom");goog.require("ol");goog.require("ol.RotationConstraint");goog.require("ol.ViewHint");goog.require("ol.events.condition");goog.require("ol.interaction.Interaction");goog.require("ol.interaction.Pointer");ol.interaction.DragRotateAndZoom=function(e){var t=e?e:{};ol.interaction.Pointer.call(this,{handleDownEvent:ol.interaction.DragRotateAndZoom.handleDownEvent_,handleDragEvent:ol.interaction.DragRotateAndZoom.handleDragEvent_,handleUpEvent:ol.interaction.DragRotateAndZoom.handleUpEvent_});this.condition_=t.condition?t.condition:ol.events.condition.shiftKeyOnly;this.lastAngle_=undefined;this.lastMagnitude_=undefined;this.lastScaleDelta_=0;this.duration_=t.duration!==undefined?t.duration:400};ol.inherits(ol.interaction.DragRotateAndZoom,ol.interaction.Pointer);ol.interaction.DragRotateAndZoom.handleDragEvent_=function(e){if(!ol.events.condition.mouseOnly(e)){return}var t=e.map;var o=t.getSize();var r=e.pixel;var i=r[0]-o[0]/2;var n=o[1]/2-r[1];var l=Math.atan2(n,i);var a=Math.sqrt(i*i+n*n);var s=t.getView();if(s.getConstraints().rotation!==ol.RotationConstraint.disable&&this.lastAngle_!==undefined){var p=l-this.lastAngle_;ol.interaction.Interaction.rotateWithoutConstraints(s,s.getRotation()-p)}this.lastAngle_=l;if(this.lastMagnitude_!==undefined){var g=this.lastMagnitude_*(s.getResolution()/a);ol.interaction.Interaction.zoomWithoutConstraints(s,g)}if(this.lastMagnitude_!==undefined){this.lastScaleDelta_=this.lastMagnitude_/a}this.lastMagnitude_=a};ol.interaction.DragRotateAndZoom.handleUpEvent_=function(e){if(!ol.events.condition.mouseOnly(e)){return true}var t=e.map;var o=t.getView();o.setHint(ol.ViewHint.INTERACTING,-1);var r=this.lastScaleDelta_-1;ol.interaction.Interaction.rotate(o,o.getRotation());ol.interaction.Interaction.zoom(o,o.getResolution(),undefined,this.duration_,r);this.lastScaleDelta_=0;return false};ol.interaction.DragRotateAndZoom.handleDownEvent_=function(e){if(!ol.events.condition.mouseOnly(e)){return false}if(this.condition_(e)){e.map.getView().setHint(ol.ViewHint.INTERACTING,1);this.lastAngle_=undefined;this.lastMagnitude_=undefined;return true}else{return false}};goog.provide("ol.interaction.DrawEventType");ol.interaction.DrawEventType={DRAWSTART:"drawstart",DRAWEND:"drawend"};goog.provide("ol.layer.Vector");goog.require("ol");goog.require("ol.LayerType");goog.require("ol.layer.Layer");goog.require("ol.layer.VectorRenderType");goog.require("ol.obj");goog.require("ol.style.Style");ol.layer.Vector=function(e){var t=e?e:{};var o=ol.obj.assign({},t);delete o.style;delete o.renderBuffer;delete o.updateWhileAnimating;delete o.updateWhileInteracting;ol.layer.Layer.call(this,o);this.declutter_=t.declutter!==undefined?t.declutter:false;this.renderBuffer_=t.renderBuffer!==undefined?t.renderBuffer:100;this.style_=null;this.styleFunction_=undefined;this.setStyle(t.style);this.updateWhileAnimating_=t.updateWhileAnimating!==undefined?t.updateWhileAnimating:false;this.updateWhileInteracting_=t.updateWhileInteracting!==undefined?t.updateWhileInteracting:false;this.renderMode_=t.renderMode||ol.layer.VectorRenderType.VECTOR;this.type=ol.LayerType.VECTOR};ol.inherits(ol.layer.Vector,ol.layer.Layer);ol.layer.Vector.prototype.getDeclutter=function(){return this.declutter_};ol.layer.Vector.prototype.setDeclutter=function(e){this.declutter_=e};ol.layer.Vector.prototype.getRenderBuffer=function(){return this.renderBuffer_};ol.layer.Vector.prototype.getRenderOrder=function(){return this.get(ol.layer.Vector.Property_.RENDER_ORDER)};ol.layer.Vector.prototype.getSource;ol.layer.Vector.prototype.getStyle=function(){return this.style_};ol.layer.Vector.prototype.getStyleFunction=function(){return this.styleFunction_};ol.layer.Vector.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_};ol.layer.Vector.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_};ol.layer.Vector.prototype.setRenderOrder=function(e){this.set(ol.layer.Vector.Property_.RENDER_ORDER,e)};ol.layer.Vector.prototype.setStyle=function(e){this.style_=e!==undefined?e:ol.style.Style.defaultFunction;this.styleFunction_=e===null?undefined:ol.style.Style.createFunction(this.style_);this.changed()};ol.layer.Vector.prototype.getRenderMode=function(){return this.renderMode_};ol.layer.Vector.Property_={RENDER_ORDER:"renderOrder"};goog.provide("ol.loadingstrategy");ol.loadingstrategy.all=function(e,t){return[[-Infinity,-Infinity,Infinity,Infinity]]};ol.loadingstrategy.bbox=function(e,t){return[e]};ol.loadingstrategy.tile=function(e){return function(t,o){var r=e.getZForResolution(o);var i=e.getTileRangeForExtentAndZ(t,r);var n=[];var l=[r,0,0];for(l[1]=i.minX;l[1]<=i.maxX;++l[1]){for(l[2]=i.minY;l[2]<=i.maxY;++l[2]){n.push(e.getTileCoordExtent(l))}}return n}};goog.provide("ol.source.Source");goog.require("ol");goog.require("ol.Attribution");goog.require("ol.Object");goog.require("ol.proj");goog.require("ol.source.State");ol.source.Source=function(e){ol.Object.call(this);this.projection_=ol.proj.get(e.projection);this.attributions_=null;this.attributions2_=this.adaptAttributions_(e.attributions);this.logo_=e.logo;this.state_=e.state!==undefined?e.state:ol.source.State.READY;this.wrapX_=e.wrapX!==undefined?e.wrapX:false};ol.inherits(ol.source.Source,ol.Object);ol.source.Source.prototype.adaptAttributions_=function(e){if(!e){return null}if(e instanceof ol.Attribution){this.attributions_=[e];return function(t){return[e.getHTML()]}}if(Array.isArray(e)){if(e[0]instanceof ol.Attribution){this.attributions_=e;var t=e.map(function(e){return e.getHTML()});return function(e){return t}}this.attributions_=e.map(function(e){return new ol.Attribution({html:e})});return function(t){return e}}if(typeof e==="function"){return e}this.attributions_=[new ol.Attribution({html:e})];return function(t){return[e]}};ol.source.Source.prototype.forEachFeatureAtCoordinate=ol.nullFunction;ol.source.Source.prototype.getAttributions=function(){return this.attributions_};ol.source.Source.prototype.getAttributions2=function(){return this.attributions2_};ol.source.Source.prototype.getLogo=function(){return this.logo_};ol.source.Source.prototype.getProjection=function(){return this.projection_};ol.source.Source.prototype.getResolutions=function(){};ol.source.Source.prototype.getState=function(){return this.state_};ol.source.Source.prototype.getWrapX=function(){return this.wrapX_};ol.source.Source.prototype.refresh=function(){this.changed()};ol.source.Source.prototype.setAttributions=function(e){this.attributions2_=this.adaptAttributions_(e);this.changed()};ol.source.Source.prototype.setLogo=function(e){this.logo_=e};ol.source.Source.prototype.setState=function(e){this.state_=e;this.changed()};goog.provide("ol.source.VectorEventType");ol.source.VectorEventType={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature"};goog.provide("ol.structs.RBush");goog.require("ol");goog.require("ol.ext.rbush");goog.require("ol.extent");goog.require("ol.obj");ol.structs.RBush=function(e){this.rbush_=ol.ext.rbush(e);this.items_={}};ol.structs.RBush.prototype.insert=function(e,t){var o={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3],value:t};this.rbush_.insert(o);this.items_[ol.getUid(t)]=o};ol.structs.RBush.prototype.load=function(e,t){var o=new Array(t.length);for(var r=0,i=t.length;r<i;r++){var n=e[r];var l=t[r];var a={minX:n[0],minY:n[1],maxX:n[2],maxY:n[3],value:l};o[r]=a;this.items_[ol.getUid(l)]=a}this.rbush_.load(o)};ol.structs.RBush.prototype.remove=function(e){var t=ol.getUid(e);var o=this.items_[t];delete this.items_[t];return this.rbush_.remove(o)!==null};ol.structs.RBush.prototype.update=function(e,t){var o=this.items_[ol.getUid(t)];var r=[o.minX,o.minY,o.maxX,o.maxY];if(!ol.extent.equals(r,e)){this.remove(t);this.insert(e,t)}};ol.structs.RBush.prototype.getAll=function(){var e=this.rbush_.all();return e.map(function(e){return e.value})};ol.structs.RBush.prototype.getInExtent=function(e){var t={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]};var o=this.rbush_.search(t);return o.map(function(e){return e.value})};ol.structs.RBush.prototype.forEach=function(e,t){return this.forEach_(this.getAll(),e,t)};ol.structs.RBush.prototype.forEachInExtent=function(e,t,o){return this.forEach_(this.getInExtent(e),t,o)};ol.structs.RBush.prototype.forEach_=function(e,t,o){var r;for(var i=0,n=e.length;i<n;i++){r=t.call(o,e[i]);if(r){return r}}return r};ol.structs.RBush.prototype.isEmpty=function(){return ol.obj.isEmpty(this.items_)};ol.structs.RBush.prototype.clear=function(){this.rbush_.clear();this.items_={}};ol.structs.RBush.prototype.getExtent=function(e){var t=this.rbush_.data;return ol.extent.createOrUpdate(t.minX,t.minY,t.maxX,t.maxY,e)};ol.structs.RBush.prototype.concat=function(e){this.rbush_.load(e.rbush_.all());for(var t in e.items_){this.items_[t|0]=e.items_[t|0]}};goog.provide("ol.source.Vector");goog.require("ol");goog.require("ol.Collection");goog.require("ol.CollectionEventType");goog.require("ol.ObjectEventType");goog.require("ol.array");goog.require("ol.asserts");goog.require("ol.events");goog.require("ol.events.Event");goog.require("ol.events.EventType");goog.require("ol.extent");goog.require("ol.featureloader");goog.require("ol.functions");goog.require("ol.loadingstrategy");goog.require("ol.obj");goog.require("ol.source.Source");goog.require("ol.source.State");goog.require("ol.source.VectorEventType");goog.require("ol.structs.RBush");ol.source.Vector=function(e){var t=e||{};ol.source.Source.call(this,{attributions:t.attributions,logo:t.logo,projection:undefined,state:ol.source.State.READY,wrapX:t.wrapX!==undefined?t.wrapX:true});this.loader_=ol.nullFunction;this.format_=t.format;this.overlaps_=t.overlaps==undefined?true:t.overlaps;this.url_=t.url;if(t.loader!==undefined){this.loader_=t.loader}else if(this.url_!==undefined){ol.asserts.assert(this.format_,7);this.loader_=ol.featureloader.xhr(this.url_,this.format_)}this.strategy_=t.strategy!==undefined?t.strategy:ol.loadingstrategy.all;var o=t.useSpatialIndex!==undefined?t.useSpatialIndex:true;this.featuresRtree_=o?new ol.structs.RBush:null;this.loadedExtentsRtree_=new ol.structs.RBush;this.nullGeometryFeatures_={};this.idIndex_={};this.undefIdIndex_={};this.featureChangeKeys_={};this.featuresCollection_=null;var r,i;if(t.features instanceof ol.Collection){r=t.features;i=r.getArray()}else if(Array.isArray(t.features)){i=t.features}if(!o&&r===undefined){r=new ol.Collection(i)}if(i!==undefined){this.addFeaturesInternal(i)}if(r!==undefined){this.bindFeaturesCollection_(r)}};ol.inherits(ol.source.Vector,ol.source.Source);ol.source.Vector.prototype.addFeature=function(e){this.addFeatureInternal(e);this.changed()};ol.source.Vector.prototype.addFeatureInternal=function(e){var t=ol.getUid(e).toString();if(!this.addToIndex_(t,e)){return}this.setupChangeEvents_(t,e);var o=e.getGeometry();if(o){var r=o.getExtent();if(this.featuresRtree_){this.featuresRtree_.insert(r,e)}}else{this.nullGeometryFeatures_[t]=e}this.dispatchEvent(new ol.source.Vector.Event(ol.source.VectorEventType.ADDFEATURE,e))};ol.source.Vector.prototype.setupChangeEvents_=function(e,t){this.featureChangeKeys_[e]=[ol.events.listen(t,ol.events.EventType.CHANGE,this.handleFeatureChange_,this),ol.events.listen(t,ol.ObjectEventType.PROPERTYCHANGE,this.handleFeatureChange_,this)]};ol.source.Vector.prototype.addToIndex_=function(e,t){var o=true;var r=t.getId();if(r!==undefined){if(!(r.toString()in this.idIndex_)){this.idIndex_[r.toString()]=t}else{o=false}}else{ol.asserts.assert(!(e in this.undefIdIndex_),30);this.undefIdIndex_[e]=t}return o};ol.source.Vector.prototype.addFeatures=function(e){this.addFeaturesInternal(e);this.changed()};ol.source.Vector.prototype.addFeaturesInternal=function(e){var t,o,r,i;var n=[];var l=[];var a=[];for(o=0,r=e.length;o<r;o++){i=e[o];t=ol.getUid(i).toString();if(this.addToIndex_(t,i)){l.push(i)}}for(o=0,r=l.length;o<r;o++){i=l[o];t=ol.getUid(i).toString();this.setupChangeEvents_(t,i);var s=i.getGeometry();if(s){var p=s.getExtent();n.push(p);a.push(i)}else{this.nullGeometryFeatures_[t]=i}}if(this.featuresRtree_){this.featuresRtree_.load(n,a)}for(o=0,r=l.length;o<r;o++){this.dispatchEvent(new ol.source.Vector.Event(ol.source.VectorEventType.ADDFEATURE,l[o]))}};ol.source.Vector.prototype.bindFeaturesCollection_=function(e){var t=false;ol.events.listen(this,ol.source.VectorEventType.ADDFEATURE,function(o){if(!t){t=true;e.push(o.feature);t=false}});ol.events.listen(this,ol.source.VectorEventType.REMOVEFEATURE,function(o){if(!t){t=true;e.remove(o.feature);t=false}});ol.events.listen(e,ol.CollectionEventType.ADD,function(e){if(!t){t=true;this.addFeature(e.element);t=false}},this);ol.events.listen(e,ol.CollectionEventType.REMOVE,function(e){if(!t){t=true;this.removeFeature(e.element);t=false}},this);this.featuresCollection_=e};ol.source.Vector.prototype.clear=function(e){if(e){for(var t in this.featureChangeKeys_){var o=this.featureChangeKeys_[t];o.forEach(ol.events.unlistenByKey)}if(!this.featuresCollection_){this.featureChangeKeys_={};this.idIndex_={};this.undefIdIndex_={}}}else{if(this.featuresRtree_){this.featuresRtree_.forEach(this.removeFeatureInternal,this);for(var r in this.nullGeometryFeatures_){this.removeFeatureInternal(this.nullGeometryFeatures_[r])}}}if(this.featuresCollection_){this.featuresCollection_.clear()}if(this.featuresRtree_){this.featuresRtree_.clear()}this.loadedExtentsRtree_.clear();this.nullGeometryFeatures_={};var i=new ol.source.Vector.Event(ol.source.VectorEventType.CLEAR);this.dispatchEvent(i);this.changed()};ol.source.Vector.prototype.forEachFeature=function(e,t){if(this.featuresRtree_){return this.featuresRtree_.forEach(e,t)}else if(this.featuresCollection_){return this.featuresCollection_.forEach(e,t)}};ol.source.Vector.prototype.forEachFeatureAtCoordinateDirect=function(e,t,o){var r=[e[0],e[1],e[0],e[1]];return this.forEachFeatureInExtent(r,function(r){var i=r.getGeometry();if(i.intersectsCoordinate(e)){return t.call(o,r)}else{return undefined}})};ol.source.Vector.prototype.forEachFeatureInExtent=function(e,t,o){if(this.featuresRtree_){return this.featuresRtree_.forEachInExtent(e,t,o)}else if(this.featuresCollection_){return this.featuresCollection_.forEach(t,o)}};ol.source.Vector.prototype.forEachFeatureIntersectingExtent=function(e,t,o){return this.forEachFeatureInExtent(e,function(r){var i=r.getGeometry();if(i.intersectsExtent(e)){var n=t.call(o,r);if(n){return n}}})};ol.source.Vector.prototype.getFeaturesCollection=function(){return this.featuresCollection_};ol.source.Vector.prototype.getFeatures=function(){var e;if(this.featuresCollection_){e=this.featuresCollection_.getArray()}else if(this.featuresRtree_){e=this.featuresRtree_.getAll();if(!ol.obj.isEmpty(this.nullGeometryFeatures_)){ol.array.extend(e,ol.obj.getValues(this.nullGeometryFeatures_))}}return e};ol.source.Vector.prototype.getFeaturesAtCoordinate=function(e){var t=[];this.forEachFeatureAtCoordinateDirect(e,function(e){t.push(e)});return t};ol.source.Vector.prototype.getFeaturesInExtent=function(e){return this.featuresRtree_.getInExtent(e)};ol.source.Vector.prototype.getClosestFeatureToCoordinate=function(e,t){var o=e[0];var r=e[1];var i=null;var n=[NaN,NaN];var l=Infinity;var a=[-Infinity,-Infinity,Infinity,Infinity];var s=t?t:ol.functions.TRUE;this.featuresRtree_.forEachInExtent(a,function(e){if(s(e)){var t=e.getGeometry();var p=l;l=t.closestPointXY(o,r,n,l);if(l<p){i=e;var g=Math.sqrt(l);a[0]=o-g;a[1]=r-g;a[2]=o+g;a[3]=r+g}}});return i};ol.source.Vector.prototype.getExtent=function(e){return this.featuresRtree_.getExtent(e)};ol.source.Vector.prototype.getFeatureById=function(e){var t=this.idIndex_[e.toString()];return t!==undefined?t:null};ol.source.Vector.prototype.getFormat=function(){return this.format_};ol.source.Vector.prototype.getOverlaps=function(){return this.overlaps_};ol.source.Vector.prototype.getResolutions=function(){};ol.source.Vector.prototype.getUrl=function(){return this.url_};ol.source.Vector.prototype.handleFeatureChange_=function(e){var t=e.target;var o=ol.getUid(t).toString();var r=t.getGeometry();if(!r){if(!(o in this.nullGeometryFeatures_)){if(this.featuresRtree_){this.featuresRtree_.remove(t)}this.nullGeometryFeatures_[o]=t}}else{var i=r.getExtent();if(o in this.nullGeometryFeatures_){delete this.nullGeometryFeatures_[o];if(this.featuresRtree_){this.featuresRtree_.insert(i,t)}}else{if(this.featuresRtree_){this.featuresRtree_.update(i,t)}}}var n=t.getId();if(n!==undefined){var l=n.toString();if(o in this.undefIdIndex_){delete this.undefIdIndex_[o];this.idIndex_[l]=t}else{if(this.idIndex_[l]!==t){this.removeFromIdIndex_(t);this.idIndex_[l]=t}}}else{if(!(o in this.undefIdIndex_)){this.removeFromIdIndex_(t);this.undefIdIndex_[o]=t}}this.changed();this.dispatchEvent(new ol.source.Vector.Event(ol.source.VectorEventType.CHANGEFEATURE,t))};ol.source.Vector.prototype.isEmpty=function(){return this.featuresRtree_.isEmpty()&&ol.obj.isEmpty(this.nullGeometryFeatures_)};ol.source.Vector.prototype.loadFeatures=function(e,t,o){var r=this.loadedExtentsRtree_;var i=this.strategy_(e,t);var n,l;for(n=0,l=i.length;n<l;++n){var a=i[n];var s=r.forEachInExtent(a,function(e){return ol.extent.containsExtent(e.extent,a)});if(!s){this.loader_.call(this,a,t,o);r.insert(a,{extent:a.slice()})}}};ol.source.Vector.prototype.removeLoadedExtent=function(e){var t=this.loadedExtentsRtree_;var o;t.forEachInExtent(e,function(t){if(ol.extent.equals(t.extent,e)){o=t;return true}});if(o){t.remove(o)}};ol.source.Vector.prototype.removeFeature=function(e){var t=ol.getUid(e).toString();if(t in this.nullGeometryFeatures_){delete this.nullGeometryFeatures_[t]}else{if(this.featuresRtree_){this.featuresRtree_.remove(e)}}this.removeFeatureInternal(e);this.changed()};ol.source.Vector.prototype.removeFeatureInternal=function(e){var t=ol.getUid(e).toString();this.featureChangeKeys_[t].forEach(ol.events.unlistenByKey);delete this.featureChangeKeys_[t];var o=e.getId();if(o!==undefined){delete this.idIndex_[o.toString()]}else{delete this.undefIdIndex_[t]}this.dispatchEvent(new ol.source.Vector.Event(ol.source.VectorEventType.REMOVEFEATURE,e))};ol.source.Vector.prototype.removeFromIdIndex_=function(e){var t=false;for(var o in this.idIndex_){if(this.idIndex_[o]===e){delete this.idIndex_[o];t=true;break}}return t};ol.source.Vector.prototype.setLoader=function(e){this.loader_=e};ol.source.Vector.Event=function(e,t){ol.events.Event.call(this,e);this.feature=t};ol.inherits(ol.source.Vector.Event,ol.events.Event);goog.provide("ol.interaction.Draw");goog.require("ol");goog.require("ol.Feature");goog.require("ol.MapBrowserEventType");goog.require("ol.Object");goog.require("ol.coordinate");goog.require("ol.events");goog.require("ol.events.Event");goog.require("ol.events.condition");goog.require("ol.extent");goog.require("ol.functions");goog.require("ol.geom.Circle");goog.require("ol.geom.GeometryType");goog.require("ol.geom.LineString");goog.require("ol.geom.MultiLineString");goog.require("ol.geom.MultiPoint");goog.require("ol.geom.MultiPolygon");goog.require("ol.geom.Point");goog.require("ol.geom.Polygon");goog.require("ol.interaction.DrawEventType");goog.require("ol.interaction.Pointer");goog.require("ol.interaction.Property");goog.require("ol.layer.Vector");goog.require("ol.source.Vector");goog.require("ol.style.Style");ol.interaction.Draw=function(e){ol.interaction.Pointer.call(this,{handleDownEvent:ol.interaction.Draw.handleDownEvent_,handleEvent:ol.interaction.Draw.handleEvent,handleUpEvent:ol.interaction.Draw.handleUpEvent_});this.shouldHandle_=false;this.downPx_=null;this.freehand_=false;this.source_=e.source?e.source:null;this.features_=e.features?e.features:null;this.snapTolerance_=e.snapTolerance?e.snapTolerance:12;this.type_=e.type;this.mode_=ol.interaction.Draw.getMode_(this.type_);this.stopClick_=!!e.stopClick;this.minPoints_=e.minPoints?e.minPoints:this.mode_===ol.interaction.Draw.Mode_.POLYGON?3:2;this.maxPoints_=e.maxPoints?e.maxPoints:Infinity;this.finishCondition_=e.finishCondition?e.finishCondition:ol.functions.TRUE;var t=e.geometryFunction;if(!t){if(this.type_===ol.geom.GeometryType.CIRCLE){t=function(e,t){var o=t?t:new ol.geom.Circle([NaN,NaN]);var r=ol.coordinate.squaredDistance(e[0],e[1]);o.setCenterAndRadius(e[0],Math.sqrt(r));return o}}else{var o;var r=this.mode_;if(r===ol.interaction.Draw.Mode_.POINT){o=ol.geom.Point}else if(r===ol.interaction.Draw.Mode_.LINE_STRING){o=ol.geom.LineString}else if(r===ol.interaction.Draw.Mode_.POLYGON){o=ol.geom.Polygon}t=function(e,t){var i=t;if(i){if(r===ol.interaction.Draw.Mode_.POLYGON){if(e[0].length){i.setCoordinates([e[0].concat([e[0][0]])])}else{i.setCoordinates([])}}else{i.setCoordinates(e)}}else{i=new o(e)}return i}}}this.geometryFunction_=t;this.finishCoordinate_=null;this.sketchFeature_=null;this.sketchPoint_=null;this.sketchCoords_=null;this.sketchLine_=null;this.sketchLineCoords_=null;this.squaredClickTolerance_=e.clickTolerance?e.clickTolerance*e.clickTolerance:36;this.overlay_=new ol.layer.Vector({source:new ol.source.Vector({useSpatialIndex:false,wrapX:e.wrapX?e.wrapX:false}),style:e.style?e.style:ol.interaction.Draw.getDefaultStyleFunction()});this.geometryName_=e.geometryName;this.condition_=e.condition?e.condition:ol.events.condition.noModifierKeys;this.freehandCondition_;if(e.freehand){this.freehandCondition_=ol.events.condition.always}else{this.freehandCondition_=e.freehandCondition?e.freehandCondition:ol.events.condition.shiftKeyOnly}ol.events.listen(this,ol.Object.getChangeEventType(ol.interaction.Property.ACTIVE),this.updateState_,this)};ol.inherits(ol.interaction.Draw,ol.interaction.Pointer);ol.interaction.Draw.getDefaultStyleFunction=function(){var e=ol.style.Style.createDefaultEditing();return function(t,o){return e[t.getGeometry().getType()]}};ol.interaction.Draw.prototype.setMap=function(e){ol.interaction.Pointer.prototype.setMap.call(this,e);this.updateState_()};ol.interaction.Draw.handleEvent=function(e){this.freehand_=this.mode_!==ol.interaction.Draw.Mode_.POINT&&this.freehandCondition_(e);var t=true;if(this.freehand_&&e.type===ol.MapBrowserEventType.POINTERDRAG&&this.sketchFeature_!==null){this.addToDrawing_(e);t=false}else if(this.freehand_&&e.type===ol.MapBrowserEventType.POINTERDOWN){t=false}else if(e.type===ol.MapBrowserEventType.POINTERMOVE){t=this.handlePointerMove_(e)}else if(e.type===ol.MapBrowserEventType.DBLCLICK){t=false}return ol.interaction.Pointer.handleEvent.call(this,e)&&t};ol.interaction.Draw.handleDownEvent_=function(e){this.shouldHandle_=!this.freehand_;if(this.freehand_){this.downPx_=e.pixel;if(!this.finishCoordinate_){this.startDrawing_(e)}return true}else if(this.condition_(e)){this.downPx_=e.pixel;return true}else{return false}};ol.interaction.Draw.handleUpEvent_=function(e){var t=true;this.handlePointerMove_(e);var o=this.mode_===ol.interaction.Draw.Mode_.CIRCLE;if(this.shouldHandle_){if(!this.finishCoordinate_){this.startDrawing_(e);if(this.mode_===ol.interaction.Draw.Mode_.POINT){this.finishDrawing()}}else if(this.freehand_||o){this.finishDrawing()}else if(this.atFinish_(e)){if(this.finishCondition_(e)){this.finishDrawing()}}else{this.addToDrawing_(e)}t=false}else if(this.freehand_){this.finishCoordinate_=null;this.abortDrawing_()}if(!t&&this.stopClick_){e.stopPropagation()}return t};ol.interaction.Draw.prototype.handlePointerMove_=function(e){if(this.downPx_&&(!this.freehand_&&this.shouldHandle_||this.freehand_&&!this.shouldHandle_)){var t=this.downPx_;var o=e.pixel;var r=t[0]-o[0];var i=t[1]-o[1];var n=r*r+i*i;this.shouldHandle_=this.freehand_?n>this.squaredClickTolerance_:n<=this.squaredClickTolerance_}if(this.finishCoordinate_){this.modifyDrawing_(e)}else{this.createOrUpdateSketchPoint_(e)}return true};ol.interaction.Draw.prototype.atFinish_=function(e){var t=false;if(this.sketchFeature_){var o=false;var r=[this.finishCoordinate_];if(this.mode_===ol.interaction.Draw.Mode_.LINE_STRING){o=this.sketchCoords_.length>this.minPoints_}else if(this.mode_===ol.interaction.Draw.Mode_.POLYGON){o=this.sketchCoords_[0].length>this.minPoints_;r=[this.sketchCoords_[0][0],this.sketchCoords_[0][this.sketchCoords_[0].length-2]]}if(o){var i=e.map;for(var n=0,l=r.length;n<l;n++){var a=r[n];var s=i.getPixelFromCoordinate(a);var p=e.pixel;var g=p[0]-s[0];var u=p[1]-s[1];var c=this.freehand_?1:this.snapTolerance_;t=Math.sqrt(g*g+u*u)<=c;if(t){this.finishCoordinate_=a;break}}}}return t};ol.interaction.Draw.prototype.createOrUpdateSketchPoint_=function(e){var t=e.coordinate.slice();if(!this.sketchPoint_){this.sketchPoint_=new ol.Feature(new ol.geom.Point(t));this.updateSketchFeatures_()}else{var o=this.sketchPoint_.getGeometry();o.setCoordinates(t)}};ol.interaction.Draw.prototype.startDrawing_=function(e){var t=e.coordinate;this.finishCoordinate_=t;if(this.mode_===ol.interaction.Draw.Mode_.POINT){this.sketchCoords_=t.slice()}else if(this.mode_===ol.interaction.Draw.Mode_.POLYGON){this.sketchCoords_=[[t.slice(),t.slice()]];this.sketchLineCoords_=this.sketchCoords_[0]}else{this.sketchCoords_=[t.slice(),t.slice()];if(this.mode_===ol.interaction.Draw.Mode_.CIRCLE){this.sketchLineCoords_=this.sketchCoords_}}if(this.sketchLineCoords_){this.sketchLine_=new ol.Feature(new ol.geom.LineString(this.sketchLineCoords_))}var o=this.geometryFunction_(this.sketchCoords_);this.sketchFeature_=new ol.Feature;if(this.geometryName_){this.sketchFeature_.setGeometryName(this.geometryName_)}this.sketchFeature_.setGeometry(o);this.updateSketchFeatures_();this.dispatchEvent(new ol.interaction.Draw.Event(ol.interaction.DrawEventType.DRAWSTART,this.sketchFeature_))};ol.interaction.Draw.prototype.modifyDrawing_=function(e){var t=e.coordinate;var o=this.sketchFeature_.getGeometry();var r,i;if(this.mode_===ol.interaction.Draw.Mode_.POINT){i=this.sketchCoords_}else if(this.mode_===ol.interaction.Draw.Mode_.POLYGON){r=this.sketchCoords_[0];i=r[r.length-1];if(this.atFinish_(e)){t=this.finishCoordinate_.slice()}}else{r=this.sketchCoords_;i=r[r.length-1]}i[0]=t[0];i[1]=t[1];this.geometryFunction_(this.sketchCoords_,o);if(this.sketchPoint_){var n=this.sketchPoint_.getGeometry();n.setCoordinates(t)}var l;if(o instanceof ol.geom.Polygon&&this.mode_!==ol.interaction.Draw.Mode_.POLYGON){if(!this.sketchLine_){this.sketchLine_=new ol.Feature(new ol.geom.LineString(null))}var a=o.getLinearRing(0);l=this.sketchLine_.getGeometry();l.setFlatCoordinates(a.getLayout(),a.getFlatCoordinates())}else if(this.sketchLineCoords_){l=this.sketchLine_.getGeometry();l.setCoordinates(this.sketchLineCoords_)}this.updateSketchFeatures_()};ol.interaction.Draw.prototype.addToDrawing_=function(e){var t=e.coordinate;var o=this.sketchFeature_.getGeometry();var r;var i;if(this.mode_===ol.interaction.Draw.Mode_.LINE_STRING){this.finishCoordinate_=t.slice();i=this.sketchCoords_;if(i.length>=this.maxPoints_){if(this.freehand_){i.pop()}else{r=true}}i.push(t.slice());this.geometryFunction_(i,o)}else if(this.mode_===ol.interaction.Draw.Mode_.POLYGON){i=this.sketchCoords_[0];if(i.length>=this.maxPoints_){if(this.freehand_){i.pop()}else{r=true}}i.push(t.slice());if(r){this.finishCoordinate_=i[0]}this.geometryFunction_(this.sketchCoords_,o)}this.updateSketchFeatures_();if(r){this.finishDrawing()}};ol.interaction.Draw.prototype.removeLastPoint=function(){if(!this.sketchFeature_){return}var e=this.sketchFeature_.getGeometry();var t,o;if(this.mode_===ol.interaction.Draw.Mode_.LINE_STRING){t=this.sketchCoords_;t.splice(-2,1);this.geometryFunction_(t,e);if(t.length>=2){this.finishCoordinate_=t[t.length-2].slice()}}else if(this.mode_===ol.interaction.Draw.Mode_.POLYGON){t=this.sketchCoords_[0];t.splice(-2,1);o=this.sketchLine_.getGeometry();o.setCoordinates(t);this.geometryFunction_(this.sketchCoords_,e)}if(t.length===0){this.finishCoordinate_=null}this.updateSketchFeatures_()};ol.interaction.Draw.prototype.finishDrawing=function(){var e=this.abortDrawing_();var t=this.sketchCoords_;var o=e.getGeometry();if(this.mode_===ol.interaction.Draw.Mode_.LINE_STRING){t.pop();this.geometryFunction_(t,o)}else if(this.mode_===ol.interaction.Draw.Mode_.POLYGON){t[0].pop();this.geometryFunction_(t,o);t=o.getCoordinates()}if(this.type_===ol.geom.GeometryType.MULTI_POINT){e.setGeometry(new ol.geom.MultiPoint([t]))}else if(this.type_===ol.geom.GeometryType.MULTI_LINE_STRING){e.setGeometry(new ol.geom.MultiLineString([t]))}else if(this.type_===ol.geom.GeometryType.MULTI_POLYGON){e.setGeometry(new ol.geom.MultiPolygon([t]))}this.dispatchEvent(new ol.interaction.Draw.Event(ol.interaction.DrawEventType.DRAWEND,e));if(this.features_){this.features_.push(e)}if(this.source_){this.source_.addFeature(e)}};ol.interaction.Draw.prototype.abortDrawing_=function(){this.finishCoordinate_=null;var e=this.sketchFeature_;if(e){this.sketchFeature_=null;this.sketchPoint_=null;this.sketchLine_=null;this.overlay_.getSource().clear(true)}return e};ol.interaction.Draw.prototype.extend=function(e){var t=e.getGeometry();var o=t;this.sketchFeature_=e;this.sketchCoords_=o.getCoordinates();var r=this.sketchCoords_[this.sketchCoords_.length-1];this.finishCoordinate_=r.slice();this.sketchCoords_.push(r.slice());this.updateSketchFeatures_();this.dispatchEvent(new ol.interaction.Draw.Event(ol.interaction.DrawEventType.DRAWSTART,this.sketchFeature_))};ol.interaction.Draw.prototype.shouldStopEvent=ol.functions.FALSE;ol.interaction.Draw.prototype.updateSketchFeatures_=function(){var e=[];if(this.sketchFeature_){e.push(this.sketchFeature_)}if(this.sketchLine_){e.push(this.sketchLine_)}if(this.sketchPoint_){e.push(this.sketchPoint_)}var t=this.overlay_.getSource();t.clear(true);t.addFeatures(e)};ol.interaction.Draw.prototype.updateState_=function(){var e=this.getMap();var t=this.getActive();if(!e||!t){this.abortDrawing_()}this.overlay_.setMap(t?e:null)};ol.interaction.Draw.createRegularPolygon=function(e,t){return function(o,r){var i=o[0];var n=o[1];var l=Math.sqrt(ol.coordinate.squaredDistance(i,n));var a=r?r:ol.geom.Polygon.fromCircle(new ol.geom.Circle(i),e);var s=t?t:Math.atan((n[1]-i[1])/(n[0]-i[0]));ol.geom.Polygon.makeRegular(a,i,l,s);return a}};ol.interaction.Draw.createBox=function(){return function(e,t){var o=ol.extent.boundingExtent(e);var r=t||new ol.geom.Polygon(null);r.setCoordinates([[ol.extent.getBottomLeft(o),ol.extent.getBottomRight(o),ol.extent.getTopRight(o),ol.extent.getTopLeft(o),ol.extent.getBottomLeft(o)]]);return r}};ol.interaction.Draw.getMode_=function(e){var t;if(e===ol.geom.GeometryType.POINT||e===ol.geom.GeometryType.MULTI_POINT){t=ol.interaction.Draw.Mode_.POINT}else if(e===ol.geom.GeometryType.LINE_STRING||e===ol.geom.GeometryType.MULTI_LINE_STRING){t=ol.interaction.Draw.Mode_.LINE_STRING}else if(e===ol.geom.GeometryType.POLYGON||e===ol.geom.GeometryType.MULTI_POLYGON){t=ol.interaction.Draw.Mode_.POLYGON}else if(e===ol.geom.GeometryType.CIRCLE){t=ol.interaction.Draw.Mode_.CIRCLE}return t};ol.interaction.Draw.Mode_={POINT:"Point",LINE_STRING:"LineString",POLYGON:"Polygon",CIRCLE:"Circle"};ol.interaction.Draw.Event=function(e,t){ol.events.Event.call(this,e);this.feature=t};ol.inherits(ol.interaction.Draw.Event,ol.events.Event);goog.provide("ol.interaction.ExtentEventType");ol.interaction.ExtentEventType={EXTENTCHANGED:"extentchanged"};goog.provide("ol.interaction.Extent");goog.require("ol");goog.require("ol.Feature");goog.require("ol.MapBrowserEventType");goog.require("ol.MapBrowserPointerEvent");goog.require("ol.coordinate");goog.require("ol.events.Event");goog.require("ol.extent");goog.require("ol.geom.GeometryType");goog.require("ol.geom.Point");goog.require("ol.geom.Polygon");goog.require("ol.interaction.ExtentEventType");goog.require("ol.interaction.Pointer");goog.require("ol.layer.Vector");goog.require("ol.source.Vector");goog.require("ol.style.Style");ol.interaction.Extent=function(e){var t=e||{};this.extent_=null;this.pointerHandler_=null;this.pixelTolerance_=t.pixelTolerance!==undefined?t.pixelTolerance:10;this.snappedToVertex_=false;this.extentFeature_=null;this.vertexFeature_=null;if(!e){e={}}ol.interaction.Pointer.call(this,{handleDownEvent:ol.interaction.Extent.handleDownEvent_,handleDragEvent:ol.interaction.Extent.handleDragEvent_,handleEvent:ol.interaction.Extent.handleEvent_,handleUpEvent:ol.interaction.Extent.handleUpEvent_});this.extentOverlay_=new ol.layer.Vector({source:new ol.source.Vector({useSpatialIndex:false,wrapX:!!e.wrapX}),style:e.boxStyle?e.boxStyle:ol.interaction.Extent.getDefaultExtentStyleFunction_(),updateWhileAnimating:true,updateWhileInteracting:true});this.vertexOverlay_=new ol.layer.Vector({source:new ol.source.Vector({useSpatialIndex:false,wrapX:!!e.wrapX}),style:e.pointerStyle?e.pointerStyle:ol.interaction.Extent.getDefaultPointerStyleFunction_(),updateWhileAnimating:true,updateWhileInteracting:true});if(e.extent){this.setExtent(e.extent)}};ol.inherits(ol.interaction.Extent,ol.interaction.Pointer);ol.interaction.Extent.handleEvent_=function(e){if(!(e instanceof ol.MapBrowserPointerEvent)){return true}if(e.type==ol.MapBrowserEventType.POINTERMOVE&&!this.handlingDownUpSequence){this.handlePointerMove_(e)}ol.interaction.Pointer.handleEvent.call(this,e);return false};ol.interaction.Extent.handleDownEvent_=function(e){var t=e.pixel;var o=e.map;var r=this.getExtent();var i=this.snapToVertex_(t,o);var n=function(e){var t=null;var o=null;if(e[0]==r[0]){t=r[2]}else if(e[0]==r[2]){t=r[0]}if(e[1]==r[1]){o=r[3]}else if(e[1]==r[3]){o=r[1]}if(t!==null&&o!==null){return[t,o]}return null};if(i&&r){var l=i[0]==r[0]||i[0]==r[2]?i[0]:null;var a=i[1]==r[1]||i[1]==r[3]?i[1]:null;if(l!==null&&a!==null){this.pointerHandler_=ol.interaction.Extent.getPointHandler_(n(i))}else if(l!==null){this.pointerHandler_=ol.interaction.Extent.getEdgeHandler_(n([l,r[1]]),n([l,r[3]]))}else if(a!==null){this.pointerHandler_=ol.interaction.Extent.getEdgeHandler_(n([r[0],a]),n([r[2],a]))}}else{i=o.getCoordinateFromPixel(t);this.setExtent([i[0],i[1],i[0],i[1]]);this.pointerHandler_=ol.interaction.Extent.getPointHandler_(i)}return true};ol.interaction.Extent.handleDragEvent_=function(e){if(this.pointerHandler_){var t=e.coordinate;this.setExtent(this.pointerHandler_(t));this.createOrUpdatePointerFeature_(t)}return true};ol.interaction.Extent.handleUpEvent_=function(e){this.pointerHandler_=null;var t=this.getExtent();if(!t||ol.extent.getArea(t)===0){this.setExtent(null)}return false};ol.interaction.Extent.getDefaultExtentStyleFunction_=function(){var e=ol.style.Style.createDefaultEditing();return function(t,o){return e[ol.geom.GeometryType.POLYGON]}};ol.interaction.Extent.getDefaultPointerStyleFunction_=function(){var e=ol.style.Style.createDefaultEditing();return function(t,o){return e[ol.geom.GeometryType.POINT]}};ol.interaction.Extent.getPointHandler_=function(e){return function(t){return ol.extent.boundingExtent([e,t])}};ol.interaction.Extent.getEdgeHandler_=function(e,t){if(e[0]==t[0]){return function(o){return ol.extent.boundingExtent([e,[o[0],t[1]]])}}else if(e[1]==t[1]){return function(o){return ol.extent.boundingExtent([e,[t[0],o[1]]])}}else{return null}};ol.interaction.Extent.getSegments_=function(e){return[[[e[0],e[1]],[e[0],e[3]]],[[e[0],e[3]],[e[2],e[3]]],[[e[2],e[3]],[e[2],e[1]]],[[e[2],e[1]],[e[0],e[1]]]]};ol.interaction.Extent.prototype.snapToVertex_=function(e,t){var o=t.getCoordinateFromPixel(e);var r=function(e,t){return ol.coordinate.squaredDistanceToSegment(o,e)-ol.coordinate.squaredDistanceToSegment(o,t)};var i=this.getExtent();if(i){var n=ol.interaction.Extent.getSegments_(i);n.sort(r);var l=n[0];var a=ol.coordinate.closestOnSegment(o,l);var s=t.getPixelFromCoordinate(a);if(ol.coordinate.distance(e,s)<=this.pixelTolerance_){var p=t.getPixelFromCoordinate(l[0]);var g=t.getPixelFromCoordinate(l[1]);var u=ol.coordinate.squaredDistance(s,p);var c=ol.coordinate.squaredDistance(s,g);var y=Math.sqrt(Math.min(u,c));this.snappedToVertex_=y<=this.pixelTolerance_;if(this.snappedToVertex_){a=u>c?l[1]:l[0]}return a}}return null};ol.interaction.Extent.prototype.handlePointerMove_=function(e){var t=e.pixel;var o=e.map;var r=this.snapToVertex_(t,o);if(!r){r=o.getCoordinateFromPixel(t)}this.createOrUpdatePointerFeature_(r)};ol.interaction.Extent.prototype.createOrUpdateExtentFeature_=function(e){var t=this.extentFeature_;if(!t){if(!e){t=new ol.Feature({})}else{t=new ol.Feature(ol.geom.Polygon.fromExtent(e))}this.extentFeature_=t;this.extentOverlay_.getSource().addFeature(t)}else{if(!e){t.setGeometry(undefined)}else{t.setGeometry(ol.geom.Polygon.fromExtent(e))}}return t};ol.interaction.Extent.prototype.createOrUpdatePointerFeature_=function(e){var t=this.vertexFeature_;if(!t){t=new ol.Feature(new ol.geom.Point(e));this.vertexFeature_=t;this.vertexOverlay_.getSource().addFeature(t)}else{var o=t.getGeometry();o.setCoordinates(e)}return t};ol.interaction.Extent.prototype.setMap=function(e){this.extentOverlay_.setMap(e);this.vertexOverlay_.setMap(e);ol.interaction.Pointer.prototype.setMap.call(this,e)};ol.interaction.Extent.prototype.getExtent=function(){return this.extent_};ol.interaction.Extent.prototype.setExtent=function(e){this.extent_=e?e:null;this.createOrUpdateExtentFeature_(e);this.dispatchEvent(new ol.interaction.Extent.Event(this.extent_))};ol.interaction.Extent.Event=function(e){ol.events.Event.call(this,ol.interaction.ExtentEventType.EXTENTCHANGED);this.extent=e};ol.inherits(ol.interaction.Extent.Event,ol.events.Event);goog.provide("ol.interaction.ModifyEventType");ol.interaction.ModifyEventType={MODIFYSTART:"modifystart",MODIFYEND:"modifyend"};goog.provide("ol.interaction.Modify");goog.require("ol");goog.require("ol.Collection");goog.require("ol.CollectionEventType");goog.require("ol.Feature");goog.require("ol.MapBrowserEventType");goog.require("ol.MapBrowserPointerEvent");goog.require("ol.array");goog.require("ol.coordinate");goog.require("ol.events");goog.require("ol.events.Event");goog.require("ol.events.EventType");goog.require("ol.events.condition");goog.require("ol.extent");goog.require("ol.geom.GeometryType");goog.require("ol.geom.Point");goog.require("ol.interaction.ModifyEventType");goog.require("ol.interaction.Pointer");goog.require("ol.layer.Vector");goog.require("ol.source.Vector");goog.require("ol.source.VectorEventType");goog.require("ol.structs.RBush");goog.require("ol.style.Style");ol.interaction.Modify=function(e){ol.interaction.Pointer.call(this,{handleDownEvent:ol.interaction.Modify.handleDownEvent_,handleDragEvent:ol.interaction.Modify.handleDragEvent_,handleEvent:ol.interaction.Modify.handleEvent,handleUpEvent:ol.interaction.Modify.handleUpEvent_});this.condition_=e.condition?e.condition:ol.events.condition.primaryAction;this.defaultDeleteCondition_=function(e){return ol.events.condition.altKeyOnly(e)&&ol.events.condition.singleClick(e)};this.deleteCondition_=e.deleteCondition?e.deleteCondition:this.defaultDeleteCondition_;this.insertVertexCondition_=e.insertVertexCondition?e.insertVertexCondition:ol.events.condition.always;this.vertexFeature_=null;this.vertexSegments_=null;this.lastPixel_=[0,0];this.ignoreNextSingleClick_=false;this.modified_=false;this.rBush_=new ol.structs.RBush;this.pixelTolerance_=e.pixelTolerance!==undefined?e.pixelTolerance:10;this.snappedToVertex_=false;this.changingFeature_=false;this.dragSegments_=[];this.overlay_=new ol.layer.Vector({source:new ol.source.Vector({useSpatialIndex:false,wrapX:!!e.wrapX}),style:e.style?e.style:ol.interaction.Modify.getDefaultStyleFunction(),updateWhileAnimating:true,updateWhileInteracting:true});this.SEGMENT_WRITERS_={Point:this.writePointGeometry_,LineString:this.writeLineStringGeometry_,LinearRing:this.writeLineStringGeometry_,Polygon:this.writePolygonGeometry_,MultiPoint:this.writeMultiPointGeometry_,MultiLineString:this.writeMultiLineStringGeometry_,MultiPolygon:this.writeMultiPolygonGeometry_,Circle:this.writeCircleGeometry_,GeometryCollection:this.writeGeometryCollectionGeometry_};this.source_=null;var t;if(e.source){this.source_=e.source;t=new ol.Collection(this.source_.getFeatures());ol.events.listen(this.source_,ol.source.VectorEventType.ADDFEATURE,this.handleSourceAdd_,this);ol.events.listen(this.source_,ol.source.VectorEventType.REMOVEFEATURE,this.handleSourceRemove_,this)}else{t=e.features}if(!t){throw new Error("The modify interaction requires features or a source")}this.features_=t;this.features_.forEach(this.addFeature_,this);ol.events.listen(this.features_,ol.CollectionEventType.ADD,this.handleFeatureAdd_,this);ol.events.listen(this.features_,ol.CollectionEventType.REMOVE,this.handleFeatureRemove_,this);this.lastPointerEvent_=null};ol.inherits(ol.interaction.Modify,ol.interaction.Pointer);ol.interaction.Modify.MODIFY_SEGMENT_CIRCLE_CENTER_INDEX=0;ol.interaction.Modify.MODIFY_SEGMENT_CIRCLE_CIRCUMFERENCE_INDEX=1;ol.interaction.Modify.prototype.addFeature_=function(e){var t=e.getGeometry();if(t&&t.getType()in this.SEGMENT_WRITERS_){this.SEGMENT_WRITERS_[t.getType()].call(this,e,t)}var o=this.getMap();if(o&&o.isRendered()&&this.getActive()){this.handlePointerAtPixel_(this.lastPixel_,o)}ol.events.listen(e,ol.events.EventType.CHANGE,this.handleFeatureChange_,this)};ol.interaction.Modify.prototype.willModifyFeatures_=function(e){if(!this.modified_){this.modified_=true;this.dispatchEvent(new ol.interaction.Modify.Event(ol.interaction.ModifyEventType.MODIFYSTART,this.features_,e))}};ol.interaction.Modify.prototype.removeFeature_=function(e){this.removeFeatureSegmentData_(e);if(this.vertexFeature_&&this.features_.getLength()===0){this.overlay_.getSource().removeFeature(this.vertexFeature_);this.vertexFeature_=null}ol.events.unlisten(e,ol.events.EventType.CHANGE,this.handleFeatureChange_,this)};ol.interaction.Modify.prototype.removeFeatureSegmentData_=function(e){var t=this.rBush_;var o=[];t.forEach(function(t){if(e===t.feature){o.push(t)}});for(var r=o.length-1;r>=0;--r){t.remove(o[r])}};ol.interaction.Modify.prototype.setActive=function(e){if(this.vertexFeature_&&!e){this.overlay_.getSource().removeFeature(this.vertexFeature_);this.vertexFeature_=null}ol.interaction.Pointer.prototype.setActive.call(this,e)};ol.interaction.Modify.prototype.setMap=function(e){this.overlay_.setMap(e);ol.interaction.Pointer.prototype.setMap.call(this,e)};ol.interaction.Modify.prototype.handleSourceAdd_=function(e){if(e.feature){this.features_.push(e.feature)}};ol.interaction.Modify.prototype.handleSourceRemove_=function(e){if(e.feature){this.features_.remove(e.feature)}};ol.interaction.Modify.prototype.handleFeatureAdd_=function(e){this.addFeature_(e.element)};ol.interaction.Modify.prototype.handleFeatureChange_=function(e){if(!this.changingFeature_){var t=e.target;this.removeFeature_(t);this.addFeature_(t)}};ol.interaction.Modify.prototype.handleFeatureRemove_=function(e){var t=e.element;this.removeFeature_(t)};ol.interaction.Modify.prototype.writePointGeometry_=function(e,t){var o=t.getCoordinates();var r={feature:e,geometry:t,segment:[o,o]};this.rBush_.insert(t.getExtent(),r)};ol.interaction.Modify.prototype.writeMultiPointGeometry_=function(e,t){var o=t.getCoordinates();var r,i,n,l;for(i=0,n=o.length;i<n;++i){r=o[i];l={feature:e,geometry:t,depth:[i],index:i,segment:[r,r]};this.rBush_.insert(t.getExtent(),l)}};ol.interaction.Modify.prototype.writeLineStringGeometry_=function(e,t){var o=t.getCoordinates();var r,i,n,l;for(r=0,i=o.length-1;r<i;++r){n=o.slice(r,r+2);l={feature:e,geometry:t,index:r,segment:n};this.rBush_.insert(ol.extent.boundingExtent(n),l)}};ol.interaction.Modify.prototype.writeMultiLineStringGeometry_=function(e,t){var o=t.getCoordinates();var r,i,n,l,a,s,p;for(l=0,a=o.length;l<a;++l){r=o[l];for(i=0,n=r.length-1;i<n;++i){s=r.slice(i,i+2);p={feature:e,geometry:t,depth:[l],index:i,segment:s};this.rBush_.insert(ol.extent.boundingExtent(s),p)}}};ol.interaction.Modify.prototype.writePolygonGeometry_=function(e,t){var o=t.getCoordinates();var r,i,n,l,a,s,p;for(l=0,a=o.length;l<a;++l){r=o[l];for(i=0,n=r.length-1;i<n;++i){s=r.slice(i,i+2);p={feature:e,geometry:t,depth:[l],index:i,segment:s};this.rBush_.insert(ol.extent.boundingExtent(s),p)}}};ol.interaction.Modify.prototype.writeMultiPolygonGeometry_=function(e,t){var o=t.getCoordinates();var r,i,n,l,a,s,p,g,u,c;for(s=0,p=o.length;s<p;++s){g=o[s];for(l=0,a=g.length;l<a;++l){r=g[l];for(i=0,n=r.length-1;i<n;++i){u=r.slice(i,i+2);c={feature:e,geometry:t,depth:[l,s],index:i,segment:u};this.rBush_.insert(ol.extent.boundingExtent(u),c)}}}};ol.interaction.Modify.prototype.writeCircleGeometry_=function(e,t){var o=t.getCenter();var r={feature:e,geometry:t,index:ol.interaction.Modify.MODIFY_SEGMENT_CIRCLE_CENTER_INDEX,segment:[o,o]};var i={feature:e,geometry:t,index:ol.interaction.Modify.MODIFY_SEGMENT_CIRCLE_CIRCUMFERENCE_INDEX,segment:[o,o]};var n=[r,i];r.featureSegments=i.featureSegments=n;this.rBush_.insert(ol.extent.createOrUpdateFromCoordinate(o),r);this.rBush_.insert(t.getExtent(),i)};ol.interaction.Modify.prototype.writeGeometryCollectionGeometry_=function(e,t){var o,r=t.getGeometriesArray();for(o=0;o<r.length;++o){this.SEGMENT_WRITERS_[r[o].getType()].call(this,e,r[o])}};ol.interaction.Modify.prototype.createOrUpdateVertexFeature_=function(e){var t=this.vertexFeature_;if(!t){t=new ol.Feature(new ol.geom.Point(e));this.vertexFeature_=t;this.overlay_.getSource().addFeature(t)}else{var o=t.getGeometry();o.setCoordinates(e)}return t};ol.interaction.Modify.compareIndexes_=function(e,t){return e.index-t.index};ol.interaction.Modify.handleDownEvent_=function(e){if(!this.condition_(e)){return false}this.handlePointerAtPixel_(e.pixel,e.map);var t=e.map.getCoordinateFromPixel(e.pixel);this.dragSegments_.length=0;this.modified_=false;var o=this.vertexFeature_;if(o){var r=[];var i=o.getGeometry();var n=i.getCoordinates();var l=ol.extent.boundingExtent([n]);var a=this.rBush_.getInExtent(l);var s={};a.sort(ol.interaction.Modify.compareIndexes_);for(var p=0,g=a.length;p<g;++p){var u=a[p];var c=u.segment;var y=ol.getUid(u.feature);var d=u.depth;if(d){y+="-"+d.join("-")}if(!s[y]){s[y]=new Array(2)}if(u.geometry.getType()===ol.geom.GeometryType.CIRCLE&&u.index===ol.interaction.Modify.MODIFY_SEGMENT_CIRCLE_CIRCUMFERENCE_INDEX){var h=ol.interaction.Modify.closestOnSegmentData_(t,u);if(ol.coordinate.equals(h,n)&&!s[y][0]){this.dragSegments_.push([u,0]);s[y][0]=u}}else if(ol.coordinate.equals(c[0],n)&&!s[y][0]){this.dragSegments_.push([u,0]);s[y][0]=u}else if(ol.coordinate.equals(c[1],n)&&!s[y][1]){if((u.geometry.getType()===ol.geom.GeometryType.LINE_STRING||u.geometry.getType()===ol.geom.GeometryType.MULTI_LINE_STRING)&&s[y][0]&&s[y][0].index===0){continue}this.dragSegments_.push([u,1]);s[y][1]=u}else if(this.insertVertexCondition_(e)&&ol.getUid(c)in this.vertexSegments_&&(!s[y][0]&&!s[y][1])){r.push([u,n])}}if(r.length){this.willModifyFeatures_(e)}for(var f=r.length-1;f>=0;--f){this.insertVertex_.apply(this,r[f])}}return!!this.vertexFeature_};ol.interaction.Modify.handleDragEvent_=function(e){this.ignoreNextSingleClick_=false;this.willModifyFeatures_(e);var t=e.coordinate;for(var o=0,r=this.dragSegments_.length;o<r;++o){var i=this.dragSegments_[o];var n=i[0];var l=n.depth;var a=n.geometry;var s;var p=n.segment;var g=i[1];while(t.length<a.getStride()){t.push(p[g][t.length])}switch(a.getType()){case ol.geom.GeometryType.POINT:s=t;p[0]=p[1]=t;break;case ol.geom.GeometryType.MULTI_POINT:s=a.getCoordinates();s[n.index]=t;p[0]=p[1]=t;break;case ol.geom.GeometryType.LINE_STRING:s=a.getCoordinates();s[n.index+g]=t;p[g]=t;break;case ol.geom.GeometryType.MULTI_LINE_STRING:s=a.getCoordinates();s[l[0]][n.index+g]=t;p[g]=t;break;case ol.geom.GeometryType.POLYGON:s=a.getCoordinates();s[l[0]][n.index+g]=t;p[g]=t;break;case ol.geom.GeometryType.MULTI_POLYGON:s=a.getCoordinates();s[l[1]][l[0]][n.index+g]=t;p[g]=t;break;case ol.geom.GeometryType.CIRCLE:p[0]=p[1]=t;if(n.index===ol.interaction.Modify.MODIFY_SEGMENT_CIRCLE_CENTER_INDEX){this.changingFeature_=true;a.setCenter(t);this.changingFeature_=false}else{this.changingFeature_=true;a.setRadius(ol.coordinate.distance(a.getCenter(),t));this.changingFeature_=false}break;default:}if(s){this.setGeometryCoordinates_(a,s)}}this.createOrUpdateVertexFeature_(t)};ol.interaction.Modify.handleUpEvent_=function(e){var t;var o;for(var r=this.dragSegments_.length-1;r>=0;--r){t=this.dragSegments_[r][0];o=t.geometry;if(o.getType()===ol.geom.GeometryType.CIRCLE){var i=o.getCenter();var n=t.featureSegments[0];var l=t.featureSegments[1];n.segment[0]=n.segment[1]=i;l.segment[0]=l.segment[1]=i;this.rBush_.update(ol.extent.createOrUpdateFromCoordinate(i),n);this.rBush_.update(o.getExtent(),l)}else{this.rBush_.update(ol.extent.boundingExtent(t.segment),t)}}if(this.modified_){this.dispatchEvent(new ol.interaction.Modify.Event(ol.interaction.ModifyEventType.MODIFYEND,this.features_,e));this.modified_=false}return false};ol.interaction.Modify.handleEvent=function(e){if(!(e instanceof ol.MapBrowserPointerEvent)){return true}this.lastPointerEvent_=e;var t;if(!e.map.getView().getInteracting()&&e.type==ol.MapBrowserEventType.POINTERMOVE&&!this.handlingDownUpSequence){this.handlePointerMove_(e)}if(this.vertexFeature_&&this.deleteCondition_(e)){if(e.type!=ol.MapBrowserEventType.SINGLECLICK||!this.ignoreNextSingleClick_){t=this.removePoint()}else{t=true}}if(e.type==ol.MapBrowserEventType.SINGLECLICK){this.ignoreNextSingleClick_=false}return ol.interaction.Pointer.handleEvent.call(this,e)&&!t};ol.interaction.Modify.prototype.handlePointerMove_=function(e){this.lastPixel_=e.pixel;this.handlePointerAtPixel_(e.pixel,e.map)};ol.interaction.Modify.prototype.handlePointerAtPixel_=function(e,t){var o=t.getCoordinateFromPixel(e);var r=function(e,t){return ol.interaction.Modify.pointDistanceToSegmentDataSquared_(o,e)-ol.interaction.Modify.pointDistanceToSegmentDataSquared_(o,t)};var i=ol.extent.buffer(ol.extent.createOrUpdateFromCoordinate(o),t.getView().getResolution()*this.pixelTolerance_);var n=this.rBush_;var l=n.getInExtent(i);if(l.length>0){l.sort(r);var a=l[0];var s=a.segment;var p=ol.interaction.Modify.closestOnSegmentData_(o,a);var g=t.getPixelFromCoordinate(p);var u=ol.coordinate.distance(e,g);if(u<=this.pixelTolerance_){var c={};if(a.geometry.getType()===ol.geom.GeometryType.CIRCLE&&a.index===ol.interaction.Modify.MODIFY_SEGMENT_CIRCLE_CIRCUMFERENCE_INDEX){this.snappedToVertex_=true;this.createOrUpdateVertexFeature_(p)}else{var y=t.getPixelFromCoordinate(s[0]);var d=t.getPixelFromCoordinate(s[1]);var h=ol.coordinate.squaredDistance(g,y);var f=ol.coordinate.squaredDistance(g,d);u=Math.sqrt(Math.min(h,f));this.snappedToVertex_=u<=this.pixelTolerance_;if(this.snappedToVertex_){p=h>f?s[1]:s[0]}this.createOrUpdateVertexFeature_(p);var m;for(var v=1,_=l.length;v<_;++v){m=l[v].segment;if(ol.coordinate.equals(s[0],m[0])&&ol.coordinate.equals(s[1],m[1])||ol.coordinate.equals(s[0],m[1])&&ol.coordinate.equals(s[1],m[0])){c[ol.getUid(m)]=true}else{break}}}c[ol.getUid(s)]=true;this.vertexSegments_=c;return}}if(this.vertexFeature_){this.overlay_.getSource().removeFeature(this.vertexFeature_);this.vertexFeature_=null}};ol.interaction.Modify.pointDistanceToSegmentDataSquared_=function(e,t){var o=t.geometry;if(o.getType()===ol.geom.GeometryType.CIRCLE){var r=o;if(t.index===ol.interaction.Modify.MODIFY_SEGMENT_CIRCLE_CIRCUMFERENCE_INDEX){var i=ol.coordinate.squaredDistance(r.getCenter(),e);var n=Math.sqrt(i)-r.getRadius();return n*n}}return ol.coordinate.squaredDistanceToSegment(e,t.segment)};ol.interaction.Modify.closestOnSegmentData_=function(e,t){var o=t.geometry;if(o.getType()===ol.geom.GeometryType.CIRCLE&&t.index===ol.interaction.Modify.MODIFY_SEGMENT_CIRCLE_CIRCUMFERENCE_INDEX){return o.getClosestPoint(e)}return ol.coordinate.closestOnSegment(e,t.segment)};ol.interaction.Modify.prototype.insertVertex_=function(e,t){var o=e.segment;var r=e.feature;var i=e.geometry;var n=e.depth;var l=e.index;var a;while(t.length<i.getStride()){t.push(0)}switch(i.getType()){case ol.geom.GeometryType.MULTI_LINE_STRING:a=i.getCoordinates();a[n[0]].splice(l+1,0,t);break;case ol.geom.GeometryType.POLYGON:a=i.getCoordinates();a[n[0]].splice(l+1,0,t);break;case ol.geom.GeometryType.MULTI_POLYGON:a=i.getCoordinates();a[n[1]][n[0]].splice(l+1,0,t);break;case ol.geom.GeometryType.LINE_STRING:a=i.getCoordinates();a.splice(l+1,0,t);break;default:return}this.setGeometryCoordinates_(i,a);var s=this.rBush_;s.remove(e);this.updateSegmentIndices_(i,l,n,1);var p={segment:[o[0],t],feature:r,geometry:i,depth:n,index:l};s.insert(ol.extent.boundingExtent(p.segment),p);this.dragSegments_.push([p,1]);var g={segment:[t,o[1]],feature:r,geometry:i,depth:n,index:l+1};s.insert(ol.extent.boundingExtent(g.segment),g);this.dragSegments_.push([g,0]);this.ignoreNextSingleClick_=true};ol.interaction.Modify.prototype.removePoint=function(){if(this.lastPointerEvent_&&this.lastPointerEvent_.type!=ol.MapBrowserEventType.POINTERDRAG){var e=this.lastPointerEvent_;this.willModifyFeatures_(e);this.removeVertex_();this.dispatchEvent(new ol.interaction.Modify.Event(ol.interaction.ModifyEventType.MODIFYEND,this.features_,e));this.modified_=false;return true}return false};ol.interaction.Modify.prototype.removeVertex_=function(){var e=this.dragSegments_;var t={};var o=false;var r,i,n,l,a,s,p;var g,u,c,y;for(a=e.length-1;a>=0;--a){n=e[a];c=n[0];y=ol.getUid(c.feature);if(c.depth){y+="-"+c.depth.join("-")}if(!(y in t)){t[y]={}}if(n[1]===0){t[y].right=c;t[y].index=c.index}else if(n[1]==1){t[y].left=c;t[y].index=c.index+1}}for(y in t){u=t[y].right;p=t[y].left;s=t[y].index;g=s-1;if(p!==undefined){c=p}else{c=u}if(g<0){g=0}l=c.geometry;i=l.getCoordinates();r=i;o=false;switch(l.getType()){case ol.geom.GeometryType.MULTI_LINE_STRING:if(i[c.depth[0]].length>2){i[c.depth[0]].splice(s,1);o=true}break;case ol.geom.GeometryType.LINE_STRING:if(i.length>2){i.splice(s,1);o=true}break;case ol.geom.GeometryType.MULTI_POLYGON:r=r[c.depth[1]];case ol.geom.GeometryType.POLYGON:r=r[c.depth[0]];if(r.length>4){if(s==r.length-1){s=0}r.splice(s,1);o=true;if(s===0){r.pop();r.push(r[0]);g=r.length-1}}break;default:}if(o){this.setGeometryCoordinates_(l,i);var d=[];if(p!==undefined){this.rBush_.remove(p);d.push(p.segment[0])}if(u!==undefined){this.rBush_.remove(u);d.push(u.segment[1])}if(p!==undefined&&u!==undefined){var h={depth:c.depth,feature:c.feature,geometry:c.geometry,index:g,segment:d};this.rBush_.insert(ol.extent.boundingExtent(h.segment),h)}this.updateSegmentIndices_(l,s,c.depth,-1);if(this.vertexFeature_){this.overlay_.getSource().removeFeature(this.vertexFeature_);this.vertexFeature_=null}e.length=0}}return o};ol.interaction.Modify.prototype.setGeometryCoordinates_=function(e,t){this.changingFeature_=true;e.setCoordinates(t);this.changingFeature_=false};ol.interaction.Modify.prototype.updateSegmentIndices_=function(e,t,o,r){this.rBush_.forEachInExtent(e.getExtent(),function(i){if(i.geometry===e&&(o===undefined||i.depth===undefined||ol.array.equals(i.depth,o))&&i.index>t){i.index+=r}})};ol.interaction.Modify.getDefaultStyleFunction=function(){var e=ol.style.Style.createDefaultEditing();return function(t,o){return e[ol.geom.GeometryType.POINT]}};ol.interaction.Modify.Event=function(e,t,o){ol.events.Event.call(this,e);this.features=t;this.mapBrowserEvent=o};ol.inherits(ol.interaction.Modify.Event,ol.events.Event);goog.provide("ol.interaction.Select");goog.require("ol");goog.require("ol.CollectionEventType");goog.require("ol.array");goog.require("ol.events");goog.require("ol.events.Event");goog.require("ol.events.condition");goog.require("ol.functions");goog.require("ol.geom.GeometryType");goog.require("ol.interaction.Interaction");goog.require("ol.layer.Vector");goog.require("ol.obj");goog.require("ol.source.Vector");goog.require("ol.style.Style");ol.interaction.Select=function(e){ol.interaction.Interaction.call(this,{handleEvent:ol.interaction.Select.handleEvent});var t=e?e:{};this.condition_=t.condition?t.condition:ol.events.condition.singleClick;this.addCondition_=t.addCondition?t.addCondition:ol.events.condition.never;this.removeCondition_=t.removeCondition?t.removeCondition:ol.events.condition.never;this.toggleCondition_=t.toggleCondition?t.toggleCondition:ol.events.condition.shiftKeyOnly;this.multi_=t.multi?t.multi:false;this.filter_=t.filter?t.filter:ol.functions.TRUE;this.hitTolerance_=t.hitTolerance?t.hitTolerance:0;var o=new ol.layer.Vector({source:new ol.source.Vector({useSpatialIndex:false,features:t.features,wrapX:t.wrapX}),style:t.style?t.style:ol.interaction.Select.getDefaultStyleFunction(),updateWhileAnimating:true,updateWhileInteracting:true});this.featureOverlay_=o;var r;if(t.layers){if(typeof t.layers==="function"){r=t.layers}else{var i=t.layers;r=function(e){return ol.array.includes(i,e)}}}else{r=ol.functions.TRUE}this.layerFilter_=r;this.featureLayerAssociation_={};var n=this.featureOverlay_.getSource().getFeaturesCollection();ol.events.listen(n,ol.CollectionEventType.ADD,this.addFeature_,this);ol.events.listen(n,ol.CollectionEventType.REMOVE,this.removeFeature_,this)};ol.inherits(ol.interaction.Select,ol.interaction.Interaction);ol.interaction.Select.prototype.addFeatureLayerAssociation_=function(e,t){var o=ol.getUid(e);this.featureLayerAssociation_[o]=t};ol.interaction.Select.prototype.getFeatures=function(){return this.featureOverlay_.getSource().getFeaturesCollection()};ol.interaction.Select.prototype.getHitTolerance=function(){return this.hitTolerance_};ol.interaction.Select.prototype.getLayer=function(e){var t=ol.getUid(e);return this.featureLayerAssociation_[t]};ol.interaction.Select.handleEvent=function(e){if(!this.condition_(e)){return true}var t=this.addCondition_(e);var o=this.removeCondition_(e);var r=this.toggleCondition_(e);var i=!t&&!o&&!r;var n=e.map;var l=this.featureOverlay_.getSource().getFeaturesCollection();var a=[];var s=[];if(i){ol.obj.clear(this.featureLayerAssociation_);n.forEachFeatureAtPixel(e.pixel,function(e,t){if(this.filter_(e,t)){s.push(e);this.addFeatureLayerAssociation_(e,t);return!this.multi_}}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});var p;for(p=l.getLength()-1;p>=0;--p){var g=l.item(p);var u=s.indexOf(g);if(u>-1){s.splice(u,1)}else{l.remove(g);a.push(g)}}if(s.length!==0){l.extend(s)}}else{n.forEachFeatureAtPixel(e.pixel,function(e,i){if(this.filter_(e,i)){if((t||r)&&!ol.array.includes(l.getArray(),e)){s.push(e);this.addFeatureLayerAssociation_(e,i)}else if((o||r)&&ol.array.includes(l.getArray(),e)){a.push(e);this.removeFeatureLayerAssociation_(e)}return!this.multi_}}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});var c;for(c=a.length-1;c>=0;--c){l.remove(a[c])}l.extend(s)}if(s.length>0||a.length>0){this.dispatchEvent(new ol.interaction.Select.Event(ol.interaction.Select.EventType_.SELECT,s,a,e))}return ol.events.condition.pointerMove(e)};ol.interaction.Select.prototype.setHitTolerance=function(e){this.hitTolerance_=e};ol.interaction.Select.prototype.setMap=function(e){var t=this.getMap();var o=this.featureOverlay_.getSource().getFeaturesCollection();if(t){o.forEach(t.unskipFeature,t)}ol.interaction.Interaction.prototype.setMap.call(this,e);this.featureOverlay_.setMap(e);if(e){o.forEach(e.skipFeature,e)}};ol.interaction.Select.getDefaultStyleFunction=function(){var e=ol.style.Style.createDefaultEditing();ol.array.extend(e[ol.geom.GeometryType.POLYGON],e[ol.geom.GeometryType.LINE_STRING]);ol.array.extend(e[ol.geom.GeometryType.GEOMETRY_COLLECTION],e[ol.geom.GeometryType.LINE_STRING]);return function(t,o){if(!t.getGeometry()){return null}return e[t.getGeometry().getType()]}};ol.interaction.Select.prototype.addFeature_=function(e){var t=this.getMap();if(t){t.skipFeature(e.element)}};ol.interaction.Select.prototype.removeFeature_=function(e){var t=this.getMap();if(t){t.unskipFeature(e.element)}};ol.interaction.Select.prototype.removeFeatureLayerAssociation_=function(e){var t=ol.getUid(e);delete this.featureLayerAssociation_[t]};ol.interaction.Select.Event=function(e,t,o,r){ol.events.Event.call(this,e);this.selected=t;this.deselected=o;this.mapBrowserEvent=r};ol.inherits(ol.interaction.Select.Event,ol.events.Event);ol.interaction.Select.EventType_={SELECT:"select"};goog.provide("ol.interaction.Snap");goog.require("ol");goog.require("ol.Collection");goog.require("ol.CollectionEventType");goog.require("ol.coordinate");goog.require("ol.events");goog.require("ol.events.EventType");goog.require("ol.extent");goog.require("ol.functions");goog.require("ol.geom.GeometryType");goog.require("ol.geom.Polygon");goog.require("ol.interaction.Pointer");goog.require("ol.obj");goog.require("ol.source.Vector");goog.require("ol.source.VectorEventType");goog.require("ol.structs.RBush");ol.interaction.Snap=function(e){ol.interaction.Pointer.call(this,{handleEvent:ol.interaction.Snap.handleEvent_,handleDownEvent:ol.functions.TRUE,handleUpEvent:ol.interaction.Snap.handleUpEvent_});var t=e?e:{};this.source_=t.source?t.source:null;this.vertex_=t.vertex!==undefined?t.vertex:true;this.edge_=t.edge!==undefined?t.edge:true;this.features_=t.features?t.features:null;this.featuresListenerKeys_=[];this.featureChangeListenerKeys_={};this.indexedFeaturesExtents_={};this.pendingFeatures_={};this.pixelCoordinate_=null;this.pixelTolerance_=t.pixelTolerance!==undefined?t.pixelTolerance:10;this.sortByDistance_=ol.interaction.Snap.sortByDistance.bind(this);this.rBush_=new ol.structs.RBush;this.SEGMENT_WRITERS_={Point:this.writePointGeometry_,LineString:this.writeLineStringGeometry_,LinearRing:this.writeLineStringGeometry_,Polygon:this.writePolygonGeometry_,MultiPoint:this.writeMultiPointGeometry_,MultiLineString:this.writeMultiLineStringGeometry_,MultiPolygon:this.writeMultiPolygonGeometry_,GeometryCollection:this.writeGeometryCollectionGeometry_,Circle:this.writeCircleGeometry_}};ol.inherits(ol.interaction.Snap,ol.interaction.Pointer);ol.interaction.Snap.prototype.addFeature=function(e,t){var o=t!==undefined?t:true;var r=ol.getUid(e);var i=e.getGeometry();if(i){var n=this.SEGMENT_WRITERS_[i.getType()];if(n){this.indexedFeaturesExtents_[r]=i.getExtent(ol.extent.createEmpty());n.call(this,e,i)}}if(o){this.featureChangeListenerKeys_[r]=ol.events.listen(e,ol.events.EventType.CHANGE,this.handleFeatureChange_,this)}};ol.interaction.Snap.prototype.forEachFeatureAdd_=function(e){this.addFeature(e)};ol.interaction.Snap.prototype.forEachFeatureRemove_=function(e){this.removeFeature(e)};ol.interaction.Snap.prototype.getFeatures_=function(){var e;if(this.features_){e=this.features_}else if(this.source_){e=this.source_.getFeatures()}return e};ol.interaction.Snap.prototype.handleFeatureAdd_=function(e){var t;if(e instanceof ol.source.Vector.Event){t=e.feature}else if(e instanceof ol.Collection.Event){t=e.element}this.addFeature(t)};ol.interaction.Snap.prototype.handleFeatureRemove_=function(e){var t;if(e instanceof ol.source.Vector.Event){t=e.feature}else if(e instanceof ol.Collection.Event){t=e.element}this.removeFeature(t)};ol.interaction.Snap.prototype.handleFeatureChange_=function(e){var t=e.target;if(this.handlingDownUpSequence){var o=ol.getUid(t);if(!(o in this.pendingFeatures_)){this.pendingFeatures_[o]=t}}else{this.updateFeature_(t)}};ol.interaction.Snap.prototype.removeFeature=function(e,t){var o=t!==undefined?t:true;var r=ol.getUid(e);var i=this.indexedFeaturesExtents_[r];if(i){var n=this.rBush_;var l,a=[];n.forEachInExtent(i,function(t){if(e===t.feature){a.push(t)}});for(l=a.length-1;l>=0;--l){n.remove(a[l])}}if(o){ol.events.unlistenByKey(this.featureChangeListenerKeys_[r]);delete this.featureChangeListenerKeys_[r]}};ol.interaction.Snap.prototype.setMap=function(e){var t=this.getMap();var o=this.featuresListenerKeys_;var r=this.getFeatures_();if(t){o.forEach(ol.events.unlistenByKey);o.length=0;r.forEach(this.forEachFeatureRemove_,this)}ol.interaction.Pointer.prototype.setMap.call(this,e);if(e){if(this.features_){o.push(ol.events.listen(this.features_,ol.CollectionEventType.ADD,this.handleFeatureAdd_,this),ol.events.listen(this.features_,ol.CollectionEventType.REMOVE,this.handleFeatureRemove_,this))}else if(this.source_){o.push(ol.events.listen(this.source_,ol.source.VectorEventType.ADDFEATURE,this.handleFeatureAdd_,this),ol.events.listen(this.source_,ol.source.VectorEventType.REMOVEFEATURE,this.handleFeatureRemove_,this))}r.forEach(this.forEachFeatureAdd_,this)}};ol.interaction.Snap.prototype.shouldStopEvent=ol.functions.FALSE;ol.interaction.Snap.prototype.snapTo=function(e,t,o){var r=o.getCoordinateFromPixel([e[0]-this.pixelTolerance_,e[1]+this.pixelTolerance_]);var i=o.getCoordinateFromPixel([e[0]+this.pixelTolerance_,e[1]-this.pixelTolerance_]);var n=ol.extent.boundingExtent([r,i]);var l=this.rBush_.getInExtent(n);if(this.vertex_&&!this.edge_){l=l.filter(function(e){return e.feature.getGeometry().getType()!==ol.geom.GeometryType.CIRCLE})}var a=false;var s=false;var p=null;var g=null;var u,c,y,d,h;if(l.length>0){this.pixelCoordinate_=t;l.sort(this.sortByDistance_);var f=l[0].segment;var m=l[0].feature.getGeometry().getType()===ol.geom.GeometryType.CIRCLE;if(this.vertex_&&!this.edge_){c=o.getPixelFromCoordinate(f[0]);y=o.getPixelFromCoordinate(f[1]);d=ol.coordinate.squaredDistance(e,c);h=ol.coordinate.squaredDistance(e,y);u=Math.sqrt(Math.min(d,h));a=u<=this.pixelTolerance_;if(a){s=true;p=d>h?f[1]:f[0];g=o.getPixelFromCoordinate(p)}}else if(this.edge_){if(m){p=ol.coordinate.closestOnCircle(t,l[0].feature.getGeometry())}else{p=ol.coordinate.closestOnSegment(t,f)}g=o.getPixelFromCoordinate(p);if(ol.coordinate.distance(e,g)<=this.pixelTolerance_){s=true;if(this.vertex_&&!m){c=o.getPixelFromCoordinate(f[0]);y=o.getPixelFromCoordinate(f[1]);d=ol.coordinate.squaredDistance(g,c);h=ol.coordinate.squaredDistance(g,y);u=Math.sqrt(Math.min(d,h));a=u<=this.pixelTolerance_;if(a){p=d>h?f[1]:f[0];g=o.getPixelFromCoordinate(p)}}}}if(s){g=[Math.round(g[0]),Math.round(g[1])]}}return{snapped:s,vertex:p,vertexPixel:g}};ol.interaction.Snap.prototype.updateFeature_=function(e){this.removeFeature(e,false);this.addFeature(e,false)};ol.interaction.Snap.prototype.writeCircleGeometry_=function(e,t){var o=ol.geom.Polygon.fromCircle(t);var r=o.getCoordinates()[0];var i,n,l,a;for(i=0,n=r.length-1;i<n;++i){l=r.slice(i,i+2);a={feature:e,segment:l};this.rBush_.insert(ol.extent.boundingExtent(l),a)}};ol.interaction.Snap.prototype.writeGeometryCollectionGeometry_=function(e,t){var o,r=t.getGeometriesArray();for(o=0;o<r.length;++o){var i=this.SEGMENT_WRITERS_[r[o].getType()];if(i){i.call(this,e,r[o])}}};ol.interaction.Snap.prototype.writeLineStringGeometry_=function(e,t){var o=t.getCoordinates();var r,i,n,l;for(r=0,i=o.length-1;r<i;++r){n=o.slice(r,r+2);l={feature:e,segment:n};this.rBush_.insert(ol.extent.boundingExtent(n),l)}};ol.interaction.Snap.prototype.writeMultiLineStringGeometry_=function(e,t){var o=t.getCoordinates();var r,i,n,l,a,s,p;for(l=0,a=o.length;l<a;++l){r=o[l];for(i=0,n=r.length-1;i<n;++i){s=r.slice(i,i+2);p={feature:e,segment:s};this.rBush_.insert(ol.extent.boundingExtent(s),p)}}};ol.interaction.Snap.prototype.writeMultiPointGeometry_=function(e,t){var o=t.getCoordinates();var r,i,n,l;for(i=0,n=o.length;i<n;++i){r=o[i];l={feature:e,segment:[r,r]};this.rBush_.insert(t.getExtent(),l)}};ol.interaction.Snap.prototype.writeMultiPolygonGeometry_=function(e,t){var o=t.getCoordinates();var r,i,n,l,a,s,p,g,u,c;for(s=0,p=o.length;s<p;++s){g=o[s];for(l=0,a=g.length;l<a;++l){r=g[l];for(i=0,n=r.length-1;i<n;++i){u=r.slice(i,i+2);c={feature:e,segment:u};this.rBush_.insert(ol.extent.boundingExtent(u),c)}}}};ol.interaction.Snap.prototype.writePointGeometry_=function(e,t){var o=t.getCoordinates();var r={feature:e,segment:[o,o]};this.rBush_.insert(t.getExtent(),r)};ol.interaction.Snap.prototype.writePolygonGeometry_=function(e,t){var o=t.getCoordinates();var r,i,n,l,a,s,p;for(l=0,a=o.length;l<a;++l){r=o[l];for(i=0,n=r.length-1;i<n;++i){s=r.slice(i,i+2);p={feature:e,segment:s};this.rBush_.insert(ol.extent.boundingExtent(s),p)}}};ol.interaction.Snap.handleEvent_=function(e){var t=this.snapTo(e.pixel,e.coordinate,e.map);if(t.snapped){e.coordinate=t.vertex.slice(0,2);e.pixel=t.vertexPixel}return ol.interaction.Pointer.handleEvent.call(this,e)};ol.interaction.Snap.handleUpEvent_=function(e){var t=ol.obj.getValues(this.pendingFeatures_);if(t.length){t.forEach(this.updateFeature_,this);this.pendingFeatures_={}}return false};ol.interaction.Snap.sortByDistance=function(e,t){return ol.coordinate.squaredDistanceToSegment(this.pixelCoordinate_,e.segment)-ol.coordinate.squaredDistanceToSegment(this.pixelCoordinate_,t.segment)};goog.provide("ol.interaction.TranslateEventType");ol.interaction.TranslateEventType={TRANSLATESTART:"translatestart",TRANSLATING:"translating",TRANSLATEEND:"translateend"};goog.provide("ol.interaction.Translate");goog.require("ol");goog.require("ol.Collection");goog.require("ol.Object");goog.require("ol.events");goog.require("ol.events.Event");goog.require("ol.functions");goog.require("ol.array");goog.require("ol.interaction.Pointer");goog.require("ol.interaction.Property");goog.require("ol.interaction.TranslateEventType");ol.interaction.Translate=function(e){ol.interaction.Pointer.call(this,{handleDownEvent:ol.interaction.Translate.handleDownEvent_,handleDragEvent:ol.interaction.Translate.handleDragEvent_,handleMoveEvent:ol.interaction.Translate.handleMoveEvent_,handleUpEvent:ol.interaction.Translate.handleUpEvent_});var t=e?e:{};this.lastCoordinate_=null;this.features_=t.features!==undefined?t.features:null;var o;if(t.layers){if(typeof t.layers==="function"){o=t.layers}else{var r=t.layers;o=function(e){return ol.array.includes(r,e)}}}else{o=ol.functions.TRUE}this.layerFilter_=o;this.hitTolerance_=t.hitTolerance?t.hitTolerance:0;this.lastFeature_=null;ol.events.listen(this,ol.Object.getChangeEventType(ol.interaction.Property.ACTIVE),this.handleActiveChanged_,this)};ol.inherits(ol.interaction.Translate,ol.interaction.Pointer);ol.interaction.Translate.handleDownEvent_=function(e){this.lastFeature_=this.featuresAtPixel_(e.pixel,e.map);if(!this.lastCoordinate_&&this.lastFeature_){this.lastCoordinate_=e.coordinate;ol.interaction.Translate.handleMoveEvent_.call(this,e);var t=this.features_||new ol.Collection([this.lastFeature_]);this.dispatchEvent(new ol.interaction.Translate.Event(ol.interaction.TranslateEventType.TRANSLATESTART,t,e.coordinate));return true}return false};ol.interaction.Translate.handleUpEvent_=function(e){if(this.lastCoordinate_){this.lastCoordinate_=null;ol.interaction.Translate.handleMoveEvent_.call(this,e);var t=this.features_||new ol.Collection([this.lastFeature_]);this.dispatchEvent(new ol.interaction.Translate.Event(ol.interaction.TranslateEventType.TRANSLATEEND,t,e.coordinate));return true}return false};ol.interaction.Translate.handleDragEvent_=function(e){if(this.lastCoordinate_){var t=e.coordinate;var o=t[0]-this.lastCoordinate_[0];var r=t[1]-this.lastCoordinate_[1];var i=this.features_||new ol.Collection([this.lastFeature_]);i.forEach(function(e){var t=e.getGeometry();t.translate(o,r);e.setGeometry(t)});this.lastCoordinate_=t;this.dispatchEvent(new ol.interaction.Translate.Event(ol.interaction.TranslateEventType.TRANSLATING,i,t))}};ol.interaction.Translate.handleMoveEvent_=function(e){var t=e.map.getViewport();if(this.featuresAtPixel_(e.pixel,e.map)){t.classList.remove(this.lastCoordinate_?"ol-grab":"ol-grabbing");t.classList.add(this.lastCoordinate_?"ol-grabbing":"ol-grab")}else{t.classList.remove("ol-grab","ol-grabbing")}};ol.interaction.Translate.prototype.featuresAtPixel_=function(e,t){return t.forEachFeatureAtPixel(e,function(e){if(!this.features_||ol.array.includes(this.features_.getArray(),e)){return e}}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_})};ol.interaction.Translate.prototype.getHitTolerance=function(){return this.hitTolerance_};ol.interaction.Translate.prototype.setHitTolerance=function(e){this.hitTolerance_=e};ol.interaction.Translate.prototype.setMap=function(e){var t=this.getMap();ol.interaction.Pointer.prototype.setMap.call(this,e);this.updateState_(t)};ol.interaction.Translate.prototype.handleActiveChanged_=function(){this.updateState_(null)};ol.interaction.Translate.prototype.updateState_=function(e){var t=this.getMap();var o=this.getActive();if(!t||!o){t=t||e;if(t){var r=t.getViewport();r.classList.remove("ol-grab","ol-grabbing")}}};ol.interaction.Translate.Event=function(e,t,o){ol.events.Event.call(this,e);this.features=t;this.coordinate=o};ol.inherits(ol.interaction.Translate.Event,ol.events.Event);goog.provide("ol.layer.Heatmap");goog.require("ol.events");goog.require("ol");goog.require("ol.Object");goog.require("ol.dom");goog.require("ol.layer.Vector");goog.require("ol.math");goog.require("ol.obj");goog.require("ol.render.EventType");goog.require("ol.style.Icon");goog.require("ol.style.Style");ol.layer.Heatmap=function(e){var t=e?e:{};var o=ol.obj.assign({},t);delete o.gradient;delete o.radius;delete o.blur;delete o.shadow;delete o.weight;ol.layer.Vector.call(this,o);this.gradient_=null;this.shadow_=t.shadow!==undefined?t.shadow:250;this.circleImage_=undefined;this.styleCache_=null;ol.events.listen(this,ol.Object.getChangeEventType(ol.layer.Heatmap.Property_.GRADIENT),this.handleGradientChanged_,this);this.setGradient(t.gradient?t.gradient:ol.layer.Heatmap.DEFAULT_GRADIENT);this.setBlur(t.blur!==undefined?t.blur:15);this.setRadius(t.radius!==undefined?t.radius:8);ol.events.listen(this,ol.Object.getChangeEventType(ol.layer.Heatmap.Property_.BLUR),this.handleStyleChanged_,this);ol.events.listen(this,ol.Object.getChangeEventType(ol.layer.Heatmap.Property_.RADIUS),this.handleStyleChanged_,this);this.handleStyleChanged_();var r=t.weight?t.weight:"weight";var i;if(typeof r==="string"){i=function(e){return e.get(r)}}else{i=r}this.setStyle(function(e,t){var o=i(e);var r=o!==undefined?ol.math.clamp(o,0,1):1;var n=255*r|0;var l=this.styleCache_[n];if(!l){l=[new ol.style.Style({image:new ol.style.Icon({opacity:r,src:this.circleImage_})})];this.styleCache_[n]=l}return l}.bind(this));this.setRenderOrder(null);ol.events.listen(this,ol.render.EventType.RENDER,this.handleRender_,this)};ol.inherits(ol.layer.Heatmap,ol.layer.Vector);ol.layer.Heatmap.DEFAULT_GRADIENT=["#00f","#0ff","#0f0","#ff0","#f00"];ol.layer.Heatmap.createGradient_=function(e){var t=1;var o=256;var r=ol.dom.createCanvasContext2D(t,o);var i=r.createLinearGradient(0,0,t,o);var n=1/(e.length-1);for(var l=0,a=e.length;l<a;++l){i.addColorStop(l*n,e[l])}r.fillStyle=i;r.fillRect(0,0,t,o);return r.getImageData(0,0,t,o).data};ol.layer.Heatmap.prototype.createCircle_=function(){var e=this.getRadius();var t=this.getBlur();var o=e+t+1;var r=2*o;var i=ol.dom.createCanvasContext2D(r,r);i.shadowOffsetX=i.shadowOffsetY=this.shadow_;i.shadowBlur=t;i.shadowColor="#000";i.beginPath();var n=o-this.shadow_;i.arc(n,n,e,0,Math.PI*2,true);i.fill();return i.canvas.toDataURL()};ol.layer.Heatmap.prototype.getBlur=function(){return this.get(ol.layer.Heatmap.Property_.BLUR)};ol.layer.Heatmap.prototype.getGradient=function(){return this.get(ol.layer.Heatmap.Property_.GRADIENT)};ol.layer.Heatmap.prototype.getRadius=function(){return this.get(ol.layer.Heatmap.Property_.RADIUS)};ol.layer.Heatmap.prototype.handleGradientChanged_=function(){this.gradient_=ol.layer.Heatmap.createGradient_(this.getGradient())};ol.layer.Heatmap.prototype.handleStyleChanged_=function(){this.circleImage_=this.createCircle_();this.styleCache_=new Array(256);this.changed()};ol.layer.Heatmap.prototype.handleRender_=function(e){var t=e.context;var o=t.canvas;var r=t.getImageData(0,0,o.width,o.height);var i=r.data;var n,l,a;for(n=0,l=i.length;n<l;n+=4){a=i[n+3]*4;if(a){i[n]=this.gradient_[a];i[n+1]=this.gradient_[a+1];i[n+2]=this.gradient_[a+2]}}t.putImageData(r,0,0)};ol.layer.Heatmap.prototype.setBlur=function(e){this.set(ol.layer.Heatmap.Property_.BLUR,e)};ol.layer.Heatmap.prototype.setGradient=function(e){this.set(ol.layer.Heatmap.Property_.GRADIENT,e)};ol.layer.Heatmap.prototype.setRadius=function(e){this.set(ol.layer.Heatmap.Property_.RADIUS,e)};ol.layer.Heatmap.Property_={BLUR:"blur",GRADIENT:"gradient",RADIUS:"radius"};goog.provide("ol.layer.Image");goog.require("ol");goog.require("ol.LayerType");goog.require("ol.layer.Layer");ol.layer.Image=function(e){var t=e?e:{};ol.layer.Layer.call(this,t);this.type=ol.LayerType.IMAGE};ol.inherits(ol.layer.Image,ol.layer.Layer);ol.layer.Image.prototype.getSource;goog.provide("ol.layer.TileProperty");ol.layer.TileProperty={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"};goog.provide("ol.layer.Tile");goog.require("ol");goog.require("ol.LayerType");goog.require("ol.layer.Layer");goog.require("ol.layer.TileProperty");goog.require("ol.obj");ol.layer.Tile=function(e){var t=e?e:{};var o=ol.obj.assign({},t);delete o.preload;delete o.useInterimTilesOnError;ol.layer.Layer.call(this,o);this.setPreload(t.preload!==undefined?t.preload:0);this.setUseInterimTilesOnError(t.useInterimTilesOnError!==undefined?t.useInterimTilesOnError:true);this.type=ol.LayerType.TILE};ol.inherits(ol.layer.Tile,ol.layer.Layer);ol.layer.Tile.prototype.getPreload=function(){return this.get(ol.layer.TileProperty.PRELOAD)};ol.layer.Tile.prototype.getSource;ol.layer.Tile.prototype.setPreload=function(e){this.set(ol.layer.TileProperty.PRELOAD,e)};ol.layer.Tile.prototype.getUseInterimTilesOnError=function(){return this.get(ol.layer.TileProperty.USE_INTERIM_TILES_ON_ERROR)};ol.layer.Tile.prototype.setUseInterimTilesOnError=function(e){this.set(ol.layer.TileProperty.USE_INTERIM_TILES_ON_ERROR,e)};goog.provide("ol.layer.VectorTile");goog.require("ol");goog.require("ol.LayerType");goog.require("ol.asserts");goog.require("ol.layer.TileProperty");goog.require("ol.layer.Vector");goog.require("ol.layer.VectorTileRenderType");goog.require("ol.obj");ol.layer.VectorTile=function(e){var t=e?e:{};var o=t.renderMode||ol.layer.VectorTileRenderType.HYBRID;ol.asserts.assert(o==undefined||o==ol.layer.VectorTileRenderType.IMAGE||o==ol.layer.VectorTileRenderType.HYBRID||o==ol.layer.VectorTileRenderType.VECTOR,28);if(t.declutter&&o==ol.layer.VectorTileRenderType.IMAGE){o=ol.layer.VectorTileRenderType.HYBRID}t.renderMode=o;var r=ol.obj.assign({},t);delete r.preload;delete r.useInterimTilesOnError;ol.layer.Vector.call(this,r);this.setPreload(t.preload?t.preload:0);this.setUseInterimTilesOnError(t.useInterimTilesOnError?t.useInterimTilesOnError:true);this.type=ol.LayerType.VECTOR_TILE};ol.inherits(ol.layer.VectorTile,ol.layer.Vector);ol.layer.VectorTile.prototype.getPreload=function(){return this.get(ol.layer.TileProperty.PRELOAD)};ol.layer.VectorTile.prototype.getUseInterimTilesOnError=function(){return this.get(ol.layer.TileProperty.USE_INTERIM_TILES_ON_ERROR)};ol.layer.VectorTile.prototype.setPreload=function(e){this.set(ol.layer.TileProperty.PRELOAD,e)};ol.layer.VectorTile.prototype.setUseInterimTilesOnError=function(e){this.set(ol.layer.TileProperty.USE_INTERIM_TILES_ON_ERROR,e)};ol.layer.VectorTile.prototype.getSource;goog.provide("ol.webgl.Shader");goog.require("ol.functions");ol.webgl.Shader=function(e){this.source_=e};ol.webgl.Shader.prototype.getType=function(){};ol.webgl.Shader.prototype.getSource=function(){return this.source_};ol.webgl.Shader.prototype.isAnimated=ol.functions.FALSE;goog.provide("ol.webgl.Fragment");goog.require("ol");goog.require("ol.webgl");goog.require("ol.webgl.Shader");ol.webgl.Fragment=function(e){ol.webgl.Shader.call(this,e)};ol.inherits(ol.webgl.Fragment,ol.webgl.Shader);ol.webgl.Fragment.prototype.getType=function(){return ol.webgl.FRAGMENT_SHADER};goog.provide("ol.webgl.Vertex");goog.require("ol");goog.require("ol.webgl");goog.require("ol.webgl.Shader");ol.webgl.Vertex=function(e){ol.webgl.Shader.call(this,e)};ol.inherits(ol.webgl.Vertex,ol.webgl.Shader);ol.webgl.Vertex.prototype.getType=function(){return ol.webgl.VERTEX_SHADER};goog.provide("ol.render.webgl.circlereplay.defaultshader");goog.require("ol");goog.require("ol.webgl.Fragment");goog.require("ol.webgl.Vertex");ol.render.webgl.circlereplay.defaultshader.fragment=new ol.webgl.Fragment(ol.DEBUG_WEBGL?"precision mediump float;\nvarying vec2 v_center;\nvarying vec2 v_offset;\nvarying float v_halfWidth;\nvarying float v_pixelRatio;\n\n\n\nuniform float u_opacity;\nuniform vec4 u_fillColor;\nuniform vec4 u_strokeColor;\nuniform vec2 u_size;\n\nvoid main(void) {\n  vec2 windowCenter = vec2((v_center.x + 1.0) / 2.0 * u_size.x * v_pixelRatio,\n      (v_center.y + 1.0) / 2.0 * u_size.y * v_pixelRatio);\n  vec2 windowOffset = vec2((v_offset.x + 1.0) / 2.0 * u_size.x * v_pixelRatio,\n      (v_offset.y + 1.0) / 2.0 * u_size.y * v_pixelRatio);\n  float radius = length(windowCenter - windowOffset);\n  float dist = length(windowCenter - gl_FragCoord.xy);\n  if (dist > radius + v_halfWidth) {\n    if (u_strokeColor.a == 0.0) {\n      gl_FragColor = u_fillColor;\n    } else {\n      gl_FragColor = u_strokeColor;\n    }\n    gl_FragColor.a = gl_FragColor.a - (dist - (radius + v_halfWidth));\n  } else if (u_fillColor.a == 0.0) {\n    // Hooray, no fill, just stroke. We can use real antialiasing.\n    gl_FragColor = u_strokeColor;\n    if (dist < radius - v_halfWidth) {\n      gl_FragColor.a = gl_FragColor.a - (radius - v_halfWidth - dist);\n    }\n  } else {\n    gl_FragColor = u_fillColor;\n    float strokeDist = radius - v_halfWidth;\n    float antialias = 2.0 * v_pixelRatio;\n    if (dist > strokeDist) {\n      gl_FragColor = u_strokeColor;\n    } else if (dist >= strokeDist - antialias) {\n      float step = smoothstep(strokeDist - antialias, strokeDist, dist);\n      gl_FragColor = mix(u_fillColor, u_strokeColor, step);\n    }\n  }\n  gl_FragColor.a = gl_FragColor.a * u_opacity;\n  if (gl_FragColor.a <= 0.0) {\n    discard;\n  }\n}\n":"precision mediump float;varying vec2 a;varying vec2 b;varying float c;varying float d;uniform float m;uniform vec4 n;uniform vec4 o;uniform vec2 p;void main(void){vec2 windowCenter=vec2((a.x+1.0)/2.0*p.x*d,(a.y+1.0)/2.0*p.y*d);vec2 windowOffset=vec2((b.x+1.0)/2.0*p.x*d,(b.y+1.0)/2.0*p.y*d);float radius=length(windowCenter-windowOffset);float dist=length(windowCenter-gl_FragCoord.xy);if(dist>radius+c){if(o.a==0.0){gl_FragColor=n;}else{gl_FragColor=o;}gl_FragColor.a=gl_FragColor.a-(dist-(radius+c));}else if(n.a==0.0){gl_FragColor=o;if(dist<radius-c){gl_FragColor.a=gl_FragColor.a-(radius-c-dist);}} else{gl_FragColor=n;float strokeDist=radius-c;float antialias=2.0*d;if(dist>strokeDist){gl_FragColor=o;}else if(dist>=strokeDist-antialias){float step=smoothstep(strokeDist-antialias,strokeDist,dist);gl_FragColor=mix(n,o,step);}} gl_FragColor.a=gl_FragColor.a*m;if(gl_FragColor.a<=0.0){discard;}}");ol.render.webgl.circlereplay.defaultshader.vertex=new ol.webgl.Vertex(ol.DEBUG_WEBGL?"varying vec2 v_center;\nvarying vec2 v_offset;\nvarying float v_halfWidth;\nvarying float v_pixelRatio;\n\n\nattribute vec2 a_position;\nattribute float a_instruction;\nattribute float a_radius;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\nuniform float u_lineWidth;\nuniform float u_pixelRatio;\n\nvoid main(void) {\n  mat4 offsetMatrix = u_offsetScaleMatrix * u_offsetRotateMatrix;\n  v_center = vec4(u_projectionMatrix * vec4(a_position, 0.0, 1.0)).xy;\n  v_pixelRatio = u_pixelRatio;\n  float lineWidth = u_lineWidth * u_pixelRatio;\n  v_halfWidth = lineWidth / 2.0;\n  if (lineWidth == 0.0) {\n    lineWidth = 2.0 * u_pixelRatio;\n  }\n  vec2 offset;\n  // Radius with anitaliasing (roughly).\n  float radius = a_radius + 3.0 * u_pixelRatio;\n  // Until we get gl_VertexID in WebGL, we store an instruction.\n  if (a_instruction == 0.0) {\n    // Offsetting the edges of the triangle by lineWidth / 2 is necessary, however\n    // we should also leave some space for the antialiasing, thus we offset by lineWidth.\n    offset = vec2(-1.0, 1.0);\n  } else if (a_instruction == 1.0) {\n    offset = vec2(-1.0, -1.0);\n  } else if (a_instruction == 2.0) {\n    offset = vec2(1.0, -1.0);\n  } else {\n    offset = vec2(1.0, 1.0);\n  }\n\n  gl_Position = u_projectionMatrix * vec4(a_position + offset * radius, 0.0, 1.0) +\n      offsetMatrix * vec4(offset * lineWidth, 0.0, 0.0);\n  v_offset = vec4(u_projectionMatrix * vec4(a_position.x + a_radius, a_position.y,\n      0.0, 1.0)).xy;\n\n  if (distance(v_center, v_offset) > 20000.0) {\n    gl_Position = vec4(v_center, 0.0, 1.0);\n  }\n}\n\n\n":"varying vec2 a;varying vec2 b;varying float c;varying float d;attribute vec2 e;attribute float f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;uniform float k;uniform float l;void main(void){mat4 offsetMatrix=i*j;a=vec4(h*vec4(e,0.0,1.0)).xy;d=l;float lineWidth=k*l;c=lineWidth/2.0;if(lineWidth==0.0){lineWidth=2.0*l;}vec2 offset;float radius=g+3.0*l;//Until we get gl_VertexID in WebGL,we store an instruction.if(f==0.0){//Offsetting the edges of the triangle by lineWidth/2 is necessary,however//we should also leave some space for the antialiasing,thus we offset by lineWidth.offset=vec2(-1.0,1.0);}else if(f==1.0){offset=vec2(-1.0,-1.0);}else if(f==2.0){offset=vec2(1.0,-1.0);}else{offset=vec2(1.0,1.0);}gl_Position=h*vec4(e+offset*radius,0.0,1.0)+offsetMatrix*vec4(offset*lineWidth,0.0,0.0);b=vec4(h*vec4(e.x+g,e.y,0.0,1.0)).xy;if(distance(a,b)>20000.0){gl_Position=vec4(a,0.0,1.0);}}");goog.provide("ol.render.webgl.circlereplay.defaultshader.Locations");goog.require("ol");ol.render.webgl.circlereplay.defaultshader.Locations=function(e,t){this.u_projectionMatrix=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_projectionMatrix":"h");this.u_offsetScaleMatrix=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_offsetScaleMatrix":"i");this.u_offsetRotateMatrix=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_offsetRotateMatrix":"j");this.u_lineWidth=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_lineWidth":"k");this.u_pixelRatio=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_pixelRatio":"l");this.u_opacity=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_opacity":"m");this.u_fillColor=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_fillColor":"n");this.u_strokeColor=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_strokeColor":"o");this.u_size=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_size":"p");this.a_position=e.getAttribLocation(t,ol.DEBUG_WEBGL?"a_position":"e");this.a_instruction=e.getAttribLocation(t,ol.DEBUG_WEBGL?"a_instruction":"f");this.a_radius=e.getAttribLocation(t,ol.DEBUG_WEBGL?"a_radius":"g")};goog.provide("ol.vec.Mat4");ol.vec.Mat4.create=function(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]};ol.vec.Mat4.fromTransform=function(e,t){e[0]=t[0];e[1]=t[1];e[4]=t[2];e[5]=t[3];e[12]=t[4];e[13]=t[5];return e};goog.provide("ol.render.webgl.Replay");goog.require("ol");goog.require("ol.extent");goog.require("ol.render.VectorContext");goog.require("ol.transform");goog.require("ol.vec.Mat4");goog.require("ol.webgl");ol.render.webgl.Replay=function(e,t){ol.render.VectorContext.call(this);this.tolerance=e;this.maxExtent=t;this.origin=ol.extent.getCenter(t);this.projectionMatrix_=ol.transform.create();this.offsetRotateMatrix_=ol.transform.create();this.offsetScaleMatrix_=ol.transform.create();this.tmpMat4_=ol.vec.Mat4.create();this.indices=[];this.indicesBuffer=null;this.startIndices=[];this.startIndicesFeature=[];this.vertices=[];this.verticesBuffer=null;this.lineStringReplay=undefined};ol.inherits(ol.render.webgl.Replay,ol.render.VectorContext);ol.render.webgl.Replay.prototype.getDeleteResourcesFunction=function(e){};ol.render.webgl.Replay.prototype.finish=function(e){};ol.render.webgl.Replay.prototype.setUpProgram=function(e,t,o,r){};ol.render.webgl.Replay.prototype.shutDownProgram=function(e,t){};ol.render.webgl.Replay.prototype.drawReplay=function(e,t,o,r){};ol.render.webgl.Replay.prototype.drawHitDetectionReplayOneByOne=function(e,t,o,r,i){};ol.render.webgl.Replay.prototype.drawHitDetectionReplay=function(e,t,o,r,i,n){if(!i){return this.drawHitDetectionReplayAll(e,t,o,r)}else{return this.drawHitDetectionReplayOneByOne(e,t,o,r,n)}};ol.render.webgl.Replay.prototype.drawHitDetectionReplayAll=function(e,t,o,r){e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT);this.drawReplay(e,t,o,true);var i=r(null);if(i){return i}else{return undefined}};ol.render.webgl.Replay.prototype.replay=function(e,t,o,r,i,n,l,a,s,p,g){var u=e.getGL();var c,y,d,h,f,m,v,_;if(this.lineStringReplay){c=u.isEnabled(u.STENCIL_TEST);y=u.getParameter(u.STENCIL_FUNC);d=u.getParameter(u.STENCIL_VALUE_MASK);h=u.getParameter(u.STENCIL_REF);f=u.getParameter(u.STENCIL_WRITEMASK);m=u.getParameter(u.STENCIL_FAIL);v=u.getParameter(u.STENCIL_PASS_DEPTH_PASS);_=u.getParameter(u.STENCIL_PASS_DEPTH_FAIL);u.enable(u.STENCIL_TEST);u.clear(u.STENCIL_BUFFER_BIT);u.stencilMask(255);u.stencilFunc(u.ALWAYS,1,255);u.stencilOp(u.KEEP,u.KEEP,u.REPLACE);this.lineStringReplay.replay(e,t,o,r,i,n,l,a,s,p,g);u.stencilMask(0);u.stencilFunc(u.NOTEQUAL,1,255)}e.bindBuffer(ol.webgl.ARRAY_BUFFER,this.verticesBuffer);e.bindBuffer(ol.webgl.ELEMENT_ARRAY_BUFFER,this.indicesBuffer);var S=this.setUpProgram(u,e,i,n);var x=ol.transform.reset(this.projectionMatrix_);ol.transform.scale(x,2/(o*i[0]),2/(o*i[1]));ol.transform.rotate(x,-r);ol.transform.translate(x,-(t[0]-this.origin[0]),-(t[1]-this.origin[1]));var P=ol.transform.reset(this.offsetScaleMatrix_);ol.transform.scale(P,2/i[0],2/i[1]);var E=ol.transform.reset(this.offsetRotateMatrix_);if(r!==0){ol.transform.rotate(E,-r)}u.uniformMatrix4fv(S.u_projectionMatrix,false,ol.vec.Mat4.fromTransform(this.tmpMat4_,x));u.uniformMatrix4fv(S.u_offsetScaleMatrix,false,ol.vec.Mat4.fromTransform(this.tmpMat4_,P));u.uniformMatrix4fv(S.u_offsetRotateMatrix,false,ol.vec.Mat4.fromTransform(this.tmpMat4_,E));u.uniform1f(S.u_opacity,l);var T;if(s===undefined){this.drawReplay(u,e,a,false)}else{T=this.drawHitDetectionReplay(u,e,a,s,p,g)}this.shutDownProgram(u,S);if(this.lineStringReplay){if(!c){u.disable(u.STENCIL_TEST)}u.clear(u.STENCIL_BUFFER_BIT);u.stencilFunc(y,h,d);u.stencilMask(f);u.stencilOp(m,_,v)}return T};ol.render.webgl.Replay.prototype.drawElements=function(e,t,o,r){var i=t.hasOESElementIndexUint?ol.webgl.UNSIGNED_INT:ol.webgl.UNSIGNED_SHORT;var n=t.hasOESElementIndexUint?4:2;var l=r-o;var a=o*n;e.drawElements(ol.webgl.TRIANGLES,l,i,a)};goog.provide("ol.render.webgl");ol.render.webgl.defaultFont="10px sans-serif";ol.render.webgl.defaultFillStyle=[0,0,0,1];ol.render.webgl.defaultLineCap="round";ol.render.webgl.defaultLineDash=[];ol.render.webgl.defaultLineDashOffset=0;ol.render.webgl.defaultLineJoin="round";ol.render.webgl.defaultMiterLimit=10;ol.render.webgl.defaultStrokeStyle=[0,0,0,1];ol.render.webgl.defaultTextAlign=.5;ol.render.webgl.defaultTextBaseline=.5;ol.render.webgl.defaultLineWidth=1;ol.render.webgl.triangleIsCounterClockwise=function(e,t,o,r,i,n){var l=(o-e)*(n-t)-(i-e)*(r-t);return l<=ol.render.webgl.EPSILON&&l>=-ol.render.webgl.EPSILON?undefined:l>0};ol.render.webgl.EPSILON=Number.EPSILON||2.220446049250313e-16;goog.provide("ol.webgl.Buffer");goog.require("ol.webgl");ol.webgl.Buffer=function(e,t){this.arr_=e!==undefined?e:[];this.usage_=t!==undefined?t:ol.webgl.Buffer.Usage_.STATIC_DRAW};ol.webgl.Buffer.prototype.getArray=function(){return this.arr_};ol.webgl.Buffer.prototype.getUsage=function(){return this.usage_};ol.webgl.Buffer.Usage_={STATIC_DRAW:ol.webgl.STATIC_DRAW,STREAM_DRAW:ol.webgl.STREAM_DRAW,DYNAMIC_DRAW:ol.webgl.DYNAMIC_DRAW};goog.provide("ol.render.webgl.CircleReplay");goog.require("ol");goog.require("ol.array");goog.require("ol.color");goog.require("ol.extent");goog.require("ol.obj");goog.require("ol.geom.flat.transform");goog.require("ol.render.webgl.circlereplay.defaultshader");goog.require("ol.render.webgl.circlereplay.defaultshader.Locations");goog.require("ol.render.webgl.Replay");goog.require("ol.render.webgl");goog.require("ol.webgl");goog.require("ol.webgl.Buffer");ol.render.webgl.CircleReplay=function(e,t){ol.render.webgl.Replay.call(this,e,t);this.defaultLocations_=null;this.styles_=[];this.styleIndices_=[];this.radius_=0;this.state_={fillColor:null,strokeColor:null,lineDash:null,lineDashOffset:undefined,lineWidth:undefined,changed:false}};ol.inherits(ol.render.webgl.CircleReplay,ol.render.webgl.Replay);ol.render.webgl.CircleReplay.prototype.drawCoordinates_=function(e,t,o,r){var i=this.vertices.length;var n=this.indices.length;var l=i/4;var a,s;for(a=t,s=o;a<s;a+=r){this.vertices[i++]=e[a];this.vertices[i++]=e[a+1];this.vertices[i++]=0;this.vertices[i++]=this.radius_;this.vertices[i++]=e[a];this.vertices[i++]=e[a+1];this.vertices[i++]=1;this.vertices[i++]=this.radius_;this.vertices[i++]=e[a];this.vertices[i++]=e[a+1];this.vertices[i++]=2;this.vertices[i++]=this.radius_;this.vertices[i++]=e[a];this.vertices[i++]=e[a+1];this.vertices[i++]=3;this.vertices[i++]=this.radius_;this.indices[n++]=l;this.indices[n++]=l+1;this.indices[n++]=l+2;this.indices[n++]=l+2;this.indices[n++]=l+3;this.indices[n++]=l;l+=4}};ol.render.webgl.CircleReplay.prototype.drawCircle=function(e,t){var o=e.getRadius();var r=e.getStride();if(o){this.startIndices.push(this.indices.length);this.startIndicesFeature.push(t);if(this.state_.changed){this.styleIndices_.push(this.indices.length);this.state_.changed=false}this.radius_=o;var i=e.getFlatCoordinates();i=ol.geom.flat.transform.translate(i,0,2,r,-this.origin[0],-this.origin[1]);this.drawCoordinates_(i,0,2,r)}else{if(this.state_.changed){this.styles_.pop();if(this.styles_.length){var n=this.styles_[this.styles_.length-1];this.state_.fillColor=n[0];this.state_.strokeColor=n[1];this.state_.lineWidth=n[2];this.state_.changed=false}}}};ol.render.webgl.CircleReplay.prototype.finish=function(e){this.verticesBuffer=new ol.webgl.Buffer(this.vertices);this.indicesBuffer=new ol.webgl.Buffer(this.indices);this.startIndices.push(this.indices.length);if(this.styleIndices_.length===0&&this.styles_.length>0){this.styles_=[]}this.vertices=null;this.indices=null};ol.render.webgl.CircleReplay.prototype.getDeleteResourcesFunction=function(e){var t=this.verticesBuffer;var o=this.indicesBuffer;return function(){e.deleteBuffer(t);e.deleteBuffer(o)}};ol.render.webgl.CircleReplay.prototype.setUpProgram=function(e,t,o,r){var i,n;i=ol.render.webgl.circlereplay.defaultshader.fragment;n=ol.render.webgl.circlereplay.defaultshader.vertex;var l=t.getProgram(i,n);var a;if(!this.defaultLocations_){a=new ol.render.webgl.circlereplay.defaultshader.Locations(e,l);this.defaultLocations_=a}else{a=this.defaultLocations_}t.useProgram(l);e.enableVertexAttribArray(a.a_position);e.vertexAttribPointer(a.a_position,2,ol.webgl.FLOAT,false,16,0);e.enableVertexAttribArray(a.a_instruction);e.vertexAttribPointer(a.a_instruction,1,ol.webgl.FLOAT,false,16,8);e.enableVertexAttribArray(a.a_radius);e.vertexAttribPointer(a.a_radius,1,ol.webgl.FLOAT,false,16,12);e.uniform2fv(a.u_size,o);e.uniform1f(a.u_pixelRatio,r);return a};ol.render.webgl.CircleReplay.prototype.shutDownProgram=function(e,t){e.disableVertexAttribArray(t.a_position);e.disableVertexAttribArray(t.a_instruction);e.disableVertexAttribArray(t.a_radius)};ol.render.webgl.CircleReplay.prototype.drawReplay=function(e,t,o,r){if(!ol.obj.isEmpty(o)){this.drawReplaySkipping_(e,t,o)}else{var i,n,l,a;l=this.startIndices[this.startIndices.length-1];for(i=this.styleIndices_.length-1;i>=0;--i){n=this.styleIndices_[i];a=this.styles_[i];this.setFillStyle_(e,a[0]);this.setStrokeStyle_(e,a[1],a[2]);this.drawElements(e,t,n,l);l=n}}};ol.render.webgl.CircleReplay.prototype.drawHitDetectionReplayOneByOne=function(e,t,o,r,i){var n,l,a,s,p,g,u,c;c=this.startIndices.length-2;a=this.startIndices[c+1];for(n=this.styleIndices_.length-1;n>=0;--n){s=this.styles_[n];this.setFillStyle_(e,s[0]);this.setStrokeStyle_(e,s[1],s[2]);p=this.styleIndices_[n];while(c>=0&&this.startIndices[c]>=p){l=this.startIndices[c];g=this.startIndicesFeature[c];u=ol.getUid(g).toString();if(o[u]===undefined&&g.getGeometry()&&(i===undefined||ol.extent.intersects(i,g.getGeometry().getExtent()))){e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT);this.drawElements(e,t,l,a);var y=r(g);if(y){return y}}c--;a=l}}return undefined};ol.render.webgl.CircleReplay.prototype.drawReplaySkipping_=function(e,t,o){var r,i,n,l,a,s,p,g,u;g=this.startIndices.length-2;n=i=this.startIndices[g+1];for(r=this.styleIndices_.length-1;r>=0;--r){l=this.styles_[r];this.setFillStyle_(e,l[0]);this.setStrokeStyle_(e,l[1],l[2]);a=this.styleIndices_[r];while(g>=0&&this.startIndices[g]>=a){u=this.startIndices[g];s=this.startIndicesFeature[g];p=ol.getUid(s).toString();if(o[p]){if(i!==n){this.drawElements(e,t,i,n)}n=u}g--;i=u}if(i!==n){this.drawElements(e,t,i,n)}i=n=a}};ol.render.webgl.CircleReplay.prototype.setFillStyle_=function(e,t){e.uniform4fv(this.defaultLocations_.u_fillColor,t)};ol.render.webgl.CircleReplay.prototype.setStrokeStyle_=function(e,t,o){e.uniform4fv(this.defaultLocations_.u_strokeColor,t);e.uniform1f(this.defaultLocations_.u_lineWidth,o)};ol.render.webgl.CircleReplay.prototype.setFillStrokeStyle=function(e,t){var o,r;if(t){var i=t.getLineDash();this.state_.lineDash=i?i:ol.render.webgl.defaultLineDash;var n=t.getLineDashOffset();this.state_.lineDashOffset=n?n:ol.render.webgl.defaultLineDashOffset;o=t.getColor();if(!(o instanceof CanvasGradient)&&!(o instanceof CanvasPattern)){o=ol.color.asArray(o).map(function(e,t){return t!=3?e/255:e})||ol.render.webgl.defaultStrokeStyle}else{o=ol.render.webgl.defaultStrokeStyle}r=t.getWidth();r=r!==undefined?r:ol.render.webgl.defaultLineWidth}else{o=[0,0,0,0];r=0}var l=e?e.getColor():[0,0,0,0];if(!(l instanceof CanvasGradient)&&!(l instanceof CanvasPattern)){l=ol.color.asArray(l).map(function(e,t){return t!=3?e/255:e})||ol.render.webgl.defaultFillStyle}else{l=ol.render.webgl.defaultFillStyle}if(!this.state_.strokeColor||!ol.array.equals(this.state_.strokeColor,o)||!this.state_.fillColor||!ol.array.equals(this.state_.fillColor,l)||this.state_.lineWidth!==r){this.state_.changed=true;this.state_.fillColor=l;this.state_.strokeColor=o;this.state_.lineWidth=r;this.styles_.push([l,o,r])}};goog.provide("ol.render.webgl.texturereplay.defaultshader");goog.require("ol");goog.require("ol.webgl.Fragment");goog.require("ol.webgl.Vertex");ol.render.webgl.texturereplay.defaultshader.fragment=new ol.webgl.Fragment(ol.DEBUG_WEBGL?"precision mediump float;\nvarying vec2 v_texCoord;\nvarying float v_opacity;\n\nuniform float u_opacity;\nuniform sampler2D u_image;\n\nvoid main(void) {\n  vec4 texColor = texture2D(u_image, v_texCoord);\n  gl_FragColor.rgb = texColor.rgb;\n  float alpha = texColor.a * v_opacity * u_opacity;\n  if (alpha == 0.0) {\n    discard;\n  }\n  gl_FragColor.a = alpha;\n}\n":"precision mediump float;varying vec2 a;varying float b;uniform float k;uniform sampler2D l;void main(void){vec4 texColor=texture2D(l,a);gl_FragColor.rgb=texColor.rgb;float alpha=texColor.a*b*k;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}");ol.render.webgl.texturereplay.defaultshader.vertex=new ol.webgl.Vertex(ol.DEBUG_WEBGL?"varying vec2 v_texCoord;\nvarying float v_opacity;\n\nattribute vec2 a_position;\nattribute vec2 a_texCoord;\nattribute vec2 a_offsets;\nattribute float a_opacity;\nattribute float a_rotateWithView;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\n\nvoid main(void) {\n  mat4 offsetMatrix = u_offsetScaleMatrix;\n  if (a_rotateWithView == 1.0) {\n    offsetMatrix = u_offsetScaleMatrix * u_offsetRotateMatrix;\n  }\n  vec4 offsets = offsetMatrix * vec4(a_offsets, 0.0, 0.0);\n  gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;\n  v_texCoord = a_texCoord;\n  v_opacity = a_opacity;\n}\n\n\n":"varying vec2 a;varying float b;attribute vec2 c;attribute vec2 d;attribute vec2 e;attribute float f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;void main(void){mat4 offsetMatrix=i;if(g==1.0){offsetMatrix=i*j;}vec4 offsets=offsetMatrix*vec4(e,0.0,0.0);gl_Position=h*vec4(c,0.0,1.0)+offsets;a=d;b=f;}");goog.provide("ol.render.webgl.texturereplay.defaultshader.Locations");goog.require("ol");ol.render.webgl.texturereplay.defaultshader.Locations=function(e,t){this.u_projectionMatrix=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_projectionMatrix":"h");this.u_offsetScaleMatrix=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_offsetScaleMatrix":"i");this.u_offsetRotateMatrix=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_offsetRotateMatrix":"j");this.u_opacity=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_opacity":"k");this.u_image=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_image":"l");this.a_position=e.getAttribLocation(t,ol.DEBUG_WEBGL?"a_position":"c");this.a_texCoord=e.getAttribLocation(t,ol.DEBUG_WEBGL?"a_texCoord":"d");this.a_offsets=e.getAttribLocation(t,ol.DEBUG_WEBGL?"a_offsets":"e");this.a_opacity=e.getAttribLocation(t,ol.DEBUG_WEBGL?"a_opacity":"f");this.a_rotateWithView=e.getAttribLocation(t,ol.DEBUG_WEBGL?"a_rotateWithView":"g")};goog.provide("ol.webgl.ContextEventType");ol.webgl.ContextEventType={LOST:"webglcontextlost",RESTORED:"webglcontextrestored"};goog.provide("ol.webgl.Context");goog.require("ol");goog.require("ol.Disposable");goog.require("ol.array");goog.require("ol.events");goog.require("ol.obj");goog.require("ol.webgl");goog.require("ol.webgl.ContextEventType");ol.webgl.Context=function(e,t){this.canvas_=e;this.gl_=t;this.bufferCache_={};this.shaderCache_={};this.programCache_={};this.currentProgram_=null;this.hitDetectionFramebuffer_=null;this.hitDetectionTexture_=null;this.hitDetectionRenderbuffer_=null;this.hasOESElementIndexUint=ol.array.includes(ol.WEBGL_EXTENSIONS,"OES_element_index_uint");if(this.hasOESElementIndexUint){t.getExtension("OES_element_index_uint")}ol.events.listen(this.canvas_,ol.webgl.ContextEventType.LOST,this.handleWebGLContextLost,this);ol.events.listen(this.canvas_,ol.webgl.ContextEventType.RESTORED,this.handleWebGLContextRestored,this)};ol.inherits(ol.webgl.Context,ol.Disposable);ol.webgl.Context.prototype.bindBuffer=function(e,t){var o=this.getGL();var r=t.getArray();var i=String(ol.getUid(t));if(i in this.bufferCache_){var n=this.bufferCache_[i];o.bindBuffer(e,n.buffer)}else{var l=o.createBuffer();o.bindBuffer(e,l);var a;if(e==ol.webgl.ARRAY_BUFFER){a=new Float32Array(r)}else if(e==ol.webgl.ELEMENT_ARRAY_BUFFER){a=this.hasOESElementIndexUint?new Uint32Array(r):new Uint16Array(r)}o.bufferData(e,a,t.getUsage());this.bufferCache_[i]={buf:t,buffer:l}}};ol.webgl.Context.prototype.deleteBuffer=function(e){var t=this.getGL();var o=String(ol.getUid(e));var r=this.bufferCache_[o];if(!t.isContextLost()){t.deleteBuffer(r.buffer)}delete this.bufferCache_[o]};ol.webgl.Context.prototype.disposeInternal=function(){ol.events.unlistenAll(this.canvas_);var e=this.getGL();if(!e.isContextLost()){var t;for(t in this.bufferCache_){e.deleteBuffer(this.bufferCache_[t].buffer)}for(t in this.programCache_){e.deleteProgram(this.programCache_[t])}for(t in this.shaderCache_){e.deleteShader(this.shaderCache_[t])}e.deleteFramebuffer(this.hitDetectionFramebuffer_);e.deleteRenderbuffer(this.hitDetectionRenderbuffer_);e.deleteTexture(this.hitDetectionTexture_)}};ol.webgl.Context.prototype.getCanvas=function(){return this.canvas_};ol.webgl.Context.prototype.getGL=function(){return this.gl_};ol.webgl.Context.prototype.getHitDetectionFramebuffer=function(){if(!this.hitDetectionFramebuffer_){this.initHitDetectionFramebuffer_()}return this.hitDetectionFramebuffer_};ol.webgl.Context.prototype.getShader=function(e){var t=String(ol.getUid(e));if(t in this.shaderCache_){return this.shaderCache_[t]}else{var o=this.getGL();var r=o.createShader(e.getType());o.shaderSource(r,e.getSource());o.compileShader(r);this.shaderCache_[t]=r;return r}};ol.webgl.Context.prototype.getProgram=function(e,t){var o=ol.getUid(e)+"/"+ol.getUid(t);if(o in this.programCache_){return this.programCache_[o]}else{var r=this.getGL();var i=r.createProgram();r.attachShader(i,this.getShader(e));r.attachShader(i,this.getShader(t));r.linkProgram(i);this.programCache_[o]=i;return i}};ol.webgl.Context.prototype.handleWebGLContextLost=function(){ol.obj.clear(this.bufferCache_);ol.obj.clear(this.shaderCache_);ol.obj.clear(this.programCache_);this.currentProgram_=null;this.hitDetectionFramebuffer_=null;this.hitDetectionTexture_=null;this.hitDetectionRenderbuffer_=null};ol.webgl.Context.prototype.handleWebGLContextRestored=function(){};ol.webgl.Context.prototype.initHitDetectionFramebuffer_=function(){var e=this.gl_;var t=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,t);var o=ol.webgl.Context.createEmptyTexture(e,1,1);var r=e.createRenderbuffer();e.bindRenderbuffer(e.RENDERBUFFER,r);e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,1,1);e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,o,0);e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,r);e.bindTexture(e.TEXTURE_2D,null);e.bindRenderbuffer(e.RENDERBUFFER,null);e.bindFramebuffer(e.FRAMEBUFFER,null);this.hitDetectionFramebuffer_=t;this.hitDetectionTexture_=o;this.hitDetectionRenderbuffer_=r};ol.webgl.Context.prototype.useProgram=function(e){if(e==this.currentProgram_){return false}else{var t=this.getGL();t.useProgram(e);this.currentProgram_=e;return true}};ol.webgl.Context.createTexture_=function(e,t,o){var r=e.createTexture();e.bindTexture(e.TEXTURE_2D,r);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR);if(t!==undefined){e.texParameteri(ol.webgl.TEXTURE_2D,ol.webgl.TEXTURE_WRAP_S,t)}if(o!==undefined){e.texParameteri(ol.webgl.TEXTURE_2D,ol.webgl.TEXTURE_WRAP_T,o)}return r};ol.webgl.Context.createEmptyTexture=function(e,t,o,r,i){var n=ol.webgl.Context.createTexture_(e,r,i);e.texImage2D(e.TEXTURE_2D,0,e.RGBA,t,o,0,e.RGBA,e.UNSIGNED_BYTE,null);return n};ol.webgl.Context.createTexture=function(e,t,o,r){var i=ol.webgl.Context.createTexture_(e,o,r);e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t);return i};goog.provide("ol.render.webgl.TextureReplay");goog.require("ol");goog.require("ol.extent");goog.require("ol.obj");goog.require("ol.render.webgl.texturereplay.defaultshader");goog.require("ol.render.webgl.texturereplay.defaultshader.Locations");goog.require("ol.render.webgl.Replay");goog.require("ol.webgl");goog.require("ol.webgl.Context");ol.render.webgl.TextureReplay=function(e,t){ol.render.webgl.Replay.call(this,e,t);this.anchorX=undefined;this.anchorY=undefined;this.groupIndices=[];this.hitDetectionGroupIndices=[];this.height=undefined;this.imageHeight=undefined;this.imageWidth=undefined;this.defaultLocations=null;this.opacity=undefined;this.originX=undefined;this.originY=undefined;this.rotateWithView=undefined;this.rotation=undefined;this.scale=undefined;this.width=undefined};ol.inherits(ol.render.webgl.TextureReplay,ol.render.webgl.Replay);ol.render.webgl.TextureReplay.prototype.getDeleteResourcesFunction=function(e){var t=this.verticesBuffer;var o=this.indicesBuffer;var r=this.getTextures(true);var i=e.getGL();return function(){if(!i.isContextLost()){var n,l;for(n=0,l=r.length;n<l;++n){i.deleteTexture(r[n])}}e.deleteBuffer(t);e.deleteBuffer(o)}};ol.render.webgl.TextureReplay.prototype.drawCoordinates=function(e,t,o,r){var i=this.anchorX;var n=this.anchorY;var l=this.height;var a=this.imageHeight;var s=this.imageWidth;var p=this.opacity;var g=this.originX;var u=this.originY;var c=this.rotateWithView?1:0;var y=-this.rotation;var d=this.scale;var h=this.width;var f=Math.cos(y);var m=Math.sin(y);var v=this.indices.length;var _=this.vertices.length;var S,x,P,E,T,R;for(S=t;S<o;S+=r){T=e[S]-this.origin[0];R=e[S+1]-this.origin[1];x=_/8;P=-d*i;E=-d*(l-n);this.vertices[_++]=T;this.vertices[_++]=R;this.vertices[_++]=P*f-E*m;this.vertices[_++]=P*m+E*f;this.vertices[_++]=g/s;this.vertices[_++]=(u+l)/a;this.vertices[_++]=p;this.vertices[_++]=c;P=d*(h-i);E=-d*(l-n);this.vertices[_++]=T;this.vertices[_++]=R;this.vertices[_++]=P*f-E*m;this.vertices[_++]=P*m+E*f;this.vertices[_++]=(g+h)/s;this.vertices[_++]=(u+l)/a;this.vertices[_++]=p;this.vertices[_++]=c;P=d*(h-i);E=d*n;this.vertices[_++]=T;this.vertices[_++]=R;this.vertices[_++]=P*f-E*m;this.vertices[_++]=P*m+E*f;this.vertices[_++]=(g+h)/s;this.vertices[_++]=u/a;this.vertices[_++]=p;this.vertices[_++]=c;P=-d*i;E=d*n;this.vertices[_++]=T;this.vertices[_++]=R;this.vertices[_++]=P*f-E*m;this.vertices[_++]=P*m+E*f;this.vertices[_++]=g/s;this.vertices[_++]=u/a;this.vertices[_++]=p;this.vertices[_++]=c;this.indices[v++]=x;this.indices[v++]=x+1;this.indices[v++]=x+2;this.indices[v++]=x;this.indices[v++]=x+2;this.indices[v++]=x+3}return _};ol.render.webgl.TextureReplay.prototype.createTextures=function(e,t,o,r){var i,n,l,a;var s=t.length;for(a=0;a<s;++a){n=t[a];l=ol.getUid(n).toString();if(l in o){i=o[l]}else{i=ol.webgl.Context.createTexture(r,n,ol.webgl.CLAMP_TO_EDGE,ol.webgl.CLAMP_TO_EDGE);o[l]=i}e[a]=i}};ol.render.webgl.TextureReplay.prototype.setUpProgram=function(e,t,o,r){var i=ol.render.webgl.texturereplay.defaultshader.fragment;var n=ol.render.webgl.texturereplay.defaultshader.vertex;var l=t.getProgram(i,n);var a;if(!this.defaultLocations){a=new ol.render.webgl.texturereplay.defaultshader.Locations(e,l);this.defaultLocations=a}else{a=this.defaultLocations}t.useProgram(l);e.enableVertexAttribArray(a.a_position);e.vertexAttribPointer(a.a_position,2,ol.webgl.FLOAT,false,32,0);e.enableVertexAttribArray(a.a_offsets);e.vertexAttribPointer(a.a_offsets,2,ol.webgl.FLOAT,false,32,8);e.enableVertexAttribArray(a.a_texCoord);e.vertexAttribPointer(a.a_texCoord,2,ol.webgl.FLOAT,false,32,16);e.enableVertexAttribArray(a.a_opacity);e.vertexAttribPointer(a.a_opacity,1,ol.webgl.FLOAT,false,32,24);e.enableVertexAttribArray(a.a_rotateWithView);e.vertexAttribPointer(a.a_rotateWithView,1,ol.webgl.FLOAT,false,32,28);return a};ol.render.webgl.TextureReplay.prototype.shutDownProgram=function(e,t){e.disableVertexAttribArray(t.a_position);e.disableVertexAttribArray(t.a_offsets);e.disableVertexAttribArray(t.a_texCoord);e.disableVertexAttribArray(t.a_opacity);e.disableVertexAttribArray(t.a_rotateWithView)};ol.render.webgl.TextureReplay.prototype.drawReplay=function(e,t,o,r){var i=r?this.getHitDetectionTextures():this.getTextures();var n=r?this.hitDetectionGroupIndices:this.groupIndices;if(!ol.obj.isEmpty(o)){this.drawReplaySkipping(e,t,o,i,n)}else{var l,a,s;for(l=0,a=i.length,s=0;l<a;++l){e.bindTexture(ol.webgl.TEXTURE_2D,i[l]);var p=n[l];this.drawElements(e,t,s,p);s=p}}};ol.render.webgl.TextureReplay.prototype.drawReplaySkipping=function(e,t,o,r,i){var n=0;var l,a;for(l=0,a=r.length;l<a;++l){e.bindTexture(ol.webgl.TEXTURE_2D,r[l]);var s=l>0?i[l-1]:0;var p=i[l];var g=s;var u=s;while(n<this.startIndices.length&&this.startIndices[n]<=p){var c=this.startIndicesFeature[n];var y=ol.getUid(c).toString();if(o[y]!==undefined){if(g!==u){this.drawElements(e,t,g,u)}g=n===this.startIndices.length-1?p:this.startIndices[n+1];u=g}else{u=n===this.startIndices.length-1?p:this.startIndices[n+1]}n++}if(g!==u){this.drawElements(e,t,g,u)}}};ol.render.webgl.TextureReplay.prototype.drawHitDetectionReplayOneByOne=function(e,t,o,r,i){var n,l,a,s,p,g;var u=this.startIndices.length-1;var c=this.getHitDetectionTextures();for(n=c.length-1;n>=0;--n){e.bindTexture(ol.webgl.TEXTURE_2D,c[n]);l=n>0?this.hitDetectionGroupIndices[n-1]:0;s=this.hitDetectionGroupIndices[n];while(u>=0&&this.startIndices[u]>=l){a=this.startIndices[u];p=this.startIndicesFeature[u];g=ol.getUid(p).toString();if(o[g]===undefined&&p.getGeometry()&&(i===undefined||ol.extent.intersects(i,p.getGeometry().getExtent()))){e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT);this.drawElements(e,t,a,s);var y=r(p);if(y){return y}}s=a;u--}}return undefined};ol.render.webgl.TextureReplay.prototype.finish=function(e){this.anchorX=undefined;this.anchorY=undefined;this.height=undefined;this.imageHeight=undefined;this.imageWidth=undefined;this.indices=null;this.opacity=undefined;this.originX=undefined;this.originY=undefined;this.rotateWithView=undefined;this.rotation=undefined;this.scale=undefined;this.vertices=null;this.width=undefined};ol.render.webgl.TextureReplay.prototype.getTextures=function(e){};ol.render.webgl.TextureReplay.prototype.getHitDetectionTextures=function(){};goog.provide("ol.render.webgl.ImageReplay");goog.require("ol");goog.require("ol.render.webgl.TextureReplay");goog.require("ol.webgl.Buffer");ol.render.webgl.ImageReplay=function(e,t){ol.render.webgl.TextureReplay.call(this,e,t);this.images_=[];this.hitDetectionImages_=[];this.textures_=[];this.hitDetectionTextures_=[]};ol.inherits(ol.render.webgl.ImageReplay,ol.render.webgl.TextureReplay);ol.render.webgl.ImageReplay.prototype.drawMultiPoint=function(e,t){this.startIndices.push(this.indices.length);this.startIndicesFeature.push(t);var o=e.getFlatCoordinates();var r=e.getStride();this.drawCoordinates(o,0,o.length,r)};ol.render.webgl.ImageReplay.prototype.drawPoint=function(e,t){this.startIndices.push(this.indices.length);this.startIndicesFeature.push(t);var o=e.getFlatCoordinates();var r=e.getStride();this.drawCoordinates(o,0,o.length,r)};ol.render.webgl.ImageReplay.prototype.finish=function(e){var t=e.getGL();this.groupIndices.push(this.indices.length);this.hitDetectionGroupIndices.push(this.indices.length);this.verticesBuffer=new ol.webgl.Buffer(this.vertices);var o=this.indices;this.indicesBuffer=new ol.webgl.Buffer(o);var r={};this.createTextures(this.textures_,this.images_,r,t);this.createTextures(this.hitDetectionTextures_,this.hitDetectionImages_,r,t);this.images_=null;this.hitDetectionImages_=null;ol.render.webgl.TextureReplay.prototype.finish.call(this,e)};ol.render.webgl.ImageReplay.prototype.setImageStyle=function(e){var t=e.getAnchor();var o=e.getImage(1);var r=e.getImageSize();var i=e.getHitDetectionImage(1);var n=e.getOpacity();var l=e.getOrigin();var a=e.getRotateWithView();var s=e.getRotation();var p=e.getSize();var g=e.getScale();var u;if(this.images_.length===0){this.images_.push(o)}else{u=this.images_[this.images_.length-1];if(ol.getUid(u)!=ol.getUid(o)){this.groupIndices.push(this.indices.length);this.images_.push(o)}}if(this.hitDetectionImages_.length===0){this.hitDetectionImages_.push(i)}else{u=this.hitDetectionImages_[this.hitDetectionImages_.length-1];if(ol.getUid(u)!=ol.getUid(i)){this.hitDetectionGroupIndices.push(this.indices.length);this.hitDetectionImages_.push(i)}}this.anchorX=t[0];this.anchorY=t[1];this.height=p[1];this.imageHeight=r[1];this.imageWidth=r[0];this.opacity=n;this.originX=l[0];this.originY=l[1];this.rotation=s;this.rotateWithView=a;this.scale=g;this.width=p[0]};ol.render.webgl.ImageReplay.prototype.getTextures=function(e){return e?this.textures_.concat(this.hitDetectionTextures_):this.textures_};ol.render.webgl.ImageReplay.prototype.getHitDetectionTextures=function(){return this.hitDetectionTextures_};goog.provide("ol.render.webgl.linestringreplay.defaultshader");goog.require("ol");goog.require("ol.webgl.Fragment");goog.require("ol.webgl.Vertex");ol.render.webgl.linestringreplay.defaultshader.fragment=new ol.webgl.Fragment(ol.DEBUG_WEBGL?"precision mediump float;\nvarying float v_round;\nvarying vec2 v_roundVertex;\nvarying float v_halfWidth;\n\n\n\nuniform float u_opacity;\nuniform vec4 u_color;\nuniform vec2 u_size;\nuniform float u_pixelRatio;\n\nvoid main(void) {\n  if (v_round > 0.0) {\n    vec2 windowCoords = vec2((v_roundVertex.x + 1.0) / 2.0 * u_size.x * u_pixelRatio,\n        (v_roundVertex.y + 1.0) / 2.0 * u_size.y * u_pixelRatio);\n    if (length(windowCoords - gl_FragCoord.xy) > v_halfWidth * u_pixelRatio) {\n      discard;\n    }\n  }\n  gl_FragColor = u_color;\n  float alpha = u_color.a * u_opacity;\n  if (alpha == 0.0) {\n    discard;\n  }\n  gl_FragColor.a = alpha;\n}\n":"precision mediump float;varying float a;varying vec2 aVertex;varying float c;uniform float m;uniform vec4 n;uniform vec2 o;uniform float p;void main(void){if(a>0.0){vec2 windowCoords=vec2((aVertex.x+1.0)/2.0*o.x*p,(aVertex.y+1.0)/2.0*o.y*p);if(length(windowCoords-gl_FragCoord.xy)>c*p){discard;}} gl_FragColor=n;float alpha=n.a*m;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}");ol.render.webgl.linestringreplay.defaultshader.vertex=new ol.webgl.Vertex(ol.DEBUG_WEBGL?"varying float v_round;\nvarying vec2 v_roundVertex;\nvarying float v_halfWidth;\n\n\nattribute vec2 a_lastPos;\nattribute vec2 a_position;\nattribute vec2 a_nextPos;\nattribute float a_direction;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\nuniform float u_lineWidth;\nuniform float u_miterLimit;\n\nbool nearlyEquals(in float value, in float ref) {\n  float epsilon = 0.000000000001;\n  return value >= ref - epsilon && value <= ref + epsilon;\n}\n\nvoid alongNormal(out vec2 offset, in vec2 nextP, in float turnDir, in float direction) {\n  vec2 dirVect = nextP - a_position;\n  vec2 normal = normalize(vec2(-turnDir * dirVect.y, turnDir * dirVect.x));\n  offset = u_lineWidth / 2.0 * normal * direction;\n}\n\nvoid miterUp(out vec2 offset, out float round, in bool isRound, in float direction) {\n  float halfWidth = u_lineWidth / 2.0;\n  vec2 tangent = normalize(normalize(a_nextPos - a_position) + normalize(a_position - a_lastPos));\n  vec2 normal = vec2(-tangent.y, tangent.x);\n  vec2 dirVect = a_nextPos - a_position;\n  vec2 tmpNormal = normalize(vec2(-dirVect.y, dirVect.x));\n  float miterLength = abs(halfWidth / dot(normal, tmpNormal));\n  offset = normal * direction * miterLength;\n  round = 0.0;\n  if (isRound) {\n    round = 1.0;\n  } else if (miterLength > u_miterLimit + u_lineWidth) {\n    offset = halfWidth * tmpNormal * direction;\n  }\n}\n\nbool miterDown(out vec2 offset, in vec4 projPos, in mat4 offsetMatrix, in float direction) {\n  bool degenerate = false;\n  vec2 tangent = normalize(normalize(a_nextPos - a_position) + normalize(a_position - a_lastPos));\n  vec2 normal = vec2(-tangent.y, tangent.x);\n  vec2 dirVect = a_lastPos - a_position;\n  vec2 tmpNormal = normalize(vec2(-dirVect.y, dirVect.x));\n  vec2 longOffset, shortOffset, longVertex;\n  vec4 shortProjVertex;\n  float halfWidth = u_lineWidth / 2.0;\n  if (length(a_nextPos - a_position) > length(a_lastPos - a_position)) {\n    longOffset = tmpNormal * direction * halfWidth;\n    shortOffset = normalize(vec2(dirVect.y, -dirVect.x)) * direction * halfWidth;\n    longVertex = a_nextPos;\n    shortProjVertex = u_projectionMatrix * vec4(a_lastPos, 0.0, 1.0);\n  } else {\n    shortOffset = tmpNormal * direction * halfWidth;\n    longOffset = normalize(vec2(dirVect.y, -dirVect.x)) * direction * halfWidth;\n    longVertex = a_lastPos;\n    shortProjVertex = u_projectionMatrix * vec4(a_nextPos, 0.0, 1.0);\n  }\n  //Intersection algorithm based on theory by Paul Bourke (http://paulbourke.net/geometry/pointlineplane/).\n  vec4 p1 = u_projectionMatrix * vec4(longVertex, 0.0, 1.0) + offsetMatrix * vec4(longOffset, 0.0, 0.0);\n  vec4 p2 = projPos + offsetMatrix * vec4(longOffset, 0.0, 0.0);\n  vec4 p3 = shortProjVertex + offsetMatrix * vec4(-shortOffset, 0.0, 0.0);\n  vec4 p4 = shortProjVertex + offsetMatrix * vec4(shortOffset, 0.0, 0.0);\n  float denom = (p4.y - p3.y) * (p2.x - p1.x) - (p4.x - p3.x) * (p2.y - p1.y);\n  float firstU = ((p4.x - p3.x) * (p1.y - p3.y) - (p4.y - p3.y) * (p1.x - p3.x)) / denom;\n  float secondU = ((p2.x - p1.x) * (p1.y - p3.y) - (p2.y - p1.y) * (p1.x - p3.x)) / denom;\n  float epsilon = 0.000000000001;\n  if (firstU > epsilon && firstU < 1.0 - epsilon && secondU > epsilon && secondU < 1.0 - epsilon) {\n    shortProjVertex.x = p1.x + firstU * (p2.x - p1.x);\n    shortProjVertex.y = p1.y + firstU * (p2.y - p1.y);\n    offset = shortProjVertex.xy;\n    degenerate = true;\n  } else {\n    float miterLength = abs(halfWidth / dot(normal, tmpNormal));\n    offset = normal * direction * miterLength;\n  }\n  return degenerate;\n}\n\nvoid squareCap(out vec2 offset, out float round, in bool isRound, in vec2 nextP,\n    in float turnDir, in float direction) {\n  round = 0.0;\n  vec2 dirVect = a_position - nextP;\n  vec2 firstNormal = normalize(dirVect);\n  vec2 secondNormal = vec2(turnDir * firstNormal.y * direction, -turnDir * firstNormal.x * direction);\n  vec2 hypotenuse = normalize(firstNormal - secondNormal);\n  vec2 normal = vec2(turnDir * hypotenuse.y * direction, -turnDir * hypotenuse.x * direction);\n  float length = sqrt(v_halfWidth * v_halfWidth * 2.0);\n  offset = normal * length;\n  if (isRound) {\n    round = 1.0;\n  }\n}\n\nvoid main(void) {\n  bool degenerate = false;\n  float direction = float(sign(a_direction));\n  mat4 offsetMatrix = u_offsetScaleMatrix * u_offsetRotateMatrix;\n  vec2 offset;\n  vec4 projPos = u_projectionMatrix * vec4(a_position, 0.0, 1.0);\n  bool round = nearlyEquals(mod(a_direction, 2.0), 0.0);\n\n  v_round = 0.0;\n  v_halfWidth = u_lineWidth / 2.0;\n  v_roundVertex = projPos.xy;\n\n  if (nearlyEquals(mod(a_direction, 3.0), 0.0) || nearlyEquals(mod(a_direction, 17.0), 0.0)) {\n    alongNormal(offset, a_nextPos, 1.0, direction);\n  } else if (nearlyEquals(mod(a_direction, 5.0), 0.0) || nearlyEquals(mod(a_direction, 13.0), 0.0)) {\n    alongNormal(offset, a_lastPos, -1.0, direction);\n  } else if (nearlyEquals(mod(a_direction, 23.0), 0.0)) {\n    miterUp(offset, v_round, round, direction);\n  } else if (nearlyEquals(mod(a_direction, 19.0), 0.0)) {\n    degenerate = miterDown(offset, projPos, offsetMatrix, direction);\n  } else if (nearlyEquals(mod(a_direction, 7.0), 0.0)) {\n    squareCap(offset, v_round, round, a_nextPos, 1.0, direction);\n  } else if (nearlyEquals(mod(a_direction, 11.0), 0.0)) {\n    squareCap(offset, v_round, round, a_lastPos, -1.0, direction);\n  }\n  if (!degenerate) {\n    vec4 offsets = offsetMatrix * vec4(offset, 0.0, 0.0);\n    gl_Position = projPos + offsets;\n  } else {\n    gl_Position = vec4(offset, 0.0, 1.0);\n  }\n}\n\n\n":"varying float a;varying vec2 aVertex;varying float c;attribute vec2 d;attribute vec2 e;attribute vec2 f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;uniform float k;uniform float l;bool nearlyEquals(in float value,in float ref){float epsilon=0.000000000001;return value>=ref-epsilon&&value<=ref+epsilon;}void alongNormal(out vec2 offset,in vec2 nextP,in float turnDir,in float direction){vec2 dirVect=nextP-e;vec2 normal=normalize(vec2(-turnDir*dirVect.y,turnDir*dirVect.x));offset=k/2.0*normal*direction;}void miterUp(out vec2 offset,out float round,in bool isRound,in float direction){float halfWidth=k/2.0;vec2 tangent=normalize(normalize(f-e)+normalize(e-d));vec2 normal=vec2(-tangent.y,tangent.x);vec2 dirVect=f-e;vec2 tmpNormal=normalize(vec2(-dirVect.y,dirVect.x));float miterLength=abs(halfWidth/dot(normal,tmpNormal));offset=normal*direction*miterLength;round=0.0;if(isRound){round=1.0;}else if(miterLength>l+k){offset=halfWidth*tmpNormal*direction;}} bool miterDown(out vec2 offset,in vec4 projPos,in mat4 offsetMatrix,in float direction){bool degenerate=false;vec2 tangent=normalize(normalize(f-e)+normalize(e-d));vec2 normal=vec2(-tangent.y,tangent.x);vec2 dirVect=d-e;vec2 tmpNormal=normalize(vec2(-dirVect.y,dirVect.x));vec2 longOffset,shortOffset,longVertex;vec4 shortProjVertex;float halfWidth=k/2.0;if(length(f-e)>length(d-e)){longOffset=tmpNormal*direction*halfWidth;shortOffset=normalize(vec2(dirVect.y,-dirVect.x))*direction*halfWidth;longVertex=f;shortProjVertex=h*vec4(d,0.0,1.0);}else{shortOffset=tmpNormal*direction*halfWidth;longOffset=normalize(vec2(dirVect.y,-dirVect.x))*direction*halfWidth;longVertex=d;shortProjVertex=h*vec4(f,0.0,1.0);}vec4 p1=h*vec4(longVertex,0.0,1.0)+offsetMatrix*vec4(longOffset,0.0,0.0);vec4 p2=projPos+offsetMatrix*vec4(longOffset,0.0,0.0);vec4 p3=shortProjVertex+offsetMatrix*vec4(-shortOffset,0.0,0.0);vec4 p4=shortProjVertex+offsetMatrix*vec4(shortOffset,0.0,0.0);float denom=(p4.y-p3.y)*(p2.x-p1.x)-(p4.x-p3.x)*(p2.y-p1.y);float firstU=((p4.x-p3.x)*(p1.y-p3.y)-(p4.y-p3.y)*(p1.x-p3.x))/denom;float secondU=((p2.x-p1.x)*(p1.y-p3.y)-(p2.y-p1.y)*(p1.x-p3.x))/denom;float epsilon=0.000000000001;if(firstU>epsilon&&firstU<1.0-epsilon&&secondU>epsilon&&secondU<1.0-epsilon){shortProjVertex.x=p1.x+firstU*(p2.x-p1.x);shortProjVertex.y=p1.y+firstU*(p2.y-p1.y);offset=shortProjVertex.xy;degenerate=true;}else{float miterLength=abs(halfWidth/dot(normal,tmpNormal));offset=normal*direction*miterLength;}return degenerate;}void squareCap(out vec2 offset,out float round,in bool isRound,in vec2 nextP,in float turnDir,in float direction){round=0.0;vec2 dirVect=e-nextP;vec2 firstNormal=normalize(dirVect);vec2 secondNormal=vec2(turnDir*firstNormal.y*direction,-turnDir*firstNormal.x*direction);vec2 hypotenuse=normalize(firstNormal-secondNormal);vec2 normal=vec2(turnDir*hypotenuse.y*direction,-turnDir*hypotenuse.x*direction);float length=sqrt(c*c*2.0);offset=normal*length;if(isRound){round=1.0;}} void main(void){bool degenerate=false;float direction=float(sign(g));mat4 offsetMatrix=i*j;vec2 offset;vec4 projPos=h*vec4(e,0.0,1.0);bool round=nearlyEquals(mod(g,2.0),0.0);a=0.0;c=k/2.0;aVertex=projPos.xy;if(nearlyEquals(mod(g,3.0),0.0)||nearlyEquals(mod(g,17.0),0.0)){alongNormal(offset,f,1.0,direction);}else if(nearlyEquals(mod(g,5.0),0.0)||nearlyEquals(mod(g,13.0),0.0)){alongNormal(offset,d,-1.0,direction);}else if(nearlyEquals(mod(g,23.0),0.0)){miterUp(offset,a,round,direction);}else if(nearlyEquals(mod(g,19.0),0.0)){degenerate=miterDown(offset,projPos,offsetMatrix,direction);}else if(nearlyEquals(mod(g,7.0),0.0)){squareCap(offset,a,round,f,1.0,direction);}else if(nearlyEquals(mod(g,11.0),0.0)){squareCap(offset,a,round,d,-1.0,direction);}if(!degenerate){vec4 offsets=offsetMatrix*vec4(offset,0.0,0.0);gl_Position=projPos+offsets;}else{gl_Position=vec4(offset,0.0,1.0);}}");goog.provide("ol.render.webgl.linestringreplay.defaultshader.Locations");goog.require("ol");ol.render.webgl.linestringreplay.defaultshader.Locations=function(e,t){this.u_projectionMatrix=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_projectionMatrix":"h");this.u_offsetScaleMatrix=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_offsetScaleMatrix":"i");this.u_offsetRotateMatrix=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_offsetRotateMatrix":"j");this.u_lineWidth=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_lineWidth":"k");this.u_miterLimit=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_miterLimit":"l");this.u_opacity=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_opacity":"m");this.u_color=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_color":"n");this.u_size=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_size":"o");this.u_pixelRatio=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_pixelRatio":"p");this.a_lastPos=e.getAttribLocation(t,ol.DEBUG_WEBGL?"a_lastPos":"d");this.a_position=e.getAttribLocation(t,ol.DEBUG_WEBGL?"a_position":"e");this.a_nextPos=e.getAttribLocation(t,ol.DEBUG_WEBGL?"a_nextPos":"f");this.a_direction=e.getAttribLocation(t,ol.DEBUG_WEBGL?"a_direction":"g")};goog.provide("ol.render.webgl.LineStringReplay");goog.require("ol");goog.require("ol.array");goog.require("ol.color");goog.require("ol.extent");goog.require("ol.geom.flat.orient");goog.require("ol.geom.flat.transform");goog.require("ol.geom.flat.topology");goog.require("ol.obj");goog.require("ol.render.webgl");goog.require("ol.render.webgl.Replay");goog.require("ol.render.webgl.linestringreplay.defaultshader");goog.require("ol.render.webgl.linestringreplay.defaultshader.Locations");goog.require("ol.webgl");goog.require("ol.webgl.Buffer");ol.render.webgl.LineStringReplay=function(e,t){ol.render.webgl.Replay.call(this,e,t);this.defaultLocations_=null;this.styles_=[];this.styleIndices_=[];this.state_={strokeColor:null,lineCap:undefined,lineDash:null,lineDashOffset:undefined,lineJoin:undefined,lineWidth:undefined,miterLimit:undefined,changed:false}};ol.inherits(ol.render.webgl.LineStringReplay,ol.render.webgl.Replay);ol.render.webgl.LineStringReplay.prototype.drawCoordinates_=function(e,t,o,r){var i,n;var l=this.vertices.length;var a=this.indices.length;var s=this.state_.lineJoin==="bevel"?0:this.state_.lineJoin==="miter"?1:2;var p=this.state_.lineCap==="butt"?0:this.state_.lineCap==="square"?1:2;var g=ol.geom.flat.topology.lineStringIsClosed(e,t,o,r);var u,c,y;var d=a;var h=1;var f,m,v;for(i=t,n=o;i<n;i+=r){y=l/7;f=m;m=v||[e[i],e[i+1]];if(i===t){v=[e[i+r],e[i+r+1]];if(o-t===r*2&&ol.array.equals(m,v)){break}if(g){f=[e[o-r*2],e[o-r*2+1]];u=v}else{if(p){l=this.addVertices_([0,0],m,v,h*ol.render.webgl.LineStringReplay.Instruction_.BEGIN_LINE_CAP*p,l);l=this.addVertices_([0,0],m,v,-h*ol.render.webgl.LineStringReplay.Instruction_.BEGIN_LINE_CAP*p,l);this.indices[a++]=y+2;this.indices[a++]=y;this.indices[a++]=y+1;this.indices[a++]=y+1;this.indices[a++]=y+3;this.indices[a++]=y+2}l=this.addVertices_([0,0],m,v,h*ol.render.webgl.LineStringReplay.Instruction_.BEGIN_LINE*(p||1),l);l=this.addVertices_([0,0],m,v,-h*ol.render.webgl.LineStringReplay.Instruction_.BEGIN_LINE*(p||1),l);d=l/7-1;continue}}else if(i===o-r){if(g){v=u;break}else{f=f||[0,0];l=this.addVertices_(f,m,[0,0],h*ol.render.webgl.LineStringReplay.Instruction_.END_LINE*(p||1),l);l=this.addVertices_(f,m,[0,0],-h*ol.render.webgl.LineStringReplay.Instruction_.END_LINE*(p||1),l);this.indices[a++]=y;this.indices[a++]=d-1;this.indices[a++]=d;this.indices[a++]=d;this.indices[a++]=y+1;this.indices[a++]=y;if(p){l=this.addVertices_(f,m,[0,0],h*ol.render.webgl.LineStringReplay.Instruction_.END_LINE_CAP*p,l);l=this.addVertices_(f,m,[0,0],-h*ol.render.webgl.LineStringReplay.Instruction_.END_LINE_CAP*p,l);this.indices[a++]=y+2;this.indices[a++]=y;this.indices[a++]=y+1;this.indices[a++]=y+1;this.indices[a++]=y+3;this.indices[a++]=y+2}break}}else{v=[e[i+r],e[i+r+1]]}c=ol.render.webgl.triangleIsCounterClockwise(f[0],f[1],m[0],m[1],v[0],v[1])?-1:1;l=this.addVertices_(f,m,v,c*ol.render.webgl.LineStringReplay.Instruction_.BEVEL_FIRST*(s||1),l);l=this.addVertices_(f,m,v,c*ol.render.webgl.LineStringReplay.Instruction_.BEVEL_SECOND*(s||1),l);l=this.addVertices_(f,m,v,-c*ol.render.webgl.LineStringReplay.Instruction_.MITER_BOTTOM*(s||1),l);if(i>t){this.indices[a++]=y;this.indices[a++]=d-1;this.indices[a++]=d;this.indices[a++]=y+2;this.indices[a++]=y;this.indices[a++]=h*c>0?d:d-1}this.indices[a++]=y;this.indices[a++]=y+2;this.indices[a++]=y+1;d=y+2;h=c;if(s){l=this.addVertices_(f,m,v,c*ol.render.webgl.LineStringReplay.Instruction_.MITER_TOP*s,l);this.indices[a++]=y+1;this.indices[a++]=y+3;this.indices[a++]=y}}if(g){y=y||l/7;c=ol.geom.flat.orient.linearRingIsClockwise([f[0],f[1],m[0],m[1],v[0],v[1]],0,6,2)?1:-1;l=this.addVertices_(f,m,v,c*ol.render.webgl.LineStringReplay.Instruction_.BEVEL_FIRST*(s||1),l);l=this.addVertices_(f,m,v,-c*ol.render.webgl.LineStringReplay.Instruction_.MITER_BOTTOM*(s||1),l);this.indices[a++]=y;this.indices[a++]=d-1;this.indices[a++]=d;this.indices[a++]=y+1;this.indices[a++]=y;this.indices[a++]=h*c>0?d:d-1}};ol.render.webgl.LineStringReplay.prototype.addVertices_=function(e,t,o,r,i){this.vertices[i++]=e[0];this.vertices[i++]=e[1];this.vertices[i++]=t[0];this.vertices[i++]=t[1];this.vertices[i++]=o[0];this.vertices[i++]=o[1];this.vertices[i++]=r;return i};ol.render.webgl.LineStringReplay.prototype.isValid_=function(e,t,o,r){var i=o-t;if(i<r*2){return false}else if(i===r*2){var n=[e[t],e[t+1]];var l=[e[t+r],e[t+r+1]];return!ol.array.equals(n,l)}return true};ol.render.webgl.LineStringReplay.prototype.drawLineString=function(e,t){var o=e.getFlatCoordinates();var r=e.getStride();if(this.isValid_(o,0,o.length,r)){o=ol.geom.flat.transform.translate(o,0,o.length,r,-this.origin[0],-this.origin[1]);if(this.state_.changed){this.styleIndices_.push(this.indices.length);this.state_.changed=false}this.startIndices.push(this.indices.length);this.startIndicesFeature.push(t);this.drawCoordinates_(o,0,o.length,r)}};ol.render.webgl.LineStringReplay.prototype.drawMultiLineString=function(e,t){var o=this.indices.length;var r=e.getEnds();r.unshift(0);var i=e.getFlatCoordinates();var n=e.getStride();var l,a;if(r.length>1){for(l=1,a=r.length;l<a;++l){if(this.isValid_(i,r[l-1],r[l],n)){var s=ol.geom.flat.transform.translate(i,r[l-1],r[l],n,-this.origin[0],-this.origin[1]);this.drawCoordinates_(s,0,s.length,n)}}}if(this.indices.length>o){this.startIndices.push(o);this.startIndicesFeature.push(t);if(this.state_.changed){this.styleIndices_.push(o);this.state_.changed=false}}};ol.render.webgl.LineStringReplay.prototype.drawPolygonCoordinates=function(e,t,o){if(!ol.geom.flat.topology.lineStringIsClosed(e,0,e.length,o)){e.push(e[0]);e.push(e[1])}this.drawCoordinates_(e,0,e.length,o);if(t.length){var r,i;for(r=0,i=t.length;r<i;++r){if(!ol.geom.flat.topology.lineStringIsClosed(t[r],0,t[r].length,o)){t[r].push(t[r][0]);t[r].push(t[r][1])}this.drawCoordinates_(t[r],0,t[r].length,o)}}};ol.render.webgl.LineStringReplay.prototype.setPolygonStyle=function(e,t){var o=t===undefined?this.indices.length:t;this.startIndices.push(o);this.startIndicesFeature.push(e);if(this.state_.changed){this.styleIndices_.push(o);this.state_.changed=false}};ol.render.webgl.LineStringReplay.prototype.getCurrentIndex=function(){return this.indices.length};ol.render.webgl.LineStringReplay.prototype.finish=function(e){this.verticesBuffer=new ol.webgl.Buffer(this.vertices);this.indicesBuffer=new ol.webgl.Buffer(this.indices);this.startIndices.push(this.indices.length);if(this.styleIndices_.length===0&&this.styles_.length>0){this.styles_=[]}this.vertices=null;this.indices=null};ol.render.webgl.LineStringReplay.prototype.getDeleteResourcesFunction=function(e){var t=this.verticesBuffer;var o=this.indicesBuffer;return function(){e.deleteBuffer(t);e.deleteBuffer(o)}};ol.render.webgl.LineStringReplay.prototype.setUpProgram=function(e,t,o,r){var i,n;i=ol.render.webgl.linestringreplay.defaultshader.fragment;n=ol.render.webgl.linestringreplay.defaultshader.vertex;var l=t.getProgram(i,n);var a;if(!this.defaultLocations_){a=new ol.render.webgl.linestringreplay.defaultshader.Locations(e,l);this.defaultLocations_=a}else{a=this.defaultLocations_}t.useProgram(l);e.enableVertexAttribArray(a.a_lastPos);e.vertexAttribPointer(a.a_lastPos,2,ol.webgl.FLOAT,false,28,0);e.enableVertexAttribArray(a.a_position);e.vertexAttribPointer(a.a_position,2,ol.webgl.FLOAT,false,28,8);e.enableVertexAttribArray(a.a_nextPos);e.vertexAttribPointer(a.a_nextPos,2,ol.webgl.FLOAT,false,28,16);e.enableVertexAttribArray(a.a_direction);e.vertexAttribPointer(a.a_direction,1,ol.webgl.FLOAT,false,28,24);e.uniform2fv(a.u_size,o);e.uniform1f(a.u_pixelRatio,r);return a};ol.render.webgl.LineStringReplay.prototype.shutDownProgram=function(e,t){e.disableVertexAttribArray(t.a_lastPos);e.disableVertexAttribArray(t.a_position);e.disableVertexAttribArray(t.a_nextPos);e.disableVertexAttribArray(t.a_direction)};ol.render.webgl.LineStringReplay.prototype.drawReplay=function(e,t,o,r){var i=e.getParameter(e.DEPTH_FUNC);var n=e.getParameter(e.DEPTH_WRITEMASK);if(!r){e.enable(e.DEPTH_TEST);e.depthMask(true);e.depthFunc(e.NOTEQUAL)}if(!ol.obj.isEmpty(o)){this.drawReplaySkipping_(e,t,o)}else{var l,a,s,p;s=this.startIndices[this.startIndices.length-1];for(l=this.styleIndices_.length-1;l>=0;--l){a=this.styleIndices_[l];p=this.styles_[l];this.setStrokeStyle_(e,p[0],p[1],p[2]);this.drawElements(e,t,a,s);e.clear(e.DEPTH_BUFFER_BIT);s=a}}if(!r){e.disable(e.DEPTH_TEST);e.clear(e.DEPTH_BUFFER_BIT);e.depthMask(n);e.depthFunc(i)}};ol.render.webgl.LineStringReplay.prototype.drawReplaySkipping_=function(e,t,o){var r,i,n,l,a,s,p,g,u;g=this.startIndices.length-2;n=i=this.startIndices[g+1];for(r=this.styleIndices_.length-1;r>=0;--r){l=this.styles_[r];this.setStrokeStyle_(e,l[0],l[1],l[2]);a=this.styleIndices_[r];while(g>=0&&this.startIndices[g]>=a){u=this.startIndices[g];s=this.startIndicesFeature[g];p=ol.getUid(s).toString();if(o[p]){if(i!==n){this.drawElements(e,t,i,n);e.clear(e.DEPTH_BUFFER_BIT)}n=u}g--;i=u}if(i!==n){this.drawElements(e,t,i,n);e.clear(e.DEPTH_BUFFER_BIT)}i=n=a}};ol.render.webgl.LineStringReplay.prototype.drawHitDetectionReplayOneByOne=function(e,t,o,r,i){var n,l,a,s,p,g,u,c;c=this.startIndices.length-2;a=this.startIndices[c+1];for(n=this.styleIndices_.length-1;n>=0;--n){s=this.styles_[n];this.setStrokeStyle_(e,s[0],s[1],s[2]);p=this.styleIndices_[n];while(c>=0&&this.startIndices[c]>=p){l=this.startIndices[c];g=this.startIndicesFeature[c];u=ol.getUid(g).toString();if(o[u]===undefined&&g.getGeometry()&&(i===undefined||ol.extent.intersects(i,g.getGeometry().getExtent()))){e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT);this.drawElements(e,t,l,a);var y=r(g);if(y){return y}}c--;a=l}}return undefined};ol.render.webgl.LineStringReplay.prototype.setStrokeStyle_=function(e,t,o,r){e.uniform4fv(this.defaultLocations_.u_color,t);e.uniform1f(this.defaultLocations_.u_lineWidth,o);e.uniform1f(this.defaultLocations_.u_miterLimit,r)};ol.render.webgl.LineStringReplay.prototype.setFillStrokeStyle=function(e,t){var o=t.getLineCap();this.state_.lineCap=o!==undefined?o:ol.render.webgl.defaultLineCap;var r=t.getLineDash();this.state_.lineDash=r?r:ol.render.webgl.defaultLineDash;var i=t.getLineDashOffset();this.state_.lineDashOffset=i?i:ol.render.webgl.defaultLineDashOffset;var n=t.getLineJoin();this.state_.lineJoin=n!==undefined?n:ol.render.webgl.defaultLineJoin;var l=t.getColor();if(!(l instanceof CanvasGradient)&&!(l instanceof CanvasPattern)){l=ol.color.asArray(l).map(function(e,t){return t!=3?e/255:e})||ol.render.webgl.defaultStrokeStyle}else{l=ol.render.webgl.defaultStrokeStyle}var a=t.getWidth();a=a!==undefined?a:ol.render.webgl.defaultLineWidth;var s=t.getMiterLimit();s=s!==undefined?s:ol.render.webgl.defaultMiterLimit;if(!this.state_.strokeColor||!ol.array.equals(this.state_.strokeColor,l)||this.state_.lineWidth!==a||this.state_.miterLimit!==s){this.state_.changed=true;this.state_.strokeColor=l;this.state_.lineWidth=a;this.state_.miterLimit=s;this.styles_.push([l,a,s])}};ol.render.webgl.LineStringReplay.Instruction_={ROUND:2,BEGIN_LINE:3,END_LINE:5,BEGIN_LINE_CAP:7,END_LINE_CAP:11,BEVEL_FIRST:13,BEVEL_SECOND:17,MITER_BOTTOM:19,MITER_TOP:23};goog.provide("ol.render.webgl.polygonreplay.defaultshader");goog.require("ol");goog.require("ol.webgl.Fragment");goog.require("ol.webgl.Vertex");ol.render.webgl.polygonreplay.defaultshader.fragment=new ol.webgl.Fragment(ol.DEBUG_WEBGL?"precision mediump float;\n\n\n\nuniform vec4 u_color;\nuniform float u_opacity;\n\nvoid main(void) {\n  gl_FragColor = u_color;\n  float alpha = u_color.a * u_opacity;\n  if (alpha == 0.0) {\n    discard;\n  }\n  gl_FragColor.a = alpha;\n}\n":"precision mediump float;uniform vec4 e;uniform float f;void main(void){gl_FragColor=e;float alpha=e.a*f;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}");ol.render.webgl.polygonreplay.defaultshader.vertex=new ol.webgl.Vertex(ol.DEBUG_WEBGL?"\n\nattribute vec2 a_position;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\n\nvoid main(void) {\n  gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0);\n}\n\n\n":"attribute vec2 a;uniform mat4 b;uniform mat4 c;uniform mat4 d;void main(void){gl_Position=b*vec4(a,0.0,1.0);}");goog.provide("ol.render.webgl.polygonreplay.defaultshader.Locations");goog.require("ol");ol.render.webgl.polygonreplay.defaultshader.Locations=function(e,t){this.u_projectionMatrix=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_projectionMatrix":"b");this.u_offsetScaleMatrix=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_offsetScaleMatrix":"c");this.u_offsetRotateMatrix=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_offsetRotateMatrix":"d");this.u_color=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_color":"e");this.u_opacity=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_opacity":"f");this.a_position=e.getAttribLocation(t,ol.DEBUG_WEBGL?"a_position":"a")};goog.provide("ol.structs.LinkedList");ol.structs.LinkedList=function(e){this.first_=undefined;this.last_=undefined;this.head_=undefined;this.circular_=e===undefined?true:e;this.length_=0};ol.structs.LinkedList.prototype.insertItem=function(e){var t={prev:undefined,next:undefined,data:e};var o=this.head_;if(!o){this.first_=t;this.last_=t;if(this.circular_){t.next=t;t.prev=t}}else{var r=o.next;t.prev=o;t.next=r;o.next=t;if(r){r.prev=t}if(o===this.last_){this.last_=t}}this.head_=t;this.length_++};ol.structs.LinkedList.prototype.removeItem=function(){var e=this.head_;if(e){var t=e.next;var o=e.prev;if(t){t.prev=o}if(o){o.next=t}this.head_=t||o;if(this.first_===this.last_){this.head_=undefined;this.first_=undefined;this.last_=undefined}else if(this.first_===e){this.first_=this.head_}else if(this.last_===e){this.last_=o?this.head_.prev:this.head_}this.length_--}};ol.structs.LinkedList.prototype.firstItem=function(){this.head_=this.first_;if(this.head_){return this.head_.data}return undefined};ol.structs.LinkedList.prototype.lastItem=function(){this.head_=this.last_;if(this.head_){return this.head_.data}return undefined};ol.structs.LinkedList.prototype.nextItem=function(){if(this.head_&&this.head_.next){this.head_=this.head_.next;return this.head_.data}return undefined};ol.structs.LinkedList.prototype.getNextItem=function(){if(this.head_&&this.head_.next){return this.head_.next.data}return undefined};ol.structs.LinkedList.prototype.prevItem=function(){if(this.head_&&this.head_.prev){this.head_=this.head_.prev;return this.head_.data}return undefined};ol.structs.LinkedList.prototype.getPrevItem=function(){if(this.head_&&this.head_.prev){return this.head_.prev.data}return undefined};ol.structs.LinkedList.prototype.getCurrItem=function(){if(this.head_){return this.head_.data}return undefined};ol.structs.LinkedList.prototype.setFirstItem=function(){if(this.circular_&&this.head_){this.first_=this.head_;this.last_=this.head_.prev}};ol.structs.LinkedList.prototype.concat=function(e){if(e.head_){if(this.head_){var t=this.head_.next;this.head_.next=e.first_;e.first_.prev=this.head_;t.prev=e.last_;e.last_.next=t;this.length_+=e.length_}else{this.head_=e.head_;this.first_=e.first_;this.last_=e.last_;this.length_=e.length_}e.head_=undefined;e.first_=undefined;e.last_=undefined;e.length_=0}};ol.structs.LinkedList.prototype.getLength=function(){return this.length_};goog.provide("ol.render.webgl.PolygonReplay");goog.require("ol");goog.require("ol.array");goog.require("ol.color");goog.require("ol.extent");goog.require("ol.obj");goog.require("ol.geom.flat.contains");goog.require("ol.geom.flat.orient");goog.require("ol.geom.flat.transform");goog.require("ol.render.webgl.polygonreplay.defaultshader");goog.require("ol.render.webgl.polygonreplay.defaultshader.Locations");goog.require("ol.render.webgl.LineStringReplay");goog.require("ol.render.webgl.Replay");goog.require("ol.render.webgl");goog.require("ol.style.Stroke");goog.require("ol.structs.LinkedList");goog.require("ol.structs.RBush");goog.require("ol.webgl");goog.require("ol.webgl.Buffer");ol.render.webgl.PolygonReplay=function(e,t){ol.render.webgl.Replay.call(this,e,t);this.lineStringReplay=new ol.render.webgl.LineStringReplay(e,t);this.defaultLocations_=null;this.styles_=[];this.styleIndices_=[];this.state_={fillColor:null,changed:false}};ol.inherits(ol.render.webgl.PolygonReplay,ol.render.webgl.Replay);ol.render.webgl.PolygonReplay.prototype.drawCoordinates_=function(e,t,o){var r=new ol.structs.LinkedList;var i=new ol.structs.RBush;this.processFlatCoordinates_(e,o,r,i,true);var n=this.getMaxCoords_(r);if(t.length){var l,a;var s=[];for(l=0,a=t.length;l<a;++l){var p={list:new ol.structs.LinkedList,maxCoords:undefined,rtree:new ol.structs.RBush};s.push(p);this.processFlatCoordinates_(t[l],o,p.list,p.rtree,false);this.classifyPoints_(p.list,p.rtree,true);p.maxCoords=this.getMaxCoords_(p.list)}s.sort(function(e,t){return t.maxCoords[0]===e.maxCoords[0]?e.maxCoords[1]-t.maxCoords[1]:t.maxCoords[0]-e.maxCoords[0]});for(l=0;l<s.length;++l){var g=s[l].list;var u=g.firstItem();var c=u;var y;do{if(this.getIntersections_(c,i).length){y=true;break}c=g.nextItem()}while(u!==c);if(!y){if(this.bridgeHole_(g,s[l].maxCoords[0],r,n[0],i)){i.concat(s[l].rtree);this.classifyPoints_(r,i,false)}}}}else{this.classifyPoints_(r,i,false)}this.triangulate_(r,i)};ol.render.webgl.PolygonReplay.prototype.processFlatCoordinates_=function(e,t,o,r,i){var n=ol.geom.flat.orient.linearRingIsClockwise(e,0,e.length,t);var l,a;var s=this.vertices.length/2;var p;var g;var u;var c=[];var y=[];if(i===n){p=this.createPoint_(e[0],e[1],s++);g=p;for(l=t,a=e.length;l<a;l+=t){u=this.createPoint_(e[l],e[l+1],s++);y.push(this.insertItem_(g,u,o));c.push([Math.min(g.x,u.x),Math.min(g.y,u.y),Math.max(g.x,u.x),Math.max(g.y,u.y)]);g=u}y.push(this.insertItem_(u,p,o));c.push([Math.min(g.x,u.x),Math.min(g.y,u.y),Math.max(g.x,u.x),Math.max(g.y,u.y)])}else{var d=e.length-t;p=this.createPoint_(e[d],e[d+1],s++);g=p;for(l=d-t,a=0;l>=a;l-=t){u=this.createPoint_(e[l],e[l+1],s++);y.push(this.insertItem_(g,u,o));c.push([Math.min(g.x,u.x),Math.min(g.y,u.y),Math.max(g.x,u.x),Math.max(g.y,u.y)]);g=u}y.push(this.insertItem_(u,p,o));c.push([Math.min(g.x,u.x),Math.min(g.y,u.y),Math.max(g.x,u.x),Math.max(g.y,u.y)])}r.load(c,y)};ol.render.webgl.PolygonReplay.prototype.getMaxCoords_=function(e){var t=e.firstItem();var o=t;var r=[o.p0.x,o.p0.y];do{o=e.nextItem();if(o.p0.x>r[0]){r=[o.p0.x,o.p0.y]}}while(o!==t);return r};ol.render.webgl.PolygonReplay.prototype.classifyPoints_=function(e,t,o){var r=e.firstItem();var i=r;var n=e.nextItem();var l=false;do{var a=o?ol.render.webgl.triangleIsCounterClockwise(n.p1.x,n.p1.y,i.p1.x,i.p1.y,i.p0.x,i.p0.y):ol.render.webgl.triangleIsCounterClockwise(i.p0.x,i.p0.y,i.p1.x,i.p1.y,n.p1.x,n.p1.y);if(a===undefined){this.removeItem_(i,n,e,t);l=true;if(n===r){r=e.getNextItem()}n=i;e.prevItem()}else if(i.p1.reflex!==a){i.p1.reflex=a;l=true}i=n;n=e.nextItem()}while(i!==r);return l};ol.render.webgl.PolygonReplay.prototype.bridgeHole_=function(e,t,o,r,i){var n=e.firstItem();while(n.p1.x!==t){n=e.nextItem()}var l=n.p1;var a={x:r,y:l.y,i:-1};var s=Infinity;var p,g,u;var c;var y=this.getIntersections_({p0:l,p1:a},i,true);for(p=0,g=y.length;p<g;++p){var d=y[p];var h=this.calculateIntersection_(l,a,d.p0,d.p1,true);var f=Math.abs(l.x-h[0]);if(f<s&&ol.render.webgl.triangleIsCounterClockwise(l.x,l.y,d.p0.x,d.p0.y,d.p1.x,d.p1.y)!==undefined){s=f;c={x:h[0],y:h[1],i:-1};n=d}}if(s===Infinity){return false}u=n.p1;if(s>0){var m=this.getPointsInTriangle_(l,c,n.p1,i);if(m.length){var v=Infinity;for(p=0,g=m.length;p<g;++p){var _=m[p];var S=Math.atan2(l.y-_.y,a.x-_.x);if(S<v||S===v&&_.x<u.x){v=S;u=_}}}}n=o.firstItem();while(n.p1.x!==u.x||n.p1.y!==u.y){n=o.nextItem()}var x={x:l.x,y:l.y,i:l.i,reflex:undefined};var P={x:n.p1.x,y:n.p1.y,i:n.p1.i,reflex:undefined};e.getNextItem().p0=x;this.insertItem_(l,n.p1,e,i);this.insertItem_(P,x,e,i);n.p1=P;e.setFirstItem();o.concat(e);return true};ol.render.webgl.PolygonReplay.prototype.triangulate_=function(e,t){var o=false;var r=this.isSimple_(e,t);while(e.getLength()>3){if(r){if(!this.clipEars_(e,t,r,o)){if(!this.classifyPoints_(e,t,o)){if(!this.resolveSelfIntersections_(e,t,true)){break}}}}else{if(!this.clipEars_(e,t,r,o)){if(!this.classifyPoints_(e,t,o)){if(!this.resolveSelfIntersections_(e,t)){r=this.isSimple_(e,t);if(!r){this.splitPolygon_(e,t);break}else{o=!this.isClockwise_(e);this.classifyPoints_(e,t,o)}}}}}}if(e.getLength()===3){var i=this.indices.length;this.indices[i++]=e.getPrevItem().p0.i;this.indices[i++]=e.getCurrItem().p0.i;this.indices[i++]=e.getNextItem().p0.i}};ol.render.webgl.PolygonReplay.prototype.clipEars_=function(e,t,o,r){var i=this.indices.length;var n=e.firstItem();var l=e.getPrevItem();var a=n;var s=e.nextItem();var p=e.getNextItem();var g,u,c;var y=false;do{g=a.p0;u=a.p1;c=s.p1;if(u.reflex===false){var d;if(o){d=this.getPointsInTriangle_(g,u,c,t,true).length===0}else{d=r?this.diagonalIsInside_(p.p1,c,u,g,l.p0):this.diagonalIsInside_(l.p0,g,u,c,p.p1)}if((o||this.getIntersections_({p0:g,p1:c},t).length===0)&&d){if(o||g.reflex===false||c.reflex===false||ol.geom.flat.orient.linearRingIsClockwise([l.p0.x,l.p0.y,g.x,g.y,u.x,u.y,c.x,c.y,p.p1.x,p.p1.y],0,10,2)===!r){this.indices[i++]=g.i;this.indices[i++]=u.i;this.indices[i++]=c.i;this.removeItem_(a,s,e,t);if(s===n){n=p}y=true}}}l=e.getPrevItem();a=e.getCurrItem();s=e.nextItem();p=e.getNextItem()}while(a!==n&&e.getLength()>3);return y};ol.render.webgl.PolygonReplay.prototype.resolveSelfIntersections_=function(e,t,o){var r=e.firstItem();e.nextItem();var i=r;var n=e.nextItem();var l=false;do{var a=this.calculateIntersection_(i.p0,i.p1,n.p0,n.p1,o);if(a){var s=false;var p=this.vertices.length;var g=this.indices.length;var u=p/2;var c=e.prevItem();e.removeItem();t.remove(c);s=c===r;var y;if(o){if(a[0]===i.p0.x&&a[1]===i.p0.y){e.prevItem();y=i.p0;n.p0=y;t.remove(i);s=s||i===r}else{y=n.p1;i.p1=y;t.remove(n);s=s||n===r}e.removeItem()}else{y=this.createPoint_(a[0],a[1],u);i.p1=y;n.p0=y;t.update([Math.min(i.p0.x,i.p1.x),Math.min(i.p0.y,i.p1.y),Math.max(i.p0.x,i.p1.x),Math.max(i.p0.y,i.p1.y)],i);t.update([Math.min(n.p0.x,n.p1.x),Math.min(n.p0.y,n.p1.y),Math.max(n.p0.x,n.p1.x),Math.max(n.p0.y,n.p1.y)],n)}this.indices[g++]=c.p0.i;this.indices[g++]=c.p1.i;this.indices[g++]=y.i;l=true;if(s){break}}i=e.getPrevItem();n=e.nextItem()}while(i!==r);return l};ol.render.webgl.PolygonReplay.prototype.isSimple_=function(e,t){var o=e.firstItem();var r=o;do{if(this.getIntersections_(r,t).length){return false}r=e.nextItem()}while(r!==o);return true};ol.render.webgl.PolygonReplay.prototype.isClockwise_=function(e){var t=e.getLength()*2;var o=new Array(t);var r=e.firstItem();var i=r;var n=0;do{o[n++]=i.p0.x;o[n++]=i.p0.y;i=e.nextItem()}while(i!==r);return ol.geom.flat.orient.linearRingIsClockwise(o,0,t,2)};ol.render.webgl.PolygonReplay.prototype.splitPolygon_=function(e,t){var o=e.firstItem();var r=o;do{var i=this.getIntersections_(r,t);if(i.length){var n=i[0];var l=this.vertices.length/2;var a=this.calculateIntersection_(r.p0,r.p1,n.p0,n.p1);var s=this.createPoint_(a[0],a[1],l);var p=new ol.structs.LinkedList;var g=new ol.structs.RBush;this.insertItem_(s,r.p1,p,g);r.p1=s;t.update([Math.min(r.p0.x,s.x),Math.min(r.p0.y,s.y),Math.max(r.p0.x,s.x),Math.max(r.p0.y,s.y)],r);var u=e.nextItem();while(u!==n){this.insertItem_(u.p0,u.p1,p,g);t.remove(u);e.removeItem();u=e.getCurrItem()}this.insertItem_(n.p0,s,p,g);n.p0=s;t.update([Math.min(n.p1.x,s.x),Math.min(n.p1.y,s.y),Math.max(n.p1.x,s.x),Math.max(n.p1.y,s.y)],n);this.classifyPoints_(e,t,false);this.triangulate_(e,t);this.classifyPoints_(p,g,false);this.triangulate_(p,g);break}r=e.nextItem()}while(r!==o)};ol.render.webgl.PolygonReplay.prototype.createPoint_=function(e,t,o){var r=this.vertices.length;this.vertices[r++]=e;this.vertices[r++]=t;var i={x:e,y:t,i:o,reflex:undefined};return i};ol.render.webgl.PolygonReplay.prototype.insertItem_=function(e,t,o,r){var i={p0:e,p1:t};o.insertItem(i);if(r){r.insert([Math.min(e.x,t.x),Math.min(e.y,t.y),Math.max(e.x,t.x),Math.max(e.y,t.y)],i)}return i};ol.render.webgl.PolygonReplay.prototype.removeItem_=function(e,t,o,r){if(o.getCurrItem()===t){o.removeItem();e.p1=t.p1;r.remove(t);r.update([Math.min(e.p0.x,e.p1.x),Math.min(e.p0.y,e.p1.y),Math.max(e.p0.x,e.p1.x),Math.max(e.p0.y,e.p1.y)],e)}};ol.render.webgl.PolygonReplay.prototype.getPointsInTriangle_=function(e,t,o,r,i){var n,l,a,s;var p=[];var g=r.getInExtent([Math.min(e.x,t.x,o.x),Math.min(e.y,t.y,o.y),Math.max(e.x,t.x,o.x),Math.max(e.y,t.y,o.y)]);for(n=0,l=g.length;n<l;++n){for(a in g[n]){s=g[n][a];if(typeof s==="object"&&(!i||s.reflex)){if((s.x!==e.x||s.y!==e.y)&&(s.x!==t.x||s.y!==t.y)&&(s.x!==o.x||s.y!==o.y)&&p.indexOf(s)===-1&&ol.geom.flat.contains.linearRingContainsXY([e.x,e.y,t.x,t.y,o.x,o.y],0,6,2,s.x,s.y)){p.push(s)}}}}return p};ol.render.webgl.PolygonReplay.prototype.getIntersections_=function(e,t,o){var r=e.p0;var i=e.p1;var n=t.getInExtent([Math.min(r.x,i.x),Math.min(r.y,i.y),Math.max(r.x,i.x),Math.max(r.y,i.y)]);var l=[];var a,s;for(a=0,s=n.length;a<s;++a){var p=n[a];if(e!==p&&(o||p.p0!==i||p.p1!==r)&&this.calculateIntersection_(r,i,p.p0,p.p1,o)){l.push(p)}}return l};ol.render.webgl.PolygonReplay.prototype.calculateIntersection_=function(e,t,o,r,i){var n=(r.y-o.y)*(t.x-e.x)-(r.x-o.x)*(t.y-e.y);if(n!==0){var l=((r.x-o.x)*(e.y-o.y)-(r.y-o.y)*(e.x-o.x))/n;var a=((t.x-e.x)*(e.y-o.y)-(t.y-e.y)*(e.x-o.x))/n;if(!i&&l>ol.render.webgl.EPSILON&&l<1-ol.render.webgl.EPSILON&&a>ol.render.webgl.EPSILON&&a<1-ol.render.webgl.EPSILON||i&&l>=0&&l<=1&&a>=0&&a<=1){return[e.x+l*(t.x-e.x),e.y+l*(t.y-e.y)]}}return undefined};ol.render.webgl.PolygonReplay.prototype.diagonalIsInside_=function(e,t,o,r,i){if(t.reflex===undefined||r.reflex===undefined){return false}var n=(o.x-r.x)*(t.y-r.y)>(o.y-r.y)*(t.x-r.x);var l=(i.x-r.x)*(t.y-r.y)<(i.y-r.y)*(t.x-r.x);var a=(e.x-t.x)*(r.y-t.y)>(e.y-t.y)*(r.x-t.x);var s=(o.x-t.x)*(r.y-t.y)<(o.y-t.y)*(r.x-t.x);var p=r.reflex?l||n:l&&n;var g=t.reflex?s||a:s&&a;return p&&g};ol.render.webgl.PolygonReplay.prototype.drawMultiPolygon=function(e,t){var o=e.getEndss();var r=e.getStride();var i=this.indices.length;var n=this.lineStringReplay.getCurrentIndex();var l=e.getFlatCoordinates();var a,s,p,g;var u=0;for(a=0,s=o.length;a<s;++a){var c=o[a];if(c.length>0){var y=ol.geom.flat.transform.translate(l,u,c[0],r,-this.origin[0],-this.origin[1]);if(y.length){var d=[];var h;for(p=1,g=c.length;p<g;++p){if(c[p]!==c[p-1]){h=ol.geom.flat.transform.translate(l,c[p-1],c[p],r,-this.origin[0],-this.origin[1]);d.push(h)}}this.lineStringReplay.drawPolygonCoordinates(y,d,r);this.drawCoordinates_(y,d,r)}}u=c[c.length-1]}if(this.indices.length>i){this.startIndices.push(i);this.startIndicesFeature.push(t);if(this.state_.changed){this.styleIndices_.push(i);this.state_.changed=false}}if(this.lineStringReplay.getCurrentIndex()>n){this.lineStringReplay.setPolygonStyle(t,n)}};ol.render.webgl.PolygonReplay.prototype.drawPolygon=function(e,t){var o=e.getEnds();var r=e.getStride();if(o.length>0){var i=e.getFlatCoordinates().map(Number);var n=ol.geom.flat.transform.translate(i,0,o[0],r,-this.origin[0],-this.origin[1]);if(n.length){var l=[];var a,s,p;for(a=1,s=o.length;a<s;++a){if(o[a]!==o[a-1]){p=ol.geom.flat.transform.translate(i,o[a-1],o[a],r,-this.origin[0],-this.origin[1]);l.push(p)}}this.startIndices.push(this.indices.length);this.startIndicesFeature.push(t);if(this.state_.changed){this.styleIndices_.push(this.indices.length);this.state_.changed=false}this.lineStringReplay.setPolygonStyle(t);this.lineStringReplay.drawPolygonCoordinates(n,l,r);this.drawCoordinates_(n,l,r)}}};ol.render.webgl.PolygonReplay.prototype.finish=function(e){this.verticesBuffer=new ol.webgl.Buffer(this.vertices);this.indicesBuffer=new ol.webgl.Buffer(this.indices);this.startIndices.push(this.indices.length);this.lineStringReplay.finish(e);if(this.styleIndices_.length===0&&this.styles_.length>0){this.styles_=[]}this.vertices=null;this.indices=null};ol.render.webgl.PolygonReplay.prototype.getDeleteResourcesFunction=function(e){var t=this.verticesBuffer;var o=this.indicesBuffer;var r=this.lineStringReplay.getDeleteResourcesFunction(e);return function(){e.deleteBuffer(t);e.deleteBuffer(o);r()}};ol.render.webgl.PolygonReplay.prototype.setUpProgram=function(e,t,o,r){var i,n;i=ol.render.webgl.polygonreplay.defaultshader.fragment;n=ol.render.webgl.polygonreplay.defaultshader.vertex;var l=t.getProgram(i,n);var a;if(!this.defaultLocations_){a=new ol.render.webgl.polygonreplay.defaultshader.Locations(e,l);this.defaultLocations_=a}else{a=this.defaultLocations_}t.useProgram(l);e.enableVertexAttribArray(a.a_position);e.vertexAttribPointer(a.a_position,2,ol.webgl.FLOAT,false,8,0);return a};ol.render.webgl.PolygonReplay.prototype.shutDownProgram=function(e,t){e.disableVertexAttribArray(t.a_position)};ol.render.webgl.PolygonReplay.prototype.drawReplay=function(e,t,o,r){var i=e.getParameter(e.DEPTH_FUNC);var n=e.getParameter(e.DEPTH_WRITEMASK);if(!r){e.enable(e.DEPTH_TEST);e.depthMask(true);e.depthFunc(e.NOTEQUAL)}if(!ol.obj.isEmpty(o)){this.drawReplaySkipping_(e,t,o)}else{var l,a,s,p;s=this.startIndices[this.startIndices.length-1];for(l=this.styleIndices_.length-1;l>=0;--l){a=this.styleIndices_[l];p=this.styles_[l];this.setFillStyle_(e,p);this.drawElements(e,t,a,s);s=a}}if(!r){e.disable(e.DEPTH_TEST);e.clear(e.DEPTH_BUFFER_BIT);e.depthMask(n);e.depthFunc(i)}};ol.render.webgl.PolygonReplay.prototype.drawHitDetectionReplayOneByOne=function(e,t,o,r,i){var n,l,a,s,p,g,u,c;c=this.startIndices.length-2;a=this.startIndices[c+1];for(n=this.styleIndices_.length-1;n>=0;--n){s=this.styles_[n];this.setFillStyle_(e,s);p=this.styleIndices_[n];while(c>=0&&this.startIndices[c]>=p){l=this.startIndices[c];g=this.startIndicesFeature[c];u=ol.getUid(g).toString();if(o[u]===undefined&&g.getGeometry()&&(i===undefined||ol.extent.intersects(i,g.getGeometry().getExtent()))){e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT);this.drawElements(e,t,l,a);var y=r(g);if(y){return y}}c--;a=l}}return undefined};ol.render.webgl.PolygonReplay.prototype.drawReplaySkipping_=function(e,t,o){var r,i,n,l,a,s,p,g,u;g=this.startIndices.length-2;n=i=this.startIndices[g+1];for(r=this.styleIndices_.length-1;r>=0;--r){l=this.styles_[r];this.setFillStyle_(e,l);a=this.styleIndices_[r];while(g>=0&&this.startIndices[g]>=a){u=this.startIndices[g];s=this.startIndicesFeature[g];p=ol.getUid(s).toString();if(o[p]){if(i!==n){this.drawElements(e,t,i,n);e.clear(e.DEPTH_BUFFER_BIT)}n=u}g--;i=u}if(i!==n){this.drawElements(e,t,i,n);e.clear(e.DEPTH_BUFFER_BIT)}i=n=a}};ol.render.webgl.PolygonReplay.prototype.setFillStyle_=function(e,t){e.uniform4fv(this.defaultLocations_.u_color,t)};ol.render.webgl.PolygonReplay.prototype.setFillStrokeStyle=function(e,t){var o=e?e.getColor():[0,0,0,0];if(!(o instanceof CanvasGradient)&&!(o instanceof CanvasPattern)){o=ol.color.asArray(o).map(function(e,t){return t!=3?e/255:e})||ol.render.webgl.defaultFillStyle}else{o=ol.render.webgl.defaultFillStyle}if(!this.state_.fillColor||!ol.array.equals(o,this.state_.fillColor)){this.state_.fillColor=o;this.state_.changed=true;this.styles_.push(o)}if(t){this.lineStringReplay.setFillStrokeStyle(null,t)}else{var r=new ol.style.Stroke({color:[0,0,0,0],lineWidth:0});this.lineStringReplay.setFillStrokeStyle(null,r)}};goog.provide("ol.style.Atlas");goog.require("ol.dom");ol.style.Atlas=function(e,t){this.space_=t;this.emptyBlocks_=[{x:0,y:0,width:e,height:e}];this.entries_={};this.context_=ol.dom.createCanvasContext2D(e,e);this.canvas_=this.context_.canvas};ol.style.Atlas.prototype.get=function(e){return this.entries_[e]||null};ol.style.Atlas.prototype.add=function(e,t,o,r,i){var n,l,a;for(l=0,a=this.emptyBlocks_.length;l<a;++l){n=this.emptyBlocks_[l];if(n.width>=t+this.space_&&n.height>=o+this.space_){var s={offsetX:n.x+this.space_,offsetY:n.y+this.space_,image:this.canvas_};this.entries_[e]=s;r.call(i,this.context_,n.x+this.space_,n.y+this.space_);this.split_(l,n,t+this.space_,o+this.space_);return s}}return null};ol.style.Atlas.prototype.split_=function(e,t,o,r){var i=t.width-o;var n=t.height-r;var l;var a;if(i>n){l={x:t.x+o,y:t.y,width:t.width-o,height:t.height};a={x:t.x,y:t.y+r,width:o,height:t.height-r};this.updateBlocks_(e,l,a)}else{l={x:t.x+o,y:t.y,width:t.width-o,height:r};a={x:t.x,y:t.y+r,width:t.width,height:t.height-r};this.updateBlocks_(e,l,a)}};ol.style.Atlas.prototype.updateBlocks_=function(e,t,o){var r=[e,1];if(t.width>0&&t.height>0){r.push(t)}if(o.width>0&&o.height>0){r.push(o)}this.emptyBlocks_.splice.apply(this.emptyBlocks_,r)};goog.provide("ol.style.AtlasManager");goog.require("ol");goog.require("ol.style.Atlas");ol.style.AtlasManager=function(e){var t=e||{};this.currentSize_=t.initialSize!==undefined?t.initialSize:ol.INITIAL_ATLAS_SIZE;this.maxSize_=t.maxSize!==undefined?t.maxSize:ol.MAX_ATLAS_SIZE!=-1?ol.MAX_ATLAS_SIZE:ol.WEBGL_MAX_TEXTURE_SIZE!==undefined?ol.WEBGL_MAX_TEXTURE_SIZE:2048;this.space_=t.space!==undefined?t.space:1;this.atlases_=[new ol.style.Atlas(this.currentSize_,this.space_)];this.currentHitSize_=this.currentSize_;this.hitAtlases_=[new ol.style.Atlas(this.currentHitSize_,this.space_)]};ol.style.AtlasManager.prototype.getInfo=function(e){var t=this.getInfo_(this.atlases_,e);if(!t){return null}var o=this.getInfo_(this.hitAtlases_,e);return this.mergeInfos_(t,o)};ol.style.AtlasManager.prototype.getInfo_=function(e,t){var o,r,i,n;for(i=0,n=e.length;i<n;++i){o=e[i];r=o.get(t);if(r){return r}}return null};ol.style.AtlasManager.prototype.mergeInfos_=function(e,t){return{offsetX:e.offsetX,offsetY:e.offsetY,image:e.image,hitImage:t.image}};ol.style.AtlasManager.prototype.add=function(e,t,o,r,i,n){if(t+this.space_>this.maxSize_||o+this.space_>this.maxSize_){return null}var l=this.add_(false,e,t,o,r,n);if(!l){return null}var a=i!==undefined?i:ol.nullFunction;var s=this.add_(true,e,t,o,a,n);return this.mergeInfos_(l,s)};ol.style.AtlasManager.prototype.add_=function(e,t,o,r,i,n){var l=e?this.hitAtlases_:this.atlases_;var a,s,p,g;for(p=0,g=l.length;p<g;++p){a=l[p];s=a.add(t,o,r,i,n);if(s){return s}else if(!s&&p===g-1){var u;if(e){u=Math.min(this.currentHitSize_*2,this.maxSize_);this.currentHitSize_=u}else{u=Math.min(this.currentSize_*2,this.maxSize_);this.currentSize_=u}a=new ol.style.Atlas(u,this.space_);l.push(a);++g}}return null};goog.provide("ol.render.webgl.TextReplay");goog.require("ol");goog.require("ol.colorlike");goog.require("ol.dom");goog.require("ol.geom.GeometryType");goog.require("ol.has");goog.require("ol.render.replay");goog.require("ol.render.webgl");goog.require("ol.render.webgl.TextureReplay");goog.require("ol.style.AtlasManager");goog.require("ol.webgl.Buffer");ol.render.webgl.TextReplay=function(e,t){ol.render.webgl.TextureReplay.call(this,e,t);this.images_=[];this.textures_=[];this.measureCanvas_=ol.dom.createCanvasContext2D(0,0).canvas;this.state_={strokeColor:null,lineCap:undefined,lineDash:null,lineDashOffset:undefined,lineJoin:undefined,lineWidth:0,miterLimit:undefined,fillColor:null,font:undefined,scale:undefined};this.text_="";this.textAlign_=undefined;this.textBaseline_=undefined;this.offsetX_=undefined;this.offsetY_=undefined;this.atlases_={};this.currAtlas_=undefined;this.scale=1;this.opacity=1};ol.inherits(ol.render.webgl.TextReplay,ol.render.webgl.TextureReplay);ol.render.webgl.TextReplay.prototype.drawText=function(e,t){if(this.text_){var o=null;var r=0;var i=2;var n=2;switch(e.getType()){case ol.geom.GeometryType.POINT:case ol.geom.GeometryType.MULTI_POINT:o=e.getFlatCoordinates();i=o.length;n=e.getStride();break;case ol.geom.GeometryType.CIRCLE:o=e.getCenter();break;case ol.geom.GeometryType.LINE_STRING:o=e.getFlatMidpoint();break;case ol.geom.GeometryType.MULTI_LINE_STRING:o=e.getFlatMidpoints();i=o.length;break;case ol.geom.GeometryType.POLYGON:o=e.getFlatInteriorPoint();break;case ol.geom.GeometryType.MULTI_POLYGON:o=e.getFlatInteriorPoints();i=o.length;break;default:}this.startIndices.push(this.indices.length);this.startIndicesFeature.push(t);var l=this.currAtlas_;var a=this.text_.split("\n");var s=this.getTextSize_(a);var p,g,u,c,y,d,h,f;var m=Math.round(s[0]*this.textAlign_-this.offsetX_);var v=Math.round(s[1]*this.textBaseline_-this.offsetY_);var _=this.state_.lineWidth/2*this.state_.scale;for(p=0,g=a.length;p<g;++p){y=0;d=l.height*p;h=a[p].split("");for(u=0,c=h.length;u<c;++u){f=l.atlas.getInfo(h[u]);if(f){var S=f.image;this.anchorX=m-y;this.anchorY=v-d;this.originX=u===0?f.offsetX-_:f.offsetX;this.originY=f.offsetY;this.height=l.height;this.width=u===0||u===h.length-1?l.width[h[u]]+_:l.width[h[u]];this.imageHeight=S.height;this.imageWidth=S.width;var x;if(this.images_.length===0){this.images_.push(S)}else{x=this.images_[this.images_.length-1];if(ol.getUid(x)!=ol.getUid(S)){this.groupIndices.push(this.indices.length);this.images_.push(S)}}this.drawText_(o,r,i,n)}y+=this.width}}}};ol.render.webgl.TextReplay.prototype.getTextSize_=function(e){var t=this;var o=this.currAtlas_;var r=e.length*o.height;var i=e.map(function(e){var r=0;var i,n;for(i=0,n=e.length;i<n;++i){var l=e[i];if(!o.width[l]){t.addCharToAtlas_(l)}r+=o.width[l]?o.width[l]:0}return r}).reduce(function(e,t){return Math.max(e,t)});return[i,r]};ol.render.webgl.TextReplay.prototype.drawText_=function(e,t,o,r){var i,n;for(i=t,n=o;i<n;i+=r){this.drawCoordinates(e,t,o,r)}};ol.render.webgl.TextReplay.prototype.addCharToAtlas_=function(e){if(e.length===1){var t=this.currAtlas_;var o=this.state_;var r=this.measureCanvas_.getContext("2d");r.font=o.font;var i=Math.ceil(r.measureText(e).width*o.scale);var n=t.atlas.add(e,i,t.height,function(t,r,i){t.font=o.font;t.fillStyle=o.fillColor;t.strokeStyle=o.strokeColor;t.lineWidth=o.lineWidth;t.lineCap=o.lineCap;t.lineJoin=o.lineJoin;t.miterLimit=o.miterLimit;t.textAlign="left";t.textBaseline="top";if(ol.has.CANVAS_LINE_DASH&&o.lineDash){t.setLineDash(o.lineDash);t.lineDashOffset=o.lineDashOffset}if(o.scale!==1){t.setTransform(o.scale,0,0,o.scale,0,0)}if(o.strokeColor){t.strokeText(e,r,i)}if(o.fillColor){t.fillText(e,r,i)}});if(n){t.width[e]=i}}};ol.render.webgl.TextReplay.prototype.finish=function(e){var t=e.getGL();this.groupIndices.push(this.indices.length);this.hitDetectionGroupIndices=this.groupIndices;this.verticesBuffer=new ol.webgl.Buffer(this.vertices);this.indicesBuffer=new ol.webgl.Buffer(this.indices);var o={};this.createTextures(this.textures_,this.images_,o,t);this.state_={strokeColor:null,lineCap:undefined,lineDash:null,lineDashOffset:undefined,lineJoin:undefined,lineWidth:0,miterLimit:undefined,fillColor:null,font:undefined,scale:undefined};this.text_="";this.textAlign_=undefined;this.textBaseline_=undefined;this.offsetX_=undefined;this.offsetY_=undefined;this.images_=null;this.atlases_={};this.currAtlas_=undefined;ol.render.webgl.TextureReplay.prototype.finish.call(this,e)};ol.render.webgl.TextReplay.prototype.setTextStyle=function(e){var t=this.state_;var o=e.getFill();var r=e.getStroke();if(!e||!e.getText()||!o&&!r){this.text_=""}else{if(!o){t.fillColor=null}else{var i=o.getColor();t.fillColor=ol.colorlike.asColorLike(i?i:ol.render.webgl.defaultFillStyle)}if(!r){t.strokeColor=null;t.lineWidth=0}else{var n=r.getColor();t.strokeColor=ol.colorlike.asColorLike(n?n:ol.render.webgl.defaultStrokeStyle);t.lineWidth=r.getWidth()||ol.render.webgl.defaultLineWidth;t.lineCap=r.getLineCap()||ol.render.webgl.defaultLineCap;t.lineDashOffset=r.getLineDashOffset()||ol.render.webgl.defaultLineDashOffset;t.lineJoin=r.getLineJoin()||ol.render.webgl.defaultLineJoin;t.miterLimit=r.getMiterLimit()||ol.render.webgl.defaultMiterLimit;var l=r.getLineDash();t.lineDash=l?l.slice():ol.render.webgl.defaultLineDash}t.font=e.getFont()||ol.render.webgl.defaultFont;t.scale=e.getScale()||1;this.text_=e.getText();var a=ol.render.replay.TEXT_ALIGN[e.getTextAlign()];var s=ol.render.replay.TEXT_ALIGN[e.getTextBaseline()];this.textAlign_=a===undefined?ol.render.webgl.defaultTextAlign:a;this.textBaseline_=s===undefined?ol.render.webgl.defaultTextBaseline:s;this.offsetX_=e.getOffsetX()||0;this.offsetY_=e.getOffsetY()||0;this.rotateWithView=!!e.getRotateWithView();this.rotation=e.getRotation()||0;this.currAtlas_=this.getAtlas_(t)}};ol.render.webgl.TextReplay.prototype.getAtlas_=function(e){var t=[];var o;for(o in e){if(e[o]||e[o]===0){if(Array.isArray(e[o])){t=t.concat(e[o])}else{t.push(e[o])}}}var r=this.calculateHash_(t);if(!this.atlases_[r]){var i=this.measureCanvas_.getContext("2d");i.font=e.font;var n=Math.ceil((i.measureText("M").width*1.5+e.lineWidth/2)*e.scale);this.atlases_[r]={atlas:new ol.style.AtlasManager({space:e.lineWidth+1}),width:{},height:n}}return this.atlases_[r]};ol.render.webgl.TextReplay.prototype.calculateHash_=function(e){var t,o;var r="";for(t=0,o=e.length;t<o;++t){r+=e[t]}return r};ol.render.webgl.TextReplay.prototype.getTextures=function(e){return this.textures_};ol.render.webgl.TextReplay.prototype.getHitDetectionTextures=function(){return this.textures_};goog.provide("ol.render.webgl.ReplayGroup");goog.require("ol");goog.require("ol.array");goog.require("ol.extent");goog.require("ol.obj");goog.require("ol.render.replay");goog.require("ol.render.ReplayGroup");goog.require("ol.render.webgl.CircleReplay");goog.require("ol.render.webgl.ImageReplay");goog.require("ol.render.webgl.LineStringReplay");goog.require("ol.render.webgl.PolygonReplay");goog.require("ol.render.webgl.TextReplay");ol.render.webgl.ReplayGroup=function(e,t,o){ol.render.ReplayGroup.call(this);this.maxExtent_=t;this.tolerance_=e;this.renderBuffer_=o;this.replaysByZIndex_={}};ol.inherits(ol.render.webgl.ReplayGroup,ol.render.ReplayGroup);ol.render.webgl.ReplayGroup.prototype.addDeclutter=function(e,t){};ol.render.webgl.ReplayGroup.prototype.getDeleteResourcesFunction=function(e){var t=[];var o;for(o in this.replaysByZIndex_){var r=this.replaysByZIndex_[o];var i;for(i in r){t.push(r[i].getDeleteResourcesFunction(e))}}return function(){var e=t.length;var o;for(var r=0;r<e;r++){o=t[r].apply(this,arguments)}return o}};ol.render.webgl.ReplayGroup.prototype.finish=function(e){var t;for(t in this.replaysByZIndex_){var o=this.replaysByZIndex_[t];var r;for(r in o){o[r].finish(e)}}};ol.render.webgl.ReplayGroup.prototype.getReplay=function(e,t){var o=e!==undefined?e.toString():"0";var r=this.replaysByZIndex_[o];if(r===undefined){r={};this.replaysByZIndex_[o]=r}var i=r[t];if(i===undefined){var n=ol.render.webgl.ReplayGroup.BATCH_CONSTRUCTORS_[t];i=new n(this.tolerance_,this.maxExtent_);r[t]=i}return i};ol.render.webgl.ReplayGroup.prototype.isEmpty=function(){return ol.obj.isEmpty(this.replaysByZIndex_)};ol.render.webgl.ReplayGroup.prototype.replay=function(e,t,o,r,i,n,l,a){var s=Object.keys(this.replaysByZIndex_).map(Number);s.sort(ol.array.numberSafeCompareFunction);var p,g,u,c,y,d;for(p=0,g=s.length;p<g;++p){y=this.replaysByZIndex_[s[p].toString()];for(u=0,c=ol.render.replay.ORDER.length;u<c;++u){d=y[ol.render.replay.ORDER[u]];if(d!==undefined){d.replay(e,t,o,r,i,n,l,a,undefined,false)}}}};ol.render.webgl.ReplayGroup.prototype.replayHitDetection_=function(e,t,o,r,i,n,l,a,s,p,g){var u=Object.keys(this.replaysByZIndex_).map(Number);u.sort(function(e,t){return t-e});var c,y,d,h,f,m;for(c=0,y=u.length;c<y;++c){h=this.replaysByZIndex_[u[c].toString()];for(d=ol.render.replay.ORDER.length-1;d>=0;--d){f=h[ol.render.replay.ORDER[d]];if(f!==undefined){m=f.replay(e,t,o,r,i,n,l,a,s,p,g);if(m){return m}}}}return undefined};ol.render.webgl.ReplayGroup.prototype.forEachFeatureAtCoordinate=function(e,t,o,r,i,n,l,a,s,p){var g=t.getGL();g.bindFramebuffer(g.FRAMEBUFFER,t.getHitDetectionFramebuffer());var u;if(this.renderBuffer_!==undefined){u=ol.extent.buffer(ol.extent.createOrUpdateFromCoordinate(e),r*this.renderBuffer_)}return this.replayHitDetection_(t,e,r,i,ol.render.webgl.ReplayGroup.HIT_DETECTION_SIZE_,l,a,s,function(e){var t=new Uint8Array(4);g.readPixels(0,0,1,1,g.RGBA,g.UNSIGNED_BYTE,t);if(t[3]>0){var o=p(e);if(o){return o}}},true,u)};ol.render.webgl.ReplayGroup.prototype.hasFeatureAtCoordinate=function(e,t,o,r,i,n,l,a,s){var p=t.getGL();p.bindFramebuffer(p.FRAMEBUFFER,t.getHitDetectionFramebuffer());var g=this.replayHitDetection_(t,e,r,i,ol.render.webgl.ReplayGroup.HIT_DETECTION_SIZE_,l,a,s,function(e){var t=new Uint8Array(4);p.readPixels(0,0,1,1,p.RGBA,p.UNSIGNED_BYTE,t);return t[3]>0},false);return g!==undefined};ol.render.webgl.ReplayGroup.HIT_DETECTION_SIZE_=[1,1];ol.render.webgl.ReplayGroup.BATCH_CONSTRUCTORS_={Circle:ol.render.webgl.CircleReplay,Image:ol.render.webgl.ImageReplay,LineString:ol.render.webgl.LineStringReplay,Polygon:ol.render.webgl.PolygonReplay,Text:ol.render.webgl.TextReplay};goog.provide("ol.render.webgl.Immediate");goog.require("ol");goog.require("ol.extent");goog.require("ol.geom.GeometryType");goog.require("ol.render.ReplayType");goog.require("ol.render.VectorContext");goog.require("ol.render.webgl.ReplayGroup");ol.render.webgl.Immediate=function(e,t,o,r,i,n,l){ol.render.VectorContext.call(this);this.context_=e;this.center_=t;this.extent_=n;this.pixelRatio_=l;this.size_=i;this.rotation_=r;this.resolution_=o;this.imageStyle_=null;this.fillStyle_=null;this.strokeStyle_=null;this.textStyle_=null};ol.inherits(ol.render.webgl.Immediate,ol.render.VectorContext);ol.render.webgl.Immediate.prototype.drawText_=function(e,t){var o=this.context_;var r=e.getReplay(0,ol.render.ReplayType.TEXT);r.setTextStyle(this.textStyle_);r.drawText(t,null);r.finish(o);var i=1;var n={};var l;var a=false;r.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,i,n,l,a);r.getDeleteResourcesFunction(o)()};ol.render.webgl.Immediate.prototype.setStyle=function(e){this.setFillStrokeStyle(e.getFill(),e.getStroke());this.setImageStyle(e.getImage());this.setTextStyle(e.getText())};ol.render.webgl.Immediate.prototype.drawGeometry=function(e){var t=e.getType();switch(t){case ol.geom.GeometryType.POINT:this.drawPoint(e,null);break;case ol.geom.GeometryType.LINE_STRING:this.drawLineString(e,null);break;case ol.geom.GeometryType.POLYGON:this.drawPolygon(e,null);break;case ol.geom.GeometryType.MULTI_POINT:this.drawMultiPoint(e,null);break;case ol.geom.GeometryType.MULTI_LINE_STRING:this.drawMultiLineString(e,null);break;case ol.geom.GeometryType.MULTI_POLYGON:this.drawMultiPolygon(e,null);break;case ol.geom.GeometryType.GEOMETRY_COLLECTION:this.drawGeometryCollection(e,null);break;case ol.geom.GeometryType.CIRCLE:this.drawCircle(e,null);break;default:}};ol.render.webgl.Immediate.prototype.drawFeature=function(e,t){var o=t.getGeometryFunction()(e);if(!o||!ol.extent.intersects(this.extent_,o.getExtent())){return}this.setStyle(t);this.drawGeometry(o)};ol.render.webgl.Immediate.prototype.drawGeometryCollection=function(e,t){var o=e.getGeometriesArray();var r,i;for(r=0,i=o.length;r<i;++r){this.drawGeometry(o[r])}};ol.render.webgl.Immediate.prototype.drawPoint=function(e,t){var o=this.context_;var r=new ol.render.webgl.ReplayGroup(1,this.extent_);var i=r.getReplay(0,ol.render.ReplayType.IMAGE);i.setImageStyle(this.imageStyle_);i.drawPoint(e,t);i.finish(o);var n=1;var l={};var a;var s=false;i.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,n,l,a,s);i.getDeleteResourcesFunction(o)();if(this.textStyle_){this.drawText_(r,e)}};ol.render.webgl.Immediate.prototype.drawMultiPoint=function(e,t){var o=this.context_;var r=new ol.render.webgl.ReplayGroup(1,this.extent_);var i=r.getReplay(0,ol.render.ReplayType.IMAGE);i.setImageStyle(this.imageStyle_);i.drawMultiPoint(e,t);i.finish(o);var n=1;var l={};var a;var s=false;i.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,n,l,a,s);i.getDeleteResourcesFunction(o)();if(this.textStyle_){this.drawText_(r,e)}};ol.render.webgl.Immediate.prototype.drawLineString=function(e,t){var o=this.context_;var r=new ol.render.webgl.ReplayGroup(1,this.extent_);var i=r.getReplay(0,ol.render.ReplayType.LINE_STRING);i.setFillStrokeStyle(null,this.strokeStyle_);i.drawLineString(e,t);i.finish(o);var n=1;var l={};var a;var s=false;i.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,n,l,a,s);i.getDeleteResourcesFunction(o)();if(this.textStyle_){this.drawText_(r,e)}};ol.render.webgl.Immediate.prototype.drawMultiLineString=function(e,t){var o=this.context_;var r=new ol.render.webgl.ReplayGroup(1,this.extent_);var i=r.getReplay(0,ol.render.ReplayType.LINE_STRING);i.setFillStrokeStyle(null,this.strokeStyle_);i.drawMultiLineString(e,t);i.finish(o);var n=1;var l={};var a;var s=false;i.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,n,l,a,s);i.getDeleteResourcesFunction(o)();if(this.textStyle_){this.drawText_(r,e)}};ol.render.webgl.Immediate.prototype.drawPolygon=function(e,t){var o=this.context_;var r=new ol.render.webgl.ReplayGroup(1,this.extent_);var i=r.getReplay(0,ol.render.ReplayType.POLYGON);i.setFillStrokeStyle(this.fillStyle_,this.strokeStyle_);i.drawPolygon(e,t);i.finish(o);var n=1;var l={};var a;var s=false;i.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,n,l,a,s);i.getDeleteResourcesFunction(o)();if(this.textStyle_){this.drawText_(r,e)}};ol.render.webgl.Immediate.prototype.drawMultiPolygon=function(e,t){var o=this.context_;var r=new ol.render.webgl.ReplayGroup(1,this.extent_);var i=r.getReplay(0,ol.render.ReplayType.POLYGON);i.setFillStrokeStyle(this.fillStyle_,this.strokeStyle_);i.drawMultiPolygon(e,t);i.finish(o);var n=1;var l={};var a;var s=false;i.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,n,l,a,s);i.getDeleteResourcesFunction(o)();if(this.textStyle_){this.drawText_(r,e)}};ol.render.webgl.Immediate.prototype.drawCircle=function(e,t){var o=this.context_;var r=new ol.render.webgl.ReplayGroup(1,this.extent_);var i=r.getReplay(0,ol.render.ReplayType.CIRCLE);i.setFillStrokeStyle(this.fillStyle_,this.strokeStyle_);i.drawCircle(e,t);i.finish(o);var n=1;var l={};var a;var s=false;i.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,n,l,a,s);i.getDeleteResourcesFunction(o)();if(this.textStyle_){this.drawText_(r,e)}};ol.render.webgl.Immediate.prototype.setImageStyle=function(e){this.imageStyle_=e};ol.render.webgl.Immediate.prototype.setFillStrokeStyle=function(e,t){this.fillStyle_=e;this.strokeStyle_=t};ol.render.webgl.Immediate.prototype.setTextStyle=function(e){this.textStyle_=e};goog.provide("ol.renderer.webgl.defaultmapshader");goog.require("ol");goog.require("ol.webgl.Fragment");goog.require("ol.webgl.Vertex");ol.renderer.webgl.defaultmapshader.fragment=new ol.webgl.Fragment(ol.DEBUG_WEBGL?"precision mediump float;\nvarying vec2 v_texCoord;\n\n\nuniform float u_opacity;\nuniform sampler2D u_texture;\n\nvoid main(void) {\n  vec4 texColor = texture2D(u_texture, v_texCoord);\n  gl_FragColor.rgb = texColor.rgb;\n  gl_FragColor.a = texColor.a * u_opacity;\n}\n":"precision mediump float;varying vec2 a;uniform float f;uniform sampler2D g;void main(void){vec4 texColor=texture2D(g,a);gl_FragColor.rgb=texColor.rgb;gl_FragColor.a=texColor.a*f;}");ol.renderer.webgl.defaultmapshader.vertex=new ol.webgl.Vertex(ol.DEBUG_WEBGL?"varying vec2 v_texCoord;\n\n\nattribute vec2 a_position;\nattribute vec2 a_texCoord;\n\nuniform mat4 u_texCoordMatrix;\nuniform mat4 u_projectionMatrix;\n\nvoid main(void) {\n  gl_Position = u_projectionMatrix * vec4(a_position, 0., 1.);\n  v_texCoord = (u_texCoordMatrix * vec4(a_texCoord, 0., 1.)).st;\n}\n\n\n":"varying vec2 a;attribute vec2 b;attribute vec2 c;uniform mat4 d;uniform mat4 e;void main(void){gl_Position=e*vec4(b,0.,1.);a=(d*vec4(c,0.,1.)).st;}");goog.provide("ol.renderer.webgl.defaultmapshader.Locations");goog.require("ol");ol.renderer.webgl.defaultmapshader.Locations=function(e,t){this.u_texCoordMatrix=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_texCoordMatrix":"d");this.u_projectionMatrix=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_projectionMatrix":"e");this.u_opacity=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_opacity":"f");this.u_texture=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_texture":"g");this.a_position=e.getAttribLocation(t,ol.DEBUG_WEBGL?"a_position":"b");this.a_texCoord=e.getAttribLocation(t,ol.DEBUG_WEBGL?"a_texCoord":"c")};goog.provide("ol.renderer.webgl.Layer");goog.require("ol");goog.require("ol.render.Event");goog.require("ol.render.EventType");goog.require("ol.render.webgl.Immediate");goog.require("ol.renderer.Layer");goog.require("ol.renderer.webgl.defaultmapshader");goog.require("ol.renderer.webgl.defaultmapshader.Locations");goog.require("ol.transform");goog.require("ol.vec.Mat4");goog.require("ol.webgl");goog.require("ol.webgl.Buffer");goog.require("ol.webgl.Context");ol.renderer.webgl.Layer=function(e,t){ol.renderer.Layer.call(this,t);this.mapRenderer=e;this.arrayBuffer_=new ol.webgl.Buffer([-1,-1,0,0,1,-1,1,0,-1,1,0,1,1,1,1,1]);this.texture=null;this.framebuffer=null;this.framebufferDimension=undefined;this.texCoordMatrix=ol.transform.create();this.projectionMatrix=ol.transform.create();this.tmpMat4_=ol.vec.Mat4.create();this.defaultLocations_=null};ol.inherits(ol.renderer.webgl.Layer,ol.renderer.Layer);ol.renderer.webgl.Layer.prototype.bindFramebuffer=function(e,t){var o=this.mapRenderer.getGL();if(this.framebufferDimension===undefined||this.framebufferDimension!=t){var r=function(e,t,o){if(!e.isContextLost()){e.deleteFramebuffer(t);e.deleteTexture(o)}}.bind(null,o,this.framebuffer,this.texture);e.postRenderFunctions.push(r);var i=ol.webgl.Context.createEmptyTexture(o,t,t);var n=o.createFramebuffer();o.bindFramebuffer(ol.webgl.FRAMEBUFFER,n);o.framebufferTexture2D(ol.webgl.FRAMEBUFFER,ol.webgl.COLOR_ATTACHMENT0,ol.webgl.TEXTURE_2D,i,0);this.texture=i;this.framebuffer=n;this.framebufferDimension=t}else{o.bindFramebuffer(ol.webgl.FRAMEBUFFER,this.framebuffer)}};ol.renderer.webgl.Layer.prototype.composeFrame=function(e,t,o){this.dispatchComposeEvent_(ol.render.EventType.PRECOMPOSE,o,e);o.bindBuffer(ol.webgl.ARRAY_BUFFER,this.arrayBuffer_);var r=o.getGL();var i=ol.renderer.webgl.defaultmapshader.fragment;var n=ol.renderer.webgl.defaultmapshader.vertex;var l=o.getProgram(i,n);var a;if(!this.defaultLocations_){a=new ol.renderer.webgl.defaultmapshader.Locations(r,l);this.defaultLocations_=a}else{a=this.defaultLocations_}if(o.useProgram(l)){r.enableVertexAttribArray(a.a_position);r.vertexAttribPointer(a.a_position,2,ol.webgl.FLOAT,false,16,0);r.enableVertexAttribArray(a.a_texCoord);r.vertexAttribPointer(a.a_texCoord,2,ol.webgl.FLOAT,false,16,8);r.uniform1i(a.u_texture,0)}r.uniformMatrix4fv(a.u_texCoordMatrix,false,ol.vec.Mat4.fromTransform(this.tmpMat4_,this.getTexCoordMatrix()));r.uniformMatrix4fv(a.u_projectionMatrix,false,ol.vec.Mat4.fromTransform(this.tmpMat4_,this.getProjectionMatrix()));r.uniform1f(a.u_opacity,t.opacity);r.bindTexture(ol.webgl.TEXTURE_2D,this.getTexture());r.drawArrays(ol.webgl.TRIANGLE_STRIP,0,4);this.dispatchComposeEvent_(ol.render.EventType.POSTCOMPOSE,o,e)};ol.renderer.webgl.Layer.prototype.dispatchComposeEvent_=function(e,t,o){var r=this.getLayer();if(r.hasListener(e)){var i=o.viewState;var n=i.resolution;var l=o.pixelRatio;var a=o.extent;var s=i.center;var p=i.rotation;var g=o.size;var u=new ol.render.webgl.Immediate(t,s,n,p,g,a,l);var c=new ol.render.Event(e,u,o,null,t);r.dispatchEvent(c)}};ol.renderer.webgl.Layer.prototype.getTexCoordMatrix=function(){return this.texCoordMatrix};ol.renderer.webgl.Layer.prototype.getTexture=function(){return this.texture};ol.renderer.webgl.Layer.prototype.getProjectionMatrix=function(){return this.projectionMatrix};ol.renderer.webgl.Layer.prototype.handleWebGLContextLost=function(){this.texture=null;this.framebuffer=null;this.framebufferDimension=undefined};ol.renderer.webgl.Layer.prototype.prepareFrame=function(e,t,o){};ol.renderer.webgl.Layer.prototype.forEachLayerAtPixel=function(e,t,o,r){};goog.provide("ol.renderer.webgl.ImageLayer");goog.require("ol");goog.require("ol.LayerType");goog.require("ol.ViewHint");goog.require("ol.dom");goog.require("ol.extent");goog.require("ol.functions");goog.require("ol.renderer.Type");goog.require("ol.renderer.webgl.Layer");goog.require("ol.transform");goog.require("ol.webgl");goog.require("ol.webgl.Context");ol.renderer.webgl.ImageLayer=function(e,t){ol.renderer.webgl.Layer.call(this,e,t);this.image_=null;this.hitCanvasContext_=null;this.hitTransformationMatrix_=null};ol.inherits(ol.renderer.webgl.ImageLayer,ol.renderer.webgl.Layer);ol.renderer.webgl.ImageLayer["handles"]=function(e,t){return e===ol.renderer.Type.WEBGL&&t.getType()===ol.LayerType.IMAGE};ol.renderer.webgl.ImageLayer["create"]=function(e,t){return new ol.renderer.webgl.ImageLayer(e,t)};ol.renderer.webgl.ImageLayer.prototype.createTexture_=function(e){var t=e.getImage();var o=this.mapRenderer.getGL();return ol.webgl.Context.createTexture(o,t,ol.webgl.CLAMP_TO_EDGE,ol.webgl.CLAMP_TO_EDGE)};ol.renderer.webgl.ImageLayer.prototype.forEachFeatureAtCoordinate=function(e,t,o,r,i){var n=this.getLayer();var l=n.getSource();var a=t.viewState.resolution;var s=t.viewState.rotation;var p=t.skippedFeatureUids;return l.forEachFeatureAtCoordinate(e,a,s,o,p,function(e){return r.call(i,e,n)})};ol.renderer.webgl.ImageLayer.prototype.prepareFrame=function(e,t,o){var r=this.mapRenderer.getGL();var i=e.pixelRatio;var n=e.viewState;var l=n.center;var a=n.resolution;var s=n.rotation;var p=this.image_;var g=this.texture;var u=this.getLayer();var c=u.getSource();var y=e.viewHints;var d=e.extent;if(t.extent!==undefined){d=ol.extent.getIntersection(d,t.extent)}if(!y[ol.ViewHint.ANIMATING]&&!y[ol.ViewHint.INTERACTING]&&!ol.extent.isEmpty(d)){var h=n.projection;if(!ol.ENABLE_RASTER_REPROJECTION){var f=c.getProjection();if(f){h=f}}var m=c.getImage(d,a,i,h);if(m){var v=this.loadImage(m);if(v){p=m;g=this.createTexture_(m);if(this.texture){var _=function(e,t){if(!e.isContextLost()){e.deleteTexture(t)}}.bind(null,r,this.texture);e.postRenderFunctions.push(_)}}}}if(p){var S=this.mapRenderer.getContext().getCanvas();this.updateProjectionMatrix_(S.width,S.height,i,l,a,s,p.getExtent());this.hitTransformationMatrix_=null;var x=this.texCoordMatrix;ol.transform.reset(x);ol.transform.scale(x,1,-1);ol.transform.translate(x,0,-1);this.image_=p;this.texture=g;this.updateLogos(e,c)}return!!p};ol.renderer.webgl.ImageLayer.prototype.updateProjectionMatrix_=function(e,t,o,r,i,n,l){var a=e*i;var s=t*i;var p=this.projectionMatrix;ol.transform.reset(p);ol.transform.scale(p,o*2/a,o*2/s);ol.transform.rotate(p,-n);ol.transform.translate(p,l[0]-r[0],l[1]-r[1]);ol.transform.scale(p,(l[2]-l[0])/2,(l[3]-l[1])/2);ol.transform.translate(p,1,1)};ol.renderer.webgl.ImageLayer.prototype.hasFeatureAtCoordinate=function(e,t){var o=this.forEachFeatureAtCoordinate(e,t,0,ol.functions.TRUE,this);return o!==undefined};ol.renderer.webgl.ImageLayer.prototype.forEachLayerAtPixel=function(e,t,o,r){if(!this.image_||!this.image_.getImage()){return undefined}if(this.getLayer().getSource().forEachFeatureAtCoordinate!==ol.nullFunction){var i=ol.transform.apply(t.pixelToCoordinateTransform,e.slice());var n=this.forEachFeatureAtCoordinate(i,t,0,ol.functions.TRUE,this);if(n){return o.call(r,this.getLayer(),null)}else{return undefined}}else{var l=[this.image_.getImage().width,this.image_.getImage().height];if(!this.hitTransformationMatrix_){this.hitTransformationMatrix_=this.getHitTransformationMatrix_(t.size,l)}var a=ol.transform.apply(this.hitTransformationMatrix_,e.slice());if(a[0]<0||a[0]>l[0]||a[1]<0||a[1]>l[1]){return undefined}if(!this.hitCanvasContext_){this.hitCanvasContext_=ol.dom.createCanvasContext2D(1,1)}this.hitCanvasContext_.clearRect(0,0,1,1);this.hitCanvasContext_.drawImage(this.image_.getImage(),a[0],a[1],1,1,0,0,1,1);var s=this.hitCanvasContext_.getImageData(0,0,1,1).data;if(s[3]>0){return o.call(r,this.getLayer(),s)}else{return undefined}}};ol.renderer.webgl.ImageLayer.prototype.getHitTransformationMatrix_=function(e,t){var o=ol.transform.create();ol.transform.translate(o,-1,-1);ol.transform.scale(o,2/e[0],2/e[1]);ol.transform.translate(o,0,e[1]);ol.transform.scale(o,1,-1);var r=ol.transform.invert(this.projectionMatrix.slice());var i=ol.transform.create();ol.transform.translate(i,0,t[1]);ol.transform.scale(i,1,-1);ol.transform.scale(i,t[0]/2,t[1]/2);ol.transform.translate(i,1,1);ol.transform.multiply(i,r);ol.transform.multiply(i,o);return i};goog.provide("ol.renderer.webgl.Map");goog.require("ol");goog.require("ol.array");goog.require("ol.css");goog.require("ol.dom");goog.require("ol.events");goog.require("ol.has");goog.require("ol.layer.Layer");goog.require("ol.render.Event");goog.require("ol.render.EventType");goog.require("ol.render.webgl.Immediate");goog.require("ol.renderer.Map");goog.require("ol.renderer.Type");goog.require("ol.source.State");goog.require("ol.structs.LRUCache");goog.require("ol.structs.PriorityQueue");goog.require("ol.webgl");goog.require("ol.webgl.Context");goog.require("ol.webgl.ContextEventType");ol.renderer.webgl.Map=function(e,t){ol.renderer.Map.call(this,e,t);this.canvas_=document.createElement("CANVAS");this.canvas_.style.width="100%";this.canvas_.style.height="100%";this.canvas_.style.display="block";this.canvas_.className=ol.css.CLASS_UNSELECTABLE;e.insertBefore(this.canvas_,e.childNodes[0]||null);this.clipTileCanvasWidth_=0;this.clipTileCanvasHeight_=0;this.clipTileContext_=ol.dom.createCanvasContext2D();this.renderedVisible_=true;this.gl_=ol.webgl.getContext(this.canvas_,{antialias:true,depth:true,failIfMajorPerformanceCaveat:true,preserveDrawingBuffer:false,stencil:true});this.context_=new ol.webgl.Context(this.canvas_,this.gl_);ol.events.listen(this.canvas_,ol.webgl.ContextEventType.LOST,this.handleWebGLContextLost,this);ol.events.listen(this.canvas_,ol.webgl.ContextEventType.RESTORED,this.handleWebGLContextRestored,this);this.textureCache_=new ol.structs.LRUCache;this.focus_=null;this.tileTextureQueue_=new ol.structs.PriorityQueue(function(e){var t=e[1];var o=e[2];var r=t[0]-this.focus_[0];var i=t[1]-this.focus_[1];return 65536*Math.log(o)+Math.sqrt(r*r+i*i)/o}.bind(this),function(e){return e[0].getKey()});this.loadNextTileTexture_=function(e,t){if(!this.tileTextureQueue_.isEmpty()){this.tileTextureQueue_.reprioritize();var o=this.tileTextureQueue_.dequeue();var r=o[0];var i=o[3];var n=o[4];this.bindTileTexture(r,i,n,ol.webgl.LINEAR,ol.webgl.LINEAR)}return false}.bind(this);this.textureCacheFrameMarkerCount_=0;this.initializeGL_()};ol.inherits(ol.renderer.webgl.Map,ol.renderer.Map);ol.renderer.webgl.Map["handles"]=function(e){return ol.has.WEBGL&&e===ol.renderer.Type.WEBGL};ol.renderer.webgl.Map["create"]=function(e,t){return new ol.renderer.webgl.Map(e,t)};ol.renderer.webgl.Map.prototype.bindTileTexture=function(e,t,o,r,i){var n=this.getGL();var l=e.getKey();if(this.textureCache_.containsKey(l)){var a=this.textureCache_.get(l);n.bindTexture(ol.webgl.TEXTURE_2D,a.texture);if(a.magFilter!=r){n.texParameteri(ol.webgl.TEXTURE_2D,ol.webgl.TEXTURE_MAG_FILTER,r);a.magFilter=r}if(a.minFilter!=i){n.texParameteri(ol.webgl.TEXTURE_2D,ol.webgl.TEXTURE_MIN_FILTER,i);a.minFilter=i}}else{var s=n.createTexture();n.bindTexture(ol.webgl.TEXTURE_2D,s);if(o>0){var p=this.clipTileContext_.canvas;var g=this.clipTileContext_;if(this.clipTileCanvasWidth_!==t[0]||this.clipTileCanvasHeight_!==t[1]){p.width=t[0];p.height=t[1];this.clipTileCanvasWidth_=t[0];this.clipTileCanvasHeight_=t[1]}else{g.clearRect(0,0,t[0],t[1])}g.drawImage(e.getImage(),o,o,t[0],t[1],0,0,t[0],t[1]);n.texImage2D(ol.webgl.TEXTURE_2D,0,ol.webgl.RGBA,ol.webgl.RGBA,ol.webgl.UNSIGNED_BYTE,p)}else{n.texImage2D(ol.webgl.TEXTURE_2D,0,ol.webgl.RGBA,ol.webgl.RGBA,ol.webgl.UNSIGNED_BYTE,e.getImage())}n.texParameteri(ol.webgl.TEXTURE_2D,ol.webgl.TEXTURE_MAG_FILTER,r);n.texParameteri(ol.webgl.TEXTURE_2D,ol.webgl.TEXTURE_MIN_FILTER,i);n.texParameteri(ol.webgl.TEXTURE_2D,ol.webgl.TEXTURE_WRAP_S,ol.webgl.CLAMP_TO_EDGE);n.texParameteri(ol.webgl.TEXTURE_2D,ol.webgl.TEXTURE_WRAP_T,ol.webgl.CLAMP_TO_EDGE);this.textureCache_.set(l,{texture:s,magFilter:r,minFilter:i})}};ol.renderer.webgl.Map.prototype.dispatchComposeEvent_=function(e,t){var o=this.getMap();if(o.hasListener(e)){var r=this.context_;var i=t.extent;var n=t.size;var l=t.viewState;var a=t.pixelRatio;var s=l.resolution;var p=l.center;var g=l.rotation;var u=new ol.render.webgl.Immediate(r,p,s,g,n,i,a);var c=new ol.render.Event(e,u,t,null,r);o.dispatchEvent(c)}};ol.renderer.webgl.Map.prototype.disposeInternal=function(){var e=this.getGL();if(!e.isContextLost()){this.textureCache_.forEach(function(t){if(t){e.deleteTexture(t.texture)}})}this.context_.dispose();ol.renderer.Map.prototype.disposeInternal.call(this)};ol.renderer.webgl.Map.prototype.expireCache_=function(e,t){var o=this.getGL();var r;while(this.textureCache_.getCount()-this.textureCacheFrameMarkerCount_>ol.WEBGL_TEXTURE_CACHE_HIGH_WATER_MARK){r=this.textureCache_.peekLast();if(!r){if(+this.textureCache_.peekLastKey()==t.index){break}else{--this.textureCacheFrameMarkerCount_}}else{o.deleteTexture(r.texture)}this.textureCache_.pop()}};ol.renderer.webgl.Map.prototype.getContext=function(){return this.context_};ol.renderer.webgl.Map.prototype.getGL=function(){return this.gl_};ol.renderer.webgl.Map.prototype.getTileTextureQueue=function(){return this.tileTextureQueue_};ol.renderer.webgl.Map.prototype.getType=function(){return ol.renderer.Type.WEBGL};ol.renderer.webgl.Map.prototype.handleWebGLContextLost=function(e){e.preventDefault();this.textureCache_.clear();this.textureCacheFrameMarkerCount_=0;var t=this.getLayerRenderers();for(var o in t){var r=t[o];r.handleWebGLContextLost()}};ol.renderer.webgl.Map.prototype.handleWebGLContextRestored=function(){this.initializeGL_();this.getMap().render()};ol.renderer.webgl.Map.prototype.initializeGL_=function(){var e=this.gl_;e.activeTexture(ol.webgl.TEXTURE0);e.blendFuncSeparate(ol.webgl.SRC_ALPHA,ol.webgl.ONE_MINUS_SRC_ALPHA,ol.webgl.ONE,ol.webgl.ONE_MINUS_SRC_ALPHA);e.disable(ol.webgl.CULL_FACE);e.disable(ol.webgl.DEPTH_TEST);e.disable(ol.webgl.SCISSOR_TEST);e.disable(ol.webgl.STENCIL_TEST)};ol.renderer.webgl.Map.prototype.isTileTextureLoaded=function(e){return this.textureCache_.containsKey(e.getKey())};ol.renderer.webgl.Map.prototype.renderFrame=function(e){var t=this.getContext();var o=this.getGL();if(o.isContextLost()){return false}if(!e){if(this.renderedVisible_){this.canvas_.style.display="none";this.renderedVisible_=false}return false}this.focus_=e.focus;this.textureCache_.set((-e.index).toString(),null);++this.textureCacheFrameMarkerCount_;this.dispatchComposeEvent_(ol.render.EventType.PRECOMPOSE,e);var r=[];var i=e.layerStatesArray;ol.array.stableSort(i,ol.renderer.Map.sortByZIndex);var n=e.viewState.resolution;var l,a,s,p;for(l=0,a=i.length;l<a;++l){p=i[l];if(ol.layer.Layer.visibleAtResolution(p,n)&&p.sourceState==ol.source.State.READY){s=this.getLayerRenderer(p.layer);if(s.prepareFrame(e,p,t)){r.push(p)}}}var g=e.size[0]*e.pixelRatio;var u=e.size[1]*e.pixelRatio;if(this.canvas_.width!=g||this.canvas_.height!=u){this.canvas_.width=g;this.canvas_.height=u}o.bindFramebuffer(ol.webgl.FRAMEBUFFER,null);o.clearColor(0,0,0,0);o.clear(ol.webgl.COLOR_BUFFER_BIT);o.enable(ol.webgl.BLEND);o.viewport(0,0,this.canvas_.width,this.canvas_.height);for(l=0,a=r.length;l<a;++l){p=r[l];s=this.getLayerRenderer(p.layer);s.composeFrame(e,p,t)}if(!this.renderedVisible_){this.canvas_.style.display="";this.renderedVisible_=true}this.calculateMatrices2D(e);if(this.textureCache_.getCount()-this.textureCacheFrameMarkerCount_>ol.WEBGL_TEXTURE_CACHE_HIGH_WATER_MARK){e.postRenderFunctions.push(this.expireCache_.bind(this))}if(!this.tileTextureQueue_.isEmpty()){e.postRenderFunctions.push(this.loadNextTileTexture_);e.animate=true}this.dispatchComposeEvent_(ol.render.EventType.POSTCOMPOSE,e);this.scheduleRemoveUnusedLayerRenderers(e);this.scheduleExpireIconCache(e)};ol.renderer.webgl.Map.prototype.forEachFeatureAtCoordinate=function(e,t,o,r,i,n,l){var a;if(this.getGL().isContextLost()){return false}var s=t.viewState;var p=t.layerStatesArray;var g=p.length;var u;for(u=g-1;u>=0;--u){var c=p[u];var y=c.layer;if(ol.layer.Layer.visibleAtResolution(c,s.resolution)&&n.call(l,y)){var d=this.getLayerRenderer(y);a=d.forEachFeatureAtCoordinate(e,t,o,r,i);if(a){return a}}}return undefined};ol.renderer.webgl.Map.prototype.hasFeatureAtCoordinate=function(e,t,o,r,i){var n=false;if(this.getGL().isContextLost()){return false}var l=t.viewState;var a=t.layerStatesArray;var s=a.length;var p;for(p=s-1;p>=0;--p){var g=a[p];var u=g.layer;if(ol.layer.Layer.visibleAtResolution(g,l.resolution)&&r.call(i,u)){var c=this.getLayerRenderer(u);n=c.hasFeatureAtCoordinate(e,t);if(n){return true}}}return n};ol.renderer.webgl.Map.prototype.forEachLayerAtPixel=function(e,t,o,r,i,n){if(this.getGL().isContextLost()){return false}var l=t.viewState;var a;var s=t.layerStatesArray;var p=s.length;var g;for(g=p-1;g>=0;--g){var u=s[g];var c=u.layer;if(ol.layer.Layer.visibleAtResolution(u,l.resolution)&&i.call(r,c)){var y=this.getLayerRenderer(c);a=y.forEachLayerAtPixel(e,t,o,r);if(a){return a}}}return undefined};goog.provide("ol.renderer.webgl.tilelayershader");goog.require("ol");goog.require("ol.webgl.Fragment");goog.require("ol.webgl.Vertex");ol.renderer.webgl.tilelayershader.fragment=new ol.webgl.Fragment(ol.DEBUG_WEBGL?"precision mediump float;\nvarying vec2 v_texCoord;\n\n\nuniform sampler2D u_texture;\n\nvoid main(void) {\n  gl_FragColor = texture2D(u_texture, v_texCoord);\n}\n":"precision mediump float;varying vec2 a;uniform sampler2D e;void main(void){gl_FragColor=texture2D(e,a);}");ol.renderer.webgl.tilelayershader.vertex=new ol.webgl.Vertex(ol.DEBUG_WEBGL?"varying vec2 v_texCoord;\n\n\nattribute vec2 a_position;\nattribute vec2 a_texCoord;\nuniform vec4 u_tileOffset;\n\nvoid main(void) {\n  gl_Position = vec4(a_position * u_tileOffset.xy + u_tileOffset.zw, 0., 1.);\n  v_texCoord = a_texCoord;\n}\n\n\n":"varying vec2 a;attribute vec2 b;attribute vec2 c;uniform vec4 d;void main(void){gl_Position=vec4(b*d.xy+d.zw,0.,1.);a=c;}");goog.provide("ol.renderer.webgl.tilelayershader.Locations");goog.require("ol");ol.renderer.webgl.tilelayershader.Locations=function(e,t){this.u_tileOffset=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_tileOffset":"d");this.u_texture=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_texture":"e");this.a_position=e.getAttribLocation(t,ol.DEBUG_WEBGL?"a_position":"b");this.a_texCoord=e.getAttribLocation(t,ol.DEBUG_WEBGL?"a_texCoord":"c")};goog.provide("ol.renderer.webgl.TileLayer");goog.require("ol");goog.require("ol.LayerType");goog.require("ol.TileRange");goog.require("ol.TileState");goog.require("ol.array");goog.require("ol.extent");goog.require("ol.math");goog.require("ol.renderer.Type");goog.require("ol.renderer.webgl.Layer");goog.require("ol.renderer.webgl.tilelayershader");goog.require("ol.renderer.webgl.tilelayershader.Locations");goog.require("ol.size");goog.require("ol.transform");goog.require("ol.webgl");goog.require("ol.webgl.Buffer");ol.renderer.webgl.TileLayer=function(e,t){ol.renderer.webgl.Layer.call(this,e,t);this.fragmentShader_=ol.renderer.webgl.tilelayershader.fragment;this.vertexShader_=ol.renderer.webgl.tilelayershader.vertex;this.locations_=null;this.renderArrayBuffer_=new ol.webgl.Buffer([0,0,0,1,1,0,1,1,0,1,0,0,1,1,1,0]);this.renderedTileRange_=null;this.renderedFramebufferExtent_=null;this.renderedRevision_=-1;this.tmpSize_=[0,0]};ol.inherits(ol.renderer.webgl.TileLayer,ol.renderer.webgl.Layer);ol.renderer.webgl.TileLayer["handles"]=function(e,t){return e===ol.renderer.Type.WEBGL&&t.getType()===ol.LayerType.TILE};ol.renderer.webgl.TileLayer["create"]=function(e,t){return new ol.renderer.webgl.TileLayer(e,t)};ol.renderer.webgl.TileLayer.prototype.disposeInternal=function(){var e=this.mapRenderer.getContext();e.deleteBuffer(this.renderArrayBuffer_);ol.renderer.webgl.Layer.prototype.disposeInternal.call(this)};ol.renderer.webgl.TileLayer.prototype.createLoadedTileFinder=function(e,t,o){var r=this.mapRenderer;return function(i,n){function l(e){var t=r.isTileTextureLoaded(e);if(t){if(!o[i]){o[i]={}}o[i][e.tileCoord.toString()]=e}return t}return e.forEachLoadedTile(t,i,n,l)}};ol.renderer.webgl.TileLayer.prototype.handleWebGLContextLost=function(){ol.renderer.webgl.Layer.prototype.handleWebGLContextLost.call(this);this.locations_=null};ol.renderer.webgl.TileLayer.prototype.prepareFrame=function(e,t,o){var r=this.mapRenderer;var i=o.getGL();var n=e.viewState;var l=n.projection;var a=this.getLayer();var s=a.getSource();var p=s.getTileGridForProjection(l);var g=p.getZForResolution(n.resolution);var u=p.getResolution(g);var c=s.getTilePixelSize(g,e.pixelRatio,l);var y=c[0]/ol.size.toSize(p.getTileSize(g),this.tmpSize_)[0];var d=u/y;var h=s.getTilePixelRatio(y)*s.getGutter(l);var f=n.center;var m=e.extent;var v=p.getTileRangeForExtentAndZ(m,g);var _;if(this.renderedTileRange_&&this.renderedTileRange_.equals(v)&&this.renderedRevision_==s.getRevision()){_=this.renderedFramebufferExtent_}else{var S=v.getSize();var x=Math.max(S[0]*c[0],S[1]*c[1]);var P=ol.math.roundUpToPowerOfTwo(x);var E=d*P;var T=p.getOrigin(g);var R=T[0]+v.minX*c[0]*d;var L=T[1]+v.minY*c[1]*d;_=[R,L,R+E,L+E];this.bindFramebuffer(e,P);i.viewport(0,0,P,P);i.clearColor(0,0,0,0);i.clear(ol.webgl.COLOR_BUFFER_BIT);i.disable(ol.webgl.BLEND);var M=o.getProgram(this.fragmentShader_,this.vertexShader_);o.useProgram(M);if(!this.locations_){this.locations_=new ol.renderer.webgl.tilelayershader.Locations(i,M)}o.bindBuffer(ol.webgl.ARRAY_BUFFER,this.renderArrayBuffer_);i.enableVertexAttribArray(this.locations_.a_position);i.vertexAttribPointer(this.locations_.a_position,2,ol.webgl.FLOAT,false,16,0);i.enableVertexAttribArray(this.locations_.a_texCoord);i.vertexAttribPointer(this.locations_.a_texCoord,2,ol.webgl.FLOAT,false,16,8);i.uniform1i(this.locations_.u_texture,0);var C={};C[g]={};var I=this.createLoadedTileFinder(s,l,C);var A=a.getUseInterimTilesOnError();var O=true;var b=ol.extent.createEmpty();var w=new ol.TileRange(0,0,0,0);var F,N,G,D,q;var k,U,j;for(k=v.minX;k<=v.maxX;++k){for(U=v.minY;U<=v.maxY;++U){D=s.getTile(g,k,U,y,l);if(t.extent!==undefined){j=p.getTileCoordExtent(D.tileCoord,b);if(!ol.extent.intersects(j,t.extent)){continue}}q=D.getState();N=q==ol.TileState.LOADED||q==ol.TileState.EMPTY||q==ol.TileState.ERROR&&!A;if(!N){D=D.getInterimTile()}q=D.getState();if(q==ol.TileState.LOADED){if(r.isTileTextureLoaded(D)){C[g][D.tileCoord.toString()]=D;continue}}else if(q==ol.TileState.EMPTY||q==ol.TileState.ERROR&&!A){continue}O=false;G=p.forEachTileCoordParentTileRange(D.tileCoord,I,null,w,b);if(!G){F=p.getTileCoordChildTileRange(D.tileCoord,w,b);if(F){I(g+1,F)}}}}var V=Object.keys(C).map(Number);V.sort(ol.array.numberSafeCompareFunction);var W=new Float32Array(4);var B,K,X,Y;for(B=0,K=V.length;B<K;++B){Y=C[V[B]];for(X in Y){D=Y[X];j=p.getTileCoordExtent(D.tileCoord,b);W[0]=2*(j[2]-j[0])/E;W[1]=2*(j[3]-j[1])/E;W[2]=2*(j[0]-_[0])/E-1;W[3]=2*(j[1]-_[1])/E-1;i.uniform4fv(this.locations_.u_tileOffset,W);r.bindTileTexture(D,c,h*y,ol.webgl.LINEAR,ol.webgl.LINEAR);i.drawArrays(ol.webgl.TRIANGLE_STRIP,0,4)}}if(O){this.renderedTileRange_=v;this.renderedFramebufferExtent_=_;this.renderedRevision_=s.getRevision()}else{this.renderedTileRange_=null;this.renderedFramebufferExtent_=null;this.renderedRevision_=-1;e.animate=true}}this.updateUsedTiles(e.usedTiles,s,g,v);var Z=r.getTileTextureQueue();this.manageTilePyramid(e,s,p,y,l,m,g,a.getPreload(),function(e){if(e.getState()==ol.TileState.LOADED&&!r.isTileTextureLoaded(e)&&!Z.isKeyQueued(e.getKey())){Z.enqueue([e,p.getTileCoordCenter(e.tileCoord),p.getResolution(e.tileCoord[0]),c,h*y])}},this);this.scheduleExpireCache(e,s);this.updateLogos(e,s);var H=this.texCoordMatrix;ol.transform.reset(H);ol.transform.translate(H,(Math.round(f[0]/u)*u-_[0])/(_[2]-_[0]),(Math.round(f[1]/u)*u-_[1])/(_[3]-_[1]));if(n.rotation!==0){ol.transform.rotate(H,n.rotation)}ol.transform.scale(H,e.size[0]*n.resolution/(_[2]-_[0]),e.size[1]*n.resolution/(_[3]-_[1]));ol.transform.translate(H,-.5,-.5);return true};ol.renderer.webgl.TileLayer.prototype.forEachLayerAtPixel=function(e,t,o,r){if(!this.framebuffer){return undefined}var i=[e[0]/t.size[0],(t.size[1]-e[1])/t.size[1]];var n=ol.transform.apply(this.texCoordMatrix,i.slice());var l=[n[0]*this.framebufferDimension,n[1]*this.framebufferDimension];var a=this.mapRenderer.getContext().getGL();a.bindFramebuffer(a.FRAMEBUFFER,this.framebuffer);var s=new Uint8Array(4);a.readPixels(l[0],l[1],1,1,a.RGBA,a.UNSIGNED_BYTE,s);if(s[3]>0){return o.call(r,this.getLayer(),s)}else{return undefined}};goog.provide("ol.renderer.webgl.VectorLayer");goog.require("ol");goog.require("ol.LayerType");goog.require("ol.ViewHint");goog.require("ol.extent");goog.require("ol.render.webgl.ReplayGroup");goog.require("ol.renderer.Type");goog.require("ol.renderer.vector");goog.require("ol.renderer.webgl.Layer");goog.require("ol.transform");ol.renderer.webgl.VectorLayer=function(e,t){ol.renderer.webgl.Layer.call(this,e,t);this.dirty_=false;this.renderedRevision_=-1;this.renderedResolution_=NaN;this.renderedExtent_=ol.extent.createEmpty();this.renderedRenderOrder_=null;this.replayGroup_=null;this.layerState_=null};ol.inherits(ol.renderer.webgl.VectorLayer,ol.renderer.webgl.Layer);ol.renderer.webgl.VectorLayer["handles"]=function(e,t){return e===ol.renderer.Type.WEBGL&&t.getType()===ol.LayerType.VECTOR};ol.renderer.webgl.VectorLayer["create"]=function(e,t){return new ol.renderer.webgl.VectorLayer(e,t)};ol.renderer.webgl.VectorLayer.prototype.composeFrame=function(e,t,o){this.layerState_=t;var r=e.viewState;var i=this.replayGroup_;var n=e.size;var l=e.pixelRatio;var a=this.mapRenderer.getGL();if(i&&!i.isEmpty()){a.enable(a.SCISSOR_TEST);a.scissor(0,0,n[0]*l,n[1]*l);i.replay(o,r.center,r.resolution,r.rotation,n,l,t.opacity,t.managed?e.skippedFeatureUids:{});a.disable(a.SCISSOR_TEST)}};ol.renderer.webgl.VectorLayer.prototype.disposeInternal=function(){var e=this.replayGroup_;if(e){var t=this.mapRenderer.getContext();e.getDeleteResourcesFunction(t)();this.replayGroup_=null}ol.renderer.webgl.Layer.prototype.disposeInternal.call(this)};ol.renderer.webgl.VectorLayer.prototype.forEachFeatureAtCoordinate=function(e,t,o,r,i){if(!this.replayGroup_||!this.layerState_){return undefined}else{var n=this.mapRenderer.getContext();var l=t.viewState;var a=this.getLayer();var s=this.layerState_;var p={};return this.replayGroup_.forEachFeatureAtCoordinate(e,n,l.center,l.resolution,l.rotation,t.size,t.pixelRatio,s.opacity,{},function(e){var t=ol.getUid(e).toString();if(!(t in p)){p[t]=true;return r.call(i,e,a)}})}};ol.renderer.webgl.VectorLayer.prototype.hasFeatureAtCoordinate=function(e,t){if(!this.replayGroup_||!this.layerState_){return false}else{var o=this.mapRenderer.getContext();var r=t.viewState;var i=this.layerState_;return this.replayGroup_.hasFeatureAtCoordinate(e,o,r.center,r.resolution,r.rotation,t.size,t.pixelRatio,i.opacity,t.skippedFeatureUids)}};ol.renderer.webgl.VectorLayer.prototype.forEachLayerAtPixel=function(e,t,o,r){var i=ol.transform.apply(t.pixelToCoordinateTransform,e.slice());var n=this.hasFeatureAtCoordinate(i,t);if(n){return o.call(r,this.getLayer(),null)}else{return undefined}};ol.renderer.webgl.VectorLayer.prototype.handleStyleImageChange_=function(e){this.renderIfReadyAndVisible()};ol.renderer.webgl.VectorLayer.prototype.prepareFrame=function(e,t,o){var r=this.getLayer();var i=r.getSource();this.updateLogos(e,i);var n=e.viewHints[ol.ViewHint.ANIMATING];var l=e.viewHints[ol.ViewHint.INTERACTING];var a=r.getUpdateWhileAnimating();var s=r.getUpdateWhileInteracting();if(!this.dirty_&&(!a&&n)||!s&&l){return true}var p=e.extent;var g=e.viewState;var u=g.projection;var c=g.resolution;var y=e.pixelRatio;var d=r.getRevision();var h=r.getRenderBuffer();var f=r.getRenderOrder();if(f===undefined){f=ol.renderer.vector.defaultOrder}var m=ol.extent.buffer(p,h*c);if(!this.dirty_&&this.renderedResolution_==c&&this.renderedRevision_==d&&this.renderedRenderOrder_==f&&ol.extent.containsExtent(this.renderedExtent_,m)){return true}if(this.replayGroup_){e.postRenderFunctions.push(this.replayGroup_.getDeleteResourcesFunction(o))}this.dirty_=false;var v=new ol.render.webgl.ReplayGroup(ol.renderer.vector.getTolerance(c,y),m,r.getRenderBuffer());i.loadFeatures(m,c,u);var _=function(e){var t;var o=e.getStyleFunction();if(o){t=o.call(e,c)}else{o=r.getStyleFunction();if(o){t=o(e,c)}}if(t){var i=this.renderFeature(e,c,y,t,v);this.dirty_=this.dirty_||i}};if(f){var S=[];i.forEachFeatureInExtent(m,function(e){S.push(e)},this);S.sort(f);S.forEach(_,this)}else{i.forEachFeatureInExtent(m,_,this)}v.finish(o);this.renderedResolution_=c;this.renderedRevision_=d;this.renderedRenderOrder_=f;this.renderedExtent_=m;this.replayGroup_=v;return true};ol.renderer.webgl.VectorLayer.prototype.renderFeature=function(e,t,o,r,i){if(!r){return false}var n=false;if(Array.isArray(r)){for(var l=r.length-1,a=0;l>=a;--l){n=ol.renderer.vector.renderFeature(i,e,r[l],ol.renderer.vector.getSquaredTolerance(t,o),this.handleStyleImageChange_,this)||n}}else{n=ol.renderer.vector.renderFeature(i,e,r,ol.renderer.vector.getSquaredTolerance(t,o),this.handleStyleImageChange_,this)||n}return n};goog.provide("ol.Map");goog.require("ol");goog.require("ol.PluggableMap");goog.require("ol.PluginType");goog.require("ol.control");goog.require("ol.interaction");goog.require("ol.obj");goog.require("ol.plugins");goog.require("ol.renderer.canvas.ImageLayer");goog.require("ol.renderer.canvas.Map");goog.require("ol.renderer.canvas.TileLayer");goog.require("ol.renderer.canvas.VectorLayer");goog.require("ol.renderer.canvas.VectorTileLayer");goog.require("ol.renderer.webgl.ImageLayer");goog.require("ol.renderer.webgl.Map");goog.require("ol.renderer.webgl.TileLayer");goog.require("ol.renderer.webgl.VectorLayer");if(ol.ENABLE_CANVAS){ol.plugins.register(ol.PluginType.MAP_RENDERER,ol.renderer.canvas.Map);ol.plugins.registerMultiple(ol.PluginType.LAYER_RENDERER,[ol.renderer.canvas.ImageLayer,ol.renderer.canvas.TileLayer,ol.renderer.canvas.VectorLayer,ol.renderer.canvas.VectorTileLayer])}if(ol.ENABLE_WEBGL){ol.plugins.register(ol.PluginType.MAP_RENDERER,ol.renderer.webgl.Map);ol.plugins.registerMultiple(ol.PluginType.LAYER_RENDERER,[ol.renderer.webgl.ImageLayer,ol.renderer.webgl.TileLayer,ol.renderer.webgl.VectorLayer])}ol.Map=function(e){e=ol.obj.assign({},e);if(!e.controls){e.controls=ol.control.defaults()}if(!e.interactions){e.interactions=ol.interaction.defaults()}ol.PluggableMap.call(this,e)};ol.inherits(ol.Map,ol.PluggableMap);goog.provide("ol.net");goog.require("ol");ol.net.jsonp=function(e,t,o,r){var i=document.createElement("script");var n="olc_"+ol.getUid(t);function l(){delete window[n];i.parentNode.removeChild(i)}i.async=true;i.src=e+(e.indexOf("?")==-1?"?":"&")+(r||"callback")+"="+n;var a=setTimeout(function(){l();if(o){o()}},1e4);window[n]=function(e){clearTimeout(a);l();t(e)};document.getElementsByTagName("head")[0].appendChild(i)};goog.provide("ol.proj.common");goog.require("ol.proj");ol.proj.common.add=ol.proj.addCommon;goog.provide("ol.render");goog.require("ol.has");goog.require("ol.transform");goog.require("ol.render.canvas.Immediate");ol.render.toContext=function(e,t){var o=e.canvas;var r=t?t:{};var i=r.pixelRatio||ol.has.DEVICE_PIXEL_RATIO;var n=r.size;if(n){o.width=n[0]*i;o.height=n[1]*i;o.style.width=n[0]+"px";o.style.height=n[1]+"px"}var l=[0,0,o.width,o.height];var a=ol.transform.scale(ol.transform.create(),i,i);return new ol.render.canvas.Immediate(e,i,l,a,0)};goog.provide("ol.reproj");goog.require("ol.dom");goog.require("ol.extent");goog.require("ol.math");goog.require("ol.proj");ol.reproj.calculateSourceResolution=function(e,t,o,r){var i=ol.proj.transform(o,t,e);var n=ol.proj.getPointResolution(t,r,o);var l=t.getMetersPerUnit();if(l!==undefined){n*=l}var a=e.getMetersPerUnit();if(a!==undefined){n/=a}var s=e.getExtent();if(!s||ol.extent.containsCoordinate(s,i)){var p=ol.proj.getPointResolution(e,n,i)/n;if(isFinite(p)&&p>0){n/=p}}return n};ol.reproj.enlargeClipPoint_=function(e,t,o,r){var i=o-e,n=r-t;var l=Math.sqrt(i*i+n*n);return[Math.round(o+i/l),Math.round(r+n/l)]};ol.reproj.render=function(e,t,o,r,i,n,l,a,s,p,g){var u=ol.dom.createCanvasContext2D(Math.round(o*e),Math.round(o*t));if(s.length===0){return u.canvas}u.scale(o,o);var c=ol.extent.createEmpty();s.forEach(function(e,t,o){ol.extent.extend(c,e.extent)});var y=ol.extent.getWidth(c);var d=ol.extent.getHeight(c);var h=ol.dom.createCanvasContext2D(Math.round(o*y/r),Math.round(o*d/r));var f=o/r;s.forEach(function(e,t,o){var r=e.extent[0]-c[0];var i=-(e.extent[3]-c[3]);var n=ol.extent.getWidth(e.extent);var l=ol.extent.getHeight(e.extent);h.drawImage(e.image,p,p,e.image.width-2*p,e.image.height-2*p,r*f,i*f,n*f,l*f)});var m=ol.extent.getTopLeft(l);a.getTriangles().forEach(function(e,t,i){var l=e.source,a=e.target;var s=l[0][0],p=l[0][1],g=l[1][0],y=l[1][1],d=l[2][0],f=l[2][1];var v=(a[0][0]-m[0])/n,_=-(a[0][1]-m[1])/n;var S=(a[1][0]-m[0])/n,x=-(a[1][1]-m[1])/n;var P=(a[2][0]-m[0])/n,E=-(a[2][1]-m[1])/n;var T=s,R=p;s=0;p=0;g-=T;y-=R;d-=T;f-=R;var L=[[g,y,0,0,S-v],[d,f,0,0,P-v],[0,0,g,y,x-_],[0,0,d,f,E-_]];var M=ol.math.solveLinearSystem(L);if(!M){return}u.save();u.beginPath();var C=(v+S+P)/3,I=(_+x+E)/3;var A=ol.reproj.enlargeClipPoint_(C,I,v,_);var O=ol.reproj.enlargeClipPoint_(C,I,S,x);var b=ol.reproj.enlargeClipPoint_(C,I,P,E);u.moveTo(O[0],O[1]);u.lineTo(A[0],A[1]);u.lineTo(b[0],b[1]);u.clip();u.transform(M[0],M[2],M[1],M[3],v,_);u.translate(c[0]-T,c[3]-R);u.scale(r/o,-r/o);u.drawImage(h.canvas,0,0);u.restore()});if(g){u.save();u.strokeStyle="black";u.lineWidth=1;a.getTriangles().forEach(function(e,t,o){var r=e.target;var i=(r[0][0]-m[0])/n,l=-(r[0][1]-m[1])/n;var a=(r[1][0]-m[0])/n,s=-(r[1][1]-m[1])/n;var p=(r[2][0]-m[0])/n,g=-(r[2][1]-m[1])/n;u.beginPath();u.moveTo(a,s);u.lineTo(i,l);u.lineTo(p,g);u.closePath();u.stroke()});u.restore()}return u.canvas};goog.provide("ol.reproj.Triangulation");goog.require("ol");goog.require("ol.extent");goog.require("ol.math");goog.require("ol.proj");ol.reproj.Triangulation=function(e,t,o,r,i){this.sourceProj_=e;this.targetProj_=t;var n={};var l=ol.proj.getTransform(this.targetProj_,this.sourceProj_);this.transformInv_=function(e){var t=e[0]+"/"+e[1];if(!n[t]){n[t]=l(e)}return n[t]};this.maxSourceExtent_=r;this.errorThresholdSquared_=i*i;this.triangles_=[];this.wrapsXInSource_=false;this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!r&&!!this.sourceProj_.getExtent()&&ol.extent.getWidth(r)==ol.extent.getWidth(this.sourceProj_.getExtent());this.sourceWorldWidth_=this.sourceProj_.getExtent()?ol.extent.getWidth(this.sourceProj_.getExtent()):null;this.targetWorldWidth_=this.targetProj_.getExtent()?ol.extent.getWidth(this.targetProj_.getExtent()):null;var a=ol.extent.getTopLeft(o);var s=ol.extent.getTopRight(o);var p=ol.extent.getBottomRight(o);var g=ol.extent.getBottomLeft(o);var u=this.transformInv_(a);var c=this.transformInv_(s);var y=this.transformInv_(p);var d=this.transformInv_(g);this.addQuad_(a,s,p,g,u,c,y,d,ol.RASTER_REPROJECTION_MAX_SUBDIVISION);if(this.wrapsXInSource_){var h=Infinity;this.triangles_.forEach(function(e,t,o){h=Math.min(h,e.source[0][0],e.source[1][0],e.source[2][0])});this.triangles_.forEach(function(e){if(Math.max(e.source[0][0],e.source[1][0],e.source[2][0])-h>this.sourceWorldWidth_/2){var t=[[e.source[0][0],e.source[0][1]],[e.source[1][0],e.source[1][1]],[e.source[2][0],e.source[2][1]]];if(t[0][0]-h>this.sourceWorldWidth_/2){t[0][0]-=this.sourceWorldWidth_}if(t[1][0]-h>this.sourceWorldWidth_/2){t[1][0]-=this.sourceWorldWidth_}if(t[2][0]-h>this.sourceWorldWidth_/2){t[2][0]-=this.sourceWorldWidth_}var o=Math.min(t[0][0],t[1][0],t[2][0]);var r=Math.max(t[0][0],t[1][0],t[2][0]);if(r-o<this.sourceWorldWidth_/2){e.source=t}}},this)}n={}};ol.reproj.Triangulation.prototype.addTriangle_=function(e,t,o,r,i,n){this.triangles_.push({source:[r,i,n],target:[e,t,o]})};ol.reproj.Triangulation.prototype.addQuad_=function(e,t,o,r,i,n,l,a,s){var p=ol.extent.boundingExtent([i,n,l,a]);var g=this.sourceWorldWidth_?ol.extent.getWidth(p)/this.sourceWorldWidth_:null;var u=this.sourceWorldWidth_;var c=this.sourceProj_.canWrapX()&&g>.5&&g<1;var y=false;if(s>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var d=ol.extent.boundingExtent([e,t,o,r]);var h=ol.extent.getWidth(d)/this.targetWorldWidth_;y|=h>ol.RASTER_REPROJECTION_MAX_TRIANGLE_WIDTH}if(!c&&this.sourceProj_.isGlobal()&&g){y|=g>ol.RASTER_REPROJECTION_MAX_TRIANGLE_WIDTH}}if(!y&&this.maxSourceExtent_){if(!ol.extent.intersects(p,this.maxSourceExtent_)){return}}if(!y){if(!isFinite(i[0])||!isFinite(i[1])||!isFinite(n[0])||!isFinite(n[1])||!isFinite(l[0])||!isFinite(l[1])||!isFinite(a[0])||!isFinite(a[1])){if(s>0){y=true}else{return}}}if(s>0){if(!y){var f=[(e[0]+o[0])/2,(e[1]+o[1])/2];var m=this.transformInv_(f);var v;if(c){var _=(ol.math.modulo(i[0],u)+ol.math.modulo(l[0],u))/2;v=_-ol.math.modulo(m[0],u)}else{v=(i[0]+l[0])/2-m[0]}var S=(i[1]+l[1])/2-m[1];var x=v*v+S*S;y=x>this.errorThresholdSquared_}if(y){if(Math.abs(e[0]-o[0])<=Math.abs(e[1]-o[1])){var P=[(t[0]+o[0])/2,(t[1]+o[1])/2];var E=this.transformInv_(P);var T=[(r[0]+e[0])/2,(r[1]+e[1])/2];var R=this.transformInv_(T);this.addQuad_(e,t,P,T,i,n,E,R,s-1);this.addQuad_(T,P,o,r,R,E,l,a,s-1)}else{var L=[(e[0]+t[0])/2,(e[1]+t[1])/2];var M=this.transformInv_(L);var C=[(o[0]+r[0])/2,(o[1]+r[1])/2];var I=this.transformInv_(C);this.addQuad_(e,L,C,r,i,M,I,a,s-1);this.addQuad_(L,t,o,C,M,n,l,I,s-1)}return}}if(c){if(!this.canWrapXInSource_){return}this.wrapsXInSource_=true}this.addTriangle_(e,o,r,i,l,a);this.addTriangle_(e,t,o,i,n,l)};ol.reproj.Triangulation.prototype.calculateSourceExtent=function(){var e=ol.extent.createEmpty();this.triangles_.forEach(function(t,o,r){var i=t.source;ol.extent.extendCoordinate(e,i[0]);ol.extent.extendCoordinate(e,i[1]);ol.extent.extendCoordinate(e,i[2])});return e};ol.reproj.Triangulation.prototype.getTriangles=function(){return this.triangles_};goog.provide("ol.reproj.Image");goog.require("ol");goog.require("ol.ImageBase");goog.require("ol.ImageState");goog.require("ol.events");goog.require("ol.events.EventType");goog.require("ol.extent");goog.require("ol.reproj");goog.require("ol.reproj.Triangulation");ol.reproj.Image=function(e,t,o,r,i,n){this.targetProj_=t;this.maxSourceExtent_=e.getExtent();var l=t.getExtent();var a=l?ol.extent.getIntersection(o,l):o;var s=ol.extent.getCenter(a);var p=ol.reproj.calculateSourceResolution(e,t,s,r);var g=ol.DEFAULT_RASTER_REPROJECTION_ERROR_THRESHOLD;this.triangulation_=new ol.reproj.Triangulation(e,t,a,this.maxSourceExtent_,p*g);this.targetResolution_=r;this.targetExtent_=o;var u=this.triangulation_.calculateSourceExtent();this.sourceImage_=n(u,p,i);this.sourcePixelRatio_=this.sourceImage_?this.sourceImage_.getPixelRatio():1;this.canvas_=null;this.sourceListenerKey_=null;var c=ol.ImageState.LOADED;if(this.sourceImage_){c=ol.ImageState.IDLE}ol.ImageBase.call(this,o,r,this.sourcePixelRatio_,c)};ol.inherits(ol.reproj.Image,ol.ImageBase);ol.reproj.Image.prototype.disposeInternal=function(){if(this.state==ol.ImageState.LOADING){this.unlistenSource_()}ol.ImageBase.prototype.disposeInternal.call(this)};ol.reproj.Image.prototype.getImage=function(){return this.canvas_};ol.reproj.Image.prototype.getProjection=function(){return this.targetProj_};ol.reproj.Image.prototype.reproject_=function(){var e=this.sourceImage_.getState();if(e==ol.ImageState.LOADED){var t=ol.extent.getWidth(this.targetExtent_)/this.targetResolution_;var o=ol.extent.getHeight(this.targetExtent_)/this.targetResolution_;this.canvas_=ol.reproj.render(t,o,this.sourcePixelRatio_,this.sourceImage_.getResolution(),this.maxSourceExtent_,this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()}],0)}this.state=e;this.changed()};ol.reproj.Image.prototype.load=function(){if(this.state==ol.ImageState.IDLE){this.state=ol.ImageState.LOADING;this.changed();var e=this.sourceImage_.getState();if(e==ol.ImageState.LOADED||e==ol.ImageState.ERROR){this.reproject_()}else{this.sourceListenerKey_=ol.events.listen(this.sourceImage_,ol.events.EventType.CHANGE,function(e){var t=this.sourceImage_.getState();if(t==ol.ImageState.LOADED||t==ol.ImageState.ERROR){this.unlistenSource_();this.reproject_()}},this);this.sourceImage_.load()}}};ol.reproj.Image.prototype.unlistenSource_=function(){ol.events.unlistenByKey(this.sourceListenerKey_);this.sourceListenerKey_=null};goog.provide("ol.reproj.Tile");goog.require("ol");goog.require("ol.Tile");goog.require("ol.TileState");goog.require("ol.events");goog.require("ol.events.EventType");goog.require("ol.extent");goog.require("ol.math");goog.require("ol.reproj");goog.require("ol.reproj.Triangulation");ol.reproj.Tile=function(e,t,o,r,i,n,l,a,s,p,g){ol.Tile.call(this,i,ol.TileState.IDLE);this.renderEdges_=g!==undefined?g:false;this.pixelRatio_=l;this.gutter_=a;this.canvas_=null;this.sourceTileGrid_=t;this.targetTileGrid_=r;this.wrappedTileCoord_=n?n:i;this.sourceTiles_=[];this.sourcesListenerKeys_=null;this.sourceZ_=0;var u=r.getTileCoordExtent(this.wrappedTileCoord_);var c=this.targetTileGrid_.getExtent();var y=this.sourceTileGrid_.getExtent();var d=c?ol.extent.getIntersection(u,c):u;if(ol.extent.getArea(d)===0){this.state=ol.TileState.EMPTY;return}var h=e.getExtent();if(h){if(!y){y=h}else{y=ol.extent.getIntersection(y,h)}}var f=r.getResolution(this.wrappedTileCoord_[0]);var m=ol.extent.getCenter(d);var v=ol.reproj.calculateSourceResolution(e,o,m,f);if(!isFinite(v)||v<=0){this.state=ol.TileState.EMPTY;return}var _=p!==undefined?p:ol.DEFAULT_RASTER_REPROJECTION_ERROR_THRESHOLD;this.triangulation_=new ol.reproj.Triangulation(e,o,d,y,v*_);if(this.triangulation_.getTriangles().length===0){this.state=ol.TileState.EMPTY;return}this.sourceZ_=t.getZForResolution(v);var S=this.triangulation_.calculateSourceExtent();if(y){if(e.canWrapX()){S[1]=ol.math.clamp(S[1],y[1],y[3]);S[3]=ol.math.clamp(S[3],y[1],y[3])}else{S=ol.extent.getIntersection(S,y)}}if(!ol.extent.getArea(S)){this.state=ol.TileState.EMPTY}else{var x=t.getTileRangeForExtentAndZ(S,this.sourceZ_);for(var P=x.minX;P<=x.maxX;P++){for(var E=x.minY;E<=x.maxY;E++){var T=s(this.sourceZ_,P,E,l);if(T){this.sourceTiles_.push(T)}}}if(this.sourceTiles_.length===0){this.state=ol.TileState.EMPTY}}};ol.inherits(ol.reproj.Tile,ol.Tile);ol.reproj.Tile.prototype.disposeInternal=function(){if(this.state==ol.TileState.LOADING){this.unlistenSources_()}ol.Tile.prototype.disposeInternal.call(this)};ol.reproj.Tile.prototype.getImage=function(){return this.canvas_};ol.reproj.Tile.prototype.reproject_=function(){var e=[];this.sourceTiles_.forEach(function(t,o,r){if(t&&t.getState()==ol.TileState.LOADED){e.push({extent:this.sourceTileGrid_.getTileCoordExtent(t.tileCoord),image:t.getImage()})}},this);this.sourceTiles_.length=0;if(e.length===0){this.state=ol.TileState.ERROR}else{var t=this.wrappedTileCoord_[0];var o=this.targetTileGrid_.getTileSize(t);var r=typeof o==="number"?o:o[0];var i=typeof o==="number"?o:o[1];var n=this.targetTileGrid_.getResolution(t);var l=this.sourceTileGrid_.getResolution(this.sourceZ_);var a=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=ol.reproj.render(r,i,this.pixelRatio_,l,this.sourceTileGrid_.getExtent(),n,a,this.triangulation_,e,this.gutter_,this.renderEdges_);this.state=ol.TileState.LOADED}this.changed()};ol.reproj.Tile.prototype.load=function(){if(this.state==ol.TileState.IDLE){this.state=ol.TileState.LOADING;this.changed();var e=0;this.sourcesListenerKeys_=[];this.sourceTiles_.forEach(function(t,o,r){var i=t.getState();if(i==ol.TileState.IDLE||i==ol.TileState.LOADING){e++;var n;n=ol.events.listen(t,ol.events.EventType.CHANGE,function(o){var r=t.getState();if(r==ol.TileState.LOADED||r==ol.TileState.ERROR||r==ol.TileState.EMPTY){ol.events.unlistenByKey(n);e--;if(e===0){this.unlistenSources_();this.reproject_()}}},this);this.sourcesListenerKeys_.push(n)}},this);this.sourceTiles_.forEach(function(e,t,o){var r=e.getState();if(r==ol.TileState.IDLE){e.load()}});if(e===0){setTimeout(this.reproject_.bind(this),0)}}};ol.reproj.Tile.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(ol.events.unlistenByKey);this.sourcesListenerKeys_=null};goog.provide("ol.TileUrlFunction");goog.require("ol.asserts");goog.require("ol.math");goog.require("ol.tilecoord");ol.TileUrlFunction.createFromTemplate=function(e,t){var o=/\{z\}/g;var r=/\{x\}/g;var i=/\{y\}/g;var n=/\{-y\}/g;return function(l,a,s){if(!l){return undefined}else{return e.replace(o,l[0].toString()).replace(r,l[1].toString()).replace(i,function(){var e=-l[2]-1;return e.toString()}).replace(n,function(){var e=l[0];var o=t.getFullTileRange(e);ol.asserts.assert(o,55);var r=o.getHeight()+l[2];return r.toString()})}}};ol.TileUrlFunction.createFromTemplates=function(e,t){var o=e.length;var r=new Array(o);for(var i=0;i<o;++i){r[i]=ol.TileUrlFunction.createFromTemplate(e[i],t)}return ol.TileUrlFunction.createFromTileUrlFunctions(r)};ol.TileUrlFunction.createFromTileUrlFunctions=function(e){if(e.length===1){return e[0]}return function(t,o,r){if(!t){return undefined}else{var i=ol.tilecoord.hash(t);var n=ol.math.modulo(i,e.length);return e[n](t,o,r)}}};ol.TileUrlFunction.nullTileUrlFunction=function(e,t,o){return undefined};ol.TileUrlFunction.expandUrl=function(e){var t=[];var o=/\{([a-z])-([a-z])\}/.exec(e);if(o){var r=o[1].charCodeAt(0);var i=o[2].charCodeAt(0);var n;for(n=r;n<=i;++n){t.push(e.replace(o[0],String.fromCharCode(n)))}return t}o=o=/\{(\d+)-(\d+)\}/.exec(e);if(o){var l=parseInt(o[2],10);for(var a=parseInt(o[1],10);a<=l;a++){t.push(e.replace(o[0],a.toString()))}return t}t.push(e);return t};goog.provide("ol.TileCache");goog.require("ol");goog.require("ol.structs.LRUCache");goog.require("ol.tilecoord");ol.TileCache=function(e){ol.structs.LRUCache.call(this,e)};ol.inherits(ol.TileCache,ol.structs.LRUCache);ol.TileCache.prototype.expireCache=function(e){var t,o;while(this.canExpireCache()){t=this.peekLast();o=t.tileCoord[0].toString();if(o in e&&e[o].contains(t.tileCoord)){break}else{this.pop().dispose()}}};ol.TileCache.prototype.pruneExceptNewestZ=function(){if(this.getCount()===0){return}var e=this.peekFirstKey();var t=ol.tilecoord.fromKey(e);var o=t[0];this.forEach(function(e){if(e.tileCoord[0]!==o){this.remove(ol.tilecoord.getKey(e.tileCoord));e.dispose()}},this)};goog.provide("ol.source.Tile");goog.require("ol");goog.require("ol.TileCache");goog.require("ol.TileState");goog.require("ol.events.Event");goog.require("ol.proj");goog.require("ol.size");goog.require("ol.source.Source");goog.require("ol.tilecoord");goog.require("ol.tilegrid");ol.source.Tile=function(e){ol.source.Source.call(this,{attributions:e.attributions,extent:e.extent,logo:e.logo,projection:e.projection,state:e.state,wrapX:e.wrapX});this.opaque_=e.opaque!==undefined?e.opaque:false;this.tilePixelRatio_=e.tilePixelRatio!==undefined?e.tilePixelRatio:1;this.tileGrid=e.tileGrid!==undefined?e.tileGrid:null;this.tileCache=new ol.TileCache(e.cacheSize);this.tmpSize=[0,0];this.key_="";this.tileOptions={transition:e.transition}};ol.inherits(ol.source.Tile,ol.source.Source);ol.source.Tile.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()};ol.source.Tile.prototype.expireCache=function(e,t){var o=this.getTileCacheForProjection(e);if(o){o.expireCache(t)}};ol.source.Tile.prototype.forEachLoadedTile=function(e,t,o,r){var i=this.getTileCacheForProjection(e);if(!i){return false}var n=true;var l,a,s;for(var p=o.minX;p<=o.maxX;++p){for(var g=o.minY;g<=o.maxY;++g){a=ol.tilecoord.getKeyZXY(t,p,g);s=false;if(i.containsKey(a)){l=i.get(a);s=l.getState()===ol.TileState.LOADED;if(s){s=r(l)!==false}}if(!s){n=false}}}return n};ol.source.Tile.prototype.getGutter=function(e){return 0};ol.source.Tile.prototype.getKey=function(){return this.key_};ol.source.Tile.prototype.setKey=function(e){if(this.key_!==e){this.key_=e;this.changed()}};ol.source.Tile.prototype.getOpaque=function(e){return this.opaque_};ol.source.Tile.prototype.getResolutions=function(){return this.tileGrid.getResolutions()};ol.source.Tile.prototype.getTile=function(e,t,o,r,i){};ol.source.Tile.prototype.getTileGrid=function(){return this.tileGrid};ol.source.Tile.prototype.getTileGridForProjection=function(e){if(!this.tileGrid){return ol.tilegrid.getForProjection(e)}else{return this.tileGrid}};ol.source.Tile.prototype.getTileCacheForProjection=function(e){var t=this.getProjection();if(t&&!ol.proj.equivalent(t,e)){return null}else{return this.tileCache}};ol.source.Tile.prototype.getTilePixelRatio=function(e){return this.tilePixelRatio_};ol.source.Tile.prototype.getTilePixelSize=function(e,t,o){var r=this.getTileGridForProjection(o);var i=this.getTilePixelRatio(t);var n=ol.size.toSize(r.getTileSize(e),this.tmpSize);if(i==1){return n}else{return ol.size.scale(n,i,this.tmpSize)}};ol.source.Tile.prototype.getTileCoordForTileUrlFunction=function(e,t){var o=t!==undefined?t:this.getProjection();var r=this.getTileGridForProjection(o);if(this.getWrapX()&&o.isGlobal()){e=ol.tilegrid.wrapX(r,e,o)}return ol.tilecoord.withinExtentAndZ(e,r)?e:null};ol.source.Tile.prototype.refresh=function(){this.tileCache.clear();this.changed()};ol.source.Tile.prototype.useTile=ol.nullFunction;ol.source.Tile.Event=function(e,t){ol.events.Event.call(this,e);this.tile=t};ol.inherits(ol.source.Tile.Event,ol.events.Event);goog.provide("ol.source.TileEventType");ol.source.TileEventType={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"};goog.provide("ol.source.UrlTile");goog.require("ol");goog.require("ol.TileState");goog.require("ol.TileUrlFunction");goog.require("ol.source.Tile");goog.require("ol.source.TileEventType");goog.require("ol.tilecoord");ol.source.UrlTile=function(e){ol.source.Tile.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,extent:e.extent,logo:e.logo,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition});this.tileLoadFunction=e.tileLoadFunction;this.tileUrlFunction=this.fixedTileUrlFunction?this.fixedTileUrlFunction.bind(this):ol.TileUrlFunction.nullTileUrlFunction;this.urls=null;if(e.urls){this.setUrls(e.urls)}else if(e.url){this.setUrl(e.url)}if(e.tileUrlFunction){this.setTileUrlFunction(e.tileUrlFunction)}this.tileLoadingKeys_={}};ol.inherits(ol.source.UrlTile,ol.source.Tile);ol.source.UrlTile.prototype.fixedTileUrlFunction;ol.source.UrlTile.prototype.getTileLoadFunction=function(){return this.tileLoadFunction};ol.source.UrlTile.prototype.getTileUrlFunction=function(){return this.tileUrlFunction};ol.source.UrlTile.prototype.getUrls=function(){return this.urls};ol.source.UrlTile.prototype.handleTileChange=function(e){var t=e.target;var o=ol.getUid(t);var r=t.getState();var i;if(r==ol.TileState.LOADING){this.tileLoadingKeys_[o]=true;i=ol.source.TileEventType.TILELOADSTART}else if(o in this.tileLoadingKeys_){delete this.tileLoadingKeys_[o];i=r==ol.TileState.ERROR?ol.source.TileEventType.TILELOADERROR:r==ol.TileState.LOADED||r==ol.TileState.ABORT?ol.source.TileEventType.TILELOADEND:undefined}if(i!=undefined){this.dispatchEvent(new ol.source.Tile.Event(i,t))}};ol.source.UrlTile.prototype.setTileLoadFunction=function(e){this.tileCache.clear();this.tileLoadFunction=e;this.changed()};ol.source.UrlTile.prototype.setTileUrlFunction=function(e,t){this.tileUrlFunction=e;this.tileCache.pruneExceptNewestZ();if(typeof t!=="undefined"){this.setKey(t)}else{this.changed()}};ol.source.UrlTile.prototype.setUrl=function(e){var t=this.urls=ol.TileUrlFunction.expandUrl(e);this.setTileUrlFunction(this.fixedTileUrlFunction?this.fixedTileUrlFunction.bind(this):ol.TileUrlFunction.createFromTemplates(t,this.tileGrid),e)};ol.source.UrlTile.prototype.setUrls=function(e){this.urls=e;var t=e.join("\n");this.setTileUrlFunction(this.fixedTileUrlFunction?this.fixedTileUrlFunction.bind(this):ol.TileUrlFunction.createFromTemplates(e,this.tileGrid),t)};ol.source.UrlTile.prototype.useTile=function(e,t,o){var r=ol.tilecoord.getKeyZXY(e,t,o);if(this.tileCache.containsKey(r)){this.tileCache.get(r)}};goog.provide("ol.source.TileImage");goog.require("ol");goog.require("ol.ImageTile");goog.require("ol.TileCache");goog.require("ol.TileState");goog.require("ol.events");goog.require("ol.events.EventType");goog.require("ol.proj");goog.require("ol.reproj.Tile");goog.require("ol.source.UrlTile");goog.require("ol.tilecoord");goog.require("ol.tilegrid");ol.source.TileImage=function(e){ol.source.UrlTile.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,extent:e.extent,logo:e.logo,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:ol.source.TileImage.defaultTileLoadFunction,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition});this.crossOrigin=e.crossOrigin!==undefined?e.crossOrigin:null;this.tileClass=e.tileClass!==undefined?e.tileClass:ol.ImageTile;this.tileCacheForProjection={};this.tileGridForProjection={};this.reprojectionErrorThreshold_=e.reprojectionErrorThreshold;this.renderReprojectionEdges_=false};ol.inherits(ol.source.TileImage,ol.source.UrlTile);ol.source.TileImage.prototype.canExpireCache=function(){if(!ol.ENABLE_RASTER_REPROJECTION){return ol.source.UrlTile.prototype.canExpireCache.call(this)}if(this.tileCache.canExpireCache()){return true}else{for(var e in this.tileCacheForProjection){if(this.tileCacheForProjection[e].canExpireCache()){return true}}}return false};ol.source.TileImage.prototype.expireCache=function(e,t){if(!ol.ENABLE_RASTER_REPROJECTION){ol.source.UrlTile.prototype.expireCache.call(this,e,t);return}var o=this.getTileCacheForProjection(e);this.tileCache.expireCache(this.tileCache==o?t:{});for(var r in this.tileCacheForProjection){var i=this.tileCacheForProjection[r];i.expireCache(i==o?t:{})}};ol.source.TileImage.prototype.getGutter=function(e){if(ol.ENABLE_RASTER_REPROJECTION&&this.getProjection()&&e&&!ol.proj.equivalent(this.getProjection(),e)){return 0}else{return this.getGutterInternal()}};ol.source.TileImage.prototype.getGutterInternal=function(){return 0};ol.source.TileImage.prototype.getOpaque=function(e){if(ol.ENABLE_RASTER_REPROJECTION&&this.getProjection()&&e&&!ol.proj.equivalent(this.getProjection(),e)){return false}else{return ol.source.UrlTile.prototype.getOpaque.call(this,e)}};ol.source.TileImage.prototype.getTileGridForProjection=function(e){if(!ol.ENABLE_RASTER_REPROJECTION){return ol.source.UrlTile.prototype.getTileGridForProjection.call(this,e)}var t=this.getProjection();if(this.tileGrid&&(!t||ol.proj.equivalent(t,e))){return this.tileGrid}else{var o=ol.getUid(e).toString();if(!(o in this.tileGridForProjection)){this.tileGridForProjection[o]=ol.tilegrid.getForProjection(e)}return this.tileGridForProjection[o]}};ol.source.TileImage.prototype.getTileCacheForProjection=function(e){if(!ol.ENABLE_RASTER_REPROJECTION){return ol.source.UrlTile.prototype.getTileCacheForProjection.call(this,e)}var t=this.getProjection();if(!t||ol.proj.equivalent(t,e)){return this.tileCache}else{var o=ol.getUid(e).toString();if(!(o in this.tileCacheForProjection)){this.tileCacheForProjection[o]=new ol.TileCache(this.tileCache.highWaterMark)}return this.tileCacheForProjection[o]}};ol.source.TileImage.prototype.createTile_=function(e,t,o,r,i,n){var l=[e,t,o];var a=this.getTileCoordForTileUrlFunction(l,i);var s=a?this.tileUrlFunction(a,r,i):undefined;var p=new this.tileClass(l,s!==undefined?ol.TileState.IDLE:ol.TileState.EMPTY,s!==undefined?s:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);p.key=n;ol.events.listen(p,ol.events.EventType.CHANGE,this.handleTileChange,this);return p};ol.source.TileImage.prototype.getTile=function(e,t,o,r,i){var n=this.getProjection();if(!ol.ENABLE_RASTER_REPROJECTION||!n||!i||ol.proj.equivalent(n,i)){return this.getTileInternal(e,t,o,r,n||i)}else{var l=this.getTileCacheForProjection(i);var a=[e,t,o];var s;var p=ol.tilecoord.getKey(a);if(l.containsKey(p)){s=l.get(p)}var g=this.getKey();if(s&&s.key==g){return s}else{var u=this.getTileGridForProjection(n);var c=this.getTileGridForProjection(i);var y=this.getTileCoordForTileUrlFunction(a,i);var d=new ol.reproj.Tile(n,u,i,c,a,y,this.getTilePixelRatio(r),this.getGutterInternal(),function(e,t,o,r){return this.getTileInternal(e,t,o,r,n)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_);d.key=g;if(s){d.interimTile=s;d.refreshInterimChain();l.replace(p,d)}else{l.set(p,d)}return d}}};ol.source.TileImage.prototype.getTileInternal=function(e,t,o,r,i){var n=null;var l=ol.tilecoord.getKeyZXY(e,t,o);var a=this.getKey();if(!this.tileCache.containsKey(l)){n=this.createTile_(e,t,o,r,i,a);this.tileCache.set(l,n)}else{n=this.tileCache.get(l);if(n.key!=a){var s=n;n=this.createTile_(e,t,o,r,i,a);if(s.getState()==ol.TileState.IDLE){n.interimTile=s.interimTile}else{n.interimTile=s}n.refreshInterimChain();this.tileCache.replace(l,n)}}return n};ol.source.TileImage.prototype.setRenderReprojectionEdges=function(e){if(!ol.ENABLE_RASTER_REPROJECTION||this.renderReprojectionEdges_==e){return}this.renderReprojectionEdges_=e;for(var t in this.tileCacheForProjection){this.tileCacheForProjection[t].clear()}this.changed()};ol.source.TileImage.prototype.setTileGridForProjection=function(e,t){if(ol.ENABLE_RASTER_REPROJECTION){var o=ol.proj.get(e);if(o){var r=ol.getUid(o).toString();if(!(r in this.tileGridForProjection)){this.tileGridForProjection[r]=t}}}};ol.source.TileImage.defaultTileLoadFunction=function(e,t){e.getImage().src=t};goog.provide("ol.source.BingMaps");goog.require("ol");goog.require("ol.TileUrlFunction");goog.require("ol.extent");goog.require("ol.net");goog.require("ol.proj");goog.require("ol.source.State");goog.require("ol.source.TileImage");goog.require("ol.tilecoord");goog.require("ol.tilegrid");ol.source.BingMaps=function(e){this.hidpi_=e.hidpi!==undefined?e.hidpi:false;ol.source.TileImage.call(this,{cacheSize:e.cacheSize,crossOrigin:"anonymous",opaque:true,projection:ol.proj.get("EPSG:3857"),reprojectionErrorThreshold:e.reprojectionErrorThreshold,state:ol.source.State.LOADING,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:this.hidpi_?2:1,wrapX:e.wrapX!==undefined?e.wrapX:true,transition:e.transition});this.culture_=e.culture!==undefined?e.culture:"en-us";this.maxZoom_=e.maxZoom!==undefined?e.maxZoom:-1;this.apiKey_=e.key;this.imagerySet_=e.imagerySet;var t="https://dev.virtualearth.net/REST/v1/Imagery/Metadata/"+this.imagerySet_+"?uriScheme=https&include=ImageryProviders&key="+this.apiKey_+"&c="+this.culture_;ol.net.jsonp(t,this.handleImageryMetadataResponse.bind(this),undefined,"jsonp")};ol.inherits(ol.source.BingMaps,ol.source.TileImage);ol.source.BingMaps.TOS_ATTRIBUTION='<a class="ol-attribution-bing-tos" '+'href="https://www.microsoft.com/maps/product/terms.html">'+"Terms of Use</a>";ol.source.BingMaps.prototype.getApiKey=function(){return this.apiKey_};ol.source.BingMaps.prototype.getImagerySet=function(){return this.imagerySet_};ol.source.BingMaps.prototype.handleImageryMetadataResponse=function(e){if(e.statusCode!=200||e.statusDescription!="OK"||e.authenticationResultCode!="ValidCredentials"||e.resourceSets.length!=1||e.resourceSets[0].resources.length!=1){this.setState(ol.source.State.ERROR);return}var t=e.brandLogoUri;if(t.indexOf("https")==-1){t=t.replace("http","https")}var o=e.resourceSets[0].resources[0];var r=this.maxZoom_==-1?o.zoomMax:this.maxZoom_;var i=this.getProjection();var n=ol.tilegrid.extentFromProjection(i);var l=o.imageWidth==o.imageHeight?o.imageWidth:[o.imageWidth,o.imageHeight];var a=ol.tilegrid.createXYZ({extent:n,minZoom:o.zoomMin,maxZoom:r,tileSize:l/(this.hidpi_?2:1)});this.tileGrid=a;var s=this.culture_;var p=this.hidpi_;this.tileUrlFunction=ol.TileUrlFunction.createFromTileUrlFunctions(o.imageUrlSubdomains.map(function(e){var t=[0,0,0];var r=o.imageUrl.replace("{subdomain}",e).replace("{culture}",s);return function(e,o,i){if(!e){return undefined}else{ol.tilecoord.createOrUpdate(e[0],e[1],-e[2]-1,t);var n=r;if(p){n+="&dpi=d1&device=mobile"}return n.replace("{quadkey}",ol.tilecoord.quadKey(t))}}}));if(o.imageryProviders){var g=ol.proj.getTransformFromProjections(ol.proj.get("EPSG:4326"),this.getProjection());this.setAttributions(function(e){var t=[];var r=e.viewState.zoom;o.imageryProviders.map(function(o){var i=false;var n=o.coverageAreas;for(var l=0,a=n.length;l<a;++l){var s=n[l];if(r>=s.zoomMin&&r<=s.zoomMax){var p=s.bbox;var u=[p[1],p[0],p[3],p[2]];var c=ol.extent.applyTransform(u,g);if(ol.extent.intersects(c,e.extent)){i=true;break}}}if(i){t.push(o.attribution)}});t.push(ol.source.BingMaps.TOS_ATTRIBUTION);return t})}this.setLogo(t);this.setState(ol.source.State.READY)};goog.provide("ol.source.XYZ");goog.require("ol");goog.require("ol.source.TileImage");goog.require("ol.tilegrid");ol.source.XYZ=function(e){var t=e||{};var o=t.projection!==undefined?t.projection:"EPSG:3857";var r=t.tileGrid!==undefined?t.tileGrid:ol.tilegrid.createXYZ({extent:ol.tilegrid.extentFromProjection(o),maxZoom:t.maxZoom,minZoom:t.minZoom,tileSize:t.tileSize});ol.source.TileImage.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,logo:t.logo,opaque:t.opaque,projection:o,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileGrid:r,tileLoadFunction:t.tileLoadFunction,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX!==undefined?t.wrapX:true,transition:t.transition})};ol.inherits(ol.source.XYZ,ol.source.TileImage);goog.provide("ol.source.CartoDB");goog.require("ol");goog.require("ol.obj");goog.require("ol.source.State");goog.require("ol.source.XYZ");ol.source.CartoDB=function(e){this.account_=e.account;this.mapId_=e.map||"";this.config_=e.config||{};this.templateCache_={};ol.source.XYZ.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,logo:e.logo,maxZoom:e.maxZoom!==undefined?e.maxZoom:18,minZoom:e.minZoom,projection:e.projection,state:ol.source.State.LOADING,wrapX:e.wrapX});this.initializeMap_()};ol.inherits(ol.source.CartoDB,ol.source.XYZ);ol.source.CartoDB.prototype.getConfig=function(){return this.config_};ol.source.CartoDB.prototype.updateConfig=function(e){ol.obj.assign(this.config_,e);this.initializeMap_()};ol.source.CartoDB.prototype.setConfig=function(e){this.config_=e||{};this.initializeMap_()};ol.source.CartoDB.prototype.initializeMap_=function(){var e=JSON.stringify(this.config_);if(this.templateCache_[e]){this.applyTemplate_(this.templateCache_[e]);return}var t="https://"+this.account_+".carto.com/api/v1/map";if(this.mapId_){t+="/named/"+this.mapId_}var o=new XMLHttpRequest;o.addEventListener("load",this.handleInitResponse_.bind(this,e));o.addEventListener("error",this.handleInitError_.bind(this));o.open("POST",t);o.setRequestHeader("Content-type","application/json");o.send(JSON.stringify(this.config_))};ol.source.CartoDB.prototype.handleInitResponse_=function(e,t){var o=t.target;if(!o.status||o.status>=200&&o.status<300){var r;try{r=JSON.parse(o.responseText)}catch(e){this.setState(ol.source.State.ERROR);return}this.applyTemplate_(r);this.templateCache_[e]=r;this.setState(ol.source.State.READY)}else{this.setState(ol.source.State.ERROR)}};ol.source.CartoDB.prototype.handleInitError_=function(e){this.setState(ol.source.State.ERROR)};ol.source.CartoDB.prototype.applyTemplate_=function(e){var t="https://"+e.cdn_url.https+"/"+this.account_+"/api/v1/map/"+e.layergroupid+"/{z}/{x}/{y}.png";this.setUrl(t)};goog.provide("ol.source.Cluster");goog.require("ol");goog.require("ol.asserts");goog.require("ol.Feature");goog.require("ol.coordinate");goog.require("ol.events.EventType");goog.require("ol.extent");goog.require("ol.geom.Point");goog.require("ol.source.Vector");ol.source.Cluster=function(e){ol.source.Vector.call(this,{attributions:e.attributions,extent:e.extent,logo:e.logo,projection:e.projection,wrapX:e.wrapX});this.resolution=undefined;this.distance=e.distance!==undefined?e.distance:20;this.features=[];this.geometryFunction=e.geometryFunction||function(e){var t=e.getGeometry();ol.asserts.assert(t instanceof ol.geom.Point,10);return t};this.source=e.source;this.source.on(ol.events.EventType.CHANGE,ol.source.Cluster.prototype.refresh,this)};ol.inherits(ol.source.Cluster,ol.source.Vector);ol.source.Cluster.prototype.getDistance=function(){return this.distance};ol.source.Cluster.prototype.getSource=function(){return this.source};ol.source.Cluster.prototype.loadFeatures=function(e,t,o){this.source.loadFeatures(e,t,o);if(t!==this.resolution){this.clear();this.resolution=t;this.cluster();this.addFeatures(this.features)}};ol.source.Cluster.prototype.setDistance=function(e){this.distance=e;this.refresh()};ol.source.Cluster.prototype.refresh=function(){this.clear();this.cluster();this.addFeatures(this.features);ol.source.Vector.prototype.refresh.call(this)};ol.source.Cluster.prototype.cluster=function(){if(this.resolution===undefined){return}this.features.length=0;var e=ol.extent.createEmpty();var t=this.distance*this.resolution;var o=this.source.getFeatures();var r={};for(var i=0,n=o.length;i<n;i++){var l=o[i];if(!(ol.getUid(l).toString()in r)){var a=this.geometryFunction(l);if(a){var s=a.getCoordinates();ol.extent.createOrUpdateFromCoordinate(s,e);ol.extent.buffer(e,t,e);var p=this.source.getFeaturesInExtent(e);p=p.filter(function(e){var t=ol.getUid(e).toString();if(!(t in r)){r[t]=true;return true}else{return false}});this.features.push(this.createCluster(p))}}}};ol.source.Cluster.prototype.createCluster=function(e){var t=[0,0];for(var o=e.length-1;o>=0;--o){var r=this.geometryFunction(e[o]);if(r){ol.coordinate.add(t,r.getCoordinates())}else{e.splice(o,1)}}ol.coordinate.scale(t,1/e.length);var i=new ol.Feature(new ol.geom.Point(t));i.set("features",e);return i};goog.provide("ol.source.Image");goog.require("ol");goog.require("ol.ImageState");goog.require("ol.array");goog.require("ol.events.Event");goog.require("ol.extent");goog.require("ol.proj");goog.require("ol.reproj.Image");goog.require("ol.source.Source");ol.source.Image=function(e){ol.source.Source.call(this,{attributions:e.attributions,extent:e.extent,logo:e.logo,projection:e.projection,state:e.state});this.resolutions_=e.resolutions!==undefined?e.resolutions:null;this.reprojectedImage_=null;this.reprojectedRevision_=0};ol.inherits(ol.source.Image,ol.source.Source);ol.source.Image.prototype.getResolutions=function(){return this.resolutions_};ol.source.Image.prototype.findNearestResolution=function(e){if(this.resolutions_){var t=ol.array.linearFindNearest(this.resolutions_,e,0);e=this.resolutions_[t]}return e};ol.source.Image.prototype.getImage=function(e,t,o,r){var i=this.getProjection();if(!ol.ENABLE_RASTER_REPROJECTION||!i||!r||ol.proj.equivalent(i,r)){if(i){r=i}return this.getImageInternal(e,t,o,r)}else{if(this.reprojectedImage_){if(this.reprojectedRevision_==this.getRevision()&&ol.proj.equivalent(this.reprojectedImage_.getProjection(),r)&&this.reprojectedImage_.getResolution()==t&&ol.extent.equals(this.reprojectedImage_.getExtent(),e)){return this.reprojectedImage_}this.reprojectedImage_.dispose();this.reprojectedImage_=null}this.reprojectedImage_=new ol.reproj.Image(i,r,e,t,o,function(e,t,o){return this.getImageInternal(e,t,o,i)}.bind(this));this.reprojectedRevision_=this.getRevision();return this.reprojectedImage_}};ol.source.Image.prototype.getImageInternal=function(e,t,o,r){};ol.source.Image.prototype.handleImageChange=function(e){var t=e.target;switch(t.getState()){case ol.ImageState.LOADING:this.dispatchEvent(new ol.source.Image.Event(ol.source.Image.EventType_.IMAGELOADSTART,t));break;case ol.ImageState.LOADED:this.dispatchEvent(new ol.source.Image.Event(ol.source.Image.EventType_.IMAGELOADEND,t));break;case ol.ImageState.ERROR:this.dispatchEvent(new ol.source.Image.Event(ol.source.Image.EventType_.IMAGELOADERROR,t));break;default:}};ol.source.Image.defaultImageLoadFunction=function(e,t){e.getImage().src=t};ol.source.Image.Event=function(e,t){ol.events.Event.call(this,e);this.image=t};ol.inherits(ol.source.Image.Event,ol.events.Event);ol.source.Image.EventType_={IMAGELOADSTART:"imageloadstart",IMAGELOADEND:"imageloadend",IMAGELOADERROR:"imageloaderror"};goog.provide("ol.uri");ol.uri.appendParams=function(e,t){var o=[];Object.keys(t).forEach(function(e){if(t[e]!==null&&t[e]!==undefined){o.push(e+"="+encodeURIComponent(t[e]))}});var r=o.join("&");e=e.replace(/[?&]$/,"");e=e.indexOf("?")===-1?e+"?":e+"&";return e+r};goog.provide("ol.source.ImageArcGISRest");goog.require("ol");goog.require("ol.Image");goog.require("ol.asserts");goog.require("ol.events");goog.require("ol.events.EventType");goog.require("ol.extent");goog.require("ol.obj");goog.require("ol.source.Image");goog.require("ol.uri");ol.source.ImageArcGISRest=function(e){var t=e||{};ol.source.Image.call(this,{attributions:t.attributions,logo:t.logo,projection:t.projection,resolutions:t.resolutions});this.crossOrigin_=t.crossOrigin!==undefined?t.crossOrigin:null;this.hidpi_=t.hidpi!==undefined?t.hidpi:true;this.url_=t.url;this.imageLoadFunction_=t.imageLoadFunction!==undefined?t.imageLoadFunction:ol.source.Image.defaultImageLoadFunction;this.params_=t.params||{};this.image_=null;this.imageSize_=[0,0];this.renderedRevision_=0;this.ratio_=t.ratio!==undefined?t.ratio:1.5};ol.inherits(ol.source.ImageArcGISRest,ol.source.Image);ol.source.ImageArcGISRest.prototype.getParams=function(){return this.params_};ol.source.ImageArcGISRest.prototype.getImageInternal=function(e,t,o,r){if(this.url_===undefined){return null}t=this.findNearestResolution(t);o=this.hidpi_?o:1;var i=this.image_;if(i&&this.renderedRevision_==this.getRevision()&&i.getResolution()==t&&i.getPixelRatio()==o&&ol.extent.containsExtent(i.getExtent(),e)){return i}var n={F:"image",FORMAT:"PNG32",TRANSPARENT:true};ol.obj.assign(n,this.params_);e=e.slice();var l=(e[0]+e[2])/2;var a=(e[1]+e[3])/2;if(this.ratio_!=1){var s=this.ratio_*ol.extent.getWidth(e)/2;var p=this.ratio_*ol.extent.getHeight(e)/2;e[0]=l-s;e[1]=a-p;e[2]=l+s;e[3]=a+p}var g=t/o;var u=Math.ceil(ol.extent.getWidth(e)/g);var c=Math.ceil(ol.extent.getHeight(e)/g);e[0]=l-g*u/2;e[2]=l+g*u/2;e[1]=a-g*c/2;e[3]=a+g*c/2;this.imageSize_[0]=u;this.imageSize_[1]=c;var y=this.getRequestUrl_(e,this.imageSize_,o,r,n);this.image_=new ol.Image(e,t,o,y,this.crossOrigin_,this.imageLoadFunction_);this.renderedRevision_=this.getRevision();ol.events.listen(this.image_,ol.events.EventType.CHANGE,this.handleImageChange,this);return this.image_};ol.source.ImageArcGISRest.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_};ol.source.ImageArcGISRest.prototype.getRequestUrl_=function(e,t,o,r,i){var n=r.getCode().split(":").pop();i["SIZE"]=t[0]+","+t[1];i["BBOX"]=e.join(",");i["BBOXSR"]=n;i["IMAGESR"]=n;i["DPI"]=Math.round(90*o);var l=this.url_;var a=l.replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage");if(a==l){ol.asserts.assert(false,50)}return ol.uri.appendParams(a,i)};ol.source.ImageArcGISRest.prototype.getUrl=function(){return this.url_};ol.source.ImageArcGISRest.prototype.setImageLoadFunction=function(e){this.image_=null;this.imageLoadFunction_=e;this.changed()};ol.source.ImageArcGISRest.prototype.setUrl=function(e){if(e!=this.url_){this.url_=e;this.image_=null;this.changed()}};ol.source.ImageArcGISRest.prototype.updateParams=function(e){ol.obj.assign(this.params_,e);this.image_=null;this.changed()};goog.provide("ol.source.ImageCanvas");goog.require("ol");goog.require("ol.ImageCanvas");goog.require("ol.extent");goog.require("ol.source.Image");ol.source.ImageCanvas=function(e){ol.source.Image.call(this,{attributions:e.attributions,logo:e.logo,projection:e.projection,resolutions:e.resolutions,state:e.state});this.canvasFunction_=e.canvasFunction;this.canvas_=null;this.renderedRevision_=0;this.ratio_=e.ratio!==undefined?e.ratio:1.5};ol.inherits(ol.source.ImageCanvas,ol.source.Image);ol.source.ImageCanvas.prototype.getImageInternal=function(e,t,o,r){t=this.findNearestResolution(t);var i=this.canvas_;if(i&&this.renderedRevision_==this.getRevision()&&i.getResolution()==t&&i.getPixelRatio()==o&&ol.extent.containsExtent(i.getExtent(),e)){return i}e=e.slice();ol.extent.scaleFromCenter(e,this.ratio_);var n=ol.extent.getWidth(e)/t;var l=ol.extent.getHeight(e)/t;var a=[n*o,l*o];var s=this.canvasFunction_(e,t,o,a,r);if(s){i=new ol.ImageCanvas(e,t,o,s)}this.canvas_=i;this.renderedRevision_=this.getRevision();return i};goog.provide("ol.source.ImageMapGuide");goog.require("ol");goog.require("ol.Image");goog.require("ol.events");goog.require("ol.events.EventType");goog.require("ol.extent");goog.require("ol.obj");goog.require("ol.source.Image");goog.require("ol.uri");ol.source.ImageMapGuide=function(e){ol.source.Image.call(this,{projection:e.projection,resolutions:e.resolutions});this.crossOrigin_=e.crossOrigin!==undefined?e.crossOrigin:null;this.displayDpi_=e.displayDpi!==undefined?e.displayDpi:96;this.params_=e.params||{};this.url_=e.url;this.imageLoadFunction_=e.imageLoadFunction!==undefined?e.imageLoadFunction:ol.source.Image.defaultImageLoadFunction;this.hidpi_=e.hidpi!==undefined?e.hidpi:true;this.metersPerUnit_=e.metersPerUnit!==undefined?e.metersPerUnit:1;this.ratio_=e.ratio!==undefined?e.ratio:1;this.useOverlay_=e.useOverlay!==undefined?e.useOverlay:false;this.image_=null;this.renderedRevision_=0};ol.inherits(ol.source.ImageMapGuide,ol.source.Image);ol.source.ImageMapGuide.prototype.getParams=function(){return this.params_};ol.source.ImageMapGuide.prototype.getImageInternal=function(e,t,o,r){t=this.findNearestResolution(t);o=this.hidpi_?o:1;var i=this.image_;if(i&&this.renderedRevision_==this.getRevision()&&i.getResolution()==t&&i.getPixelRatio()==o&&ol.extent.containsExtent(i.getExtent(),e)){return i}if(this.ratio_!=1){e=e.slice();ol.extent.scaleFromCenter(e,this.ratio_)}var n=ol.extent.getWidth(e)/t;var l=ol.extent.getHeight(e)/t;var a=[n*o,l*o];if(this.url_!==undefined){var s=this.getUrl(this.url_,this.params_,e,a,r);i=new ol.Image(e,t,o,s,this.crossOrigin_,this.imageLoadFunction_);ol.events.listen(i,ol.events.EventType.CHANGE,this.handleImageChange,this)}else{i=null}this.image_=i;this.renderedRevision_=this.getRevision();return i};ol.source.ImageMapGuide.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_};ol.source.ImageMapGuide.getScale=function(e,t,o,r){var i=ol.extent.getWidth(e);var n=ol.extent.getHeight(e);var l=t[0];var a=t[1];var s=.0254/r;if(a*i>l*n){return i*o/(l*s)}else{return n*o/(a*s)}};ol.source.ImageMapGuide.prototype.updateParams=function(e){ol.obj.assign(this.params_,e);this.changed()};ol.source.ImageMapGuide.prototype.getUrl=function(e,t,o,r,i){var n=ol.source.ImageMapGuide.getScale(o,r,this.metersPerUnit_,this.displayDpi_);var l=ol.extent.getCenter(o);var a={OPERATION:this.useOverlay_?"GETDYNAMICMAPOVERLAYIMAGE":"GETMAPIMAGE",VERSION:"2.0.0",LOCALE:"en",CLIENTAGENT:"ol.source.ImageMapGuide source",CLIP:"1",SETDISPLAYDPI:this.displayDpi_,SETDISPLAYWIDTH:Math.round(r[0]),SETDISPLAYHEIGHT:Math.round(r[1]),SETVIEWSCALE:n,SETVIEWCENTERX:l[0],SETVIEWCENTERY:l[1]};ol.obj.assign(a,t);return ol.uri.appendParams(e,a)};ol.source.ImageMapGuide.prototype.setImageLoadFunction=function(e){this.image_=null;this.imageLoadFunction_=e;this.changed()};goog.provide("ol.source.ImageStatic");goog.require("ol");goog.require("ol.Image");goog.require("ol.ImageState");goog.require("ol.dom");goog.require("ol.events");goog.require("ol.events.EventType");goog.require("ol.extent");goog.require("ol.proj");goog.require("ol.source.Image");ol.source.ImageStatic=function(e){var t=e.imageExtent;var o=e.crossOrigin!==undefined?e.crossOrigin:null;var r=e.imageLoadFunction!==undefined?e.imageLoadFunction:ol.source.Image.defaultImageLoadFunction;ol.source.Image.call(this,{attributions:e.attributions,logo:e.logo,projection:ol.proj.get(e.projection)});this.image_=new ol.Image(t,undefined,1,e.url,o,r);this.imageSize_=e.imageSize?e.imageSize:null;ol.events.listen(this.image_,ol.events.EventType.CHANGE,this.handleImageChange,this)};ol.inherits(ol.source.ImageStatic,ol.source.Image);ol.source.ImageStatic.prototype.getImageInternal=function(e,t,o,r){if(ol.extent.intersects(e,this.image_.getExtent())){return this.image_}return null};ol.source.ImageStatic.prototype.handleImageChange=function(e){if(this.image_.getState()==ol.ImageState.LOADED){var t=this.image_.getExtent();var o=this.image_.getImage();var r,i;if(this.imageSize_){r=this.imageSize_[0];i=this.imageSize_[1]}else{r=o.width;i=o.height}var n=ol.extent.getHeight(t)/i;var l=Math.ceil(ol.extent.getWidth(t)/n);if(l!=r){var a=ol.dom.createCanvasContext2D(l,i);var s=a.canvas;a.drawImage(o,0,0,r,i,0,0,s.width,s.height);this.image_.setImage(s)}}ol.source.Image.prototype.handleImageChange.call(this,e)};goog.provide("ol.source.ImageVector");goog.require("ol");goog.require("ol.dom");goog.require("ol.events");goog.require("ol.events.EventType");goog.require("ol.ext.rbush");goog.require("ol.extent");goog.require("ol.render.canvas.ReplayGroup");goog.require("ol.renderer.vector");goog.require("ol.source.ImageCanvas");goog.require("ol.style.Style");goog.require("ol.transform");ol.source.ImageVector=function(e){this.source_=e.source;this.transform_=ol.transform.create();this.canvasContext_=ol.dom.createCanvasContext2D();this.canvasSize_=[0,0];this.declutterTree_=ol.ext.rbush(9);this.renderBuffer_=e.renderBuffer==undefined?100:e.renderBuffer;this.replayGroup_=null;ol.source.ImageCanvas.call(this,{attributions:e.attributions,canvasFunction:this.canvasFunctionInternal_.bind(this),logo:e.logo,projection:e.projection,ratio:e.ratio,resolutions:e.resolutions,state:this.source_.getState()});this.style_=null;this.styleFunction_=undefined;this.setStyle(e.style);ol.events.listen(this.source_,ol.events.EventType.CHANGE,this.handleSourceChange_,this)};ol.inherits(ol.source.ImageVector,ol.source.ImageCanvas);ol.source.ImageVector.prototype.canvasFunctionInternal_=function(e,t,o,r,i){var n=new ol.render.canvas.ReplayGroup(ol.renderer.vector.getTolerance(t,o),e,t,o,this.source_.getOverlaps(),this.declutterTree_,this.renderBuffer_);this.source_.loadFeatures(e,t,i);var l=false;this.source_.forEachFeatureInExtent(e,function(e){l=l||this.renderFeature_(e,t,o,n)},this);n.finish();if(l){return null}if(this.canvasSize_[0]!=r[0]||this.canvasSize_[1]!=r[1]){this.canvasContext_.canvas.width=r[0];this.canvasContext_.canvas.height=r[1];this.canvasSize_[0]=r[0];this.canvasSize_[1]=r[1]}else{this.canvasContext_.clearRect(0,0,r[0],r[1])}this.declutterTree_.clear();var a=this.getTransform_(ol.extent.getCenter(e),t,o,r);n.replay(this.canvasContext_,a,0,{});this.replayGroup_=n;return this.canvasContext_.canvas};ol.source.ImageVector.prototype.forEachFeatureAtCoordinate=function(e,t,o,r,i,n){if(!this.replayGroup_){return undefined}else{var l={};var a=this.replayGroup_.forEachFeatureAtCoordinate(e,t,0,r,i,function(e){var t=ol.getUid(e).toString();if(!(t in l)){l[t]=true;return n(e)}},null);return a}};ol.source.ImageVector.prototype.getSource=function(){return this.source_};ol.source.ImageVector.prototype.getStyle=function(){return this.style_};ol.source.ImageVector.prototype.getStyleFunction=function(){return this.styleFunction_};ol.source.ImageVector.prototype.getTransform_=function(e,t,o,r){var i=r[0]/2;var n=r[1]/2;var l=o/t;var a=-l;var s=-e[0];var p=-e[1];return ol.transform.compose(this.transform_,i,n,l,a,0,s,p)};ol.source.ImageVector.prototype.handleImageChange_=function(e){this.changed()};ol.source.ImageVector.prototype.handleSourceChange_=function(){this.setState(this.source_.getState())};ol.source.ImageVector.prototype.renderFeature_=function(e,t,o,r){var i;var n=e.getStyleFunction();if(n){i=n.call(e,t)}else if(this.styleFunction_){i=this.styleFunction_(e,t)}if(!i){return false}var l,a,s=false;if(!Array.isArray(i)){i=[i]}for(l=0,a=i.length;l<a;++l){s=ol.renderer.vector.renderFeature(r,e,i[l],ol.renderer.vector.getSquaredTolerance(t,o),this.handleImageChange_,this)||s}return s};ol.source.ImageVector.prototype.setStyle=function(e){this.style_=e!==undefined?e:ol.style.Style.defaultFunction;this.styleFunction_=!e?undefined:ol.style.Style.createFunction(this.style_);this.changed()};goog.provide("ol.source.WMSServerType");ol.source.WMSServerType={CARMENTA_SERVER:"carmentaserver",GEOSERVER:"geoserver",MAPSERVER:"mapserver",QGIS:"qgis"};goog.provide("ol.source.ImageWMS");goog.require("ol");goog.require("ol.Image");goog.require("ol.asserts");goog.require("ol.events");goog.require("ol.events.EventType");goog.require("ol.extent");goog.require("ol.obj");goog.require("ol.proj");goog.require("ol.reproj");goog.require("ol.source.Image");goog.require("ol.source.WMSServerType");goog.require("ol.string");goog.require("ol.uri");ol.source.ImageWMS=function(e){var t=e||{};ol.source.Image.call(this,{attributions:t.attributions,logo:t.logo,projection:t.projection,resolutions:t.resolutions});this.crossOrigin_=t.crossOrigin!==undefined?t.crossOrigin:null;this.url_=t.url;this.imageLoadFunction_=t.imageLoadFunction!==undefined?t.imageLoadFunction:ol.source.Image.defaultImageLoadFunction;this.params_=t.params||{};this.v13_=true;this.updateV13_();this.serverType_=t.serverType;this.hidpi_=t.hidpi!==undefined?t.hidpi:true;this.image_=null;this.imageSize_=[0,0];this.renderedRevision_=0;this.ratio_=t.ratio!==undefined?t.ratio:1.5};ol.inherits(ol.source.ImageWMS,ol.source.Image);ol.source.ImageWMS.GETFEATUREINFO_IMAGE_SIZE_=[101,101];ol.source.ImageWMS.prototype.getGetFeatureInfoUrl=function(e,t,o,r){if(this.url_===undefined){return undefined}var i=ol.proj.get(o);var n=this.getProjection();if(n&&n!==i){t=ol.reproj.calculateSourceResolution(n,i,e,t);e=ol.proj.transform(e,i,n)}var l=ol.extent.getForViewAndSize(e,t,0,ol.source.ImageWMS.GETFEATUREINFO_IMAGE_SIZE_);var a={SERVICE:"WMS",VERSION:ol.DEFAULT_WMS_VERSION,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:true,QUERY_LAYERS:this.params_["LAYERS"]};ol.obj.assign(a,this.params_,r);var s=Math.floor((e[0]-l[0])/t);var p=Math.floor((l[3]-e[1])/t);a[this.v13_?"I":"X"]=s;a[this.v13_?"J":"Y"]=p;return this.getRequestUrl_(l,ol.source.ImageWMS.GETFEATUREINFO_IMAGE_SIZE_,1,n||i,a)};ol.source.ImageWMS.prototype.getParams=function(){return this.params_};ol.source.ImageWMS.prototype.getImageInternal=function(e,t,o,r){if(this.url_===undefined){return null}t=this.findNearestResolution(t);if(o!=1&&(!this.hidpi_||this.serverType_===undefined)){o=1}var i=t/o;var n=ol.extent.getCenter(e);var l=Math.ceil(ol.extent.getWidth(e)/i);var a=Math.ceil(ol.extent.getHeight(e)/i);var s=ol.extent.getForViewAndSize(n,i,0,[l,a]);var p=Math.ceil(this.ratio_*ol.extent.getWidth(e)/i);var g=Math.ceil(this.ratio_*ol.extent.getHeight(e)/i);var u=ol.extent.getForViewAndSize(n,i,0,[p,g]);var c=this.image_;if(c&&this.renderedRevision_==this.getRevision()&&c.getResolution()==t&&c.getPixelRatio()==o&&ol.extent.containsExtent(c.getExtent(),s)){return c}var y={SERVICE:"WMS",VERSION:ol.DEFAULT_WMS_VERSION,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:true};ol.obj.assign(y,this.params_);this.imageSize_[0]=Math.round(ol.extent.getWidth(u)/i);this.imageSize_[1]=Math.round(ol.extent.getHeight(u)/i);var d=this.getRequestUrl_(u,this.imageSize_,o,r,y);this.image_=new ol.Image(u,t,o,d,this.crossOrigin_,this.imageLoadFunction_);this.renderedRevision_=this.getRevision();ol.events.listen(this.image_,ol.events.EventType.CHANGE,this.handleImageChange,this);return this.image_};ol.source.ImageWMS.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_};ol.source.ImageWMS.prototype.getRequestUrl_=function(e,t,o,r,i){ol.asserts.assert(this.url_!==undefined,9);i[this.v13_?"CRS":"SRS"]=r.getCode();if(!("STYLES"in this.params_)){i["STYLES"]=""}if(o!=1){switch(this.serverType_){case ol.source.WMSServerType.GEOSERVER:var n=90*o+.5|0;if("FORMAT_OPTIONS"in i){i["FORMAT_OPTIONS"]+=";dpi:"+n}else{i["FORMAT_OPTIONS"]="dpi:"+n}break;case ol.source.WMSServerType.MAPSERVER:i["MAP_RESOLUTION"]=90*o;break;case ol.source.WMSServerType.CARMENTA_SERVER:case ol.source.WMSServerType.QGIS:i["DPI"]=90*o;break;default:ol.asserts.assert(false,8);break}}i["WIDTH"]=t[0];i["HEIGHT"]=t[1];var l=r.getAxisOrientation();var a;if(this.v13_&&l.substr(0,2)=="ne"){a=[e[1],e[0],e[3],e[2]]}else{a=e}i["BBOX"]=a.join(",");return ol.uri.appendParams(this.url_,i)};ol.source.ImageWMS.prototype.getUrl=function(){return this.url_};ol.source.ImageWMS.prototype.setImageLoadFunction=function(e){this.image_=null;this.imageLoadFunction_=e;this.changed()};ol.source.ImageWMS.prototype.setUrl=function(e){if(e!=this.url_){this.url_=e;this.image_=null;this.changed()}};ol.source.ImageWMS.prototype.updateParams=function(e){ol.obj.assign(this.params_,e);this.updateV13_();this.image_=null;this.changed()};ol.source.ImageWMS.prototype.updateV13_=function(){var e=this.params_["VERSION"]||ol.DEFAULT_WMS_VERSION;this.v13_=ol.string.compareVersions(e,"1.3")>=0};goog.provide("ol.source.OSM");goog.require("ol");goog.require("ol.source.XYZ");ol.source.OSM=function(e){var t=e||{};var o;if(t.attributions!==undefined){o=t.attributions}else{o=[ol.source.OSM.ATTRIBUTION]}var r=t.crossOrigin!==undefined?t.crossOrigin:"anonymous";var i=t.url!==undefined?t.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png";ol.source.XYZ.call(this,{attributions:o,cacheSize:t.cacheSize,crossOrigin:r,opaque:t.opaque!==undefined?t.opaque:true,maxZoom:t.maxZoom!==undefined?t.maxZoom:19,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileLoadFunction:t.tileLoadFunction,url:i,wrapX:t.wrapX})};ol.inherits(ol.source.OSM,ol.source.XYZ);ol.source.OSM.ATTRIBUTION="&copy; "+'<a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> '+"contributors.";goog.provide("ol.ext.pixelworks.Processor");ol.ext.pixelworks.Processor=function(){};(function(){(function(e){"use strict";var t=true;try{new ImageData(10,10)}catch(e){t=false}var o=document.createElement("canvas").getContext("2d");function r(e,r,i){if(t){return new ImageData(e,r,i)}else{var n=o.createImageData(r,i);n.data.set(e);return n}}var i=r;var n={newImageData:i};var l=n.newImageData;function a(e){var t=true;try{new ImageData(10,10)}catch(e){t=false}function o(e,o,r){if(t){return new ImageData(e,o,r)}else{return{data:e,width:o,height:r}}}return function(t){var r=t["buffers"];var i=t["meta"];var n=t["imageOps"];var l=t["width"];var a=t["height"];var s=r.length;var p=r[0].byteLength;var g,u;if(n){var c=new Array(s);for(u=0;u<s;++u){c[u]=o(new Uint8ClampedArray(r[u]),l,a)}g=e(c,i).data}else{g=new Uint8ClampedArray(p);var y=new Array(s);var d=new Array(s);for(u=0;u<s;++u){y[u]=new Uint8ClampedArray(r[u]);d[u]=[0,0,0,0]}for(var h=0;h<p;h+=4){for(var f=0;f<s;++f){var m=y[f];d[f][0]=m[h];d[f][1]=m[h+1];d[f][2]=m[h+2];d[f][3]=m[h+3]}var v=e(d,i);g[h]=v[0];g[h+1]=v[1];g[h+2]=v[2];g[h+3]=v[3]}}return g.buffer}}function s(e,t){var o=Object.keys(e.lib||{}).map(function(t){return"var "+t+" = "+e.lib[t].toString()+";"});var r=o.concat(["var __minion__ = ("+a.toString()+")(",e.operation.toString(),");",'self.addEventListener("message", function(event) {',"  var buffer = __minion__(event.data);","  self.postMessage({buffer: buffer, meta: event.data.meta}, [buffer]);","});"]);var i=new Blob(r,{type:"text/javascript"});var n=URL.createObjectURL(i);var l=new Worker(n);l.addEventListener("message",t);return l}function p(e,t){var o=a(e.operation);return{postMessage:function(e){setTimeout(function(){t({data:{buffer:o(e),meta:e["meta"]}})},0)}}}function g(e){this._imageOps=!!e.imageOps;var t;if(e.threads===0){t=0}else if(this._imageOps){t=1}else{t=e.threads||1}var o=[];if(t){for(var r=0;r<t;++r){o[r]=s(e,this._onWorkerMessage.bind(this,r))}}else{o[0]=p(e,this._onWorkerMessage.bind(this,0))}this._workers=o;this._queue=[];this._maxQueueLength=e.queue||Infinity;this._running=0;this._dataLookup={};this._job=null}g.prototype.process=function(e,t,o){this._enqueue({inputs:e,meta:t,callback:o});this._dispatch()};g.prototype.destroy=function(){for(var e in this){this[e]=null}this._destroyed=true};g.prototype._enqueue=function(e){this._queue.push(e);while(this._queue.length>this._maxQueueLength){this._queue.shift().callback(null,null)}};g.prototype._dispatch=function(){if(this._running===0&&this._queue.length>0){var e=this._job=this._queue.shift();var t=e.inputs[0].width;var o=e.inputs[0].height;var r=e.inputs.map(function(e){return e.data.buffer});var i=this._workers.length;this._running=i;if(i===1){this._workers[0].postMessage({buffers:r,meta:e.meta,imageOps:this._imageOps,width:t,height:o},r)}else{var n=e.inputs[0].data.length;var l=4*Math.ceil(n/4/i);for(var a=0;a<i;++a){var s=a*l;var p=[];for(var g=0,u=r.length;g<u;++g){p.push(r[a].slice(s,s+l))}this._workers[a].postMessage({buffers:p,meta:e.meta,imageOps:this._imageOps,width:t,height:o},p)}}}};g.prototype._onWorkerMessage=function(e,t){if(this._destroyed){return}this._dataLookup[e]=t.data;--this._running;if(this._running===0){this._resolveJob()}};g.prototype._resolveJob=function(){var e=this._job;var t=this._workers.length;var o,r;if(t===1){o=new Uint8ClampedArray(this._dataLookup[0]["buffer"]);r=this._dataLookup[0]["meta"]}else{var i=e.inputs[0].data.length;o=new Uint8ClampedArray(i);r=new Array(i);var n=4*Math.ceil(i/4/t);for(var a=0;a<t;++a){var s=this._dataLookup[a]["buffer"];var p=a*n;o.set(new Uint8ClampedArray(s),p);r[a]=this._dataLookup[a]["meta"]}}this._job=null;this._dataLookup={};e.callback(null,l(o,e.inputs[0].width,e.inputs[0].height),r);this._dispatch()};var u=g;var c=u;var y={Processor:c};e["default"]=y;e.Processor=c})(this.pixelworks=this.pixelworks||{})}).call(ol.ext);goog.provide("ol.source.RasterOperationType");ol.source.RasterOperationType={PIXEL:"pixel",IMAGE:"image"};goog.provide("ol.source.Raster");goog.require("ol");goog.require("ol.ImageCanvas");goog.require("ol.TileQueue");goog.require("ol.dom");goog.require("ol.events");goog.require("ol.events.Event");goog.require("ol.events.EventType");goog.require("ol.ext.pixelworks.Processor");goog.require("ol.extent");goog.require("ol.layer.Image");goog.require("ol.layer.Tile");goog.require("ol.obj");goog.require("ol.renderer.canvas.ImageLayer");goog.require("ol.renderer.canvas.TileLayer");goog.require("ol.source.Image");goog.require("ol.source.RasterOperationType");goog.require("ol.source.State");goog.require("ol.source.Tile");goog.require("ol.transform");ol.source.Raster=function(e){this.worker_=null;this.operationType_=e.operationType!==undefined?e.operationType:ol.source.RasterOperationType.PIXEL;this.threads_=e.threads!==undefined?e.threads:1;this.renderers_=ol.source.Raster.createRenderers_(e.sources);for(var t=0,o=this.renderers_.length;t<o;++t){ol.events.listen(this.renderers_[t],ol.events.EventType.CHANGE,this.changed,this)}this.tileQueue_=new ol.TileQueue(function(){return 1},this.changed.bind(this));var r=ol.source.Raster.getLayerStatesArray_(this.renderers_);var i={};for(var n=0,l=r.length;n<l;++n){i[ol.getUid(r[n].layer)]=r[n]}this.requestedFrameState_;this.renderedImageCanvas_=null;this.renderedRevision_;this.frameState_={animate:false,coordinateToPixelTransform:ol.transform.create(),extent:null,focus:null,index:0,layerStates:i,layerStatesArray:r,logos:{},pixelRatio:1,pixelToCoordinateTransform:ol.transform.create(),postRenderFunctions:[],size:[0,0],skippedFeatureUids:{},tileQueue:this.tileQueue_,time:Date.now(),usedTiles:{},viewState:{rotation:0},viewHints:[],wantedTiles:{}};ol.source.Image.call(this,{});if(e.operation!==undefined){this.setOperation(e.operation,e.lib)}};ol.inherits(ol.source.Raster,ol.source.Image);ol.source.Raster.prototype.setOperation=function(e,t){this.worker_=new ol.ext.pixelworks.Processor({operation:e,imageOps:this.operationType_===ol.source.RasterOperationType.IMAGE,queue:1,lib:t,threads:this.threads_});this.changed()};ol.source.Raster.prototype.updateFrameState_=function(e,t,o){var r=ol.obj.assign({},this.frameState_);r.viewState=ol.obj.assign({},r.viewState);var i=ol.extent.getCenter(e);r.extent=e.slice();r.focus=i;r.size[0]=Math.round(ol.extent.getWidth(e)/t);r.size[1]=Math.round(ol.extent.getHeight(e)/t);r.time=Date.now();r.animate=false;var n=r.viewState;n.center=i;n.projection=o;n.resolution=t;return r};ol.source.Raster.prototype.allSourcesReady_=function(){var e=true;var t;for(var o=0,r=this.renderers_.length;o<r;++o){t=this.renderers_[o].getLayer().getSource();if(t.getState()!==ol.source.State.READY){e=false;break}}return e};ol.source.Raster.prototype.getImage=function(e,t,o,r){if(!this.allSourcesReady_()){return null}var i=this.updateFrameState_(e,t,r);this.requestedFrameState_=i;if(this.renderedImageCanvas_){var n=this.renderedImageCanvas_.getResolution();var l=this.renderedImageCanvas_.getExtent();if(t!==n||!ol.extent.equals(e,l)){this.renderedImageCanvas_=null}}if(!this.renderedImageCanvas_||this.getRevision()!==this.renderedRevision_){this.processSources_()}i.tileQueue.loadMoreTiles(16,16);if(i.animate){requestAnimationFrame(this.changed.bind(this))}return this.renderedImageCanvas_};ol.source.Raster.prototype.processSources_=function(){var e=this.requestedFrameState_;var t=this.renderers_.length;var o=new Array(t);for(var r=0;r<t;++r){var i=ol.source.Raster.getImageData_(this.renderers_[r],e,e.layerStatesArray[r]);if(i){o[r]=i}else{return}}var n={};this.dispatchEvent(new ol.source.Raster.Event(ol.source.Raster.EventType_.BEFOREOPERATIONS,e,n));this.worker_.process(o,n,this.onWorkerComplete_.bind(this,e))};ol.source.Raster.prototype.onWorkerComplete_=function(e,t,o,r){if(t||!o){return}var i=e.extent;var n=e.viewState.resolution;if(n!==this.requestedFrameState_.viewState.resolution||!ol.extent.equals(i,this.requestedFrameState_.extent)){return}var l;if(this.renderedImageCanvas_){l=this.renderedImageCanvas_.getImage().getContext("2d")}else{var a=Math.round(ol.extent.getWidth(i)/n);var s=Math.round(ol.extent.getHeight(i)/n);l=ol.dom.createCanvasContext2D(a,s);this.renderedImageCanvas_=new ol.ImageCanvas(i,n,1,l.canvas)}l.putImageData(o,0,0);this.changed();this.renderedRevision_=this.getRevision();this.dispatchEvent(new ol.source.Raster.Event(ol.source.Raster.EventType_.AFTEROPERATIONS,e,r))};ol.source.Raster.getImageData_=function(e,t,o){if(!e.prepareFrame(t,o)){return null}var r=t.size[0];var i=t.size[1];if(!ol.source.Raster.context_){ol.source.Raster.context_=ol.dom.createCanvasContext2D(r,i)}else{var n=ol.source.Raster.context_.canvas;if(n.width!==r||n.height!==i){ol.source.Raster.context_=ol.dom.createCanvasContext2D(r,i)}else{ol.source.Raster.context_.clearRect(0,0,r,i)}}e.composeFrame(t,o,ol.source.Raster.context_);return ol.source.Raster.context_.getImageData(0,0,r,i)};ol.source.Raster.context_=null;ol.source.Raster.getLayerStatesArray_=function(e){return e.map(function(e){return e.getLayer().getLayerState()})};ol.source.Raster.createRenderers_=function(e){var t=e.length;var o=new Array(t);for(var r=0;r<t;++r){o[r]=ol.source.Raster.createRenderer_(e[r])}return o};ol.source.Raster.createRenderer_=function(e){var t=null;if(e instanceof ol.source.Tile){t=ol.source.Raster.createTileRenderer_(e)}else if(e instanceof ol.source.Image){t=ol.source.Raster.createImageRenderer_(e)}return t};ol.source.Raster.createImageRenderer_=function(e){var t=new ol.layer.Image({source:e});return new ol.renderer.canvas.ImageLayer(t)};ol.source.Raster.createTileRenderer_=function(e){var t=new ol.layer.Tile({source:e});return new ol.renderer.canvas.TileLayer(t)};ol.source.Raster.Event=function(e,t,o){ol.events.Event.call(this,e);this.extent=t.extent;this.resolution=t.viewState.resolution/t.pixelRatio;this.data=o};ol.inherits(ol.source.Raster.Event,ol.events.Event);ol.source.Raster.prototype.getImageInternal=function(){return null};ol.source.Raster.EventType_={BEFOREOPERATIONS:"beforeoperations",AFTEROPERATIONS:"afteroperations"};goog.provide("ol.source.Stamen");goog.require("ol");goog.require("ol.source.OSM");goog.require("ol.source.XYZ");ol.source.Stamen=function(e){var t=e.layer.indexOf("-");var o=t==-1?e.layer:e.layer.slice(0,t);var r=ol.source.Stamen.ProviderConfig[o];var i=ol.source.Stamen.LayerConfig[e.layer];var n=e.url!==undefined?e.url:"https://stamen-tiles-{a-d}.a.ssl.fastly.net/"+e.layer+"/{z}/{x}/{y}."+i.extension;ol.source.XYZ.call(this,{attributions:ol.source.Stamen.ATTRIBUTIONS,cacheSize:e.cacheSize,crossOrigin:"anonymous",maxZoom:e.maxZoom!=undefined?e.maxZoom:r.maxZoom,minZoom:e.minZoom!=undefined?e.minZoom:r.minZoom,opaque:i.opaque,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileLoadFunction:e.tileLoadFunction,url:n,wrapX:e.wrapX})};ol.inherits(ol.source.Stamen,ol.source.XYZ);ol.source.Stamen.ATTRIBUTIONS=['Map tiles by <a href="https://stamen.com/">Stamen Design</a>, '+'under <a href="https://creativecommons.org/licenses/by/3.0/">CC BY'+" 3.0</a>.",ol.source.OSM.ATTRIBUTION];ol.source.Stamen.LayerConfig={terrain:{extension:"jpg",opaque:true},"terrain-background":{extension:"jpg",opaque:true},"terrain-labels":{extension:"png",opaque:false},"terrain-lines":{extension:"png",opaque:false},"toner-background":{extension:"png",opaque:true},toner:{extension:"png",opaque:true},"toner-hybrid":{extension:"png",opaque:false},"toner-labels":{extension:"png",opaque:false},"toner-lines":{extension:"png",opaque:false},"toner-lite":{extension:"png",opaque:true},watercolor:{extension:"jpg",opaque:true}};ol.source.Stamen.ProviderConfig={terrain:{minZoom:4,maxZoom:18},toner:{minZoom:0,maxZoom:20},watercolor:{minZoom:1,maxZoom:16}};goog.provide("ol.source.TileArcGISRest");goog.require("ol");goog.require("ol.extent");goog.require("ol.math");goog.require("ol.obj");goog.require("ol.size");goog.require("ol.source.TileImage");goog.require("ol.tilecoord");goog.require("ol.uri");ol.source.TileArcGISRest=function(e){var t=e||{};ol.source.TileImage.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,logo:t.logo,projection:t.projection,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction,url:t.url,urls:t.urls,wrapX:t.wrapX!==undefined?t.wrapX:true,transition:t.transition});this.params_=t.params||{};this.tmpExtent_=ol.extent.createEmpty();this.setKey(this.getKeyForParams_())};ol.inherits(ol.source.TileArcGISRest,ol.source.TileImage);ol.source.TileArcGISRest.prototype.getKeyForParams_=function(){var e=0;var t=[];for(var o in this.params_){t[e++]=o+"-"+this.params_[o]}return t.join("/")};ol.source.TileArcGISRest.prototype.getParams=function(){return this.params_};ol.source.TileArcGISRest.prototype.getRequestUrl_=function(e,t,o,r,i,n){var l=this.urls;if(!l){return undefined}var a=i.getCode().split(":").pop();n["SIZE"]=t[0]+","+t[1];n["BBOX"]=o.join(",");n["BBOXSR"]=a;n["IMAGESR"]=a;n["DPI"]=Math.round(n["DPI"]?n["DPI"]*r:90*r);var s;if(l.length==1){s=l[0]}else{var p=ol.math.modulo(ol.tilecoord.hash(e),l.length);s=l[p]}var g=s.replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage");return ol.uri.appendParams(g,n)};ol.source.TileArcGISRest.prototype.getTilePixelRatio=function(e){return e};ol.source.TileArcGISRest.prototype.fixedTileUrlFunction=function(e,t,o){var r=this.getTileGrid();if(!r){r=this.getTileGridForProjection(o)}if(r.getResolutions().length<=e[0]){return undefined}var i=r.getTileCoordExtent(e,this.tmpExtent_);var n=ol.size.toSize(r.getTileSize(e[0]),this.tmpSize);if(t!=1){n=ol.size.scale(n,t,this.tmpSize)}var l={F:"image",FORMAT:"PNG32",TRANSPARENT:true};ol.obj.assign(l,this.params_);return this.getRequestUrl_(e,n,i,t,o,l)};ol.source.TileArcGISRest.prototype.updateParams=function(e){ol.obj.assign(this.params_,e);this.setKey(this.getKeyForParams_())};goog.provide("ol.source.TileDebug");goog.require("ol");goog.require("ol.Tile");goog.require("ol.TileState");goog.require("ol.dom");goog.require("ol.size");goog.require("ol.source.Tile");goog.require("ol.tilecoord");ol.source.TileDebug=function(e){ol.source.Tile.call(this,{opaque:false,projection:e.projection,tileGrid:e.tileGrid,wrapX:e.wrapX!==undefined?e.wrapX:true})};ol.inherits(ol.source.TileDebug,ol.source.Tile);ol.source.TileDebug.prototype.getTile=function(e,t,o){var r=ol.tilecoord.getKeyZXY(e,t,o);if(this.tileCache.containsKey(r)){return this.tileCache.get(r)}else{var i=ol.size.toSize(this.tileGrid.getTileSize(e));var n=[e,t,o];var l=this.getTileCoordForTileUrlFunction(n);var a=!l?"":this.getTileCoordForTileUrlFunction(l).toString();var s=new ol.source.TileDebug.Tile_(n,i,a);this.tileCache.set(r,s);return s}};ol.source.TileDebug.Tile_=function(e,t,o){ol.Tile.call(this,e,ol.TileState.LOADED);this.tileSize_=t;this.text_=o;this.canvas_=null};ol.inherits(ol.source.TileDebug.Tile_,ol.Tile);ol.source.TileDebug.Tile_.prototype.getImage=function(){if(this.canvas_){return this.canvas_}else{var e=this.tileSize_;var t=ol.dom.createCanvasContext2D(e[0],e[1]);t.strokeStyle="black";t.strokeRect(.5,.5,e[0]+.5,e[1]+.5);t.fillStyle="black";t.textAlign="center";t.textBaseline="middle";t.font="24px sans-serif";t.fillText(this.text_,e[0]/2,e[1]/2);this.canvas_=t.canvas;return t.canvas}};ol.source.TileDebug.Tile_.prototype.load=function(){};goog.provide("ol.source.TileJSON");goog.require("ol");goog.require("ol.TileUrlFunction");goog.require("ol.asserts");goog.require("ol.extent");goog.require("ol.net");goog.require("ol.proj");goog.require("ol.source.State");goog.require("ol.source.TileImage");goog.require("ol.tilegrid");ol.source.TileJSON=function(e){this.tileJSON_=null;ol.source.TileImage.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,projection:ol.proj.get("EPSG:3857"),reprojectionErrorThreshold:e.reprojectionErrorThreshold,state:ol.source.State.LOADING,tileLoadFunction:e.tileLoadFunction,wrapX:e.wrapX!==undefined?e.wrapX:true,transition:e.transition});if(e.url){if(e.jsonp){ol.net.jsonp(e.url,this.handleTileJSONResponse.bind(this),this.handleTileJSONError.bind(this))}else{var t=new XMLHttpRequest;t.addEventListener("load",this.onXHRLoad_.bind(this));t.addEventListener("error",this.onXHRError_.bind(this));t.open("GET",e.url);t.send()}}else if(e.tileJSON){this.handleTileJSONResponse(e.tileJSON)}else{ol.asserts.assert(false,51)}};ol.inherits(ol.source.TileJSON,ol.source.TileImage);ol.source.TileJSON.prototype.onXHRLoad_=function(e){var t=e.target;if(!t.status||t.status>=200&&t.status<300){var o;try{o=JSON.parse(t.responseText)}catch(e){this.handleTileJSONError();return}this.handleTileJSONResponse(o)}else{this.handleTileJSONError()}};ol.source.TileJSON.prototype.onXHRError_=function(e){this.handleTileJSONError()};ol.source.TileJSON.prototype.getTileJSON=function(){return this.tileJSON_};ol.source.TileJSON.prototype.handleTileJSONResponse=function(e){var t=ol.proj.get("EPSG:4326");var o=this.getProjection();var r;if(e.bounds!==undefined){var i=ol.proj.getTransformFromProjections(t,o);r=ol.extent.applyTransform(e.bounds,i)}var n=e.minzoom||0;var l=e.maxzoom||22;var a=ol.tilegrid.createXYZ({extent:ol.tilegrid.extentFromProjection(o),maxZoom:l,minZoom:n});this.tileGrid=a;this.tileUrlFunction=ol.TileUrlFunction.createFromTemplates(e.tiles,a);if(e.attribution!==undefined&&!this.getAttributions2()){var s=r!==undefined?r:t.getExtent();this.setAttributions(function(t){if(ol.extent.intersects(s,t.extent)){return[e.attribution]}return null})}this.tileJSON_=e;this.setState(ol.source.State.READY)};ol.source.TileJSON.prototype.handleTileJSONError=function(){this.setState(ol.source.State.ERROR)};goog.provide("ol.source.TileUTFGrid");goog.require("ol");goog.require("ol.Tile");goog.require("ol.TileState");goog.require("ol.TileUrlFunction");goog.require("ol.asserts");goog.require("ol.events");goog.require("ol.events.EventType");goog.require("ol.extent");goog.require("ol.net");goog.require("ol.proj");goog.require("ol.source.State");goog.require("ol.source.Tile");goog.require("ol.tilecoord");goog.require("ol.tilegrid");ol.source.TileUTFGrid=function(e){ol.source.Tile.call(this,{projection:ol.proj.get("EPSG:3857"),state:ol.source.State.LOADING});this.preemptive_=e.preemptive!==undefined?e.preemptive:true;this.tileUrlFunction_=ol.TileUrlFunction.nullTileUrlFunction;this.template_=undefined;this.jsonp_=e.jsonp||false;if(e.url){if(this.jsonp_){ol.net.jsonp(e.url,this.handleTileJSONResponse.bind(this),this.handleTileJSONError.bind(this))}else{var t=new XMLHttpRequest;t.addEventListener("load",this.onXHRLoad_.bind(this));t.addEventListener("error",this.onXHRError_.bind(this));t.open("GET",e.url);t.send()}}else if(e.tileJSON){this.handleTileJSONResponse(e.tileJSON)}else{ol.asserts.assert(false,51)}};ol.inherits(ol.source.TileUTFGrid,ol.source.Tile);ol.source.TileUTFGrid.prototype.onXHRLoad_=function(e){var t=e.target;if(!t.status||t.status>=200&&t.status<300){var o;try{o=JSON.parse(t.responseText)}catch(e){this.handleTileJSONError();return}this.handleTileJSONResponse(o)}else{this.handleTileJSONError()}};ol.source.TileUTFGrid.prototype.onXHRError_=function(e){this.handleTileJSONError()};ol.source.TileUTFGrid.prototype.getTemplate=function(){return this.template_};ol.source.TileUTFGrid.prototype.forDataAtCoordinateAndResolution=function(e,t,o,r,i){if(this.tileGrid){var n=this.tileGrid.getTileCoordForCoordAndResolution(e,t);var l=this.getTile(n[0],n[1],n[2],1,this.getProjection());l.forDataAtCoordinate(e,o,r,i)}else{if(i===true){setTimeout(function(){o.call(r,null)},0)}else{o.call(r,null)}}};ol.source.TileUTFGrid.prototype.handleTileJSONError=function(){this.setState(ol.source.State.ERROR)};ol.source.TileUTFGrid.prototype.handleTileJSONResponse=function(e){var t=ol.proj.get("EPSG:4326");var o=this.getProjection();var r;if(e.bounds!==undefined){var i=ol.proj.getTransformFromProjections(t,o);r=ol.extent.applyTransform(e.bounds,i)}var n=e.minzoom||0;var l=e.maxzoom||22;var a=ol.tilegrid.createXYZ({extent:ol.tilegrid.extentFromProjection(o),maxZoom:l,minZoom:n});this.tileGrid=a;this.template_=e.template;var s=e.grids;if(!s){this.setState(ol.source.State.ERROR);return}this.tileUrlFunction_=ol.TileUrlFunction.createFromTemplates(s,a);if(e.attribution!==undefined){var p=r!==undefined?r:t.getExtent();this.setAttributions(function(t){if(ol.extent.intersects(p,t.extent)){return[e.attribution]}return null})}this.setState(ol.source.State.READY)};ol.source.TileUTFGrid.prototype.getTile=function(e,t,o,r,i){var n=ol.tilecoord.getKeyZXY(e,t,o);if(this.tileCache.containsKey(n)){return this.tileCache.get(n)}else{var l=[e,t,o];var a=this.getTileCoordForTileUrlFunction(l,i);var s=this.tileUrlFunction_(a,r,i);var p=new ol.source.TileUTFGrid.Tile_(l,s!==undefined?ol.TileState.IDLE:ol.TileState.EMPTY,s!==undefined?s:"",this.tileGrid.getTileCoordExtent(l),this.preemptive_,this.jsonp_);this.tileCache.set(n,p);return p}};ol.source.TileUTFGrid.prototype.useTile=function(e,t,o){var r=ol.tilecoord.getKeyZXY(e,t,o);if(this.tileCache.containsKey(r)){this.tileCache.get(r)}};ol.source.TileUTFGrid.Tile_=function(e,t,o,r,i,n){ol.Tile.call(this,e,t);this.src_=o;this.extent_=r;this.preemptive_=i;this.grid_=null;this.keys_=null;this.data_=null;this.jsonp_=n};ol.inherits(ol.source.TileUTFGrid.Tile_,ol.Tile);ol.source.TileUTFGrid.Tile_.prototype.getImage=function(){return null};ol.source.TileUTFGrid.Tile_.prototype.getData=function(e){if(!this.grid_||!this.keys_){return null}var t=(e[0]-this.extent_[0])/(this.extent_[2]-this.extent_[0]);var o=(e[1]-this.extent_[1])/(this.extent_[3]-this.extent_[1]);var r=this.grid_[Math.floor((1-o)*this.grid_.length)];if(typeof r!=="string"){return null}var i=r.charCodeAt(Math.floor(t*r.length));if(i>=93){i--}if(i>=35){i--}i-=32;var n=null;if(i in this.keys_){var l=this.keys_[i];if(this.data_&&l in this.data_){n=this.data_[l]}else{n=l}}return n};ol.source.TileUTFGrid.Tile_.prototype.forDataAtCoordinate=function(e,t,o,r){if(this.state==ol.TileState.IDLE&&r===true){ol.events.listenOnce(this,ol.events.EventType.CHANGE,function(r){t.call(o,this.getData(e))},this);this.loadInternal_()}else{if(r===true){setTimeout(function(){t.call(o,this.getData(e))}.bind(this),0)}else{t.call(o,this.getData(e))}}};ol.source.TileUTFGrid.Tile_.prototype.getKey=function(){return this.src_};ol.source.TileUTFGrid.Tile_.prototype.handleError_=function(){this.state=ol.TileState.ERROR;this.changed()};ol.source.TileUTFGrid.Tile_.prototype.handleLoad_=function(e){this.grid_=e.grid;this.keys_=e.keys;this.data_=e.data;this.state=ol.TileState.EMPTY;this.changed()};ol.source.TileUTFGrid.Tile_.prototype.loadInternal_=function(){if(this.state==ol.TileState.IDLE){this.state=ol.TileState.LOADING;if(this.jsonp_){ol.net.jsonp(this.src_,this.handleLoad_.bind(this),this.handleError_.bind(this))}else{var e=new XMLHttpRequest;e.addEventListener("load",this.onXHRLoad_.bind(this));e.addEventListener("error",this.onXHRError_.bind(this));e.open("GET",this.src_);e.send()}}};ol.source.TileUTFGrid.Tile_.prototype.onXHRLoad_=function(e){var t=e.target;if(!t.status||t.status>=200&&t.status<300){var o;try{o=JSON.parse(t.responseText)}catch(e){this.handleError_();return}this.handleLoad_(o)}else{this.handleError_()}};ol.source.TileUTFGrid.Tile_.prototype.onXHRError_=function(e){this.handleError_()};ol.source.TileUTFGrid.Tile_.prototype.load=function(){if(this.preemptive_){this.loadInternal_()}};goog.provide("ol.source.TileWMS");goog.require("ol");goog.require("ol.asserts");goog.require("ol.extent");goog.require("ol.obj");goog.require("ol.math");goog.require("ol.proj");goog.require("ol.reproj");goog.require("ol.size");goog.require("ol.source.TileImage");goog.require("ol.source.WMSServerType");goog.require("ol.tilecoord");goog.require("ol.string");goog.require("ol.uri");ol.source.TileWMS=function(e){var t=e||{};var o=t.params||{};var r="TRANSPARENT"in o?o["TRANSPARENT"]:true;ol.source.TileImage.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,logo:t.logo,opaque:!r,projection:t.projection,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileClass:t.tileClass,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction,url:t.url,urls:t.urls,wrapX:t.wrapX!==undefined?t.wrapX:true,transition:t.transition});this.gutter_=t.gutter!==undefined?t.gutter:0;this.params_=o;this.v13_=true;this.serverType_=t.serverType;this.hidpi_=t.hidpi!==undefined?t.hidpi:true;this.tmpExtent_=ol.extent.createEmpty();this.updateV13_();this.setKey(this.getKeyForParams_())};ol.inherits(ol.source.TileWMS,ol.source.TileImage);ol.source.TileWMS.prototype.getGetFeatureInfoUrl=function(e,t,o,r){var i=ol.proj.get(o);var n=this.getProjection();var l=this.getTileGrid();if(!l){l=this.getTileGridForProjection(i)}var a=l.getTileCoordForCoordAndResolution(e,t);if(l.getResolutions().length<=a[0]){return undefined}var s=l.getResolution(a[0]);var p=l.getTileCoordExtent(a,this.tmpExtent_);var g=ol.size.toSize(l.getTileSize(a[0]),this.tmpSize);var u=this.gutter_;if(u!==0){g=ol.size.buffer(g,u,this.tmpSize);p=ol.extent.buffer(p,s*u,p)}if(n&&n!==i){s=ol.reproj.calculateSourceResolution(n,i,e,s);p=ol.proj.transformExtent(p,i,n);e=ol.proj.transform(e,i,n)}var c={SERVICE:"WMS",VERSION:ol.DEFAULT_WMS_VERSION,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:true,QUERY_LAYERS:this.params_["LAYERS"]};ol.obj.assign(c,this.params_,r);var y=Math.floor((e[0]-p[0])/s);var d=Math.floor((p[3]-e[1])/s);c[this.v13_?"I":"X"]=y;c[this.v13_?"J":"Y"]=d;return this.getRequestUrl_(a,g,p,1,n||i,c)};ol.source.TileWMS.prototype.getGutterInternal=function(){return this.gutter_};ol.source.TileWMS.prototype.getParams=function(){return this.params_};ol.source.TileWMS.prototype.getRequestUrl_=function(e,t,o,r,i,n){var l=this.urls;if(!l){return undefined}n["WIDTH"]=t[0];n["HEIGHT"]=t[1];n[this.v13_?"CRS":"SRS"]=i.getCode();if(!("STYLES"in this.params_)){n["STYLES"]=""}if(r!=1){switch(this.serverType_){case ol.source.WMSServerType.GEOSERVER:var a=90*r+.5|0;if("FORMAT_OPTIONS"in n){n["FORMAT_OPTIONS"]+=";dpi:"+a}else{n["FORMAT_OPTIONS"]="dpi:"+a}break;case ol.source.WMSServerType.MAPSERVER:n["MAP_RESOLUTION"]=90*r;break;case ol.source.WMSServerType.CARMENTA_SERVER:case ol.source.WMSServerType.QGIS:n["DPI"]=90*r;break;default:ol.asserts.assert(false,52);break}}var s=i.getAxisOrientation();var p=o;if(this.v13_&&s.substr(0,2)=="ne"){var g;g=o[0];p[0]=o[1];p[1]=g;g=o[2];p[2]=o[3];p[3]=g}n["BBOX"]=p.join(",");var u;if(l.length==1){u=l[0]}else{var c=ol.math.modulo(ol.tilecoord.hash(e),l.length);u=l[c]}return ol.uri.appendParams(u,n)};ol.source.TileWMS.prototype.getTilePixelRatio=function(e){return!this.hidpi_||this.serverType_===undefined?1:e};ol.source.TileWMS.prototype.getKeyForParams_=function(){var e=0;var t=[];for(var o in this.params_){t[e++]=o+"-"+this.params_[o]}return t.join("/")};ol.source.TileWMS.prototype.fixedTileUrlFunction=function(e,t,o){var r=this.getTileGrid();if(!r){r=this.getTileGridForProjection(o)}if(r.getResolutions().length<=e[0]){return undefined}if(t!=1&&(!this.hidpi_||this.serverType_===undefined)){t=1}var i=r.getResolution(e[0]);var n=r.getTileCoordExtent(e,this.tmpExtent_);var l=ol.size.toSize(r.getTileSize(e[0]),this.tmpSize);var a=this.gutter_;if(a!==0){l=ol.size.buffer(l,a,this.tmpSize);n=ol.extent.buffer(n,i*a,n)}if(t!=1){l=ol.size.scale(l,t,this.tmpSize)}var s={SERVICE:"WMS",VERSION:ol.DEFAULT_WMS_VERSION,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:true};ol.obj.assign(s,this.params_);return this.getRequestUrl_(e,l,n,t,o,s)};ol.source.TileWMS.prototype.updateParams=function(e){ol.obj.assign(this.params_,e);this.updateV13_();this.setKey(this.getKeyForParams_())};ol.source.TileWMS.prototype.updateV13_=function(){var e=this.params_["VERSION"]||ol.DEFAULT_WMS_VERSION;this.v13_=ol.string.compareVersions(e,"1.3")>=0};goog.provide("ol.VectorImageTile");goog.require("ol");goog.require("ol.Tile");goog.require("ol.TileState");goog.require("ol.dom");goog.require("ol.events");goog.require("ol.extent");goog.require("ol.events.EventType");goog.require("ol.featureloader");ol.VectorImageTile=function(e,t,o,r,i,n,l,a,s,p,g,u,c,y,d){ol.Tile.call(this,e,t,d);this.context_={};this.loader_;this.replayState_={};this.sourceTiles_=p;this.tileKeys=[];this.sourceRevision_=o;this.wrappedTileCoord=n;this.loadListenerKeys_=[];this.sourceTileListenerKeys_=[];if(n){var h=s.getTileCoordExtent(n);var f=s.getResolution(e[0]);var m=a.getZForResolution(f);a.forEachTileCoord(h,m,function(e){var t=ol.extent.getIntersection(h,a.getTileCoordExtent(e));var o=a.getExtent();if(o){t=ol.extent.getIntersection(t,o)}if(ol.extent.getWidth(t)/f>=.5&&ol.extent.getHeight(t)/f>=.5){var n=e.toString();var s=p[n];if(!s){var d=l(e,g,u);s=p[n]=new c(e,d==undefined?ol.TileState.EMPTY:ol.TileState.IDLE,d==undefined?"":d,r,i);this.sourceTileListenerKeys_.push(ol.events.listen(s,ol.events.EventType.CHANGE,y))}s.consumers++;this.tileKeys.push(n)}}.bind(this))}};ol.inherits(ol.VectorImageTile,ol.Tile);ol.VectorImageTile.prototype.disposeInternal=function(){for(var e=0,t=this.tileKeys.length;e<t;++e){var o=this.tileKeys[e];var r=this.getTile(o);r.consumers--;if(r.consumers==0){delete this.sourceTiles_[o];r.dispose()}}this.tileKeys.length=0;this.sourceTiles_=null;this.loadListenerKeys_.forEach(ol.events.unlistenByKey);this.loadListenerKeys_.length=0;if(this.interimTile){this.interimTile.dispose()}this.state=ol.TileState.ABORT;this.changed();this.sourceTileListenerKeys_.forEach(ol.events.unlistenByKey);this.sourceTileListenerKeys_.length=0;ol.Tile.prototype.disposeInternal.call(this)};ol.VectorImageTile.prototype.getContext=function(e){var t=ol.getUid(e).toString();if(!(t in this.context_)){this.context_[t]=ol.dom.createCanvasContext2D()}return this.context_[t]};ol.VectorImageTile.prototype.getImage=function(e){return this.getReplayState(e).renderedTileRevision==-1?null:this.getContext(e).canvas};ol.VectorImageTile.prototype.getReplayState=function(e){var t=ol.getUid(e).toString();if(!(t in this.replayState_)){this.replayState_[t]={dirty:false,renderedRenderOrder:null,renderedRevision:-1,renderedTileRevision:-1}}return this.replayState_[t]};ol.VectorImageTile.prototype.getKey=function(){return this.tileKeys.join("/")+"-"+this.sourceRevision_};ol.VectorImageTile.prototype.getTile=function(e){return this.sourceTiles_[e]};ol.VectorImageTile.prototype.load=function(){var e=0;var t={};if(this.state==ol.TileState.IDLE){this.setState(ol.TileState.LOADING)}if(this.state==ol.TileState.LOADING){this.tileKeys.forEach(function(o){var r=this.getTile(o);if(r.state==ol.TileState.IDLE){r.setLoader(this.loader_);r.load()}if(r.state==ol.TileState.LOADING){var i=ol.events.listen(r,ol.events.EventType.CHANGE,function(o){var i=r.getState();if(i==ol.TileState.LOADED||i==ol.TileState.ERROR){var n=ol.getUid(r);if(i==ol.TileState.ERROR){t[n]=true}else{--e;delete t[n]}if(e-Object.keys(t).length==0){this.finishLoading_()}}}.bind(this));this.loadListenerKeys_.push(i);++e}}.bind(this))}if(e-Object.keys(t).length==0){setTimeout(this.finishLoading_.bind(this),0)}};ol.VectorImageTile.prototype.finishLoading_=function(){var e=this.tileKeys.length;var t=0;for(var o=e-1;o>=0;--o){var r=this.getTile(this.tileKeys[o]).getState();if(r!=ol.TileState.LOADED){--e}if(r==ol.TileState.EMPTY){++t}}if(e==this.tileKeys.length){this.loadListenerKeys_.forEach(ol.events.unlistenByKey);this.loadListenerKeys_.length=0;this.setState(ol.TileState.LOADED)}else{this.setState(t==this.tileKeys.length?ol.TileState.EMPTY:ol.TileState.ERROR)}};ol.VectorImageTile.defaultLoadFunction=function(e,t){var o=ol.featureloader.loadFeaturesXhr(t,e.getFormat(),e.onLoad.bind(e),e.onError.bind(e));e.setLoader(o)};goog.provide("ol.VectorTile");goog.require("ol");goog.require("ol.Tile");goog.require("ol.TileState");ol.VectorTile=function(e,t,o,r,i,n){ol.Tile.call(this,e,t,n);this.consumers=0;this.extent_=null;this.format_=r;this.features_=null;this.loader_;this.projection_;this.replayGroups_={};this.tileLoadFunction_=i;this.url_=o};ol.inherits(ol.VectorTile,ol.Tile);ol.VectorTile.prototype.disposeInternal=function(){this.features_=null;this.replayGroups_={};this.state=ol.TileState.ABORT;this.changed();ol.Tile.prototype.disposeInternal.call(this)};ol.VectorTile.prototype.getExtent=function(){return this.extent_||ol.VectorTile.DEFAULT_EXTENT};ol.VectorTile.prototype.getFormat=function(){return this.format_};ol.VectorTile.prototype.getFeatures=function(){return this.features_};ol.VectorTile.prototype.getKey=function(){return this.url_};ol.VectorTile.prototype.getProjection=function(){return this.projection_};ol.VectorTile.prototype.getReplayGroup=function(e,t){return this.replayGroups_[ol.getUid(e)+","+t]};ol.VectorTile.prototype.load=function(){if(this.state==ol.TileState.IDLE){this.setState(ol.TileState.LOADING);this.tileLoadFunction_(this,this.url_);this.loader_(null,NaN,null)}};ol.VectorTile.prototype.onLoad=function(e,t,o){this.setProjection(t);this.setFeatures(e);this.setExtent(o)};ol.VectorTile.prototype.onError=function(){this.setState(ol.TileState.ERROR)};ol.VectorTile.prototype.setExtent=function(e){this.extent_=e};ol.VectorTile.prototype.setFeatures=function(e){this.features_=e;this.setState(ol.TileState.LOADED)};ol.VectorTile.prototype.setProjection=function(e){this.projection_=e};ol.VectorTile.prototype.setReplayGroup=function(e,t,o){this.replayGroups_[ol.getUid(e)+","+t]=o};ol.VectorTile.prototype.setLoader=function(e){this.loader_=e};ol.VectorTile.DEFAULT_EXTENT=[0,0,4096,4096];goog.provide("ol.source.VectorTile");goog.require("ol");goog.require("ol.TileState");goog.require("ol.VectorImageTile");goog.require("ol.VectorTile");goog.require("ol.size");goog.require("ol.source.UrlTile");goog.require("ol.tilecoord");goog.require("ol.tilegrid");ol.source.VectorTile=function(e){var t=e.projection||"EPSG:3857";var o=e.extent||ol.tilegrid.extentFromProjection(t);var r=e.tileGrid||ol.tilegrid.createXYZ({extent:o,maxZoom:e.maxZoom||22,minZoom:e.minZoom,tileSize:e.tileSize||512});ol.source.UrlTile.call(this,{attributions:e.attributions,cacheSize:e.cacheSize!==undefined?e.cacheSize:128,extent:o,logo:e.logo,opaque:false,projection:t,state:e.state,tileGrid:r,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:ol.VectorImageTile.defaultLoadFunction,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX===undefined?true:e.wrapX,transition:e.transition});this.format_=e.format?e.format:null;this.sourceTiles_={};this.overlaps_=e.overlaps==undefined?true:e.overlaps;this.tileClass=e.tileClass?e.tileClass:ol.VectorTile;this.tileGrids_={}};ol.inherits(ol.source.VectorTile,ol.source.UrlTile);ol.source.VectorTile.prototype.getOverlaps=function(){return this.overlaps_};ol.source.VectorTile.prototype.clear=function(){this.tileCache.clear();this.sourceTiles_={}};ol.source.VectorTile.prototype.getTile=function(e,t,o,r,i){var n=ol.tilecoord.getKeyZXY(e,t,o);if(this.tileCache.containsKey(n)){return this.tileCache.get(n)}else{var l=[e,t,o];var a=this.getTileCoordForTileUrlFunction(l,i);var s=new ol.VectorImageTile(l,a!==null?ol.TileState.IDLE:ol.TileState.EMPTY,this.getRevision(),this.format_,this.tileLoadFunction,a,this.tileUrlFunction,this.tileGrid,this.getTileGridForProjection(i),this.sourceTiles_,r,i,this.tileClass,this.handleTileChange.bind(this),this.tileOptions);this.tileCache.set(n,s);return s}};ol.source.VectorTile.prototype.getTileGridForProjection=function(e){var t=e.getCode();var o=this.tileGrids_[t];if(!o){var r=this.tileGrid;o=this.tileGrids_[t]=ol.tilegrid.createForProjection(e,undefined,r?r.getTileSize(r.getMinZoom()):undefined)}return o};ol.source.VectorTile.prototype.getTilePixelRatio=function(e){return e};ol.source.VectorTile.prototype.getTilePixelSize=function(e,t,o){var r=ol.size.toSize(this.getTileGridForProjection(o).getTileSize(e));return[Math.round(r[0]*t),Math.round(r[1]*t)]};goog.provide("ol.source.WMTSRequestEncoding");ol.source.WMTSRequestEncoding={KVP:"KVP",REST:"REST"};goog.provide("ol.tilegrid.WMTS");goog.require("ol");goog.require("ol.array");goog.require("ol.proj");goog.require("ol.tilegrid.TileGrid");ol.tilegrid.WMTS=function(e){this.matrixIds_=e.matrixIds;ol.tilegrid.TileGrid.call(this,{extent:e.extent,origin:e.origin,origins:e.origins,resolutions:e.resolutions,tileSize:e.tileSize,tileSizes:e.tileSizes,sizes:e.sizes})};ol.inherits(ol.tilegrid.WMTS,ol.tilegrid.TileGrid);ol.tilegrid.WMTS.prototype.getMatrixId=function(e){return this.matrixIds_[e]};ol.tilegrid.WMTS.prototype.getMatrixIds=function(){return this.matrixIds_};ol.tilegrid.WMTS.createFromCapabilitiesMatrixSet=function(e,t,o){var r=[];var i=[];var n=[];var l=[];var a=[];var s=o!==undefined?o:[];var p="SupportedCRS";var g="TileMatrix";var u="Identifier";var c="ScaleDenominator";var y="TopLeftCorner";var d="TileWidth";var h="TileHeight";var f=e[p];var m=ol.proj.get(f.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"))||ol.proj.get(f);var v=m.getMetersPerUnit();var _=m.getAxisOrientation().substr(0,2)=="ne";e[g].sort(function(e,t){return t[c]-e[c]});e[g].forEach(function(e,t,o){var p;if(s.length>0){p=ol.array.find(s,function(t,o,r){return e[u]==t[g]})}else{p=true}if(p){i.push(e[u]);var f=e[c]*28e-5/v;var m=e[d];var S=e[h];if(_){n.push([e[y][1],e[y][0]])}else{n.push(e[y])}r.push(f);l.push(m==S?m:[m,S]);a.push([e["MatrixWidth"],-e["MatrixHeight"]])}});return new ol.tilegrid.WMTS({extent:t,origins:n,resolutions:r,matrixIds:i,tileSizes:l,sizes:a})};goog.provide("ol.source.WMTS");goog.require("ol");goog.require("ol.TileUrlFunction");goog.require("ol.array");goog.require("ol.extent");goog.require("ol.obj");goog.require("ol.proj");goog.require("ol.source.TileImage");goog.require("ol.source.WMTSRequestEncoding");goog.require("ol.tilegrid.WMTS");goog.require("ol.uri");ol.source.WMTS=function(e){this.version_=e.version!==undefined?e.version:"1.0.0";this.format_=e.format!==undefined?e.format:"image/jpeg";this.dimensions_=e.dimensions!==undefined?e.dimensions:{};this.layer_=e.layer;this.matrixSet_=e.matrixSet;this.style_=e.style;var t=e.urls;if(t===undefined&&e.url!==undefined){t=ol.TileUrlFunction.expandUrl(e.url)}this.requestEncoding_=e.requestEncoding!==undefined?e.requestEncoding:ol.source.WMTSRequestEncoding.KVP;var o=this.requestEncoding_;var r=e.tileGrid;var i={layer:this.layer_,style:this.style_,tilematrixset:this.matrixSet_};if(o==ol.source.WMTSRequestEncoding.KVP){ol.obj.assign(i,{Service:"WMTS",Request:"GetTile",Version:this.version_,Format:this.format_})}var n=this.dimensions_;this.createFromWMTSTemplate_=function(e){e=o==ol.source.WMTSRequestEncoding.KVP?ol.uri.appendParams(e,i):e.replace(/\{(\w+?)\}/g,function(e,t){return t.toLowerCase()in i?i[t.toLowerCase()]:e});return function(t,i,l){if(!t){return undefined}else{var a={TileMatrix:r.getMatrixId(t[0]),TileCol:t[1],TileRow:-t[2]-1};ol.obj.assign(a,n);var s=e;if(o==ol.source.WMTSRequestEncoding.KVP){s=ol.uri.appendParams(s,a)}else{s=s.replace(/\{(\w+?)\}/g,function(e,t){return a[t]})}return s}}};var l=t&&t.length>0?ol.TileUrlFunction.createFromTileUrlFunctions(t.map(this.createFromWMTSTemplate_)):ol.TileUrlFunction.nullTileUrlFunction;ol.source.TileImage.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,logo:e.logo,projection:e.projection,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileClass:e.tileClass,tileGrid:r,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:l,urls:t,wrapX:e.wrapX!==undefined?e.wrapX:false,transition:e.transition});this.setKey(this.getKeyForDimensions_())};ol.inherits(ol.source.WMTS,ol.source.TileImage);ol.source.WMTS.prototype.setUrls=function(e){this.urls=e;var t=e.join("\n");this.setTileUrlFunction(this.fixedTileUrlFunction?this.fixedTileUrlFunction.bind(this):ol.TileUrlFunction.createFromTileUrlFunctions(e.map(this.createFromWMTSTemplate_.bind(this))),t)};ol.source.WMTS.prototype.getDimensions=function(){return this.dimensions_};ol.source.WMTS.prototype.getFormat=function(){return this.format_};ol.source.WMTS.prototype.getLayer=function(){return this.layer_};ol.source.WMTS.prototype.getMatrixSet=function(){return this.matrixSet_};ol.source.WMTS.prototype.getRequestEncoding=function(){return this.requestEncoding_};ol.source.WMTS.prototype.getStyle=function(){return this.style_};ol.source.WMTS.prototype.getVersion=function(){return this.version_};ol.source.WMTS.prototype.getKeyForDimensions_=function(){var e=0;var t=[];for(var o in this.dimensions_){t[e++]=o+"-"+this.dimensions_[o]}return t.join("/")};ol.source.WMTS.prototype.updateDimensions=function(e){ol.obj.assign(this.dimensions_,e);this.setKey(this.getKeyForDimensions_())};ol.source.WMTS.optionsFromCapabilities=function(e,t){var o=e["Contents"]["Layer"];var r=ol.array.find(o,function(e,o,r){return e["Identifier"]==t["layer"]});if(r===null){return null}var i=e["Contents"]["TileMatrixSet"];var n,l,a;if(r["TileMatrixSetLink"].length>1){if("projection"in t){n=ol.array.findIndex(r["TileMatrixSetLink"],function(e,o,r){var n=ol.array.find(i,function(t){return t["Identifier"]==e["TileMatrixSet"]});var l=n["SupportedCRS"];var a=ol.proj.get(l.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"))||ol.proj.get(l);var s=ol.proj.get(t["projection"]);if(a&&s){return ol.proj.equivalent(a,s)}else{return l==t["projection"]}})}else{n=ol.array.findIndex(r["TileMatrixSetLink"],function(e,o,r){return e["TileMatrixSet"]==t["matrixSet"]})}}else{n=0}if(n<0){n=0}l=r["TileMatrixSetLink"][n]["TileMatrixSet"];a=r["TileMatrixSetLink"][n]["TileMatrixSetLimits"];var s=r["Format"][0];if("format"in t){s=t["format"]}n=ol.array.findIndex(r["Style"],function(e,o,r){if("style"in t){return e["Title"]==t["style"]}else{return e["isDefault"]}});if(n<0){n=0}var p=r["Style"][n]["Identifier"];var g={};if("Dimension"in r){r["Dimension"].forEach(function(e,t,o){var r=e["Identifier"];var i=e["Default"];if(i===undefined){i=e["Value"][0]}g[r]=i})}var u=e["Contents"]["TileMatrixSet"];var c=ol.array.find(u,function(e,t,o){return e["Identifier"]==l});var y;var d=c["SupportedCRS"];if(d){y=ol.proj.get(d.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"))||ol.proj.get(d)}if("projection"in t){var h=ol.proj.get(t["projection"]);if(h){if(!y||ol.proj.equivalent(h,y)){y=h}}}var f=r["WGS84BoundingBox"];var m,v;if(f!==undefined){var _=ol.proj.get("EPSG:4326").getExtent();v=f[0]==_[0]&&f[2]==_[2];m=ol.proj.transformExtent(f,"EPSG:4326",y);var S=y.getExtent();if(S){if(!ol.extent.containsExtent(S,m)){m=undefined}}}var x=ol.tilegrid.WMTS.createFromCapabilitiesMatrixSet(c,m,a);var P=[];var E=t["requestEncoding"];E=E!==undefined?E:"";if("OperationsMetadata"in e&&"GetTile"in e["OperationsMetadata"]){var T=e["OperationsMetadata"]["GetTile"]["DCP"]["HTTP"]["Get"];for(var R=0,L=T.length;R<L;++R){if(T[R]["Constraint"]){var M=ol.array.find(T[R]["Constraint"],function(e){return e["name"]=="GetEncoding"});var C=M["AllowedValues"]["Value"];if(E===""){E=C[0]}if(E===ol.source.WMTSRequestEncoding.KVP){if(ol.array.includes(C,ol.source.WMTSRequestEncoding.KVP)){P.push(T[R]["href"])}}else{break}}else if(T[R]["href"]){E=ol.source.WMTSRequestEncoding.KVP;P.push(T[R]["href"])}}}if(P.length===0){E=ol.source.WMTSRequestEncoding.REST;r["ResourceURL"].forEach(function(e){if(e["resourceType"]==="tile"){s=e["format"];P.push(e["template"])}})}return{urls:P,layer:t["layer"],matrixSet:l,format:s,projection:y,requestEncoding:E,tileGrid:x,style:p,dimensions:g,wrapX:v,crossOrigin:t["crossOrigin"]}};goog.provide("ol.source.Zoomify");goog.require("ol");goog.require("ol.ImageTile");goog.require("ol.TileState");goog.require("ol.TileUrlFunction");goog.require("ol.asserts");goog.require("ol.dom");goog.require("ol.extent");goog.require("ol.size");goog.require("ol.source.TileImage");goog.require("ol.tilegrid.TileGrid");ol.source.Zoomify=function(e){var t=e||{};var o=t.size;var r=t.tierSizeCalculation!==undefined?t.tierSizeCalculation:ol.source.Zoomify.TierSizeCalculation_.DEFAULT;var i=o[0];var n=o[1];var l=t.extent||[0,-o[1],o[0],0];var a=[];var s=t.tileSize||ol.DEFAULT_TILE_SIZE;var p=s;switch(r){case ol.source.Zoomify.TierSizeCalculation_.DEFAULT:while(i>p||n>p){a.push([Math.ceil(i/p),Math.ceil(n/p)]);p+=p}break;case ol.source.Zoomify.TierSizeCalculation_.TRUNCATED:var g=i;var u=n;while(g>p||u>p){a.push([Math.ceil(g/p),Math.ceil(u/p)]);g>>=1;u>>=1}break;default:ol.asserts.assert(false,53);break}a.push([1,1]);a.reverse();var c=[1];var y=[0];var d,h;for(d=1,h=a.length;d<h;d++){c.push(1<<d);y.push(a[d-1][0]*a[d-1][1]+y[d-1])}c.reverse();var f=new ol.tilegrid.TileGrid({tileSize:s,extent:l,origin:ol.extent.getTopLeft(l),resolutions:c});var m=t.url;if(m&&m.indexOf("{TileGroup}")==-1&&m.indexOf("{tileIndex}")==-1){m+="{TileGroup}/{z}-{x}-{y}.jpg"}var v=ol.TileUrlFunction.expandUrl(m);function _(e){return function(t,o,r){if(!t){return undefined}else{var i=t[0];var n=t[1];var l=-t[2]-1;var s=n+l*a[i][0];var p=f.getTileSize(i);var g=(s+y[i])/p|0;var u={z:i,x:n,y:l,tileIndex:s,TileGroup:"TileGroup"+g};return e.replace(/\{(\w+?)\}/g,function(e,t){return u[t]})}}}var S=ol.TileUrlFunction.createFromTileUrlFunctions(v.map(_));var x=ol.source.Zoomify.Tile_.bind(null,f);ol.source.TileImage.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,logo:t.logo,projection:t.projection,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileClass:x,tileGrid:f,tileUrlFunction:S,transition:t.transition})};ol.inherits(ol.source.Zoomify,ol.source.TileImage);ol.source.Zoomify.Tile_=function(e,t,o,r,i,n,l){ol.ImageTile.call(this,t,o,r,i,n,l);this.zoomifyImage_=null;this.tileSize_=ol.size.toSize(e.getTileSize(t[0]))};ol.inherits(ol.source.Zoomify.Tile_,ol.ImageTile);ol.source.Zoomify.Tile_.prototype.getImage=function(){if(this.zoomifyImage_){return this.zoomifyImage_}var e=ol.ImageTile.prototype.getImage.call(this);if(this.state==ol.TileState.LOADED){var t=this.tileSize_;if(e.width==t[0]&&e.height==t[1]){this.zoomifyImage_=e;return e}else{var o=ol.dom.createCanvasContext2D(t[0],t[1]);o.drawImage(e,0,0);this.zoomifyImage_=o.canvas;return o.canvas}}else{return e}};ol.source.Zoomify.TierSizeCalculation_={DEFAULT:"default",TRUNCATED:"truncated"};goog.provide("ol.ext.vectortile.VectorTile");ol.ext.vectortile.VectorTile=function(){};(function(){(function(e){"use strict";var t=o;function o(e,t){this.x=e;this.y=t}o.prototype={clone:function(){return new o(this.x,this.y)},add:function(e){return this.clone()._add(e)},sub:function(e){return this.clone()._sub(e)},multByPoint:function(e){return this.clone()._multByPoint(e)},divByPoint:function(e){return this.clone()._divByPoint(e)},mult:function(e){return this.clone()._mult(e)},div:function(e){return this.clone()._div(e)},rotate:function(e){return this.clone()._rotate(e)},rotateAround:function(e,t){return this.clone()._rotateAround(e,t)},matMult:function(e){return this.clone()._matMult(e)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(e){return this.x===e.x&&this.y===e.y},dist:function(e){return Math.sqrt(this.distSqr(e))},distSqr:function(e){var t=e.x-this.x,o=e.y-this.y;return t*t+o*o},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(e){return Math.atan2(this.y-e.y,this.x-e.x)},angleWith:function(e){return this.angleWithSep(e.x,e.y)},angleWithSep:function(e,t){return Math.atan2(this.x*t-this.y*e,this.x*e+this.y*t)},_matMult:function(e){var t=e[0]*this.x+e[1]*this.y,o=e[2]*this.x+e[3]*this.y;this.x=t;this.y=o;return this},_add:function(e){this.x+=e.x;this.y+=e.y;return this},_sub:function(e){this.x-=e.x;this.y-=e.y;return this},_mult:function(e){this.x*=e;this.y*=e;return this},_div:function(e){this.x/=e;this.y/=e;return this},_multByPoint:function(e){this.x*=e.x;this.y*=e.y;return this},_divByPoint:function(e){this.x/=e.x;this.y/=e.y;return this},_unit:function(){this._div(this.mag());return this},_perp:function(){var e=this.y;this.y=this.x;this.x=-e;return this},_rotate:function(e){var t=Math.cos(e),o=Math.sin(e),r=t*this.x-o*this.y,i=o*this.x+t*this.y;this.x=r;this.y=i;return this},_rotateAround:function(e,t){var o=Math.cos(e),r=Math.sin(e),i=t.x+o*(this.x-t.x)-r*(this.y-t.y),n=t.y+r*(this.x-t.x)+o*(this.y-t.y);this.x=i;this.y=n;return this},_round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this}};o.convert=function(e){if(e instanceof o){return e}if(Array.isArray(e)){return new o(e[0],e[1])}return e};var r=i;function i(e,t,o,r,i){this.properties={};this.extent=o;this.type=0;this._pbf=e;this._geometry=-1;this._keys=r;this._values=i;e.readFields(n,this,t)}function n(e,t,o){if(e==1)t.id=o.readVarint();else if(e==2)l(o,t);else if(e==3)t.type=o.readVarint();else if(e==4)t._geometry=o.pos}function l(e,t){var o=e.readVarint()+e.pos;while(e.pos<o){var r=t._keys[e.readVarint()],i=t._values[e.readVarint()];t.properties[r]=i}}i.types=["Unknown","Point","LineString","Polygon"];i.prototype.loadGeometry=function(){var e=this._pbf;e.pos=this._geometry;var o=e.readVarint()+e.pos,r=1,i=0,n=0,l=0,a=[],s;while(e.pos<o){if(!i){var p=e.readVarint();r=p&7;i=p>>3}i--;if(r===1||r===2){n+=e.readSVarint();l+=e.readSVarint();if(r===1){if(s)a.push(s);s=[]}s.push(new t(n,l))}else if(r===7){if(s){s.push(s[0].clone())}}else{throw new Error("unknown command "+r)}}if(s)a.push(s);return a};i.prototype.bbox=function(){var e=this._pbf;e.pos=this._geometry;var t=e.readVarint()+e.pos,o=1,r=0,i=0,n=0,l=Infinity,a=-Infinity,s=Infinity,p=-Infinity;while(e.pos<t){if(!r){var g=e.readVarint();o=g&7;r=g>>3}r--;if(o===1||o===2){i+=e.readSVarint();n+=e.readSVarint();if(i<l)l=i;if(i>a)a=i;if(n<s)s=n;if(n>p)p=n}else if(o!==7){throw new Error("unknown command "+o)}}return[l,s,a,p]};i.prototype.toGeoJSON=function(e,t,o){var r=this.extent*Math.pow(2,o),n=this.extent*e,l=this.extent*t,s=this.loadGeometry(),p=i.types[this.type],g,u;function c(e){for(var t=0;t<e.length;t++){var o=e[t],i=180-(o.y+l)*360/r;e[t]=[(o.x+n)*360/r-180,360/Math.PI*Math.atan(Math.exp(i*Math.PI/180))-90]}}switch(this.type){case 1:var y=[];for(g=0;g<s.length;g++){y[g]=s[g][0]}s=y;c(s);break;case 2:for(g=0;g<s.length;g++){c(s[g])}break;case 3:s=a(s);for(g=0;g<s.length;g++){for(u=0;u<s[g].length;u++){c(s[g][u])}}break}if(s.length===1){s=s[0]}else{p="Multi"+p}var d={type:"Feature",geometry:{type:p,coordinates:s},properties:this.properties};if("id"in this){d.id=this.id}return d};function a(e){var t=e.length;if(t<=1)return[e];var o=[],r,i;for(var n=0;n<t;n++){var l=s(e[n]);if(l===0)continue;if(i===undefined)i=l<0;if(i===l<0){if(r)o.push(r);r=[e[n]]}else{r.push(e[n])}}if(r)o.push(r);return o}function s(e){var t=0;for(var o=0,r=e.length,i=r-1,n,l;o<r;i=o++){n=e[o];l=e[i];t+=(l.x-n.x)*(n.y+l.y)}return t}var p=g;function g(e,t){this.version=1;this.name=null;this.extent=4096;this.length=0;this._pbf=e;this._keys=[];this._values=[];this._features=[];e.readFields(u,this,t);this.length=this._features.length}function u(e,t,o){if(e===15)t.version=o.readVarint();else if(e===1)t.name=o.readString();else if(e===5)t.extent=o.readVarint();else if(e===2)t._features.push(o.pos);else if(e===3)t._keys.push(o.readString());else if(e===4)t._values.push(c(o))}function c(e){var t=null,o=e.readVarint()+e.pos;while(e.pos<o){var r=e.readVarint()>>3;t=r===1?e.readString():r===2?e.readFloat():r===3?e.readDouble():r===4?e.readVarint64():r===5?e.readVarint():r===6?e.readSVarint():r===7?e.readBoolean():null}return t}g.prototype.feature=function(e){if(e<0||e>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[e];var t=this._pbf.readVarint()+this._pbf.pos;return new r(this._pbf,t,this.extent,this._keys,this._values)};var y=d;function d(e,t){this.layers=e.readFields(h,{},t)}function h(e,t,o){if(e===3){var r=new p(o,o.readVarint()+o.pos);if(r.length)t[r.name]=r}}var f=y;var m=r;var v=p;var _={VectorTile:f,VectorTileFeature:m,VectorTileLayer:v};e["default"]=_;e.VectorTile=f;e.VectorTileFeature=m;e.VectorTileLayer=v})(this.vectortile=this.vectortile||{})}).call(ol.ext);goog.addDependency("demos/editor/equationeditor.js",["goog.demos.editor.EquationEditor"],["goog.ui.equation.EquationEditorDialog"]);goog.addDependency("demos/editor/helloworld.js",["goog.demos.editor.HelloWorld"],["goog.dom","goog.dom.TagName","goog.editor.Plugin"]);goog.addDependency("demos/editor/helloworlddialog.js",["goog.demos.editor.HelloWorldDialog","goog.demos.editor.HelloWorldDialog.OkEvent"],["goog.dom.TagName","goog.events.Event","goog.string","goog.ui.editor.AbstractDialog","goog.ui.editor.AbstractDialog.Builder","goog.ui.editor.AbstractDialog.EventType"]);goog.addDependency("demos/editor/helloworlddialogplugin.js",["goog.demos.editor.HelloWorldDialogPlugin","goog.demos.editor.HelloWorldDialogPlugin.Command"],["goog.demos.editor.HelloWorldDialog","goog.dom.TagName","goog.editor.plugins.AbstractDialogPlugin","goog.editor.range","goog.functions","goog.ui.editor.AbstractDialog.EventType"]);goog.require("ol");goog.require("ol.AssertionError");goog.require("ol.Attribution");goog.require("ol.CanvasMap");goog.require("ol.Collection");goog.require("ol.DeviceOrientation");goog.require("ol.Feature");goog.require("ol.Geolocation");goog.require("ol.Graticule");goog.require("ol.Image");goog.require("ol.ImageTile");goog.require("ol.Kinetic");goog.require("ol.Map");goog.require("ol.MapBrowserEvent");goog.require("ol.MapEvent");goog.require("ol.Object");goog.require("ol.Observable");goog.require("ol.Overlay");goog.require("ol.PluggableMap");goog.require("ol.Sphere");goog.require("ol.Tile");goog.require("ol.VectorTile");goog.require("ol.View");goog.require("ol.color");goog.require("ol.colorlike");goog.require("ol.control");goog.require("ol.control.Attribution");goog.require("ol.control.Control");goog.require("ol.control.FullScreen");goog.require("ol.control.MousePosition");goog.require("ol.control.OverviewMap");goog.require("ol.control.Rotate");goog.require("ol.control.ScaleLine");goog.require("ol.control.Zoom");goog.require("ol.control.ZoomSlider");goog.require("ol.control.ZoomToExtent");goog.require("ol.coordinate");goog.require("ol.easing");goog.require("ol.events.Event");goog.require("ol.events.condition");goog.require("ol.extent");goog.require("ol.featureloader");goog.require("ol.format.EsriJSON");goog.require("ol.format.Feature");goog.require("ol.format.GML");goog.require("ol.format.GML2");goog.require("ol.format.GML3");goog.require("ol.format.GMLBase");goog.require("ol.format.GPX");goog.require("ol.format.GeoJSON");goog.require("ol.format.IGC");goog.require("ol.format.KML");goog.require("ol.format.MVT");goog.require("ol.format.OSMXML");goog.require("ol.format.Polyline");goog.require("ol.format.TopoJSON");goog.require("ol.format.WFS");goog.require("ol.format.WKT");goog.require("ol.format.WMSCapabilities");goog.require("ol.format.WMSGetFeatureInfo");goog.require("ol.format.WMTSCapabilities");goog.require("ol.format.filter");goog.require("ol.format.filter.And");goog.require("ol.format.filter.Bbox");goog.require("ol.format.filter.Comparison");goog.require("ol.format.filter.ComparisonBinary");goog.require("ol.format.filter.Contains");goog.require("ol.format.filter.During");goog.require("ol.format.filter.EqualTo");goog.require("ol.format.filter.Filter");goog.require("ol.format.filter.GreaterThan");goog.require("ol.format.filter.GreaterThanOrEqualTo");goog.require("ol.format.filter.Intersects");goog.require("ol.format.filter.IsBetween");goog.require("ol.format.filter.IsLike");goog.require("ol.format.filter.IsNull");goog.require("ol.format.filter.LessThan");goog.require("ol.format.filter.LessThanOrEqualTo");goog.require("ol.format.filter.Not");goog.require("ol.format.filter.NotEqualTo");goog.require("ol.format.filter.Or");goog.require("ol.format.filter.Spatial");goog.require("ol.format.filter.Within");goog.require("ol.geom.Circle");goog.require("ol.geom.Geometry");goog.require("ol.geom.GeometryCollection");goog.require("ol.geom.LineString");goog.require("ol.geom.LinearRing");goog.require("ol.geom.MultiLineString");goog.require("ol.geom.MultiPoint");goog.require("ol.geom.MultiPolygon");goog.require("ol.geom.Point");goog.require("ol.geom.Polygon");goog.require("ol.geom.SimpleGeometry");goog.require("ol.has");goog.require("ol.interaction");goog.require("ol.interaction.DoubleClickZoom");goog.require("ol.interaction.DragAndDrop");goog.require("ol.interaction.DragBox");goog.require("ol.interaction.DragPan");goog.require("ol.interaction.DragRotate");goog.require("ol.interaction.DragRotateAndZoom");goog.require("ol.interaction.DragZoom");goog.require("ol.interaction.Draw");goog.require("ol.interaction.Extent");goog.require("ol.interaction.Interaction");goog.require("ol.interaction.KeyboardPan");goog.require("ol.interaction.KeyboardZoom");goog.require("ol.interaction.Modify");goog.require("ol.interaction.MouseWheelZoom");goog.require("ol.interaction.PinchRotate");goog.require("ol.interaction.PinchZoom");goog.require("ol.interaction.Pointer");goog.require("ol.interaction.Select");goog.require("ol.interaction.Snap");goog.require("ol.interaction.Translate");goog.require("ol.layer.Base");goog.require("ol.layer.Group");goog.require("ol.layer.Heatmap");goog.require("ol.layer.Image");goog.require("ol.layer.Layer");goog.require("ol.layer.Tile");goog.require("ol.layer.Vector");goog.require("ol.layer.VectorTile");goog.require("ol.loadingstrategy");goog.require("ol.proj");goog.require("ol.proj.Projection");goog.require("ol.proj.Units");goog.require("ol.proj.common");goog.require("ol.render");goog.require("ol.render.Event");goog.require("ol.render.Feature");goog.require("ol.render.VectorContext");goog.require("ol.render.canvas.Immediate");goog.require("ol.render.webgl.Immediate");goog.require("ol.renderer.canvas.ImageLayer");goog.require("ol.renderer.canvas.Map");goog.require("ol.renderer.canvas.TileLayer");goog.require("ol.renderer.canvas.VectorLayer");goog.require("ol.renderer.canvas.VectorTileLayer");goog.require("ol.renderer.webgl.ImageLayer");goog.require("ol.renderer.webgl.Map");goog.require("ol.renderer.webgl.TileLayer");goog.require("ol.renderer.webgl.VectorLayer");goog.require("ol.size");goog.require("ol.source.BingMaps");goog.require("ol.source.CartoDB");goog.require("ol.source.Cluster");goog.require("ol.source.Image");goog.require("ol.source.ImageArcGISRest");goog.require("ol.source.ImageCanvas");goog.require("ol.source.ImageMapGuide");goog.require("ol.source.ImageStatic");goog.require("ol.source.ImageVector");goog.require("ol.source.ImageWMS");goog.require("ol.source.OSM");goog.require("ol.source.Raster");goog.require("ol.source.Source");goog.require("ol.source.Stamen");goog.require("ol.source.Tile");goog.require("ol.source.TileArcGISRest");goog.require("ol.source.TileDebug");goog.require("ol.source.TileImage");goog.require("ol.source.TileJSON");goog.require("ol.source.TileUTFGrid");goog.require("ol.source.TileWMS");goog.require("ol.source.UrlTile");goog.require("ol.source.Vector");goog.require("ol.source.VectorTile");goog.require("ol.source.WMTS");goog.require("ol.source.XYZ");goog.require("ol.source.Zoomify");goog.require("ol.style");goog.require("ol.style.AtlasManager");goog.require("ol.style.Circle");goog.require("ol.style.Fill");goog.require("ol.style.Icon");goog.require("ol.style.IconImageCache");goog.require("ol.style.Image");goog.require("ol.style.RegularShape");goog.require("ol.style.Stroke");goog.require("ol.style.Style");goog.require("ol.style.Text");goog.require("ol.tilegrid");goog.require("ol.tilegrid.TileGrid");goog.require("ol.tilegrid.WMTS");goog.require("ol.webgl.Context");goog.require("ol.xml");goog.exportProperty(ol.AssertionError.prototype,"code",ol.AssertionError.prototype.code);goog.exportSymbol("ol.Attribution",ol.Attribution,OPENLAYERS);goog.exportProperty(ol.Attribution.prototype,"getHTML",ol.Attribution.prototype.getHTML);goog.exportSymbol("ol.CanvasMap",ol.CanvasMap,OPENLAYERS);goog.exportSymbol("ol.Collection",ol.Collection,OPENLAYERS);goog.exportProperty(ol.Collection.prototype,"clear",ol.Collection.prototype.clear);goog.exportProperty(ol.Collection.prototype,"extend",ol.Collection.prototype.extend);goog.exportProperty(ol.Collection.prototype,"forEach",ol.Collection.prototype.forEach);goog.exportProperty(ol.Collection.prototype,"getArray",ol.Collection.prototype.getArray);goog.exportProperty(ol.Collection.prototype,"item",ol.Collection.prototype.item);goog.exportProperty(ol.Collection.prototype,"getLength",ol.Collection.prototype.getLength);goog.exportProperty(ol.Collection.prototype,"insertAt",ol.Collection.prototype.insertAt);goog.exportProperty(ol.Collection.prototype,"pop",ol.Collection.prototype.pop);goog.exportProperty(ol.Collection.prototype,"push",ol.Collection.prototype.push);goog.exportProperty(ol.Collection.prototype,"remove",ol.Collection.prototype.remove);goog.exportProperty(ol.Collection.prototype,"removeAt",ol.Collection.prototype.removeAt);goog.exportProperty(ol.Collection.prototype,"setAt",ol.Collection.prototype.setAt);goog.exportProperty(ol.Collection.Event.prototype,"element",ol.Collection.Event.prototype.element);goog.exportSymbol("ol.color.asArray",ol.color.asArray,OPENLAYERS);goog.exportSymbol("ol.color.asString",ol.color.asString,OPENLAYERS);goog.exportSymbol("ol.colorlike.asColorLike",ol.colorlike.asColorLike,OPENLAYERS);goog.exportSymbol("ol.control.defaults",ol.control.defaults,OPENLAYERS);goog.exportSymbol("ol.coordinate.add",ol.coordinate.add,OPENLAYERS);goog.exportSymbol("ol.coordinate.createStringXY",ol.coordinate.createStringXY,OPENLAYERS);goog.exportSymbol("ol.coordinate.format",ol.coordinate.format,OPENLAYERS);goog.exportSymbol("ol.coordinate.rotate",ol.coordinate.rotate,OPENLAYERS);goog.exportSymbol("ol.coordinate.toStringHDMS",ol.coordinate.toStringHDMS,OPENLAYERS);goog.exportSymbol("ol.coordinate.toStringXY",ol.coordinate.toStringXY,OPENLAYERS);goog.exportSymbol("ol.DeviceOrientation",ol.DeviceOrientation,OPENLAYERS);goog.exportProperty(ol.DeviceOrientation.prototype,"getAlpha",ol.DeviceOrientation.prototype.getAlpha);goog.exportProperty(ol.DeviceOrientation.prototype,"getBeta",ol.DeviceOrientation.prototype.getBeta);goog.exportProperty(ol.DeviceOrientation.prototype,"getGamma",ol.DeviceOrientation.prototype.getGamma);goog.exportProperty(ol.DeviceOrientation.prototype,"getHeading",ol.DeviceOrientation.prototype.getHeading);goog.exportProperty(ol.DeviceOrientation.prototype,"getTracking",ol.DeviceOrientation.prototype.getTracking);goog.exportProperty(ol.DeviceOrientation.prototype,"setTracking",ol.DeviceOrientation.prototype.setTracking);goog.exportSymbol("ol.easing.easeIn",ol.easing.easeIn,OPENLAYERS);goog.exportSymbol("ol.easing.easeOut",ol.easing.easeOut,OPENLAYERS);goog.exportSymbol("ol.easing.inAndOut",ol.easing.inAndOut,OPENLAYERS);goog.exportSymbol("ol.easing.linear",ol.easing.linear,OPENLAYERS);goog.exportSymbol("ol.easing.upAndDown",ol.easing.upAndDown,OPENLAYERS);goog.exportSymbol("ol.extent.boundingExtent",ol.extent.boundingExtent,OPENLAYERS);goog.exportSymbol("ol.extent.buffer",ol.extent.buffer,OPENLAYERS);goog.exportSymbol("ol.extent.containsCoordinate",ol.extent.containsCoordinate,OPENLAYERS);goog.exportSymbol("ol.extent.containsExtent",ol.extent.containsExtent,OPENLAYERS);goog.exportSymbol("ol.extent.containsXY",ol.extent.containsXY,OPENLAYERS);goog.exportSymbol("ol.extent.createEmpty",ol.extent.createEmpty,OPENLAYERS);goog.exportSymbol("ol.extent.equals",ol.extent.equals,OPENLAYERS);goog.exportSymbol("ol.extent.extend",ol.extent.extend,OPENLAYERS);goog.exportSymbol("ol.extent.getArea",ol.extent.getArea,OPENLAYERS);goog.exportSymbol("ol.extent.getBottomLeft",ol.extent.getBottomLeft,OPENLAYERS);goog.exportSymbol("ol.extent.getBottomRight",ol.extent.getBottomRight,OPENLAYERS);goog.exportSymbol("ol.extent.getCenter",ol.extent.getCenter,OPENLAYERS);goog.exportSymbol("ol.extent.getHeight",ol.extent.getHeight,OPENLAYERS);goog.exportSymbol("ol.extent.getIntersection",ol.extent.getIntersection,OPENLAYERS);goog.exportSymbol("ol.extent.getSize",ol.extent.getSize,OPENLAYERS);goog.exportSymbol("ol.extent.getTopLeft",ol.extent.getTopLeft,OPENLAYERS);goog.exportSymbol("ol.extent.getTopRight",ol.extent.getTopRight,OPENLAYERS);goog.exportSymbol("ol.extent.getWidth",ol.extent.getWidth,OPENLAYERS);goog.exportSymbol("ol.extent.intersects",ol.extent.intersects,OPENLAYERS);goog.exportSymbol("ol.extent.isEmpty",ol.extent.isEmpty,OPENLAYERS);goog.exportSymbol("ol.extent.applyTransform",ol.extent.applyTransform,OPENLAYERS);goog.exportSymbol("ol.Feature",ol.Feature,OPENLAYERS);goog.exportProperty(ol.Feature.prototype,"clone",ol.Feature.prototype.clone);goog.exportProperty(ol.Feature.prototype,"getGeometry",ol.Feature.prototype.getGeometry);goog.exportProperty(ol.Feature.prototype,"getId",ol.Feature.prototype.getId);goog.exportProperty(ol.Feature.prototype,"getGeometryName",ol.Feature.prototype.getGeometryName);goog.exportProperty(ol.Feature.prototype,"getStyle",ol.Feature.prototype.getStyle);goog.exportProperty(ol.Feature.prototype,"getStyleFunction",ol.Feature.prototype.getStyleFunction);goog.exportProperty(ol.Feature.prototype,"setGeometry",ol.Feature.prototype.setGeometry);goog.exportProperty(ol.Feature.prototype,"setStyle",ol.Feature.prototype.setStyle);goog.exportProperty(ol.Feature.prototype,"setId",ol.Feature.prototype.setId);goog.exportProperty(ol.Feature.prototype,"setGeometryName",ol.Feature.prototype.setGeometryName);goog.exportSymbol("ol.featureloader.xhr",ol.featureloader.xhr,OPENLAYERS);goog.exportSymbol("ol.Geolocation",ol.Geolocation,OPENLAYERS);goog.exportProperty(ol.Geolocation.prototype,"getAccuracy",ol.Geolocation.prototype.getAccuracy);goog.exportProperty(ol.Geolocation.prototype,"getAccuracyGeometry",ol.Geolocation.prototype.getAccuracyGeometry);goog.exportProperty(ol.Geolocation.prototype,"getAltitude",ol.Geolocation.prototype.getAltitude);goog.exportProperty(ol.Geolocation.prototype,"getAltitudeAccuracy",ol.Geolocation.prototype.getAltitudeAccuracy);goog.exportProperty(ol.Geolocation.prototype,"getHeading",ol.Geolocation.prototype.getHeading);goog.exportProperty(ol.Geolocation.prototype,"getPosition",ol.Geolocation.prototype.getPosition);goog.exportProperty(ol.Geolocation.prototype,"getProjection",ol.Geolocation.prototype.getProjection);goog.exportProperty(ol.Geolocation.prototype,"getSpeed",ol.Geolocation.prototype.getSpeed);goog.exportProperty(ol.Geolocation.prototype,"getTracking",ol.Geolocation.prototype.getTracking);goog.exportProperty(ol.Geolocation.prototype,"getTrackingOptions",ol.Geolocation.prototype.getTrackingOptions);goog.exportProperty(ol.Geolocation.prototype,"setProjection",ol.Geolocation.prototype.setProjection);goog.exportProperty(ol.Geolocation.prototype,"setTracking",ol.Geolocation.prototype.setTracking);goog.exportProperty(ol.Geolocation.prototype,"setTrackingOptions",ol.Geolocation.prototype.setTrackingOptions);goog.exportSymbol("ol.Graticule",ol.Graticule,OPENLAYERS);goog.exportProperty(ol.Graticule.prototype,"getMap",ol.Graticule.prototype.getMap);goog.exportProperty(ol.Graticule.prototype,"getMeridians",ol.Graticule.prototype.getMeridians);goog.exportProperty(ol.Graticule.prototype,"getParallels",ol.Graticule.prototype.getParallels);goog.exportProperty(ol.Graticule.prototype,"setMap",ol.Graticule.prototype.setMap);goog.exportSymbol("ol.has.DEVICE_PIXEL_RATIO",ol.has.DEVICE_PIXEL_RATIO,OPENLAYERS);goog.exportSymbol("ol.has.CANVAS",ol.has.CANVAS,OPENLAYERS);goog.exportSymbol("ol.has.DEVICE_ORIENTATION",ol.has.DEVICE_ORIENTATION,OPENLAYERS);goog.exportSymbol("ol.has.GEOLOCATION",ol.has.GEOLOCATION,OPENLAYERS);goog.exportSymbol("ol.has.TOUCH",ol.has.TOUCH,OPENLAYERS);goog.exportSymbol("ol.has.WEBGL",ol.has.WEBGL,OPENLAYERS);goog.exportProperty(ol.Image.prototype,"getImage",ol.Image.prototype.getImage);goog.exportProperty(ol.Image.prototype,"load",ol.Image.prototype.load);goog.exportProperty(ol.ImageTile.prototype,"getImage",ol.ImageTile.prototype.getImage);goog.exportSymbol("ol.inherits",ol.inherits,OPENLAYERS);goog.exportSymbol("ol.interaction.defaults",ol.interaction.defaults,OPENLAYERS);goog.exportSymbol("ol.Kinetic",ol.Kinetic,OPENLAYERS);goog.exportSymbol("ol.loadingstrategy.all",ol.loadingstrategy.all,OPENLAYERS);goog.exportSymbol("ol.loadingstrategy.bbox",ol.loadingstrategy.bbox,OPENLAYERS);goog.exportSymbol("ol.loadingstrategy.tile",ol.loadingstrategy.tile,OPENLAYERS);goog.exportSymbol("ol.Map",ol.Map,OPENLAYERS);goog.exportProperty(ol.MapBrowserEvent.prototype,"originalEvent",ol.MapBrowserEvent.prototype.originalEvent);goog.exportProperty(ol.MapBrowserEvent.prototype,"pixel",ol.MapBrowserEvent.prototype.pixel);goog.exportProperty(ol.MapBrowserEvent.prototype,"coordinate",ol.MapBrowserEvent.prototype.coordinate);goog.exportProperty(ol.MapBrowserEvent.prototype,"dragging",ol.MapBrowserEvent.prototype.dragging);goog.exportProperty(ol.MapEvent.prototype,"map",ol.MapEvent.prototype.map);goog.exportProperty(ol.MapEvent.prototype,"frameState",ol.MapEvent.prototype.frameState);goog.exportSymbol("ol.Object",ol.Object,OPENLAYERS);goog.exportProperty(ol.Object.prototype,"get",ol.Object.prototype.get);goog.exportProperty(ol.Object.prototype,"getKeys",ol.Object.prototype.getKeys);goog.exportProperty(ol.Object.prototype,"getProperties",ol.Object.prototype.getProperties);goog.exportProperty(ol.Object.prototype,"set",ol.Object.prototype.set);goog.exportProperty(ol.Object.prototype,"setProperties",ol.Object.prototype.setProperties);goog.exportProperty(ol.Object.prototype,"unset",ol.Object.prototype.unset);goog.exportProperty(ol.Object.Event.prototype,"key",ol.Object.Event.prototype.key);goog.exportProperty(ol.Object.Event.prototype,"oldValue",ol.Object.Event.prototype.oldValue);goog.exportSymbol("ol.Observable",ol.Observable,OPENLAYERS);goog.exportSymbol("ol.Observable.unByKey",ol.Observable.unByKey,OPENLAYERS);goog.exportProperty(ol.Observable.prototype,"changed",ol.Observable.prototype.changed);goog.exportProperty(ol.Observable.prototype,"dispatchEvent",ol.Observable.prototype.dispatchEvent);goog.exportProperty(ol.Observable.prototype,"getRevision",ol.Observable.prototype.getRevision);goog.exportProperty(ol.Observable.prototype,"on",ol.Observable.prototype.on);goog.exportProperty(ol.Observable.prototype,"once",ol.Observable.prototype.once);goog.exportProperty(ol.Observable.prototype,"un",ol.Observable.prototype.un);goog.exportSymbol("ol.Overlay",ol.Overlay,OPENLAYERS);goog.exportProperty(ol.Overlay.prototype,"getElement",ol.Overlay.prototype.getElement);goog.exportProperty(ol.Overlay.prototype,"getId",ol.Overlay.prototype.getId);goog.exportProperty(ol.Overlay.prototype,"getMap",ol.Overlay.prototype.getMap);goog.exportProperty(ol.Overlay.prototype,"getOffset",ol.Overlay.prototype.getOffset);goog.exportProperty(ol.Overlay.prototype,"getPosition",ol.Overlay.prototype.getPosition);goog.exportProperty(ol.Overlay.prototype,"getPositioning",ol.Overlay.prototype.getPositioning);goog.exportProperty(ol.Overlay.prototype,"setElement",ol.Overlay.prototype.setElement);goog.exportProperty(ol.Overlay.prototype,"setMap",ol.Overlay.prototype.setMap);goog.exportProperty(ol.Overlay.prototype,"setOffset",ol.Overlay.prototype.setOffset);goog.exportProperty(ol.Overlay.prototype,"setPosition",ol.Overlay.prototype.setPosition);goog.exportProperty(ol.Overlay.prototype,"setPositioning",ol.Overlay.prototype.setPositioning);goog.exportSymbol("ol.PluggableMap",ol.PluggableMap,OPENLAYERS);goog.exportProperty(ol.PluggableMap.prototype,"addControl",ol.PluggableMap.prototype.addControl);goog.exportProperty(ol.PluggableMap.prototype,"addInteraction",ol.PluggableMap.prototype.addInteraction);goog.exportProperty(ol.PluggableMap.prototype,"addLayer",ol.PluggableMap.prototype.addLayer);goog.exportProperty(ol.PluggableMap.prototype,"addOverlay",ol.PluggableMap.prototype.addOverlay);goog.exportProperty(ol.PluggableMap.prototype,"forEachFeatureAtPixel",ol.PluggableMap.prototype.forEachFeatureAtPixel);goog.exportProperty(ol.PluggableMap.prototype,"getFeaturesAtPixel",ol.PluggableMap.prototype.getFeaturesAtPixel);goog.exportProperty(ol.PluggableMap.prototype,"forEachLayerAtPixel",ol.PluggableMap.prototype.forEachLayerAtPixel);goog.exportProperty(ol.PluggableMap.prototype,"hasFeatureAtPixel",ol.PluggableMap.prototype.hasFeatureAtPixel);goog.exportProperty(ol.PluggableMap.prototype,"getEventCoordinate",ol.PluggableMap.prototype.getEventCoordinate);goog.exportProperty(ol.PluggableMap.prototype,"getEventPixel",ol.PluggableMap.prototype.getEventPixel);goog.exportProperty(ol.PluggableMap.prototype,"getTarget",ol.PluggableMap.prototype.getTarget);goog.exportProperty(ol.PluggableMap.prototype,"getTargetElement",ol.PluggableMap.prototype.getTargetElement);goog.exportProperty(ol.PluggableMap.prototype,"getCoordinateFromPixel",ol.PluggableMap.prototype.getCoordinateFromPixel);goog.exportProperty(ol.PluggableMap.prototype,"getControls",ol.PluggableMap.prototype.getControls);goog.exportProperty(ol.PluggableMap.prototype,"getOverlays",ol.PluggableMap.prototype.getOverlays);goog.exportProperty(ol.PluggableMap.prototype,"getOverlayById",ol.PluggableMap.prototype.getOverlayById);goog.exportProperty(ol.PluggableMap.prototype,"getInteractions",ol.PluggableMap.prototype.getInteractions);goog.exportProperty(ol.PluggableMap.prototype,"getLayerGroup",ol.PluggableMap.prototype.getLayerGroup);goog.exportProperty(ol.PluggableMap.prototype,"getLayers",ol.PluggableMap.prototype.getLayers);goog.exportProperty(ol.PluggableMap.prototype,"getPixelFromCoordinate",ol.PluggableMap.prototype.getPixelFromCoordinate);goog.exportProperty(ol.PluggableMap.prototype,"getSize",ol.PluggableMap.prototype.getSize);goog.exportProperty(ol.PluggableMap.prototype,"getView",ol.PluggableMap.prototype.getView);goog.exportProperty(ol.PluggableMap.prototype,"getViewport",ol.PluggableMap.prototype.getViewport);goog.exportProperty(ol.PluggableMap.prototype,"renderSync",ol.PluggableMap.prototype.renderSync);goog.exportProperty(ol.PluggableMap.prototype,"render",ol.PluggableMap.prototype.render);goog.exportProperty(ol.PluggableMap.prototype,"removeControl",ol.PluggableMap.prototype.removeControl);goog.exportProperty(ol.PluggableMap.prototype,"removeInteraction",ol.PluggableMap.prototype.removeInteraction);goog.exportProperty(ol.PluggableMap.prototype,"removeLayer",ol.PluggableMap.prototype.removeLayer);goog.exportProperty(ol.PluggableMap.prototype,"removeOverlay",ol.PluggableMap.prototype.removeOverlay);goog.exportProperty(ol.PluggableMap.prototype,"setLayerGroup",ol.PluggableMap.prototype.setLayerGroup);goog.exportProperty(ol.PluggableMap.prototype,"setSize",ol.PluggableMap.prototype.setSize);goog.exportProperty(ol.PluggableMap.prototype,"setTarget",ol.PluggableMap.prototype.setTarget);goog.exportProperty(ol.PluggableMap.prototype,"setView",ol.PluggableMap.prototype.setView);goog.exportProperty(ol.PluggableMap.prototype,"updateSize",ol.PluggableMap.prototype.updateSize);goog.exportSymbol("ol.proj.METERS_PER_UNIT",ol.proj.METERS_PER_UNIT,OPENLAYERS);goog.exportSymbol("ol.proj.setProj4",ol.proj.setProj4,OPENLAYERS);goog.exportSymbol("ol.proj.getPointResolution",ol.proj.getPointResolution,OPENLAYERS);goog.exportSymbol("ol.proj.addEquivalentProjections",ol.proj.addEquivalentProjections,OPENLAYERS);goog.exportSymbol("ol.proj.addProjection",ol.proj.addProjection,OPENLAYERS);goog.exportSymbol("ol.proj.addCoordinateTransforms",ol.proj.addCoordinateTransforms,OPENLAYERS);goog.exportSymbol("ol.proj.fromLonLat",ol.proj.fromLonLat,OPENLAYERS);goog.exportSymbol("ol.proj.toLonLat",ol.proj.toLonLat,OPENLAYERS);goog.exportSymbol("ol.proj.get",ol.proj.get,OPENLAYERS);goog.exportSymbol("ol.proj.equivalent",ol.proj.equivalent,OPENLAYERS);goog.exportSymbol("ol.proj.getTransform",ol.proj.getTransform,OPENLAYERS);goog.exportSymbol("ol.proj.transform",ol.proj.transform,OPENLAYERS);goog.exportSymbol("ol.proj.transformExtent",ol.proj.transformExtent,OPENLAYERS);goog.exportSymbol("ol.render.toContext",ol.render.toContext,OPENLAYERS);goog.exportSymbol("ol.size.toSize",ol.size.toSize,OPENLAYERS);goog.exportSymbol("ol.Sphere",ol.Sphere,OPENLAYERS);goog.exportProperty(ol.Sphere.prototype,"geodesicArea",ol.Sphere.prototype.geodesicArea);goog.exportProperty(ol.Sphere.prototype,"haversineDistance",ol.Sphere.prototype.haversineDistance);goog.exportSymbol("ol.Sphere.getLength",ol.Sphere.getLength,OPENLAYERS);goog.exportSymbol("ol.Sphere.getArea",ol.Sphere.getArea,OPENLAYERS);goog.exportSymbol("ol.style.iconImageCache",ol.style.iconImageCache,OPENLAYERS);goog.exportProperty(ol.Tile.prototype,"getTileCoord",ol.Tile.prototype.getTileCoord);goog.exportProperty(ol.Tile.prototype,"load",ol.Tile.prototype.load);goog.exportSymbol("ol.tilegrid.createXYZ",ol.tilegrid.createXYZ,OPENLAYERS);goog.exportProperty(ol.VectorTile.prototype,"getExtent",ol.VectorTile.prototype.getExtent);goog.exportProperty(ol.VectorTile.prototype,"getFormat",ol.VectorTile.prototype.getFormat);goog.exportProperty(ol.VectorTile.prototype,"getFeatures",ol.VectorTile.prototype.getFeatures);goog.exportProperty(ol.VectorTile.prototype,"getProjection",ol.VectorTile.prototype.getProjection);goog.exportProperty(ol.VectorTile.prototype,"setExtent",ol.VectorTile.prototype.setExtent);goog.exportProperty(ol.VectorTile.prototype,"setFeatures",ol.VectorTile.prototype.setFeatures);goog.exportProperty(ol.VectorTile.prototype,"setProjection",ol.VectorTile.prototype.setProjection);goog.exportProperty(ol.VectorTile.prototype,"setLoader",ol.VectorTile.prototype.setLoader);goog.exportSymbol("ol.View",ol.View,OPENLAYERS);goog.exportProperty(ol.View.prototype,"animate",ol.View.prototype.animate);goog.exportProperty(ol.View.prototype,"getAnimating",ol.View.prototype.getAnimating);goog.exportProperty(ol.View.prototype,"getInteracting",ol.View.prototype.getInteracting);goog.exportProperty(ol.View.prototype,"cancelAnimations",ol.View.prototype.cancelAnimations);goog.exportProperty(ol.View.prototype,"constrainCenter",ol.View.prototype.constrainCenter);goog.exportProperty(ol.View.prototype,"constrainResolution",ol.View.prototype.constrainResolution);goog.exportProperty(ol.View.prototype,"constrainRotation",ol.View.prototype.constrainRotation);goog.exportProperty(ol.View.prototype,"getCenter",ol.View.prototype.getCenter);goog.exportProperty(ol.View.prototype,"calculateExtent",ol.View.prototype.calculateExtent);goog.exportProperty(ol.View.prototype,"getMaxResolution",ol.View.prototype.getMaxResolution);goog.exportProperty(ol.View.prototype,"getMinResolution",ol.View.prototype.getMinResolution);goog.exportProperty(ol.View.prototype,"getMaxZoom",ol.View.prototype.getMaxZoom);goog.exportProperty(ol.View.prototype,"setMaxZoom",ol.View.prototype.setMaxZoom);goog.exportProperty(ol.View.prototype,"getMinZoom",ol.View.prototype.getMinZoom);goog.exportProperty(ol.View.prototype,"setMinZoom",ol.View.prototype.setMinZoom);goog.exportProperty(ol.View.prototype,"getProjection",ol.View.prototype.getProjection);goog.exportProperty(ol.View.prototype,"getResolution",ol.View.prototype.getResolution);goog.exportProperty(ol.View.prototype,"getResolutions",ol.View.prototype.getResolutions);goog.exportProperty(ol.View.prototype,"getResolutionForExtent",ol.View.prototype.getResolutionForExtent);goog.exportProperty(ol.View.prototype,"getRotation",ol.View.prototype.getRotation);goog.exportProperty(ol.View.prototype,"getZoom",ol.View.prototype.getZoom);goog.exportProperty(ol.View.prototype,"getZoomForResolution",ol.View.prototype.getZoomForResolution);goog.exportProperty(ol.View.prototype,"getResolutionForZoom",ol.View.prototype.getResolutionForZoom);goog.exportProperty(ol.View.prototype,"fit",ol.View.prototype.fit);goog.exportProperty(ol.View.prototype,"centerOn",ol.View.prototype.centerOn);goog.exportProperty(ol.View.prototype,"rotate",ol.View.prototype.rotate);goog.exportProperty(ol.View.prototype,"setCenter",ol.View.prototype.setCenter);goog.exportProperty(ol.View.prototype,"setResolution",ol.View.prototype.setResolution);goog.exportProperty(ol.View.prototype,"setRotation",ol.View.prototype.setRotation);goog.exportProperty(ol.View.prototype,"setZoom",ol.View.prototype.setZoom);goog.exportSymbol("ol.xml.getAllTextContent",ol.xml.getAllTextContent,OPENLAYERS);goog.exportSymbol("ol.xml.parse",ol.xml.parse,OPENLAYERS);goog.exportProperty(ol.webgl.Context.prototype,"getGL",ol.webgl.Context.prototype.getGL);goog.exportProperty(ol.webgl.Context.prototype,"useProgram",ol.webgl.Context.prototype.useProgram);goog.exportSymbol("ol.tilegrid.TileGrid",ol.tilegrid.TileGrid,OPENLAYERS);goog.exportProperty(ol.tilegrid.TileGrid.prototype,"forEachTileCoord",ol.tilegrid.TileGrid.prototype.forEachTileCoord);goog.exportProperty(ol.tilegrid.TileGrid.prototype,"getMaxZoom",ol.tilegrid.TileGrid.prototype.getMaxZoom);goog.exportProperty(ol.tilegrid.TileGrid.prototype,"getMinZoom",ol.tilegrid.TileGrid.prototype.getMinZoom);goog.exportProperty(ol.tilegrid.TileGrid.prototype,"getOrigin",ol.tilegrid.TileGrid.prototype.getOrigin);goog.exportProperty(ol.tilegrid.TileGrid.prototype,"getResolution",ol.tilegrid.TileGrid.prototype.getResolution);goog.exportProperty(ol.tilegrid.TileGrid.prototype,"getResolutions",ol.tilegrid.TileGrid.prototype.getResolutions);goog.exportProperty(ol.tilegrid.TileGrid.prototype,"getTileCoordExtent",ol.tilegrid.TileGrid.prototype.getTileCoordExtent);goog.exportProperty(ol.tilegrid.TileGrid.prototype,"getTileCoordForCoordAndResolution",ol.tilegrid.TileGrid.prototype.getTileCoordForCoordAndResolution);goog.exportProperty(ol.tilegrid.TileGrid.prototype,"getTileCoordForCoordAndZ",ol.tilegrid.TileGrid.prototype.getTileCoordForCoordAndZ);goog.exportProperty(ol.tilegrid.TileGrid.prototype,"getTileSize",ol.tilegrid.TileGrid.prototype.getTileSize);goog.exportProperty(ol.tilegrid.TileGrid.prototype,"getZForResolution",ol.tilegrid.TileGrid.prototype.getZForResolution);goog.exportSymbol("ol.tilegrid.WMTS",ol.tilegrid.WMTS,OPENLAYERS);goog.exportProperty(ol.tilegrid.WMTS.prototype,"getMatrixIds",ol.tilegrid.WMTS.prototype.getMatrixIds);goog.exportSymbol("ol.tilegrid.WMTS.createFromCapabilitiesMatrixSet",ol.tilegrid.WMTS.createFromCapabilitiesMatrixSet,OPENLAYERS);goog.exportSymbol("ol.style.AtlasManager",ol.style.AtlasManager,OPENLAYERS);goog.exportSymbol("ol.style.Circle",ol.style.Circle,OPENLAYERS);goog.exportProperty(ol.style.Circle.prototype,"setRadius",ol.style.Circle.prototype.setRadius);goog.exportSymbol("ol.style.Fill",ol.style.Fill,OPENLAYERS);goog.exportProperty(ol.style.Fill.prototype,"clone",ol.style.Fill.prototype.clone);goog.exportProperty(ol.style.Fill.prototype,"getColor",ol.style.Fill.prototype.getColor);goog.exportProperty(ol.style.Fill.prototype,"setColor",ol.style.Fill.prototype.setColor);goog.exportSymbol("ol.style.Icon",ol.style.Icon,OPENLAYERS);goog.exportProperty(ol.style.Icon.prototype,"clone",ol.style.Icon.prototype.clone);goog.exportProperty(ol.style.Icon.prototype,"getAnchor",ol.style.Icon.prototype.getAnchor);goog.exportProperty(ol.style.Icon.prototype,"getColor",ol.style.Icon.prototype.getColor);goog.exportProperty(ol.style.Icon.prototype,"getImage",ol.style.Icon.prototype.getImage);goog.exportProperty(ol.style.Icon.prototype,"getOrigin",ol.style.Icon.prototype.getOrigin);goog.exportProperty(ol.style.Icon.prototype,"getSrc",ol.style.Icon.prototype.getSrc);goog.exportProperty(ol.style.Icon.prototype,"getSize",ol.style.Icon.prototype.getSize);goog.exportProperty(ol.style.Icon.prototype,"load",ol.style.Icon.prototype.load);goog.exportProperty(ol.style.IconImageCache.prototype,"setSize",ol.style.IconImageCache.prototype.setSize);goog.exportSymbol("ol.style.Image",ol.style.Image,OPENLAYERS);goog.exportProperty(ol.style.Image.prototype,"getOpacity",ol.style.Image.prototype.getOpacity);goog.exportProperty(ol.style.Image.prototype,"getRotateWithView",ol.style.Image.prototype.getRotateWithView);goog.exportProperty(ol.style.Image.prototype,"getRotation",ol.style.Image.prototype.getRotation);goog.exportProperty(ol.style.Image.prototype,"getScale",ol.style.Image.prototype.getScale);goog.exportProperty(ol.style.Image.prototype,"getSnapToPixel",ol.style.Image.prototype.getSnapToPixel);goog.exportProperty(ol.style.Image.prototype,"setOpacity",ol.style.Image.prototype.setOpacity);goog.exportProperty(ol.style.Image.prototype,"setRotation",ol.style.Image.prototype.setRotation);goog.exportProperty(ol.style.Image.prototype,"setScale",ol.style.Image.prototype.setScale);goog.exportSymbol("ol.style.RegularShape",ol.style.RegularShape,OPENLAYERS);goog.exportProperty(ol.style.RegularShape.prototype,"clone",ol.style.RegularShape.prototype.clone);goog.exportProperty(ol.style.RegularShape.prototype,"getAnchor",ol.style.RegularShape.prototype.getAnchor);goog.exportProperty(ol.style.RegularShape.prototype,"getAngle",ol.style.RegularShape.prototype.getAngle);goog.exportProperty(ol.style.RegularShape.prototype,"getFill",ol.style.RegularShape.prototype.getFill);goog.exportProperty(ol.style.RegularShape.prototype,"getImage",ol.style.RegularShape.prototype.getImage);goog.exportProperty(ol.style.RegularShape.prototype,"getOrigin",ol.style.RegularShape.prototype.getOrigin);goog.exportProperty(ol.style.RegularShape.prototype,"getPoints",ol.style.RegularShape.prototype.getPoints);goog.exportProperty(ol.style.RegularShape.prototype,"getRadius",ol.style.RegularShape.prototype.getRadius);goog.exportProperty(ol.style.RegularShape.prototype,"getRadius2",ol.style.RegularShape.prototype.getRadius2);goog.exportProperty(ol.style.RegularShape.prototype,"getSize",ol.style.RegularShape.prototype.getSize);goog.exportProperty(ol.style.RegularShape.prototype,"getStroke",ol.style.RegularShape.prototype.getStroke);goog.exportSymbol("ol.style.Stroke",ol.style.Stroke,OPENLAYERS);goog.exportProperty(ol.style.Stroke.prototype,"clone",ol.style.Stroke.prototype.clone);goog.exportProperty(ol.style.Stroke.prototype,"getColor",ol.style.Stroke.prototype.getColor);goog.exportProperty(ol.style.Stroke.prototype,"getLineCap",ol.style.Stroke.prototype.getLineCap);goog.exportProperty(ol.style.Stroke.prototype,"getLineDash",ol.style.Stroke.prototype.getLineDash);goog.exportProperty(ol.style.Stroke.prototype,"getLineDashOffset",ol.style.Stroke.prototype.getLineDashOffset);goog.exportProperty(ol.style.Stroke.prototype,"getLineJoin",ol.style.Stroke.prototype.getLineJoin);goog.exportProperty(ol.style.Stroke.prototype,"getMiterLimit",ol.style.Stroke.prototype.getMiterLimit);goog.exportProperty(ol.style.Stroke.prototype,"getWidth",ol.style.Stroke.prototype.getWidth);goog.exportProperty(ol.style.Stroke.prototype,"setColor",ol.style.Stroke.prototype.setColor);goog.exportProperty(ol.style.Stroke.prototype,"setLineCap",ol.style.Stroke.prototype.setLineCap);goog.exportProperty(ol.style.Stroke.prototype,"setLineDash",ol.style.Stroke.prototype.setLineDash);goog.exportProperty(ol.style.Stroke.prototype,"setLineDashOffset",ol.style.Stroke.prototype.setLineDashOffset);goog.exportProperty(ol.style.Stroke.prototype,"setLineJoin",ol.style.Stroke.prototype.setLineJoin);goog.exportProperty(ol.style.Stroke.prototype,"setMiterLimit",ol.style.Stroke.prototype.setMiterLimit);goog.exportProperty(ol.style.Stroke.prototype,"setWidth",ol.style.Stroke.prototype.setWidth);goog.exportSymbol("ol.style.Style",ol.style.Style,OPENLAYERS);goog.exportProperty(ol.style.Style.prototype,"clone",ol.style.Style.prototype.clone);goog.exportProperty(ol.style.Style.prototype,"getRenderer",ol.style.Style.prototype.getRenderer);goog.exportProperty(ol.style.Style.prototype,"setRenderer",ol.style.Style.prototype.setRenderer);goog.exportProperty(ol.style.Style.prototype,"getGeometry",ol.style.Style.prototype.getGeometry);goog.exportProperty(ol.style.Style.prototype,"getGeometryFunction",ol.style.Style.prototype.getGeometryFunction);goog.exportProperty(ol.style.Style.prototype,"getFill",ol.style.Style.prototype.getFill);goog.exportProperty(ol.style.Style.prototype,"setFill",ol.style.Style.prototype.setFill);goog.exportProperty(ol.style.Style.prototype,"getImage",ol.style.Style.prototype.getImage);goog.exportProperty(ol.style.Style.prototype,"setImage",ol.style.Style.prototype.setImage);goog.exportProperty(ol.style.Style.prototype,"getStroke",ol.style.Style.prototype.getStroke);goog.exportProperty(ol.style.Style.prototype,"setStroke",ol.style.Style.prototype.setStroke);goog.exportProperty(ol.style.Style.prototype,"getText",ol.style.Style.prototype.getText);goog.exportProperty(ol.style.Style.prototype,"setText",ol.style.Style.prototype.setText);goog.exportProperty(ol.style.Style.prototype,"getZIndex",ol.style.Style.prototype.getZIndex);goog.exportProperty(ol.style.Style.prototype,"setGeometry",ol.style.Style.prototype.setGeometry);goog.exportProperty(ol.style.Style.prototype,"setZIndex",ol.style.Style.prototype.setZIndex);goog.exportSymbol("ol.style.Text",ol.style.Text,OPENLAYERS);goog.exportProperty(ol.style.Text.prototype,"clone",ol.style.Text.prototype.clone);goog.exportProperty(ol.style.Text.prototype,"getOverflow",ol.style.Text.prototype.getOverflow);goog.exportProperty(ol.style.Text.prototype,"getFont",ol.style.Text.prototype.getFont);goog.exportProperty(ol.style.Text.prototype,"getMaxAngle",ol.style.Text.prototype.getMaxAngle);goog.exportProperty(ol.style.Text.prototype,"getPlacement",ol.style.Text.prototype.getPlacement);goog.exportProperty(ol.style.Text.prototype,"getOffsetX",ol.style.Text.prototype.getOffsetX);goog.exportProperty(ol.style.Text.prototype,"getOffsetY",ol.style.Text.prototype.getOffsetY);goog.exportProperty(ol.style.Text.prototype,"getFill",ol.style.Text.prototype.getFill);goog.exportProperty(ol.style.Text.prototype,"getRotateWithView",ol.style.Text.prototype.getRotateWithView);goog.exportProperty(ol.style.Text.prototype,"getRotation",ol.style.Text.prototype.getRotation);goog.exportProperty(ol.style.Text.prototype,"getScale",ol.style.Text.prototype.getScale);goog.exportProperty(ol.style.Text.prototype,"getStroke",ol.style.Text.prototype.getStroke);goog.exportProperty(ol.style.Text.prototype,"getText",ol.style.Text.prototype.getText);goog.exportProperty(ol.style.Text.prototype,"getTextAlign",ol.style.Text.prototype.getTextAlign);goog.exportProperty(ol.style.Text.prototype,"getTextBaseline",ol.style.Text.prototype.getTextBaseline);goog.exportProperty(ol.style.Text.prototype,"getBackgroundFill",ol.style.Text.prototype.getBackgroundFill);goog.exportProperty(ol.style.Text.prototype,"getBackgroundStroke",ol.style.Text.prototype.getBackgroundStroke);goog.exportProperty(ol.style.Text.prototype,"getPadding",ol.style.Text.prototype.getPadding);goog.exportProperty(ol.style.Text.prototype,"setOverflow",ol.style.Text.prototype.setOverflow);goog.exportProperty(ol.style.Text.prototype,"setFont",ol.style.Text.prototype.setFont);goog.exportProperty(ol.style.Text.prototype,"setMaxAngle",ol.style.Text.prototype.setMaxAngle);goog.exportProperty(ol.style.Text.prototype,"setOffsetX",ol.style.Text.prototype.setOffsetX);goog.exportProperty(ol.style.Text.prototype,"setOffsetY",ol.style.Text.prototype.setOffsetY);goog.exportProperty(ol.style.Text.prototype,"setPlacement",ol.style.Text.prototype.setPlacement);goog.exportProperty(ol.style.Text.prototype,"setFill",ol.style.Text.prototype.setFill);goog.exportProperty(ol.style.Text.prototype,"setRotation",ol.style.Text.prototype.setRotation);goog.exportProperty(ol.style.Text.prototype,"setScale",ol.style.Text.prototype.setScale);goog.exportProperty(ol.style.Text.prototype,"setStroke",ol.style.Text.prototype.setStroke);goog.exportProperty(ol.style.Text.prototype,"setText",ol.style.Text.prototype.setText);goog.exportProperty(ol.style.Text.prototype,"setTextAlign",ol.style.Text.prototype.setTextAlign);goog.exportProperty(ol.style.Text.prototype,"setTextBaseline",ol.style.Text.prototype.setTextBaseline);goog.exportProperty(ol.style.Text.prototype,"setBackgroundFill",ol.style.Text.prototype.setBackgroundFill);goog.exportProperty(ol.style.Text.prototype,"setBackgroundStroke",ol.style.Text.prototype.setBackgroundStroke);goog.exportProperty(ol.style.Text.prototype,"setPadding",ol.style.Text.prototype.setPadding);goog.exportSymbol("ol.source.BingMaps",ol.source.BingMaps,OPENLAYERS);goog.exportSymbol("ol.source.BingMaps.TOS_ATTRIBUTION",ol.source.BingMaps.TOS_ATTRIBUTION,OPENLAYERS);goog.exportProperty(ol.source.BingMaps.prototype,"getApiKey",ol.source.BingMaps.prototype.getApiKey);goog.exportProperty(ol.source.BingMaps.prototype,"getImagerySet",ol.source.BingMaps.prototype.getImagerySet);goog.exportSymbol("ol.source.CartoDB",ol.source.CartoDB,OPENLAYERS);goog.exportProperty(ol.source.CartoDB.prototype,"getConfig",ol.source.CartoDB.prototype.getConfig);goog.exportProperty(ol.source.CartoDB.prototype,"updateConfig",ol.source.CartoDB.prototype.updateConfig);goog.exportProperty(ol.source.CartoDB.prototype,"setConfig",ol.source.CartoDB.prototype.setConfig);goog.exportSymbol("ol.source.Cluster",ol.source.Cluster,OPENLAYERS);goog.exportProperty(ol.source.Cluster.prototype,"getDistance",ol.source.Cluster.prototype.getDistance);goog.exportProperty(ol.source.Cluster.prototype,"getSource",ol.source.Cluster.prototype.getSource);goog.exportProperty(ol.source.Cluster.prototype,"setDistance",ol.source.Cluster.prototype.setDistance);goog.exportSymbol("ol.source.Image",ol.source.Image,OPENLAYERS);goog.exportProperty(ol.source.Image.Event.prototype,"image",ol.source.Image.Event.prototype.image);goog.exportSymbol("ol.source.ImageArcGISRest",ol.source.ImageArcGISRest,OPENLAYERS);goog.exportProperty(ol.source.ImageArcGISRest.prototype,"getParams",ol.source.ImageArcGISRest.prototype.getParams);goog.exportProperty(ol.source.ImageArcGISRest.prototype,"getImageLoadFunction",ol.source.ImageArcGISRest.prototype.getImageLoadFunction);goog.exportProperty(ol.source.ImageArcGISRest.prototype,"getUrl",ol.source.ImageArcGISRest.prototype.getUrl);goog.exportProperty(ol.source.ImageArcGISRest.prototype,"setImageLoadFunction",ol.source.ImageArcGISRest.prototype.setImageLoadFunction);goog.exportProperty(ol.source.ImageArcGISRest.prototype,"setUrl",ol.source.ImageArcGISRest.prototype.setUrl);goog.exportProperty(ol.source.ImageArcGISRest.prototype,"updateParams",ol.source.ImageArcGISRest.prototype.updateParams);goog.exportSymbol("ol.source.ImageCanvas",ol.source.ImageCanvas,OPENLAYERS);goog.exportSymbol("ol.source.ImageMapGuide",ol.source.ImageMapGuide,OPENLAYERS);goog.exportProperty(ol.source.ImageMapGuide.prototype,"getParams",ol.source.ImageMapGuide.prototype.getParams);goog.exportProperty(ol.source.ImageMapGuide.prototype,"getImageLoadFunction",ol.source.ImageMapGuide.prototype.getImageLoadFunction);goog.exportProperty(ol.source.ImageMapGuide.prototype,"updateParams",ol.source.ImageMapGuide.prototype.updateParams);goog.exportProperty(ol.source.ImageMapGuide.prototype,"setImageLoadFunction",ol.source.ImageMapGuide.prototype.setImageLoadFunction);goog.exportSymbol("ol.source.ImageStatic",ol.source.ImageStatic,OPENLAYERS);goog.exportSymbol("ol.source.ImageVector",ol.source.ImageVector,OPENLAYERS);goog.exportProperty(ol.source.ImageVector.prototype,"getSource",ol.source.ImageVector.prototype.getSource);goog.exportProperty(ol.source.ImageVector.prototype,"getStyle",ol.source.ImageVector.prototype.getStyle);goog.exportProperty(ol.source.ImageVector.prototype,"getStyleFunction",ol.source.ImageVector.prototype.getStyleFunction);goog.exportProperty(ol.source.ImageVector.prototype,"setStyle",ol.source.ImageVector.prototype.setStyle);goog.exportSymbol("ol.source.ImageWMS",ol.source.ImageWMS,OPENLAYERS);goog.exportProperty(ol.source.ImageWMS.prototype,"getGetFeatureInfoUrl",ol.source.ImageWMS.prototype.getGetFeatureInfoUrl);goog.exportProperty(ol.source.ImageWMS.prototype,"getParams",ol.source.ImageWMS.prototype.getParams);goog.exportProperty(ol.source.ImageWMS.prototype,"getImageLoadFunction",ol.source.ImageWMS.prototype.getImageLoadFunction);goog.exportProperty(ol.source.ImageWMS.prototype,"getUrl",ol.source.ImageWMS.prototype.getUrl);goog.exportProperty(ol.source.ImageWMS.prototype,"setImageLoadFunction",ol.source.ImageWMS.prototype.setImageLoadFunction);goog.exportProperty(ol.source.ImageWMS.prototype,"setUrl",ol.source.ImageWMS.prototype.setUrl);goog.exportProperty(ol.source.ImageWMS.prototype,"updateParams",ol.source.ImageWMS.prototype.updateParams);goog.exportSymbol("ol.source.OSM",ol.source.OSM,OPENLAYERS);goog.exportSymbol("ol.source.OSM.ATTRIBUTION",ol.source.OSM.ATTRIBUTION,OPENLAYERS);goog.exportSymbol("ol.source.Raster",ol.source.Raster,OPENLAYERS);goog.exportProperty(ol.source.Raster.prototype,"setOperation",ol.source.Raster.prototype.setOperation);goog.exportProperty(ol.source.Raster.Event.prototype,"extent",ol.source.Raster.Event.prototype.extent);goog.exportProperty(ol.source.Raster.Event.prototype,"resolution",ol.source.Raster.Event.prototype.resolution);goog.exportProperty(ol.source.Raster.Event.prototype,"data",ol.source.Raster.Event.prototype.data);goog.exportSymbol("ol.source.Source",ol.source.Source,OPENLAYERS);goog.exportProperty(ol.source.Source.prototype,"getAttributions",ol.source.Source.prototype.getAttributions);goog.exportProperty(ol.source.Source.prototype,"getLogo",ol.source.Source.prototype.getLogo);goog.exportProperty(ol.source.Source.prototype,"getProjection",ol.source.Source.prototype.getProjection);goog.exportProperty(ol.source.Source.prototype,"getState",ol.source.Source.prototype.getState);goog.exportProperty(ol.source.Source.prototype,"refresh",ol.source.Source.prototype.refresh);goog.exportProperty(ol.source.Source.prototype,"setAttributions",ol.source.Source.prototype.setAttributions);goog.exportSymbol("ol.source.Stamen",ol.source.Stamen,OPENLAYERS);goog.exportSymbol("ol.source.Tile",ol.source.Tile,OPENLAYERS);goog.exportProperty(ol.source.Tile.prototype,"getTileGrid",ol.source.Tile.prototype.getTileGrid);goog.exportProperty(ol.source.Tile.Event.prototype,"tile",ol.source.Tile.Event.prototype.tile);goog.exportSymbol("ol.source.TileArcGISRest",ol.source.TileArcGISRest,OPENLAYERS);goog.exportProperty(ol.source.TileArcGISRest.prototype,"getParams",ol.source.TileArcGISRest.prototype.getParams);goog.exportProperty(ol.source.TileArcGISRest.prototype,"updateParams",ol.source.TileArcGISRest.prototype.updateParams);goog.exportSymbol("ol.source.TileDebug",ol.source.TileDebug,OPENLAYERS);goog.exportSymbol("ol.source.TileImage",ol.source.TileImage,OPENLAYERS);goog.exportProperty(ol.source.TileImage.prototype,"setRenderReprojectionEdges",ol.source.TileImage.prototype.setRenderReprojectionEdges);goog.exportProperty(ol.source.TileImage.prototype,"setTileGridForProjection",ol.source.TileImage.prototype.setTileGridForProjection);goog.exportSymbol("ol.source.TileJSON",ol.source.TileJSON,OPENLAYERS);goog.exportProperty(ol.source.TileJSON.prototype,"getTileJSON",ol.source.TileJSON.prototype.getTileJSON);goog.exportSymbol("ol.source.TileUTFGrid",ol.source.TileUTFGrid,OPENLAYERS);goog.exportProperty(ol.source.TileUTFGrid.prototype,"getTemplate",ol.source.TileUTFGrid.prototype.getTemplate);goog.exportProperty(ol.source.TileUTFGrid.prototype,"forDataAtCoordinateAndResolution",ol.source.TileUTFGrid.prototype.forDataAtCoordinateAndResolution);goog.exportSymbol("ol.source.TileWMS",ol.source.TileWMS,OPENLAYERS);goog.exportProperty(ol.source.TileWMS.prototype,"getGetFeatureInfoUrl",ol.source.TileWMS.prototype.getGetFeatureInfoUrl);goog.exportProperty(ol.source.TileWMS.prototype,"getParams",ol.source.TileWMS.prototype.getParams);goog.exportProperty(ol.source.TileWMS.prototype,"updateParams",ol.source.TileWMS.prototype.updateParams);goog.exportProperty(ol.source.UrlTile.prototype,"getTileLoadFunction",ol.source.UrlTile.prototype.getTileLoadFunction);goog.exportProperty(ol.source.UrlTile.prototype,"getTileUrlFunction",ol.source.UrlTile.prototype.getTileUrlFunction);goog.exportProperty(ol.source.UrlTile.prototype,"getUrls",ol.source.UrlTile.prototype.getUrls);goog.exportProperty(ol.source.UrlTile.prototype,"setTileLoadFunction",ol.source.UrlTile.prototype.setTileLoadFunction);goog.exportProperty(ol.source.UrlTile.prototype,"setTileUrlFunction",ol.source.UrlTile.prototype.setTileUrlFunction);goog.exportProperty(ol.source.UrlTile.prototype,"setUrl",ol.source.UrlTile.prototype.setUrl);goog.exportProperty(ol.source.UrlTile.prototype,"setUrls",ol.source.UrlTile.prototype.setUrls);goog.exportSymbol("ol.source.Vector",ol.source.Vector,OPENLAYERS);goog.exportProperty(ol.source.Vector.prototype,"addFeature",ol.source.Vector.prototype.addFeature);goog.exportProperty(ol.source.Vector.prototype,"addFeatures",ol.source.Vector.prototype.addFeatures);goog.exportProperty(ol.source.Vector.prototype,"clear",ol.source.Vector.prototype.clear);goog.exportProperty(ol.source.Vector.prototype,"forEachFeature",ol.source.Vector.prototype.forEachFeature);goog.exportProperty(ol.source.Vector.prototype,"forEachFeatureInExtent",ol.source.Vector.prototype.forEachFeatureInExtent);goog.exportProperty(ol.source.Vector.prototype,"forEachFeatureIntersectingExtent",ol.source.Vector.prototype.forEachFeatureIntersectingExtent);goog.exportProperty(ol.source.Vector.prototype,"getFeaturesCollection",ol.source.Vector.prototype.getFeaturesCollection);goog.exportProperty(ol.source.Vector.prototype,"getFeatures",ol.source.Vector.prototype.getFeatures);goog.exportProperty(ol.source.Vector.prototype,"getFeaturesAtCoordinate",ol.source.Vector.prototype.getFeaturesAtCoordinate);goog.exportProperty(ol.source.Vector.prototype,"getFeaturesInExtent",ol.source.Vector.prototype.getFeaturesInExtent);goog.exportProperty(ol.source.Vector.prototype,"getClosestFeatureToCoordinate",ol.source.Vector.prototype.getClosestFeatureToCoordinate);goog.exportProperty(ol.source.Vector.prototype,"getExtent",ol.source.Vector.prototype.getExtent);goog.exportProperty(ol.source.Vector.prototype,"getFeatureById",ol.source.Vector.prototype.getFeatureById);goog.exportProperty(ol.source.Vector.prototype,"getFormat",ol.source.Vector.prototype.getFormat);goog.exportProperty(ol.source.Vector.prototype,"getUrl",ol.source.Vector.prototype.getUrl);goog.exportProperty(ol.source.Vector.prototype,"removeLoadedExtent",ol.source.Vector.prototype.removeLoadedExtent);goog.exportProperty(ol.source.Vector.prototype,"removeFeature",ol.source.Vector.prototype.removeFeature);goog.exportProperty(ol.source.Vector.prototype,"setLoader",ol.source.Vector.prototype.setLoader);goog.exportProperty(ol.source.Vector.Event.prototype,"feature",ol.source.Vector.Event.prototype.feature);goog.exportSymbol("ol.source.VectorTile",ol.source.VectorTile,OPENLAYERS);goog.exportProperty(ol.source.VectorTile.prototype,"clear",ol.source.VectorTile.prototype.clear);goog.exportSymbol("ol.source.WMTS",ol.source.WMTS,OPENLAYERS);goog.exportProperty(ol.source.WMTS.prototype,"getDimensions",ol.source.WMTS.prototype.getDimensions);goog.exportProperty(ol.source.WMTS.prototype,"getFormat",ol.source.WMTS.prototype.getFormat);goog.exportProperty(ol.source.WMTS.prototype,"getLayer",ol.source.WMTS.prototype.getLayer);goog.exportProperty(ol.source.WMTS.prototype,"getMatrixSet",ol.source.WMTS.prototype.getMatrixSet);goog.exportProperty(ol.source.WMTS.prototype,"getRequestEncoding",ol.source.WMTS.prototype.getRequestEncoding);goog.exportProperty(ol.source.WMTS.prototype,"getStyle",ol.source.WMTS.prototype.getStyle);goog.exportProperty(ol.source.WMTS.prototype,"getVersion",ol.source.WMTS.prototype.getVersion);goog.exportProperty(ol.source.WMTS.prototype,"updateDimensions",ol.source.WMTS.prototype.updateDimensions);goog.exportSymbol("ol.source.WMTS.optionsFromCapabilities",ol.source.WMTS.optionsFromCapabilities,OPENLAYERS);goog.exportSymbol("ol.source.XYZ",ol.source.XYZ,OPENLAYERS);goog.exportSymbol("ol.source.Zoomify",ol.source.Zoomify,OPENLAYERS);goog.exportSymbol("ol.renderer.webgl.ImageLayer",ol.renderer.webgl.ImageLayer,OPENLAYERS);goog.exportSymbol("ol.renderer.webgl.Map",ol.renderer.webgl.Map,OPENLAYERS);goog.exportSymbol("ol.renderer.webgl.TileLayer",ol.renderer.webgl.TileLayer,OPENLAYERS);goog.exportSymbol("ol.renderer.webgl.VectorLayer",ol.renderer.webgl.VectorLayer,OPENLAYERS);goog.exportSymbol("ol.renderer.canvas.ImageLayer",ol.renderer.canvas.ImageLayer,OPENLAYERS);goog.exportSymbol("ol.renderer.canvas.Map",ol.renderer.canvas.Map,OPENLAYERS);goog.exportSymbol("ol.renderer.canvas.TileLayer",ol.renderer.canvas.TileLayer,OPENLAYERS);goog.exportSymbol("ol.renderer.canvas.VectorLayer",ol.renderer.canvas.VectorLayer,OPENLAYERS);goog.exportSymbol("ol.renderer.canvas.VectorTileLayer",ol.renderer.canvas.VectorTileLayer,OPENLAYERS);goog.exportProperty(ol.render.Event.prototype,"vectorContext",ol.render.Event.prototype.vectorContext);goog.exportProperty(ol.render.Event.prototype,"frameState",ol.render.Event.prototype.frameState);goog.exportProperty(ol.render.Event.prototype,"context",ol.render.Event.prototype.context);goog.exportProperty(ol.render.Event.prototype,"glContext",ol.render.Event.prototype.glContext);goog.exportProperty(ol.render.Feature.prototype,"get",ol.render.Feature.prototype.get);goog.exportProperty(ol.render.Feature.prototype,"getExtent",ol.render.Feature.prototype.getExtent);goog.exportProperty(ol.render.Feature.prototype,"getId",ol.render.Feature.prototype.getId);goog.exportProperty(ol.render.Feature.prototype,"getGeometry",ol.render.Feature.prototype.getGeometry);goog.exportProperty(ol.render.Feature.prototype,"getProperties",ol.render.Feature.prototype.getProperties);goog.exportProperty(ol.render.Feature.prototype,"getType",ol.render.Feature.prototype.getType);goog.exportSymbol("ol.render.VectorContext",ol.render.VectorContext,OPENLAYERS);goog.exportProperty(ol.render.webgl.Immediate.prototype,"setStyle",ol.render.webgl.Immediate.prototype.setStyle);goog.exportProperty(ol.render.webgl.Immediate.prototype,"drawGeometry",ol.render.webgl.Immediate.prototype.drawGeometry);goog.exportProperty(ol.render.webgl.Immediate.prototype,"drawFeature",ol.render.webgl.Immediate.prototype.drawFeature);goog.exportProperty(ol.render.canvas.Immediate.prototype,"drawCircle",ol.render.canvas.Immediate.prototype.drawCircle);goog.exportProperty(ol.render.canvas.Immediate.prototype,"setStyle",ol.render.canvas.Immediate.prototype.setStyle);goog.exportProperty(ol.render.canvas.Immediate.prototype,"drawGeometry",ol.render.canvas.Immediate.prototype.drawGeometry);goog.exportProperty(ol.render.canvas.Immediate.prototype,"drawFeature",ol.render.canvas.Immediate.prototype.drawFeature);goog.exportSymbol("ol.proj.common.add",ol.proj.common.add,OPENLAYERS);goog.exportSymbol("ol.proj.Projection",ol.proj.Projection,OPENLAYERS);goog.exportProperty(ol.proj.Projection.prototype,"getCode",ol.proj.Projection.prototype.getCode);goog.exportProperty(ol.proj.Projection.prototype,"getExtent",ol.proj.Projection.prototype.getExtent);goog.exportProperty(ol.proj.Projection.prototype,"getUnits",ol.proj.Projection.prototype.getUnits);goog.exportProperty(ol.proj.Projection.prototype,"getMetersPerUnit",ol.proj.Projection.prototype.getMetersPerUnit);goog.exportProperty(ol.proj.Projection.prototype,"getWorldExtent",ol.proj.Projection.prototype.getWorldExtent);goog.exportProperty(ol.proj.Projection.prototype,"getAxisOrientation",ol.proj.Projection.prototype.getAxisOrientation);goog.exportProperty(ol.proj.Projection.prototype,"isGlobal",ol.proj.Projection.prototype.isGlobal);goog.exportProperty(ol.proj.Projection.prototype,"setGlobal",ol.proj.Projection.prototype.setGlobal);goog.exportProperty(ol.proj.Projection.prototype,"setExtent",ol.proj.Projection.prototype.setExtent);goog.exportProperty(ol.proj.Projection.prototype,"setWorldExtent",ol.proj.Projection.prototype.setWorldExtent);goog.exportProperty(ol.proj.Projection.prototype,"setGetPointResolution",ol.proj.Projection.prototype.setGetPointResolution);goog.exportSymbol("ol.proj.Units.METERS_PER_UNIT",ol.proj.Units.METERS_PER_UNIT,OPENLAYERS);goog.exportSymbol("ol.layer.Base",ol.layer.Base,OPENLAYERS);goog.exportProperty(ol.layer.Base.prototype,"getExtent",ol.layer.Base.prototype.getExtent);goog.exportProperty(ol.layer.Base.prototype,"getMaxResolution",ol.layer.Base.prototype.getMaxResolution);goog.exportProperty(ol.layer.Base.prototype,"getMinResolution",ol.layer.Base.prototype.getMinResolution);goog.exportProperty(ol.layer.Base.prototype,"getOpacity",ol.layer.Base.prototype.getOpacity);goog.exportProperty(ol.layer.Base.prototype,"getVisible",ol.layer.Base.prototype.getVisible);goog.exportProperty(ol.layer.Base.prototype,"getZIndex",ol.layer.Base.prototype.getZIndex);goog.exportProperty(ol.layer.Base.prototype,"setExtent",ol.layer.Base.prototype.setExtent);goog.exportProperty(ol.layer.Base.prototype,"setMaxResolution",ol.layer.Base.prototype.setMaxResolution);goog.exportProperty(ol.layer.Base.prototype,"setMinResolution",ol.layer.Base.prototype.setMinResolution);goog.exportProperty(ol.layer.Base.prototype,"setOpacity",ol.layer.Base.prototype.setOpacity);goog.exportProperty(ol.layer.Base.prototype,"setVisible",ol.layer.Base.prototype.setVisible);goog.exportProperty(ol.layer.Base.prototype,"setZIndex",ol.layer.Base.prototype.setZIndex);goog.exportSymbol("ol.layer.Group",ol.layer.Group,OPENLAYERS);goog.exportProperty(ol.layer.Group.prototype,"getLayers",ol.layer.Group.prototype.getLayers);goog.exportProperty(ol.layer.Group.prototype,"setLayers",ol.layer.Group.prototype.setLayers);goog.exportSymbol("ol.layer.Heatmap",ol.layer.Heatmap,OPENLAYERS);goog.exportProperty(ol.layer.Heatmap.prototype,"getBlur",ol.layer.Heatmap.prototype.getBlur);goog.exportProperty(ol.layer.Heatmap.prototype,"getGradient",ol.layer.Heatmap.prototype.getGradient);goog.exportProperty(ol.layer.Heatmap.prototype,"getRadius",ol.layer.Heatmap.prototype.getRadius);goog.exportProperty(ol.layer.Heatmap.prototype,"setBlur",ol.layer.Heatmap.prototype.setBlur);goog.exportProperty(ol.layer.Heatmap.prototype,"setGradient",ol.layer.Heatmap.prototype.setGradient);goog.exportProperty(ol.layer.Heatmap.prototype,"setRadius",ol.layer.Heatmap.prototype.setRadius);goog.exportSymbol("ol.layer.Image",ol.layer.Image,OPENLAYERS);goog.exportProperty(ol.layer.Image.prototype,"getSource",ol.layer.Image.prototype.getSource);goog.exportSymbol("ol.layer.Layer",ol.layer.Layer,OPENLAYERS);goog.exportProperty(ol.layer.Layer.prototype,"getSource",ol.layer.Layer.prototype.getSource);goog.exportProperty(ol.layer.Layer.prototype,"setMap",ol.layer.Layer.prototype.setMap);goog.exportProperty(ol.layer.Layer.prototype,"setSource",ol.layer.Layer.prototype.setSource);goog.exportSymbol("ol.layer.Tile",ol.layer.Tile,OPENLAYERS);goog.exportProperty(ol.layer.Tile.prototype,"getPreload",ol.layer.Tile.prototype.getPreload);goog.exportProperty(ol.layer.Tile.prototype,"getSource",ol.layer.Tile.prototype.getSource);goog.exportProperty(ol.layer.Tile.prototype,"setPreload",ol.layer.Tile.prototype.setPreload);goog.exportProperty(ol.layer.Tile.prototype,"getUseInterimTilesOnError",ol.layer.Tile.prototype.getUseInterimTilesOnError);goog.exportProperty(ol.layer.Tile.prototype,"setUseInterimTilesOnError",ol.layer.Tile.prototype.setUseInterimTilesOnError);goog.exportSymbol("ol.layer.Vector",ol.layer.Vector,OPENLAYERS);goog.exportProperty(ol.layer.Vector.prototype,"getSource",ol.layer.Vector.prototype.getSource);goog.exportProperty(ol.layer.Vector.prototype,"getStyle",ol.layer.Vector.prototype.getStyle);goog.exportProperty(ol.layer.Vector.prototype,"getStyleFunction",ol.layer.Vector.prototype.getStyleFunction);goog.exportProperty(ol.layer.Vector.prototype,"setStyle",ol.layer.Vector.prototype.setStyle);goog.exportSymbol("ol.layer.VectorTile",ol.layer.VectorTile,OPENLAYERS);goog.exportProperty(ol.layer.VectorTile.prototype,"getPreload",ol.layer.VectorTile.prototype.getPreload);goog.exportProperty(ol.layer.VectorTile.prototype,"getUseInterimTilesOnError",ol.layer.VectorTile.prototype.getUseInterimTilesOnError);goog.exportProperty(ol.layer.VectorTile.prototype,"setPreload",ol.layer.VectorTile.prototype.setPreload);goog.exportProperty(ol.layer.VectorTile.prototype,"setUseInterimTilesOnError",ol.layer.VectorTile.prototype.setUseInterimTilesOnError);goog.exportProperty(ol.layer.VectorTile.prototype,"getSource",ol.layer.VectorTile.prototype.getSource);goog.exportSymbol("ol.interaction.DoubleClickZoom",ol.interaction.DoubleClickZoom,OPENLAYERS);goog.exportSymbol("ol.interaction.DoubleClickZoom.handleEvent",ol.interaction.DoubleClickZoom.handleEvent,OPENLAYERS);goog.exportSymbol("ol.interaction.DragAndDrop",ol.interaction.DragAndDrop,OPENLAYERS);goog.exportSymbol("ol.interaction.DragAndDrop.handleEvent",ol.interaction.DragAndDrop.handleEvent,OPENLAYERS);goog.exportProperty(ol.interaction.DragAndDrop.Event.prototype,"features",ol.interaction.DragAndDrop.Event.prototype.features);goog.exportProperty(ol.interaction.DragAndDrop.Event.prototype,"file",ol.interaction.DragAndDrop.Event.prototype.file);goog.exportProperty(ol.interaction.DragAndDrop.Event.prototype,"projection",ol.interaction.DragAndDrop.Event.prototype.projection);goog.exportSymbol("ol.interaction.DragBox",ol.interaction.DragBox,OPENLAYERS);goog.exportProperty(ol.interaction.DragBox.prototype,"getGeometry",ol.interaction.DragBox.prototype.getGeometry);goog.exportProperty(ol.interaction.DragBox.Event.prototype,"coordinate",ol.interaction.DragBox.Event.prototype.coordinate);goog.exportProperty(ol.interaction.DragBox.Event.prototype,"mapBrowserEvent",ol.interaction.DragBox.Event.prototype.mapBrowserEvent);goog.exportSymbol("ol.interaction.DragPan",ol.interaction.DragPan,OPENLAYERS);goog.exportSymbol("ol.interaction.DragRotate",ol.interaction.DragRotate,OPENLAYERS);goog.exportSymbol("ol.interaction.DragRotateAndZoom",ol.interaction.DragRotateAndZoom,OPENLAYERS);goog.exportSymbol("ol.interaction.DragZoom",ol.interaction.DragZoom,OPENLAYERS);goog.exportSymbol("ol.interaction.Draw",ol.interaction.Draw,OPENLAYERS);goog.exportSymbol("ol.interaction.Draw.handleEvent",ol.interaction.Draw.handleEvent,OPENLAYERS);goog.exportProperty(ol.interaction.Draw.prototype,"removeLastPoint",ol.interaction.Draw.prototype.removeLastPoint);goog.exportProperty(ol.interaction.Draw.prototype,"finishDrawing",ol.interaction.Draw.prototype.finishDrawing);goog.exportProperty(ol.interaction.Draw.prototype,"extend",ol.interaction.Draw.prototype.extend);goog.exportSymbol("ol.interaction.Draw.createRegularPolygon",ol.interaction.Draw.createRegularPolygon,OPENLAYERS);goog.exportSymbol("ol.interaction.Draw.createBox",ol.interaction.Draw.createBox,OPENLAYERS);goog.exportProperty(ol.interaction.Draw.Event.prototype,"feature",ol.interaction.Draw.Event.prototype.feature);goog.exportSymbol("ol.interaction.Extent",ol.interaction.Extent,OPENLAYERS);goog.exportProperty(ol.interaction.Extent.prototype,"getExtent",ol.interaction.Extent.prototype.getExtent);goog.exportProperty(ol.interaction.Extent.prototype,"setExtent",ol.interaction.Extent.prototype.setExtent);goog.exportProperty(ol.interaction.Extent.Event.prototype,"extent",ol.interaction.Extent.Event.prototype.extent);goog.exportSymbol("ol.interaction.Interaction",ol.interaction.Interaction,OPENLAYERS);goog.exportProperty(ol.interaction.Interaction.prototype,"getActive",ol.interaction.Interaction.prototype.getActive);goog.exportProperty(ol.interaction.Interaction.prototype,"getMap",ol.interaction.Interaction.prototype.getMap);goog.exportProperty(ol.interaction.Interaction.prototype,"setActive",ol.interaction.Interaction.prototype.setActive);goog.exportSymbol("ol.interaction.KeyboardPan",ol.interaction.KeyboardPan,OPENLAYERS);goog.exportSymbol("ol.interaction.KeyboardPan.handleEvent",ol.interaction.KeyboardPan.handleEvent,OPENLAYERS);goog.exportSymbol("ol.interaction.KeyboardZoom",ol.interaction.KeyboardZoom,OPENLAYERS);goog.exportSymbol("ol.interaction.KeyboardZoom.handleEvent",ol.interaction.KeyboardZoom.handleEvent,OPENLAYERS);goog.exportSymbol("ol.interaction.Modify",ol.interaction.Modify,OPENLAYERS);goog.exportSymbol("ol.interaction.Modify.handleEvent",ol.interaction.Modify.handleEvent,OPENLAYERS);goog.exportProperty(ol.interaction.Modify.prototype,"removePoint",ol.interaction.Modify.prototype.removePoint);goog.exportProperty(ol.interaction.Modify.Event.prototype,"features",ol.interaction.Modify.Event.prototype.features);goog.exportProperty(ol.interaction.Modify.Event.prototype,"mapBrowserEvent",ol.interaction.Modify.Event.prototype.mapBrowserEvent);goog.exportSymbol("ol.interaction.MouseWheelZoom",ol.interaction.MouseWheelZoom,OPENLAYERS);goog.exportSymbol("ol.interaction.MouseWheelZoom.handleEvent",ol.interaction.MouseWheelZoom.handleEvent,OPENLAYERS);goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"setMouseAnchor",ol.interaction.MouseWheelZoom.prototype.setMouseAnchor);goog.exportSymbol("ol.interaction.PinchRotate",ol.interaction.PinchRotate,OPENLAYERS);goog.exportSymbol("ol.interaction.PinchZoom",ol.interaction.PinchZoom,OPENLAYERS);goog.exportSymbol("ol.interaction.Pointer",ol.interaction.Pointer,OPENLAYERS);goog.exportSymbol("ol.interaction.Pointer.handleEvent",ol.interaction.Pointer.handleEvent,OPENLAYERS);goog.exportSymbol("ol.interaction.Select",ol.interaction.Select,OPENLAYERS);goog.exportProperty(ol.interaction.Select.prototype,"getFeatures",ol.interaction.Select.prototype.getFeatures);goog.exportProperty(ol.interaction.Select.prototype,"getHitTolerance",ol.interaction.Select.prototype.getHitTolerance);goog.exportProperty(ol.interaction.Select.prototype,"getLayer",ol.interaction.Select.prototype.getLayer);goog.exportSymbol("ol.interaction.Select.handleEvent",ol.interaction.Select.handleEvent,OPENLAYERS);goog.exportProperty(ol.interaction.Select.prototype,"setHitTolerance",ol.interaction.Select.prototype.setHitTolerance);goog.exportProperty(ol.interaction.Select.prototype,"setMap",ol.interaction.Select.prototype.setMap);goog.exportProperty(ol.interaction.Select.Event.prototype,"selected",ol.interaction.Select.Event.prototype.selected);goog.exportProperty(ol.interaction.Select.Event.prototype,"deselected",ol.interaction.Select.Event.prototype.deselected);goog.exportProperty(ol.interaction.Select.Event.prototype,"mapBrowserEvent",ol.interaction.Select.Event.prototype.mapBrowserEvent);goog.exportSymbol("ol.interaction.Snap",ol.interaction.Snap,OPENLAYERS);goog.exportProperty(ol.interaction.Snap.prototype,"addFeature",ol.interaction.Snap.prototype.addFeature);goog.exportProperty(ol.interaction.Snap.prototype,"removeFeature",ol.interaction.Snap.prototype.removeFeature);goog.exportSymbol("ol.interaction.Translate",ol.interaction.Translate,OPENLAYERS);goog.exportProperty(ol.interaction.Translate.prototype,"getHitTolerance",ol.interaction.Translate.prototype.getHitTolerance);goog.exportProperty(ol.interaction.Translate.prototype,"setHitTolerance",ol.interaction.Translate.prototype.setHitTolerance);goog.exportProperty(ol.interaction.Translate.Event.prototype,"features",ol.interaction.Translate.Event.prototype.features);goog.exportProperty(ol.interaction.Translate.Event.prototype,"coordinate",ol.interaction.Translate.Event.prototype.coordinate);goog.exportSymbol("ol.geom.Circle",ol.geom.Circle,OPENLAYERS);goog.exportProperty(ol.geom.Circle.prototype,"clone",ol.geom.Circle.prototype.clone);goog.exportProperty(ol.geom.Circle.prototype,"getCenter",ol.geom.Circle.prototype.getCenter);goog.exportProperty(ol.geom.Circle.prototype,"getRadius",ol.geom.Circle.prototype.getRadius);goog.exportProperty(ol.geom.Circle.prototype,"getType",ol.geom.Circle.prototype.getType);goog.exportProperty(ol.geom.Circle.prototype,"intersectsExtent",ol.geom.Circle.prototype.intersectsExtent);goog.exportProperty(ol.geom.Circle.prototype,"setCenter",ol.geom.Circle.prototype.setCenter);goog.exportProperty(ol.geom.Circle.prototype,"setCenterAndRadius",ol.geom.Circle.prototype.setCenterAndRadius);goog.exportProperty(ol.geom.Circle.prototype,"setRadius",ol.geom.Circle.prototype.setRadius);goog.exportProperty(ol.geom.Circle.prototype,"transform",ol.geom.Circle.prototype.transform);goog.exportSymbol("ol.geom.Geometry",ol.geom.Geometry,OPENLAYERS);goog.exportProperty(ol.geom.Geometry.prototype,"getClosestPoint",ol.geom.Geometry.prototype.getClosestPoint);goog.exportProperty(ol.geom.Geometry.prototype,"intersectsCoordinate",ol.geom.Geometry.prototype.intersectsCoordinate);goog.exportProperty(ol.geom.Geometry.prototype,"getExtent",ol.geom.Geometry.prototype.getExtent);goog.exportProperty(ol.geom.Geometry.prototype,"rotate",ol.geom.Geometry.prototype.rotate);goog.exportProperty(ol.geom.Geometry.prototype,"scale",ol.geom.Geometry.prototype.scale);goog.exportProperty(ol.geom.Geometry.prototype,"simplify",ol.geom.Geometry.prototype.simplify);goog.exportProperty(ol.geom.Geometry.prototype,"transform",ol.geom.Geometry.prototype.transform);goog.exportSymbol("ol.geom.GeometryCollection",ol.geom.GeometryCollection,OPENLAYERS);goog.exportProperty(ol.geom.GeometryCollection.prototype,"clone",ol.geom.GeometryCollection.prototype.clone);goog.exportProperty(ol.geom.GeometryCollection.prototype,"getGeometries",ol.geom.GeometryCollection.prototype.getGeometries);goog.exportProperty(ol.geom.GeometryCollection.prototype,"getType",ol.geom.GeometryCollection.prototype.getType);goog.exportProperty(ol.geom.GeometryCollection.prototype,"intersectsExtent",ol.geom.GeometryCollection.prototype.intersectsExtent);goog.exportProperty(ol.geom.GeometryCollection.prototype,"setGeometries",ol.geom.GeometryCollection.prototype.setGeometries);goog.exportProperty(ol.geom.GeometryCollection.prototype,"applyTransform",ol.geom.GeometryCollection.prototype.applyTransform);goog.exportProperty(ol.geom.GeometryCollection.prototype,"translate",ol.geom.GeometryCollection.prototype.translate);goog.exportSymbol("ol.geom.LinearRing",ol.geom.LinearRing,OPENLAYERS);goog.exportProperty(ol.geom.LinearRing.prototype,"clone",ol.geom.LinearRing.prototype.clone);goog.exportProperty(ol.geom.LinearRing.prototype,"getArea",ol.geom.LinearRing.prototype.getArea);goog.exportProperty(ol.geom.LinearRing.prototype,"getCoordinates",ol.geom.LinearRing.prototype.getCoordinates);goog.exportProperty(ol.geom.LinearRing.prototype,"getType",ol.geom.LinearRing.prototype.getType);goog.exportProperty(ol.geom.LinearRing.prototype,"setCoordinates",ol.geom.LinearRing.prototype.setCoordinates);goog.exportSymbol("ol.geom.LineString",ol.geom.LineString,OPENLAYERS);goog.exportProperty(ol.geom.LineString.prototype,"appendCoordinate",ol.geom.LineString.prototype.appendCoordinate);goog.exportProperty(ol.geom.LineString.prototype,"clone",ol.geom.LineString.prototype.clone);goog.exportProperty(ol.geom.LineString.prototype,"forEachSegment",ol.geom.LineString.prototype.forEachSegment);goog.exportProperty(ol.geom.LineString.prototype,"getCoordinateAtM",ol.geom.LineString.prototype.getCoordinateAtM);goog.exportProperty(ol.geom.LineString.prototype,"getCoordinates",ol.geom.LineString.prototype.getCoordinates);goog.exportProperty(ol.geom.LineString.prototype,"getCoordinateAt",ol.geom.LineString.prototype.getCoordinateAt);goog.exportProperty(ol.geom.LineString.prototype,"getLength",ol.geom.LineString.prototype.getLength);goog.exportProperty(ol.geom.LineString.prototype,"getType",ol.geom.LineString.prototype.getType);goog.exportProperty(ol.geom.LineString.prototype,"intersectsExtent",ol.geom.LineString.prototype.intersectsExtent);goog.exportProperty(ol.geom.LineString.prototype,"setCoordinates",ol.geom.LineString.prototype.setCoordinates);goog.exportSymbol("ol.geom.MultiLineString",ol.geom.MultiLineString,OPENLAYERS);goog.exportProperty(ol.geom.MultiLineString.prototype,"appendLineString",ol.geom.MultiLineString.prototype.appendLineString);goog.exportProperty(ol.geom.MultiLineString.prototype,"clone",ol.geom.MultiLineString.prototype.clone);goog.exportProperty(ol.geom.MultiLineString.prototype,"getCoordinateAtM",ol.geom.MultiLineString.prototype.getCoordinateAtM);goog.exportProperty(ol.geom.MultiLineString.prototype,"getCoordinates",ol.geom.MultiLineString.prototype.getCoordinates);goog.exportProperty(ol.geom.MultiLineString.prototype,"getLineString",ol.geom.MultiLineString.prototype.getLineString);goog.exportProperty(ol.geom.MultiLineString.prototype,"getLineStrings",ol.geom.MultiLineString.prototype.getLineStrings);goog.exportProperty(ol.geom.MultiLineString.prototype,"getType",ol.geom.MultiLineString.prototype.getType);goog.exportProperty(ol.geom.MultiLineString.prototype,"intersectsExtent",ol.geom.MultiLineString.prototype.intersectsExtent);goog.exportProperty(ol.geom.MultiLineString.prototype,"setCoordinates",ol.geom.MultiLineString.prototype.setCoordinates);goog.exportSymbol("ol.geom.MultiPoint",ol.geom.MultiPoint,OPENLAYERS);goog.exportProperty(ol.geom.MultiPoint.prototype,"appendPoint",ol.geom.MultiPoint.prototype.appendPoint);goog.exportProperty(ol.geom.MultiPoint.prototype,"clone",ol.geom.MultiPoint.prototype.clone);goog.exportProperty(ol.geom.MultiPoint.prototype,"getCoordinates",ol.geom.MultiPoint.prototype.getCoordinates);goog.exportProperty(ol.geom.MultiPoint.prototype,"getPoint",ol.geom.MultiPoint.prototype.getPoint);goog.exportProperty(ol.geom.MultiPoint.prototype,"getPoints",ol.geom.MultiPoint.prototype.getPoints);goog.exportProperty(ol.geom.MultiPoint.prototype,"getType",ol.geom.MultiPoint.prototype.getType);goog.exportProperty(ol.geom.MultiPoint.prototype,"intersectsExtent",ol.geom.MultiPoint.prototype.intersectsExtent);goog.exportProperty(ol.geom.MultiPoint.prototype,"setCoordinates",ol.geom.MultiPoint.prototype.setCoordinates);goog.exportSymbol("ol.geom.MultiPolygon",ol.geom.MultiPolygon,OPENLAYERS);goog.exportProperty(ol.geom.MultiPolygon.prototype,"appendPolygon",ol.geom.MultiPolygon.prototype.appendPolygon);goog.exportProperty(ol.geom.MultiPolygon.prototype,"clone",ol.geom.MultiPolygon.prototype.clone);goog.exportProperty(ol.geom.MultiPolygon.prototype,"getArea",ol.geom.MultiPolygon.prototype.getArea);goog.exportProperty(ol.geom.MultiPolygon.prototype,"getCoordinates",ol.geom.MultiPolygon.prototype.getCoordinates);goog.exportProperty(ol.geom.MultiPolygon.prototype,"getInteriorPoints",ol.geom.MultiPolygon.prototype.getInteriorPoints);goog.exportProperty(ol.geom.MultiPolygon.prototype,"getPolygon",ol.geom.MultiPolygon.prototype.getPolygon);goog.exportProperty(ol.geom.MultiPolygon.prototype,"getPolygons",ol.geom.MultiPolygon.prototype.getPolygons);goog.exportProperty(ol.geom.MultiPolygon.prototype,"getType",ol.geom.MultiPolygon.prototype.getType);goog.exportProperty(ol.geom.MultiPolygon.prototype,"intersectsExtent",ol.geom.MultiPolygon.prototype.intersectsExtent);goog.exportProperty(ol.geom.MultiPolygon.prototype,"setCoordinates",ol.geom.MultiPolygon.prototype.setCoordinates);goog.exportSymbol("ol.geom.Point",ol.geom.Point,OPENLAYERS);goog.exportProperty(ol.geom.Point.prototype,"clone",ol.geom.Point.prototype.clone);goog.exportProperty(ol.geom.Point.prototype,"getCoordinates",ol.geom.Point.prototype.getCoordinates);goog.exportProperty(ol.geom.Point.prototype,"getType",ol.geom.Point.prototype.getType);goog.exportProperty(ol.geom.Point.prototype,"intersectsExtent",ol.geom.Point.prototype.intersectsExtent);goog.exportProperty(ol.geom.Point.prototype,"setCoordinates",ol.geom.Point.prototype.setCoordinates);goog.exportSymbol("ol.geom.Polygon",ol.geom.Polygon,OPENLAYERS);goog.exportProperty(ol.geom.Polygon.prototype,"appendLinearRing",ol.geom.Polygon.prototype.appendLinearRing);goog.exportProperty(ol.geom.Polygon.prototype,"clone",ol.geom.Polygon.prototype.clone);goog.exportProperty(ol.geom.Polygon.prototype,"getArea",ol.geom.Polygon.prototype.getArea);goog.exportProperty(ol.geom.Polygon.prototype,"getCoordinates",ol.geom.Polygon.prototype.getCoordinates);goog.exportProperty(ol.geom.Polygon.prototype,"getInteriorPoint",ol.geom.Polygon.prototype.getInteriorPoint);goog.exportProperty(ol.geom.Polygon.prototype,"getLinearRingCount",ol.geom.Polygon.prototype.getLinearRingCount);goog.exportProperty(ol.geom.Polygon.prototype,"getLinearRing",ol.geom.Polygon.prototype.getLinearRing);goog.exportProperty(ol.geom.Polygon.prototype,"getLinearRings",ol.geom.Polygon.prototype.getLinearRings);goog.exportProperty(ol.geom.Polygon.prototype,"getType",ol.geom.Polygon.prototype.getType);goog.exportProperty(ol.geom.Polygon.prototype,"intersectsExtent",ol.geom.Polygon.prototype.intersectsExtent);goog.exportProperty(ol.geom.Polygon.prototype,"setCoordinates",ol.geom.Polygon.prototype.setCoordinates);goog.exportSymbol("ol.geom.Polygon.circular",ol.geom.Polygon.circular,OPENLAYERS);goog.exportSymbol("ol.geom.Polygon.fromExtent",ol.geom.Polygon.fromExtent,OPENLAYERS);goog.exportSymbol("ol.geom.Polygon.fromCircle",ol.geom.Polygon.fromCircle,OPENLAYERS);goog.exportSymbol("ol.geom.SimpleGeometry",ol.geom.SimpleGeometry,OPENLAYERS);goog.exportProperty(ol.geom.SimpleGeometry.prototype,"getFirstCoordinate",ol.geom.SimpleGeometry.prototype.getFirstCoordinate);goog.exportProperty(ol.geom.SimpleGeometry.prototype,"getLastCoordinate",ol.geom.SimpleGeometry.prototype.getLastCoordinate);goog.exportProperty(ol.geom.SimpleGeometry.prototype,"getLayout",ol.geom.SimpleGeometry.prototype.getLayout);goog.exportProperty(ol.geom.SimpleGeometry.prototype,"applyTransform",ol.geom.SimpleGeometry.prototype.applyTransform);goog.exportProperty(ol.geom.SimpleGeometry.prototype,"translate",ol.geom.SimpleGeometry.prototype.translate);goog.exportSymbol("ol.format.EsriJSON",ol.format.EsriJSON,OPENLAYERS);goog.exportProperty(ol.format.EsriJSON.prototype,"readFeature",ol.format.EsriJSON.prototype.readFeature);goog.exportProperty(ol.format.EsriJSON.prototype,"readFeatures",ol.format.EsriJSON.prototype.readFeatures);goog.exportProperty(ol.format.EsriJSON.prototype,"readGeometry",ol.format.EsriJSON.prototype.readGeometry);goog.exportProperty(ol.format.EsriJSON.prototype,"readProjection",ol.format.EsriJSON.prototype.readProjection);goog.exportProperty(ol.format.EsriJSON.prototype,"writeGeometry",ol.format.EsriJSON.prototype.writeGeometry);goog.exportProperty(ol.format.EsriJSON.prototype,"writeGeometryObject",ol.format.EsriJSON.prototype.writeGeometryObject);goog.exportProperty(ol.format.EsriJSON.prototype,"writeFeature",ol.format.EsriJSON.prototype.writeFeature);goog.exportProperty(ol.format.EsriJSON.prototype,"writeFeatureObject",ol.format.EsriJSON.prototype.writeFeatureObject);goog.exportProperty(ol.format.EsriJSON.prototype,"writeFeatures",ol.format.EsriJSON.prototype.writeFeatures);goog.exportProperty(ol.format.EsriJSON.prototype,"writeFeaturesObject",ol.format.EsriJSON.prototype.writeFeaturesObject);goog.exportSymbol("ol.format.Feature",ol.format.Feature,OPENLAYERS);goog.exportSymbol("ol.format.filter.and",ol.format.filter.and,OPENLAYERS);goog.exportSymbol("ol.format.filter.or",ol.format.filter.or,OPENLAYERS);goog.exportSymbol("ol.format.filter.not",ol.format.filter.not,OPENLAYERS);goog.exportSymbol("ol.format.filter.bbox",ol.format.filter.bbox,OPENLAYERS);goog.exportSymbol("ol.format.filter.contains",ol.format.filter.contains,OPENLAYERS);goog.exportSymbol("ol.format.filter.intersects",ol.format.filter.intersects,OPENLAYERS);goog.exportSymbol("ol.format.filter.within",ol.format.filter.within,OPENLAYERS);goog.exportSymbol("ol.format.filter.equalTo",ol.format.filter.equalTo,OPENLAYERS);goog.exportSymbol("ol.format.filter.notEqualTo",ol.format.filter.notEqualTo,OPENLAYERS);goog.exportSymbol("ol.format.filter.lessThan",ol.format.filter.lessThan,OPENLAYERS);goog.exportSymbol("ol.format.filter.lessThanOrEqualTo",ol.format.filter.lessThanOrEqualTo,OPENLAYERS);goog.exportSymbol("ol.format.filter.greaterThan",ol.format.filter.greaterThan,OPENLAYERS);goog.exportSymbol("ol.format.filter.greaterThanOrEqualTo",ol.format.filter.greaterThanOrEqualTo,OPENLAYERS);goog.exportSymbol("ol.format.filter.isNull",ol.format.filter.isNull,OPENLAYERS);goog.exportSymbol("ol.format.filter.between",ol.format.filter.between,OPENLAYERS);goog.exportSymbol("ol.format.filter.like",ol.format.filter.like,OPENLAYERS);goog.exportSymbol("ol.format.filter.during",ol.format.filter.during,OPENLAYERS);goog.exportSymbol("ol.format.GeoJSON",ol.format.GeoJSON,OPENLAYERS);goog.exportProperty(ol.format.GeoJSON.prototype,"readFeature",ol.format.GeoJSON.prototype.readFeature);goog.exportProperty(ol.format.GeoJSON.prototype,"readFeatures",ol.format.GeoJSON.prototype.readFeatures);goog.exportProperty(ol.format.GeoJSON.prototype,"readGeometry",ol.format.GeoJSON.prototype.readGeometry);goog.exportProperty(ol.format.GeoJSON.prototype,"readProjection",ol.format.GeoJSON.prototype.readProjection);goog.exportProperty(ol.format.GeoJSON.prototype,"writeFeature",ol.format.GeoJSON.prototype.writeFeature);goog.exportProperty(ol.format.GeoJSON.prototype,"writeFeatureObject",ol.format.GeoJSON.prototype.writeFeatureObject);goog.exportProperty(ol.format.GeoJSON.prototype,"writeFeatures",ol.format.GeoJSON.prototype.writeFeatures);goog.exportProperty(ol.format.GeoJSON.prototype,"writeFeaturesObject",ol.format.GeoJSON.prototype.writeFeaturesObject);goog.exportProperty(ol.format.GeoJSON.prototype,"writeGeometry",ol.format.GeoJSON.prototype.writeGeometry);goog.exportProperty(ol.format.GeoJSON.prototype,"writeGeometryObject",ol.format.GeoJSON.prototype.writeGeometryObject);goog.exportSymbol("ol.format.GML",ol.format.GML,OPENLAYERS);goog.exportProperty(ol.format.GML.prototype,"writeFeatures",ol.format.GML.prototype.writeFeatures);goog.exportProperty(ol.format.GML.prototype,"writeFeaturesNode",ol.format.GML.prototype.writeFeaturesNode);goog.exportSymbol("ol.format.GML2",ol.format.GML2,OPENLAYERS);goog.exportSymbol("ol.format.GML3",ol.format.GML3,OPENLAYERS);goog.exportProperty(ol.format.GML3.prototype,"writeGeometryNode",ol.format.GML3.prototype.writeGeometryNode);goog.exportProperty(ol.format.GML3.prototype,"writeFeatures",ol.format.GML3.prototype.writeFeatures);goog.exportProperty(ol.format.GML3.prototype,"writeFeaturesNode",ol.format.GML3.prototype.writeFeaturesNode);goog.exportProperty(ol.format.GMLBase.prototype,"readFeatures",ol.format.GMLBase.prototype.readFeatures);goog.exportSymbol("ol.format.GPX",ol.format.GPX,OPENLAYERS);goog.exportProperty(ol.format.GPX.prototype,"readFeature",ol.format.GPX.prototype.readFeature);goog.exportProperty(ol.format.GPX.prototype,"readFeatures",ol.format.GPX.prototype.readFeatures);goog.exportProperty(ol.format.GPX.prototype,"readProjection",ol.format.GPX.prototype.readProjection);goog.exportProperty(ol.format.GPX.prototype,"writeFeatures",ol.format.GPX.prototype.writeFeatures);goog.exportProperty(ol.format.GPX.prototype,"writeFeaturesNode",ol.format.GPX.prototype.writeFeaturesNode);goog.exportSymbol("ol.format.IGC",ol.format.IGC,OPENLAYERS);goog.exportProperty(ol.format.IGC.prototype,"readFeature",ol.format.IGC.prototype.readFeature);goog.exportProperty(ol.format.IGC.prototype,"readFeatures",ol.format.IGC.prototype.readFeatures);goog.exportProperty(ol.format.IGC.prototype,"readProjection",ol.format.IGC.prototype.readProjection);goog.exportSymbol("ol.format.KML",ol.format.KML,OPENLAYERS);goog.exportProperty(ol.format.KML.prototype,"readFeature",ol.format.KML.prototype.readFeature);goog.exportProperty(ol.format.KML.prototype,"readFeatures",ol.format.KML.prototype.readFeatures);goog.exportProperty(ol.format.KML.prototype,"readName",ol.format.KML.prototype.readName);goog.exportProperty(ol.format.KML.prototype,"readNetworkLinks",ol.format.KML.prototype.readNetworkLinks);goog.exportProperty(ol.format.KML.prototype,"readRegion",ol.format.KML.prototype.readRegion);goog.exportProperty(ol.format.KML.prototype,"readRegionFromNode",ol.format.KML.prototype.readRegionFromNode);goog.exportProperty(ol.format.KML.prototype,"readProjection",ol.format.KML.prototype.readProjection);goog.exportProperty(ol.format.KML.prototype,"writeFeatures",ol.format.KML.prototype.writeFeatures);goog.exportProperty(ol.format.KML.prototype,"writeFeaturesNode",ol.format.KML.prototype.writeFeaturesNode);goog.exportSymbol("ol.format.MVT",ol.format.MVT,OPENLAYERS);goog.exportProperty(ol.format.MVT.prototype,"getLastExtent",ol.format.MVT.prototype.getLastExtent);goog.exportProperty(ol.format.MVT.prototype,"readFeatures",ol.format.MVT.prototype.readFeatures);goog.exportProperty(ol.format.MVT.prototype,"readProjection",ol.format.MVT.prototype.readProjection);goog.exportProperty(ol.format.MVT.prototype,"setLayers",ol.format.MVT.prototype.setLayers);goog.exportSymbol("ol.format.OSMXML",ol.format.OSMXML,OPENLAYERS);goog.exportProperty(ol.format.OSMXML.prototype,"readFeatures",ol.format.OSMXML.prototype.readFeatures);goog.exportProperty(ol.format.OSMXML.prototype,"readProjection",ol.format.OSMXML.prototype.readProjection);goog.exportSymbol("ol.format.Polyline",ol.format.Polyline,OPENLAYERS);goog.exportSymbol("ol.format.Polyline.encodeDeltas",ol.format.Polyline.encodeDeltas,OPENLAYERS);goog.exportSymbol("ol.format.Polyline.decodeDeltas",ol.format.Polyline.decodeDeltas,OPENLAYERS);goog.exportSymbol("ol.format.Polyline.encodeFloats",ol.format.Polyline.encodeFloats,OPENLAYERS);goog.exportSymbol("ol.format.Polyline.decodeFloats",ol.format.Polyline.decodeFloats,OPENLAYERS);goog.exportProperty(ol.format.Polyline.prototype,"readFeature",ol.format.Polyline.prototype.readFeature);goog.exportProperty(ol.format.Polyline.prototype,"readFeatures",ol.format.Polyline.prototype.readFeatures);goog.exportProperty(ol.format.Polyline.prototype,"readGeometry",ol.format.Polyline.prototype.readGeometry);goog.exportProperty(ol.format.Polyline.prototype,"readProjection",ol.format.Polyline.prototype.readProjection);goog.exportProperty(ol.format.Polyline.prototype,"writeGeometry",ol.format.Polyline.prototype.writeGeometry);goog.exportSymbol("ol.format.TopoJSON",ol.format.TopoJSON,OPENLAYERS);goog.exportProperty(ol.format.TopoJSON.prototype,"readFeatures",ol.format.TopoJSON.prototype.readFeatures);goog.exportProperty(ol.format.TopoJSON.prototype,"readProjection",ol.format.TopoJSON.prototype.readProjection);goog.exportSymbol("ol.format.WFS",ol.format.WFS,OPENLAYERS);goog.exportProperty(ol.format.WFS.prototype,"readFeatures",ol.format.WFS.prototype.readFeatures);goog.exportProperty(ol.format.WFS.prototype,"readTransactionResponse",ol.format.WFS.prototype.readTransactionResponse);goog.exportProperty(ol.format.WFS.prototype,"readFeatureCollectionMetadata",ol.format.WFS.prototype.readFeatureCollectionMetadata);goog.exportSymbol("ol.format.WFS.writeFilter",ol.format.WFS.writeFilter,OPENLAYERS);goog.exportProperty(ol.format.WFS.prototype,"writeGetFeature",ol.format.WFS.prototype.writeGetFeature);goog.exportProperty(ol.format.WFS.prototype,"writeTransaction",ol.format.WFS.prototype.writeTransaction);goog.exportProperty(ol.format.WFS.prototype,"readProjection",ol.format.WFS.prototype.readProjection);goog.exportSymbol("ol.format.WKT",ol.format.WKT,OPENLAYERS);goog.exportProperty(ol.format.WKT.prototype,"readFeature",ol.format.WKT.prototype.readFeature);goog.exportProperty(ol.format.WKT.prototype,"readFeatures",ol.format.WKT.prototype.readFeatures);goog.exportProperty(ol.format.WKT.prototype,"readGeometry",ol.format.WKT.prototype.readGeometry);goog.exportProperty(ol.format.WKT.prototype,"writeFeature",ol.format.WKT.prototype.writeFeature);goog.exportProperty(ol.format.WKT.prototype,"writeFeatures",ol.format.WKT.prototype.writeFeatures);goog.exportProperty(ol.format.WKT.prototype,"writeGeometry",ol.format.WKT.prototype.writeGeometry);goog.exportSymbol("ol.format.WMSCapabilities",ol.format.WMSCapabilities,OPENLAYERS);goog.exportProperty(ol.format.WMSCapabilities.prototype,"read",ol.format.WMSCapabilities.prototype.read);goog.exportSymbol("ol.format.WMSGetFeatureInfo",ol.format.WMSGetFeatureInfo,OPENLAYERS);goog.exportProperty(ol.format.WMSGetFeatureInfo.prototype,"readFeatures",ol.format.WMSGetFeatureInfo.prototype.readFeatures);goog.exportSymbol("ol.format.WMTSCapabilities",ol.format.WMTSCapabilities,OPENLAYERS);goog.exportProperty(ol.format.WMTSCapabilities.prototype,"read",ol.format.WMTSCapabilities.prototype.read);goog.exportSymbol("ol.format.filter.And",ol.format.filter.And,OPENLAYERS);goog.exportSymbol("ol.format.filter.Bbox",ol.format.filter.Bbox,OPENLAYERS);goog.exportSymbol("ol.format.filter.Comparison",ol.format.filter.Comparison,OPENLAYERS);goog.exportSymbol("ol.format.filter.ComparisonBinary",ol.format.filter.ComparisonBinary,OPENLAYERS);goog.exportSymbol("ol.format.filter.Contains",ol.format.filter.Contains,OPENLAYERS);goog.exportSymbol("ol.format.filter.During",ol.format.filter.During,OPENLAYERS);goog.exportSymbol("ol.format.filter.EqualTo",ol.format.filter.EqualTo,OPENLAYERS);goog.exportSymbol("ol.format.filter.Filter",ol.format.filter.Filter,OPENLAYERS);goog.exportSymbol("ol.format.filter.GreaterThan",ol.format.filter.GreaterThan,OPENLAYERS);goog.exportSymbol("ol.format.filter.GreaterThanOrEqualTo",ol.format.filter.GreaterThanOrEqualTo,OPENLAYERS);goog.exportSymbol("ol.format.filter.Intersects",ol.format.filter.Intersects,OPENLAYERS);goog.exportSymbol("ol.format.filter.IsBetween",ol.format.filter.IsBetween,OPENLAYERS);goog.exportSymbol("ol.format.filter.IsLike",ol.format.filter.IsLike,OPENLAYERS);goog.exportSymbol("ol.format.filter.IsNull",ol.format.filter.IsNull,OPENLAYERS);goog.exportSymbol("ol.format.filter.LessThan",ol.format.filter.LessThan,OPENLAYERS);goog.exportSymbol("ol.format.filter.LessThanOrEqualTo",ol.format.filter.LessThanOrEqualTo,OPENLAYERS);goog.exportSymbol("ol.format.filter.Not",ol.format.filter.Not,OPENLAYERS);goog.exportSymbol("ol.format.filter.NotEqualTo",ol.format.filter.NotEqualTo,OPENLAYERS);goog.exportSymbol("ol.format.filter.Or",ol.format.filter.Or,OPENLAYERS);goog.exportSymbol("ol.format.filter.Spatial",ol.format.filter.Spatial,OPENLAYERS);goog.exportSymbol("ol.format.filter.Within",ol.format.filter.Within,OPENLAYERS);goog.exportSymbol("ol.events.condition.altKeyOnly",ol.events.condition.altKeyOnly,OPENLAYERS);goog.exportSymbol("ol.events.condition.altShiftKeysOnly",ol.events.condition.altShiftKeysOnly,OPENLAYERS);goog.exportSymbol("ol.events.condition.always",ol.events.condition.always,OPENLAYERS);goog.exportSymbol("ol.events.condition.click",ol.events.condition.click,OPENLAYERS);goog.exportSymbol("ol.events.condition.never",ol.events.condition.never,OPENLAYERS);goog.exportSymbol("ol.events.condition.pointerMove",ol.events.condition.pointerMove,OPENLAYERS);goog.exportSymbol("ol.events.condition.singleClick",ol.events.condition.singleClick,OPENLAYERS);goog.exportSymbol("ol.events.condition.doubleClick",ol.events.condition.doubleClick,OPENLAYERS);goog.exportSymbol("ol.events.condition.noModifierKeys",ol.events.condition.noModifierKeys,OPENLAYERS);goog.exportSymbol("ol.events.condition.platformModifierKeyOnly",ol.events.condition.platformModifierKeyOnly,OPENLAYERS);goog.exportSymbol("ol.events.condition.shiftKeyOnly",ol.events.condition.shiftKeyOnly,OPENLAYERS);goog.exportSymbol("ol.events.condition.targetNotEditable",ol.events.condition.targetNotEditable,OPENLAYERS);goog.exportSymbol("ol.events.condition.mouseOnly",ol.events.condition.mouseOnly,OPENLAYERS);goog.exportSymbol("ol.events.condition.primaryAction",ol.events.condition.primaryAction,OPENLAYERS);goog.exportProperty(ol.events.Event.prototype,"type",ol.events.Event.prototype.type);goog.exportProperty(ol.events.Event.prototype,"target",ol.events.Event.prototype.target);goog.exportProperty(ol.events.Event.prototype,"preventDefault",ol.events.Event.prototype.preventDefault);goog.exportProperty(ol.events.Event.prototype,"stopPropagation",ol.events.Event.prototype.stopPropagation);goog.exportSymbol("ol.control.Attribution",ol.control.Attribution,OPENLAYERS);goog.exportSymbol("ol.control.Attribution.render",ol.control.Attribution.render,OPENLAYERS);goog.exportProperty(ol.control.Attribution.prototype,"getCollapsible",ol.control.Attribution.prototype.getCollapsible);goog.exportProperty(ol.control.Attribution.prototype,"setCollapsible",ol.control.Attribution.prototype.setCollapsible);goog.exportProperty(ol.control.Attribution.prototype,"setCollapsed",ol.control.Attribution.prototype.setCollapsed);goog.exportProperty(ol.control.Attribution.prototype,"getCollapsed",ol.control.Attribution.prototype.getCollapsed);goog.exportSymbol("ol.control.Control",ol.control.Control,OPENLAYERS);goog.exportProperty(ol.control.Control.prototype,"getMap",ol.control.Control.prototype.getMap);goog.exportProperty(ol.control.Control.prototype,"setMap",ol.control.Control.prototype.setMap);goog.exportProperty(ol.control.Control.prototype,"setTarget",ol.control.Control.prototype.setTarget);goog.exportSymbol("ol.control.FullScreen",ol.control.FullScreen,OPENLAYERS);goog.exportSymbol("ol.control.MousePosition",ol.control.MousePosition,OPENLAYERS);goog.exportSymbol("ol.control.MousePosition.render",ol.control.MousePosition.render,OPENLAYERS);goog.exportProperty(ol.control.MousePosition.prototype,"getCoordinateFormat",ol.control.MousePosition.prototype.getCoordinateFormat);goog.exportProperty(ol.control.MousePosition.prototype,"getProjection",ol.control.MousePosition.prototype.getProjection);goog.exportProperty(ol.control.MousePosition.prototype,"setCoordinateFormat",ol.control.MousePosition.prototype.setCoordinateFormat);goog.exportProperty(ol.control.MousePosition.prototype,"setProjection",ol.control.MousePosition.prototype.setProjection);goog.exportSymbol("ol.control.OverviewMap",ol.control.OverviewMap,OPENLAYERS);goog.exportSymbol("ol.control.OverviewMap.render",ol.control.OverviewMap.render,OPENLAYERS);goog.exportProperty(ol.control.OverviewMap.prototype,"getCollapsible",ol.control.OverviewMap.prototype.getCollapsible);goog.exportProperty(ol.control.OverviewMap.prototype,"setCollapsible",ol.control.OverviewMap.prototype.setCollapsible);goog.exportProperty(ol.control.OverviewMap.prototype,"setCollapsed",ol.control.OverviewMap.prototype.setCollapsed);goog.exportProperty(ol.control.OverviewMap.prototype,"getCollapsed",ol.control.OverviewMap.prototype.getCollapsed);goog.exportProperty(ol.control.OverviewMap.prototype,"getOverviewMap",ol.control.OverviewMap.prototype.getOverviewMap);goog.exportSymbol("ol.control.Rotate",ol.control.Rotate,OPENLAYERS);goog.exportSymbol("ol.control.Rotate.render",ol.control.Rotate.render,OPENLAYERS);goog.exportSymbol("ol.control.ScaleLine",ol.control.ScaleLine,OPENLAYERS);goog.exportProperty(ol.control.ScaleLine.prototype,"getUnits",ol.control.ScaleLine.prototype.getUnits);goog.exportSymbol("ol.control.ScaleLine.render",ol.control.ScaleLine.render,OPENLAYERS);goog.exportProperty(ol.control.ScaleLine.prototype,"setUnits",ol.control.ScaleLine.prototype.setUnits);goog.exportSymbol("ol.control.Zoom",ol.control.Zoom,OPENLAYERS);goog.exportSymbol("ol.control.ZoomSlider",ol.control.ZoomSlider,OPENLAYERS);goog.exportSymbol("ol.control.ZoomSlider.render",ol.control.ZoomSlider.render,OPENLAYERS);goog.exportSymbol("ol.control.ZoomToExtent",ol.control.ZoomToExtent,OPENLAYERS);goog.exportProperty(ol.Object.prototype,"changed",ol.Object.prototype.changed);goog.exportProperty(ol.Object.prototype,"dispatchEvent",ol.Object.prototype.dispatchEvent);goog.exportProperty(ol.Object.prototype,"getRevision",ol.Object.prototype.getRevision);goog.exportProperty(ol.Object.prototype,"on",ol.Object.prototype.on);goog.exportProperty(ol.Object.prototype,"once",ol.Object.prototype.once);goog.exportProperty(ol.Object.prototype,"un",ol.Object.prototype.un);goog.exportProperty(ol.PluggableMap.prototype,"get",ol.PluggableMap.prototype.get);goog.exportProperty(ol.PluggableMap.prototype,"getKeys",ol.PluggableMap.prototype.getKeys);goog.exportProperty(ol.PluggableMap.prototype,"getProperties",ol.PluggableMap.prototype.getProperties);goog.exportProperty(ol.PluggableMap.prototype,"set",ol.PluggableMap.prototype.set);goog.exportProperty(ol.PluggableMap.prototype,"setProperties",ol.PluggableMap.prototype.setProperties);goog.exportProperty(ol.PluggableMap.prototype,"unset",ol.PluggableMap.prototype.unset);goog.exportProperty(ol.PluggableMap.prototype,"changed",ol.PluggableMap.prototype.changed);goog.exportProperty(ol.PluggableMap.prototype,"dispatchEvent",ol.PluggableMap.prototype.dispatchEvent);goog.exportProperty(ol.PluggableMap.prototype,"getRevision",ol.PluggableMap.prototype.getRevision);goog.exportProperty(ol.PluggableMap.prototype,"on",ol.PluggableMap.prototype.on);goog.exportProperty(ol.PluggableMap.prototype,"once",ol.PluggableMap.prototype.once);goog.exportProperty(ol.PluggableMap.prototype,"un",ol.PluggableMap.prototype.un);goog.exportProperty(ol.CanvasMap.prototype,"addControl",ol.CanvasMap.prototype.addControl);goog.exportProperty(ol.CanvasMap.prototype,"addInteraction",ol.CanvasMap.prototype.addInteraction);goog.exportProperty(ol.CanvasMap.prototype,"addLayer",ol.CanvasMap.prototype.addLayer);goog.exportProperty(ol.CanvasMap.prototype,"addOverlay",ol.CanvasMap.prototype.addOverlay);goog.exportProperty(ol.CanvasMap.prototype,"forEachFeatureAtPixel",ol.CanvasMap.prototype.forEachFeatureAtPixel);goog.exportProperty(ol.CanvasMap.prototype,"getFeaturesAtPixel",ol.CanvasMap.prototype.getFeaturesAtPixel);goog.exportProperty(ol.CanvasMap.prototype,"forEachLayerAtPixel",ol.CanvasMap.prototype.forEachLayerAtPixel);goog.exportProperty(ol.CanvasMap.prototype,"hasFeatureAtPixel",ol.CanvasMap.prototype.hasFeatureAtPixel);goog.exportProperty(ol.CanvasMap.prototype,"getEventCoordinate",ol.CanvasMap.prototype.getEventCoordinate);goog.exportProperty(ol.CanvasMap.prototype,"getEventPixel",ol.CanvasMap.prototype.getEventPixel);goog.exportProperty(ol.CanvasMap.prototype,"getTarget",ol.CanvasMap.prototype.getTarget);goog.exportProperty(ol.CanvasMap.prototype,"getTargetElement",ol.CanvasMap.prototype.getTargetElement);goog.exportProperty(ol.CanvasMap.prototype,"getCoordinateFromPixel",ol.CanvasMap.prototype.getCoordinateFromPixel);goog.exportProperty(ol.CanvasMap.prototype,"getControls",ol.CanvasMap.prototype.getControls);goog.exportProperty(ol.CanvasMap.prototype,"getOverlays",ol.CanvasMap.prototype.getOverlays);goog.exportProperty(ol.CanvasMap.prototype,"getOverlayById",ol.CanvasMap.prototype.getOverlayById);goog.exportProperty(ol.CanvasMap.prototype,"getInteractions",ol.CanvasMap.prototype.getInteractions);goog.exportProperty(ol.CanvasMap.prototype,"getLayerGroup",ol.CanvasMap.prototype.getLayerGroup);goog.exportProperty(ol.CanvasMap.prototype,"getLayers",ol.CanvasMap.prototype.getLayers);goog.exportProperty(ol.CanvasMap.prototype,"getPixelFromCoordinate",ol.CanvasMap.prototype.getPixelFromCoordinate);goog.exportProperty(ol.CanvasMap.prototype,"getSize",ol.CanvasMap.prototype.getSize);goog.exportProperty(ol.CanvasMap.prototype,"getView",ol.CanvasMap.prototype.getView);goog.exportProperty(ol.CanvasMap.prototype,"getViewport",ol.CanvasMap.prototype.getViewport);goog.exportProperty(ol.CanvasMap.prototype,"renderSync",ol.CanvasMap.prototype.renderSync);goog.exportProperty(ol.CanvasMap.prototype,"render",ol.CanvasMap.prototype.render);goog.exportProperty(ol.CanvasMap.prototype,"removeControl",ol.CanvasMap.prototype.removeControl);goog.exportProperty(ol.CanvasMap.prototype,"removeInteraction",ol.CanvasMap.prototype.removeInteraction);goog.exportProperty(ol.CanvasMap.prototype,"removeLayer",ol.CanvasMap.prototype.removeLayer);goog.exportProperty(ol.CanvasMap.prototype,"removeOverlay",ol.CanvasMap.prototype.removeOverlay);goog.exportProperty(ol.CanvasMap.prototype,"setLayerGroup",ol.CanvasMap.prototype.setLayerGroup);goog.exportProperty(ol.CanvasMap.prototype,"setSize",ol.CanvasMap.prototype.setSize);goog.exportProperty(ol.CanvasMap.prototype,"setTarget",ol.CanvasMap.prototype.setTarget);goog.exportProperty(ol.CanvasMap.prototype,"setView",ol.CanvasMap.prototype.setView);goog.exportProperty(ol.CanvasMap.prototype,"updateSize",ol.CanvasMap.prototype.updateSize);goog.exportProperty(ol.CanvasMap.prototype,"get",ol.CanvasMap.prototype.get);goog.exportProperty(ol.CanvasMap.prototype,"getKeys",ol.CanvasMap.prototype.getKeys);goog.exportProperty(ol.CanvasMap.prototype,"getProperties",ol.CanvasMap.prototype.getProperties);goog.exportProperty(ol.CanvasMap.prototype,"set",ol.CanvasMap.prototype.set);goog.exportProperty(ol.CanvasMap.prototype,"setProperties",ol.CanvasMap.prototype.setProperties);goog.exportProperty(ol.CanvasMap.prototype,"unset",ol.CanvasMap.prototype.unset);goog.exportProperty(ol.CanvasMap.prototype,"changed",ol.CanvasMap.prototype.changed);goog.exportProperty(ol.CanvasMap.prototype,"dispatchEvent",ol.CanvasMap.prototype.dispatchEvent);goog.exportProperty(ol.CanvasMap.prototype,"getRevision",ol.CanvasMap.prototype.getRevision);goog.exportProperty(ol.CanvasMap.prototype,"on",ol.CanvasMap.prototype.on);goog.exportProperty(ol.CanvasMap.prototype,"once",ol.CanvasMap.prototype.once);goog.exportProperty(ol.CanvasMap.prototype,"un",ol.CanvasMap.prototype.un);goog.exportProperty(ol.Collection.prototype,"get",ol.Collection.prototype.get);goog.exportProperty(ol.Collection.prototype,"getKeys",ol.Collection.prototype.getKeys);goog.exportProperty(ol.Collection.prototype,"getProperties",ol.Collection.prototype.getProperties);goog.exportProperty(ol.Collection.prototype,"set",ol.Collection.prototype.set);goog.exportProperty(ol.Collection.prototype,"setProperties",ol.Collection.prototype.setProperties);goog.exportProperty(ol.Collection.prototype,"unset",ol.Collection.prototype.unset);goog.exportProperty(ol.Collection.prototype,"changed",ol.Collection.prototype.changed);goog.exportProperty(ol.Collection.prototype,"dispatchEvent",ol.Collection.prototype.dispatchEvent);goog.exportProperty(ol.Collection.prototype,"getRevision",ol.Collection.prototype.getRevision);goog.exportProperty(ol.Collection.prototype,"on",ol.Collection.prototype.on);goog.exportProperty(ol.Collection.prototype,"once",ol.Collection.prototype.once);goog.exportProperty(ol.Collection.prototype,"un",ol.Collection.prototype.un);goog.exportProperty(ol.Collection.Event.prototype,"type",ol.Collection.Event.prototype.type);goog.exportProperty(ol.Collection.Event.prototype,"target",ol.Collection.Event.prototype.target);goog.exportProperty(ol.Collection.Event.prototype,"preventDefault",ol.Collection.Event.prototype.preventDefault);goog.exportProperty(ol.Collection.Event.prototype,"stopPropagation",ol.Collection.Event.prototype.stopPropagation);goog.exportProperty(ol.DeviceOrientation.prototype,"get",ol.DeviceOrientation.prototype.get);goog.exportProperty(ol.DeviceOrientation.prototype,"getKeys",ol.DeviceOrientation.prototype.getKeys);goog.exportProperty(ol.DeviceOrientation.prototype,"getProperties",ol.DeviceOrientation.prototype.getProperties);goog.exportProperty(ol.DeviceOrientation.prototype,"set",ol.DeviceOrientation.prototype.set);goog.exportProperty(ol.DeviceOrientation.prototype,"setProperties",ol.DeviceOrientation.prototype.setProperties);goog.exportProperty(ol.DeviceOrientation.prototype,"unset",ol.DeviceOrientation.prototype.unset);goog.exportProperty(ol.DeviceOrientation.prototype,"changed",ol.DeviceOrientation.prototype.changed);goog.exportProperty(ol.DeviceOrientation.prototype,"dispatchEvent",ol.DeviceOrientation.prototype.dispatchEvent);goog.exportProperty(ol.DeviceOrientation.prototype,"getRevision",ol.DeviceOrientation.prototype.getRevision);goog.exportProperty(ol.DeviceOrientation.prototype,"on",ol.DeviceOrientation.prototype.on);goog.exportProperty(ol.DeviceOrientation.prototype,"once",ol.DeviceOrientation.prototype.once);goog.exportProperty(ol.DeviceOrientation.prototype,"un",ol.DeviceOrientation.prototype.un);goog.exportProperty(ol.Feature.prototype,"get",ol.Feature.prototype.get);goog.exportProperty(ol.Feature.prototype,"getKeys",ol.Feature.prototype.getKeys);goog.exportProperty(ol.Feature.prototype,"getProperties",ol.Feature.prototype.getProperties);goog.exportProperty(ol.Feature.prototype,"set",ol.Feature.prototype.set);goog.exportProperty(ol.Feature.prototype,"setProperties",ol.Feature.prototype.setProperties);goog.exportProperty(ol.Feature.prototype,"unset",ol.Feature.prototype.unset);goog.exportProperty(ol.Feature.prototype,"changed",ol.Feature.prototype.changed);goog.exportProperty(ol.Feature.prototype,"dispatchEvent",ol.Feature.prototype.dispatchEvent);goog.exportProperty(ol.Feature.prototype,"getRevision",ol.Feature.prototype.getRevision);goog.exportProperty(ol.Feature.prototype,"on",ol.Feature.prototype.on);goog.exportProperty(ol.Feature.prototype,"once",ol.Feature.prototype.once);goog.exportProperty(ol.Feature.prototype,"un",ol.Feature.prototype.un);goog.exportProperty(ol.Geolocation.prototype,"get",ol.Geolocation.prototype.get);goog.exportProperty(ol.Geolocation.prototype,"getKeys",ol.Geolocation.prototype.getKeys);goog.exportProperty(ol.Geolocation.prototype,"getProperties",ol.Geolocation.prototype.getProperties);goog.exportProperty(ol.Geolocation.prototype,"set",ol.Geolocation.prototype.set);goog.exportProperty(ol.Geolocation.prototype,"setProperties",ol.Geolocation.prototype.setProperties);goog.exportProperty(ol.Geolocation.prototype,"unset",ol.Geolocation.prototype.unset);goog.exportProperty(ol.Geolocation.prototype,"changed",ol.Geolocation.prototype.changed);goog.exportProperty(ol.Geolocation.prototype,"dispatchEvent",ol.Geolocation.prototype.dispatchEvent);goog.exportProperty(ol.Geolocation.prototype,"getRevision",ol.Geolocation.prototype.getRevision);goog.exportProperty(ol.Geolocation.prototype,"on",ol.Geolocation.prototype.on);goog.exportProperty(ol.Geolocation.prototype,"once",ol.Geolocation.prototype.once);goog.exportProperty(ol.Geolocation.prototype,"un",ol.Geolocation.prototype.un);goog.exportProperty(ol.ImageTile.prototype,"getTileCoord",ol.ImageTile.prototype.getTileCoord);goog.exportProperty(ol.ImageTile.prototype,"load",ol.ImageTile.prototype.load);goog.exportProperty(ol.Map.prototype,"addControl",ol.Map.prototype.addControl);goog.exportProperty(ol.Map.prototype,"addInteraction",ol.Map.prototype.addInteraction);goog.exportProperty(ol.Map.prototype,"addLayer",ol.Map.prototype.addLayer);goog.exportProperty(ol.Map.prototype,"addOverlay",ol.Map.prototype.addOverlay);goog.exportProperty(ol.Map.prototype,"forEachFeatureAtPixel",ol.Map.prototype.forEachFeatureAtPixel);goog.exportProperty(ol.Map.prototype,"getFeaturesAtPixel",ol.Map.prototype.getFeaturesAtPixel);goog.exportProperty(ol.Map.prototype,"forEachLayerAtPixel",ol.Map.prototype.forEachLayerAtPixel);goog.exportProperty(ol.Map.prototype,"hasFeatureAtPixel",ol.Map.prototype.hasFeatureAtPixel);goog.exportProperty(ol.Map.prototype,"getEventCoordinate",ol.Map.prototype.getEventCoordinate);goog.exportProperty(ol.Map.prototype,"getEventPixel",ol.Map.prototype.getEventPixel);goog.exportProperty(ol.Map.prototype,"getTarget",ol.Map.prototype.getTarget);goog.exportProperty(ol.Map.prototype,"getTargetElement",ol.Map.prototype.getTargetElement);goog.exportProperty(ol.Map.prototype,"getCoordinateFromPixel",ol.Map.prototype.getCoordinateFromPixel);goog.exportProperty(ol.Map.prototype,"getControls",ol.Map.prototype.getControls);goog.exportProperty(ol.Map.prototype,"getOverlays",ol.Map.prototype.getOverlays);goog.exportProperty(ol.Map.prototype,"getOverlayById",ol.Map.prototype.getOverlayById);goog.exportProperty(ol.Map.prototype,"getInteractions",ol.Map.prototype.getInteractions);goog.exportProperty(ol.Map.prototype,"getLayerGroup",ol.Map.prototype.getLayerGroup);goog.exportProperty(ol.Map.prototype,"getLayers",ol.Map.prototype.getLayers);goog.exportProperty(ol.Map.prototype,"getPixelFromCoordinate",ol.Map.prototype.getPixelFromCoordinate);goog.exportProperty(ol.Map.prototype,"getSize",ol.Map.prototype.getSize);goog.exportProperty(ol.Map.prototype,"getView",ol.Map.prototype.getView);goog.exportProperty(ol.Map.prototype,"getViewport",ol.Map.prototype.getViewport);goog.exportProperty(ol.Map.prototype,"renderSync",ol.Map.prototype.renderSync);goog.exportProperty(ol.Map.prototype,"render",ol.Map.prototype.render);goog.exportProperty(ol.Map.prototype,"removeControl",ol.Map.prototype.removeControl);goog.exportProperty(ol.Map.prototype,"removeInteraction",ol.Map.prototype.removeInteraction);goog.exportProperty(ol.Map.prototype,"removeLayer",ol.Map.prototype.removeLayer);goog.exportProperty(ol.Map.prototype,"removeOverlay",ol.Map.prototype.removeOverlay);goog.exportProperty(ol.Map.prototype,"setLayerGroup",ol.Map.prototype.setLayerGroup);goog.exportProperty(ol.Map.prototype,"setSize",ol.Map.prototype.setSize);goog.exportProperty(ol.Map.prototype,"setTarget",ol.Map.prototype.setTarget);goog.exportProperty(ol.Map.prototype,"setView",ol.Map.prototype.setView);goog.exportProperty(ol.Map.prototype,"updateSize",ol.Map.prototype.updateSize);goog.exportProperty(ol.Map.prototype,"get",ol.Map.prototype.get);goog.exportProperty(ol.Map.prototype,"getKeys",ol.Map.prototype.getKeys);goog.exportProperty(ol.Map.prototype,"getProperties",ol.Map.prototype.getProperties);goog.exportProperty(ol.Map.prototype,"set",ol.Map.prototype.set);goog.exportProperty(ol.Map.prototype,"setProperties",ol.Map.prototype.setProperties);goog.exportProperty(ol.Map.prototype,"unset",ol.Map.prototype.unset);goog.exportProperty(ol.Map.prototype,"changed",ol.Map.prototype.changed);goog.exportProperty(ol.Map.prototype,"dispatchEvent",ol.Map.prototype.dispatchEvent);goog.exportProperty(ol.Map.prototype,"getRevision",ol.Map.prototype.getRevision);goog.exportProperty(ol.Map.prototype,"on",ol.Map.prototype.on);goog.exportProperty(ol.Map.prototype,"once",ol.Map.prototype.once);goog.exportProperty(ol.Map.prototype,"un",ol.Map.prototype.un);goog.exportProperty(ol.MapEvent.prototype,"type",ol.MapEvent.prototype.type);goog.exportProperty(ol.MapEvent.prototype,"target",ol.MapEvent.prototype.target);goog.exportProperty(ol.MapEvent.prototype,"preventDefault",ol.MapEvent.prototype.preventDefault);goog.exportProperty(ol.MapEvent.prototype,"stopPropagation",ol.MapEvent.prototype.stopPropagation);goog.exportProperty(ol.MapBrowserEvent.prototype,"map",ol.MapBrowserEvent.prototype.map);goog.exportProperty(ol.MapBrowserEvent.prototype,"frameState",ol.MapBrowserEvent.prototype.frameState);goog.exportProperty(ol.MapBrowserEvent.prototype,"type",ol.MapBrowserEvent.prototype.type);goog.exportProperty(ol.MapBrowserEvent.prototype,"target",ol.MapBrowserEvent.prototype.target);goog.exportProperty(ol.MapBrowserEvent.prototype,"preventDefault",ol.MapBrowserEvent.prototype.preventDefault);goog.exportProperty(ol.MapBrowserEvent.prototype,"stopPropagation",ol.MapBrowserEvent.prototype.stopPropagation);goog.exportProperty(ol.MapBrowserPointerEvent.prototype,"originalEvent",ol.MapBrowserPointerEvent.prototype.originalEvent);goog.exportProperty(ol.MapBrowserPointerEvent.prototype,"pixel",ol.MapBrowserPointerEvent.prototype.pixel);goog.exportProperty(ol.MapBrowserPointerEvent.prototype,"coordinate",ol.MapBrowserPointerEvent.prototype.coordinate);goog.exportProperty(ol.MapBrowserPointerEvent.prototype,"dragging",ol.MapBrowserPointerEvent.prototype.dragging);goog.exportProperty(ol.MapBrowserPointerEvent.prototype,"preventDefault",ol.MapBrowserPointerEvent.prototype.preventDefault);goog.exportProperty(ol.MapBrowserPointerEvent.prototype,"stopPropagation",ol.MapBrowserPointerEvent.prototype.stopPropagation);goog.exportProperty(ol.MapBrowserPointerEvent.prototype,"map",ol.MapBrowserPointerEvent.prototype.map);goog.exportProperty(ol.MapBrowserPointerEvent.prototype,"frameState",ol.MapBrowserPointerEvent.prototype.frameState);goog.exportProperty(ol.MapBrowserPointerEvent.prototype,"type",ol.MapBrowserPointerEvent.prototype.type);goog.exportProperty(ol.MapBrowserPointerEvent.prototype,"target",ol.MapBrowserPointerEvent.prototype.target);goog.exportProperty(ol.Object.Event.prototype,"type",ol.Object.Event.prototype.type);goog.exportProperty(ol.Object.Event.prototype,"target",ol.Object.Event.prototype.target);goog.exportProperty(ol.Object.Event.prototype,"preventDefault",ol.Object.Event.prototype.preventDefault);goog.exportProperty(ol.Object.Event.prototype,"stopPropagation",ol.Object.Event.prototype.stopPropagation);goog.exportProperty(ol.Overlay.prototype,"get",ol.Overlay.prototype.get);goog.exportProperty(ol.Overlay.prototype,"getKeys",ol.Overlay.prototype.getKeys);goog.exportProperty(ol.Overlay.prototype,"getProperties",ol.Overlay.prototype.getProperties);goog.exportProperty(ol.Overlay.prototype,"set",ol.Overlay.prototype.set);goog.exportProperty(ol.Overlay.prototype,"setProperties",ol.Overlay.prototype.setProperties);goog.exportProperty(ol.Overlay.prototype,"unset",ol.Overlay.prototype.unset);goog.exportProperty(ol.Overlay.prototype,"changed",ol.Overlay.prototype.changed);goog.exportProperty(ol.Overlay.prototype,"dispatchEvent",ol.Overlay.prototype.dispatchEvent);goog.exportProperty(ol.Overlay.prototype,"getRevision",ol.Overlay.prototype.getRevision);goog.exportProperty(ol.Overlay.prototype,"on",ol.Overlay.prototype.on);goog.exportProperty(ol.Overlay.prototype,"once",ol.Overlay.prototype.once);goog.exportProperty(ol.Overlay.prototype,"un",ol.Overlay.prototype.un);goog.exportProperty(ol.VectorImageTile.prototype,"getTileCoord",ol.VectorImageTile.prototype.getTileCoord);goog.exportProperty(ol.VectorImageTile.prototype,"load",ol.VectorImageTile.prototype.load);goog.exportProperty(ol.VectorTile.prototype,"getTileCoord",ol.VectorTile.prototype.getTileCoord);goog.exportProperty(ol.VectorTile.prototype,"load",ol.VectorTile.prototype.load);goog.exportProperty(ol.View.prototype,"get",ol.View.prototype.get);goog.exportProperty(ol.View.prototype,"getKeys",ol.View.prototype.getKeys);goog.exportProperty(ol.View.prototype,"getProperties",ol.View.prototype.getProperties);goog.exportProperty(ol.View.prototype,"set",ol.View.prototype.set);goog.exportProperty(ol.View.prototype,"setProperties",ol.View.prototype.setProperties);goog.exportProperty(ol.View.prototype,"unset",ol.View.prototype.unset);goog.exportProperty(ol.View.prototype,"changed",ol.View.prototype.changed);goog.exportProperty(ol.View.prototype,"dispatchEvent",ol.View.prototype.dispatchEvent);goog.exportProperty(ol.View.prototype,"getRevision",ol.View.prototype.getRevision);goog.exportProperty(ol.View.prototype,"on",ol.View.prototype.on);goog.exportProperty(ol.View.prototype,"once",ol.View.prototype.once);goog.exportProperty(ol.View.prototype,"un",ol.View.prototype.un);goog.exportProperty(ol.tilegrid.WMTS.prototype,"forEachTileCoord",ol.tilegrid.WMTS.prototype.forEachTileCoord);goog.exportProperty(ol.tilegrid.WMTS.prototype,"getMaxZoom",ol.tilegrid.WMTS.prototype.getMaxZoom);goog.exportProperty(ol.tilegrid.WMTS.prototype,"getMinZoom",ol.tilegrid.WMTS.prototype.getMinZoom);goog.exportProperty(ol.tilegrid.WMTS.prototype,"getOrigin",ol.tilegrid.WMTS.prototype.getOrigin);goog.exportProperty(ol.tilegrid.WMTS.prototype,"getResolution",ol.tilegrid.WMTS.prototype.getResolution);goog.exportProperty(ol.tilegrid.WMTS.prototype,"getResolutions",ol.tilegrid.WMTS.prototype.getResolutions);goog.exportProperty(ol.tilegrid.WMTS.prototype,"getTileCoordExtent",ol.tilegrid.WMTS.prototype.getTileCoordExtent);goog.exportProperty(ol.tilegrid.WMTS.prototype,"getTileCoordForCoordAndResolution",ol.tilegrid.WMTS.prototype.getTileCoordForCoordAndResolution);goog.exportProperty(ol.tilegrid.WMTS.prototype,"getTileCoordForCoordAndZ",ol.tilegrid.WMTS.prototype.getTileCoordForCoordAndZ);goog.exportProperty(ol.tilegrid.WMTS.prototype,"getTileSize",ol.tilegrid.WMTS.prototype.getTileSize);goog.exportProperty(ol.tilegrid.WMTS.prototype,"getZForResolution",ol.tilegrid.WMTS.prototype.getZForResolution);goog.exportProperty(ol.style.RegularShape.prototype,"getOpacity",ol.style.RegularShape.prototype.getOpacity);goog.exportProperty(ol.style.RegularShape.prototype,"getRotateWithView",ol.style.RegularShape.prototype.getRotateWithView);goog.exportProperty(ol.style.RegularShape.prototype,"getRotation",ol.style.RegularShape.prototype.getRotation);goog.exportProperty(ol.style.RegularShape.prototype,"getScale",ol.style.RegularShape.prototype.getScale);goog.exportProperty(ol.style.RegularShape.prototype,"getSnapToPixel",ol.style.RegularShape.prototype.getSnapToPixel);goog.exportProperty(ol.style.RegularShape.prototype,"setOpacity",ol.style.RegularShape.prototype.setOpacity);goog.exportProperty(ol.style.RegularShape.prototype,"setRotation",ol.style.RegularShape.prototype.setRotation);goog.exportProperty(ol.style.RegularShape.prototype,"setScale",ol.style.RegularShape.prototype.setScale);goog.exportProperty(ol.style.Circle.prototype,"clone",ol.style.Circle.prototype.clone);goog.exportProperty(ol.style.Circle.prototype,"getAngle",ol.style.Circle.prototype.getAngle);goog.exportProperty(ol.style.Circle.prototype,"getFill",ol.style.Circle.prototype.getFill);goog.exportProperty(ol.style.Circle.prototype,"getPoints",ol.style.Circle.prototype.getPoints);goog.exportProperty(ol.style.Circle.prototype,"getRadius",ol.style.Circle.prototype.getRadius);goog.exportProperty(ol.style.Circle.prototype,"getRadius2",ol.style.Circle.prototype.getRadius2);goog.exportProperty(ol.style.Circle.prototype,"getStroke",ol.style.Circle.prototype.getStroke);goog.exportProperty(ol.style.Circle.prototype,"getOpacity",ol.style.Circle.prototype.getOpacity);goog.exportProperty(ol.style.Circle.prototype,"getRotateWithView",ol.style.Circle.prototype.getRotateWithView);goog.exportProperty(ol.style.Circle.prototype,"getRotation",ol.style.Circle.prototype.getRotation);goog.exportProperty(ol.style.Circle.prototype,"getScale",ol.style.Circle.prototype.getScale);goog.exportProperty(ol.style.Circle.prototype,"getSnapToPixel",ol.style.Circle.prototype.getSnapToPixel);goog.exportProperty(ol.style.Circle.prototype,"setOpacity",ol.style.Circle.prototype.setOpacity);goog.exportProperty(ol.style.Circle.prototype,"setRotation",ol.style.Circle.prototype.setRotation);goog.exportProperty(ol.style.Circle.prototype,"setScale",ol.style.Circle.prototype.setScale);goog.exportProperty(ol.style.Icon.prototype,"getOpacity",ol.style.Icon.prototype.getOpacity);goog.exportProperty(ol.style.Icon.prototype,"getRotateWithView",ol.style.Icon.prototype.getRotateWithView);goog.exportProperty(ol.style.Icon.prototype,"getRotation",ol.style.Icon.prototype.getRotation);goog.exportProperty(ol.style.Icon.prototype,"getScale",ol.style.Icon.prototype.getScale);goog.exportProperty(ol.style.Icon.prototype,"getSnapToPixel",ol.style.Icon.prototype.getSnapToPixel);goog.exportProperty(ol.style.Icon.prototype,"setOpacity",ol.style.Icon.prototype.setOpacity);goog.exportProperty(ol.style.Icon.prototype,"setRotation",ol.style.Icon.prototype.setRotation);goog.exportProperty(ol.style.Icon.prototype,"setScale",ol.style.Icon.prototype.setScale);goog.exportProperty(ol.source.Source.prototype,"get",ol.source.Source.prototype.get);goog.exportProperty(ol.source.Source.prototype,"getKeys",ol.source.Source.prototype.getKeys);goog.exportProperty(ol.source.Source.prototype,"getProperties",ol.source.Source.prototype.getProperties);goog.exportProperty(ol.source.Source.prototype,"set",ol.source.Source.prototype.set);goog.exportProperty(ol.source.Source.prototype,"setProperties",ol.source.Source.prototype.setProperties);goog.exportProperty(ol.source.Source.prototype,"unset",ol.source.Source.prototype.unset);goog.exportProperty(ol.source.Source.prototype,"changed",ol.source.Source.prototype.changed);goog.exportProperty(ol.source.Source.prototype,"dispatchEvent",ol.source.Source.prototype.dispatchEvent);goog.exportProperty(ol.source.Source.prototype,"getRevision",ol.source.Source.prototype.getRevision);goog.exportProperty(ol.source.Source.prototype,"on",ol.source.Source.prototype.on);goog.exportProperty(ol.source.Source.prototype,"once",ol.source.Source.prototype.once);goog.exportProperty(ol.source.Source.prototype,"un",ol.source.Source.prototype.un);goog.exportProperty(ol.source.Tile.prototype,"getAttributions",ol.source.Tile.prototype.getAttributions);goog.exportProperty(ol.source.Tile.prototype,"getLogo",ol.source.Tile.prototype.getLogo);goog.exportProperty(ol.source.Tile.prototype,"getProjection",ol.source.Tile.prototype.getProjection);goog.exportProperty(ol.source.Tile.prototype,"getState",ol.source.Tile.prototype.getState);goog.exportProperty(ol.source.Tile.prototype,"refresh",ol.source.Tile.prototype.refresh);goog.exportProperty(ol.source.Tile.prototype,"setAttributions",ol.source.Tile.prototype.setAttributions);goog.exportProperty(ol.source.Tile.prototype,"get",ol.source.Tile.prototype.get);goog.exportProperty(ol.source.Tile.prototype,"getKeys",ol.source.Tile.prototype.getKeys);goog.exportProperty(ol.source.Tile.prototype,"getProperties",ol.source.Tile.prototype.getProperties);goog.exportProperty(ol.source.Tile.prototype,"set",ol.source.Tile.prototype.set);goog.exportProperty(ol.source.Tile.prototype,"setProperties",ol.source.Tile.prototype.setProperties);goog.exportProperty(ol.source.Tile.prototype,"unset",ol.source.Tile.prototype.unset);goog.exportProperty(ol.source.Tile.prototype,"changed",ol.source.Tile.prototype.changed);goog.exportProperty(ol.source.Tile.prototype,"dispatchEvent",ol.source.Tile.prototype.dispatchEvent);goog.exportProperty(ol.source.Tile.prototype,"getRevision",ol.source.Tile.prototype.getRevision);goog.exportProperty(ol.source.Tile.prototype,"on",ol.source.Tile.prototype.on);goog.exportProperty(ol.source.Tile.prototype,"once",ol.source.Tile.prototype.once);goog.exportProperty(ol.source.Tile.prototype,"un",ol.source.Tile.prototype.un);goog.exportProperty(ol.source.UrlTile.prototype,"getTileGrid",ol.source.UrlTile.prototype.getTileGrid);goog.exportProperty(ol.source.UrlTile.prototype,"refresh",ol.source.UrlTile.prototype.refresh);goog.exportProperty(ol.source.UrlTile.prototype,"getAttributions",ol.source.UrlTile.prototype.getAttributions);goog.exportProperty(ol.source.UrlTile.prototype,"getLogo",ol.source.UrlTile.prototype.getLogo);goog.exportProperty(ol.source.UrlTile.prototype,"getProjection",ol.source.UrlTile.prototype.getProjection);goog.exportProperty(ol.source.UrlTile.prototype,"getState",ol.source.UrlTile.prototype.getState);goog.exportProperty(ol.source.UrlTile.prototype,"setAttributions",ol.source.UrlTile.prototype.setAttributions);goog.exportProperty(ol.source.UrlTile.prototype,"get",ol.source.UrlTile.prototype.get);goog.exportProperty(ol.source.UrlTile.prototype,"getKeys",ol.source.UrlTile.prototype.getKeys);goog.exportProperty(ol.source.UrlTile.prototype,"getProperties",ol.source.UrlTile.prototype.getProperties);goog.exportProperty(ol.source.UrlTile.prototype,"set",ol.source.UrlTile.prototype.set);goog.exportProperty(ol.source.UrlTile.prototype,"setProperties",ol.source.UrlTile.prototype.setProperties);goog.exportProperty(ol.source.UrlTile.prototype,"unset",ol.source.UrlTile.prototype.unset);goog.exportProperty(ol.source.UrlTile.prototype,"changed",ol.source.UrlTile.prototype.changed);goog.exportProperty(ol.source.UrlTile.prototype,"dispatchEvent",ol.source.UrlTile.prototype.dispatchEvent);goog.exportProperty(ol.source.UrlTile.prototype,"getRevision",ol.source.UrlTile.prototype.getRevision);goog.exportProperty(ol.source.UrlTile.prototype,"on",ol.source.UrlTile.prototype.on);goog.exportProperty(ol.source.UrlTile.prototype,"once",ol.source.UrlTile.prototype.once);goog.exportProperty(ol.source.UrlTile.prototype,"un",ol.source.UrlTile.prototype.un);goog.exportProperty(ol.source.TileImage.prototype,"getTileLoadFunction",ol.source.TileImage.prototype.getTileLoadFunction);goog.exportProperty(ol.source.TileImage.prototype,"getTileUrlFunction",ol.source.TileImage.prototype.getTileUrlFunction);goog.exportProperty(ol.source.TileImage.prototype,"getUrls",ol.source.TileImage.prototype.getUrls);goog.exportProperty(ol.source.TileImage.prototype,"setTileLoadFunction",ol.source.TileImage.prototype.setTileLoadFunction);goog.exportProperty(ol.source.TileImage.prototype,"setTileUrlFunction",ol.source.TileImage.prototype.setTileUrlFunction);goog.exportProperty(ol.source.TileImage.prototype,"setUrl",ol.source.TileImage.prototype.setUrl);goog.exportProperty(ol.source.TileImage.prototype,"setUrls",ol.source.TileImage.prototype.setUrls);goog.exportProperty(ol.source.TileImage.prototype,"getTileGrid",ol.source.TileImage.prototype.getTileGrid);goog.exportProperty(ol.source.TileImage.prototype,"refresh",ol.source.TileImage.prototype.refresh);goog.exportProperty(ol.source.TileImage.prototype,"getAttributions",ol.source.TileImage.prototype.getAttributions);goog.exportProperty(ol.source.TileImage.prototype,"getLogo",ol.source.TileImage.prototype.getLogo);goog.exportProperty(ol.source.TileImage.prototype,"getProjection",ol.source.TileImage.prototype.getProjection);goog.exportProperty(ol.source.TileImage.prototype,"getState",ol.source.TileImage.prototype.getState);goog.exportProperty(ol.source.TileImage.prototype,"setAttributions",ol.source.TileImage.prototype.setAttributions);goog.exportProperty(ol.source.TileImage.prototype,"get",ol.source.TileImage.prototype.get);goog.exportProperty(ol.source.TileImage.prototype,"getKeys",ol.source.TileImage.prototype.getKeys);goog.exportProperty(ol.source.TileImage.prototype,"getProperties",ol.source.TileImage.prototype.getProperties);goog.exportProperty(ol.source.TileImage.prototype,"set",ol.source.TileImage.prototype.set);goog.exportProperty(ol.source.TileImage.prototype,"setProperties",ol.source.TileImage.prototype.setProperties);goog.exportProperty(ol.source.TileImage.prototype,"unset",ol.source.TileImage.prototype.unset);goog.exportProperty(ol.source.TileImage.prototype,"changed",ol.source.TileImage.prototype.changed);goog.exportProperty(ol.source.TileImage.prototype,"dispatchEvent",ol.source.TileImage.prototype.dispatchEvent);goog.exportProperty(ol.source.TileImage.prototype,"getRevision",ol.source.TileImage.prototype.getRevision);goog.exportProperty(ol.source.TileImage.prototype,"on",ol.source.TileImage.prototype.on);goog.exportProperty(ol.source.TileImage.prototype,"once",ol.source.TileImage.prototype.once);goog.exportProperty(ol.source.TileImage.prototype,"un",ol.source.TileImage.prototype.un);goog.exportProperty(ol.source.BingMaps.prototype,"setRenderReprojectionEdges",ol.source.BingMaps.prototype.setRenderReprojectionEdges);goog.exportProperty(ol.source.BingMaps.prototype,"setTileGridForProjection",ol.source.BingMaps.prototype.setTileGridForProjection);goog.exportProperty(ol.source.BingMaps.prototype,"getTileLoadFunction",ol.source.BingMaps.prototype.getTileLoadFunction);goog.exportProperty(ol.source.BingMaps.prototype,"getTileUrlFunction",ol.source.BingMaps.prototype.getTileUrlFunction);goog.exportProperty(ol.source.BingMaps.prototype,"getUrls",ol.source.BingMaps.prototype.getUrls);goog.exportProperty(ol.source.BingMaps.prototype,"setTileLoadFunction",ol.source.BingMaps.prototype.setTileLoadFunction);goog.exportProperty(ol.source.BingMaps.prototype,"setTileUrlFunction",ol.source.BingMaps.prototype.setTileUrlFunction);goog.exportProperty(ol.source.BingMaps.prototype,"setUrl",ol.source.BingMaps.prototype.setUrl);goog.exportProperty(ol.source.BingMaps.prototype,"setUrls",ol.source.BingMaps.prototype.setUrls);goog.exportProperty(ol.source.BingMaps.prototype,"getTileGrid",ol.source.BingMaps.prototype.getTileGrid);goog.exportProperty(ol.source.BingMaps.prototype,"refresh",ol.source.BingMaps.prototype.refresh);goog.exportProperty(ol.source.BingMaps.prototype,"getAttributions",ol.source.BingMaps.prototype.getAttributions);goog.exportProperty(ol.source.BingMaps.prototype,"getLogo",ol.source.BingMaps.prototype.getLogo);goog.exportProperty(ol.source.BingMaps.prototype,"getProjection",ol.source.BingMaps.prototype.getProjection);goog.exportProperty(ol.source.BingMaps.prototype,"getState",ol.source.BingMaps.prototype.getState);goog.exportProperty(ol.source.BingMaps.prototype,"setAttributions",ol.source.BingMaps.prototype.setAttributions);goog.exportProperty(ol.source.BingMaps.prototype,"get",ol.source.BingMaps.prototype.get);goog.exportProperty(ol.source.BingMaps.prototype,"getKeys",ol.source.BingMaps.prototype.getKeys);goog.exportProperty(ol.source.BingMaps.prototype,"getProperties",ol.source.BingMaps.prototype.getProperties);goog.exportProperty(ol.source.BingMaps.prototype,"set",ol.source.BingMaps.prototype.set);goog.exportProperty(ol.source.BingMaps.prototype,"setProperties",ol.source.BingMaps.prototype.setProperties);goog.exportProperty(ol.source.BingMaps.prototype,"unset",ol.source.BingMaps.prototype.unset);goog.exportProperty(ol.source.BingMaps.prototype,"changed",ol.source.BingMaps.prototype.changed);goog.exportProperty(ol.source.BingMaps.prototype,"dispatchEvent",ol.source.BingMaps.prototype.dispatchEvent);goog.exportProperty(ol.source.BingMaps.prototype,"getRevision",ol.source.BingMaps.prototype.getRevision);goog.exportProperty(ol.source.BingMaps.prototype,"on",ol.source.BingMaps.prototype.on);goog.exportProperty(ol.source.BingMaps.prototype,"once",ol.source.BingMaps.prototype.once);goog.exportProperty(ol.source.BingMaps.prototype,"un",ol.source.BingMaps.prototype.un);goog.exportProperty(ol.source.XYZ.prototype,"setRenderReprojectionEdges",ol.source.XYZ.prototype.setRenderReprojectionEdges);goog.exportProperty(ol.source.XYZ.prototype,"setTileGridForProjection",ol.source.XYZ.prototype.setTileGridForProjection);goog.exportProperty(ol.source.XYZ.prototype,"getTileLoadFunction",ol.source.XYZ.prototype.getTileLoadFunction);goog.exportProperty(ol.source.XYZ.prototype,"getTileUrlFunction",ol.source.XYZ.prototype.getTileUrlFunction);goog.exportProperty(ol.source.XYZ.prototype,"getUrls",ol.source.XYZ.prototype.getUrls);goog.exportProperty(ol.source.XYZ.prototype,"setTileLoadFunction",ol.source.XYZ.prototype.setTileLoadFunction);goog.exportProperty(ol.source.XYZ.prototype,"setTileUrlFunction",ol.source.XYZ.prototype.setTileUrlFunction);goog.exportProperty(ol.source.XYZ.prototype,"setUrl",ol.source.XYZ.prototype.setUrl);goog.exportProperty(ol.source.XYZ.prototype,"setUrls",ol.source.XYZ.prototype.setUrls);goog.exportProperty(ol.source.XYZ.prototype,"getTileGrid",ol.source.XYZ.prototype.getTileGrid);goog.exportProperty(ol.source.XYZ.prototype,"refresh",ol.source.XYZ.prototype.refresh);goog.exportProperty(ol.source.XYZ.prototype,"getAttributions",ol.source.XYZ.prototype.getAttributions);goog.exportProperty(ol.source.XYZ.prototype,"getLogo",ol.source.XYZ.prototype.getLogo);goog.exportProperty(ol.source.XYZ.prototype,"getProjection",ol.source.XYZ.prototype.getProjection);goog.exportProperty(ol.source.XYZ.prototype,"getState",ol.source.XYZ.prototype.getState);goog.exportProperty(ol.source.XYZ.prototype,"setAttributions",ol.source.XYZ.prototype.setAttributions);goog.exportProperty(ol.source.XYZ.prototype,"get",ol.source.XYZ.prototype.get);goog.exportProperty(ol.source.XYZ.prototype,"getKeys",ol.source.XYZ.prototype.getKeys);goog.exportProperty(ol.source.XYZ.prototype,"getProperties",ol.source.XYZ.prototype.getProperties);goog.exportProperty(ol.source.XYZ.prototype,"set",ol.source.XYZ.prototype.set);goog.exportProperty(ol.source.XYZ.prototype,"setProperties",ol.source.XYZ.prototype.setProperties);goog.exportProperty(ol.source.XYZ.prototype,"unset",ol.source.XYZ.prototype.unset);goog.exportProperty(ol.source.XYZ.prototype,"changed",ol.source.XYZ.prototype.changed);goog.exportProperty(ol.source.XYZ.prototype,"dispatchEvent",ol.source.XYZ.prototype.dispatchEvent);goog.exportProperty(ol.source.XYZ.prototype,"getRevision",ol.source.XYZ.prototype.getRevision);goog.exportProperty(ol.source.XYZ.prototype,"on",ol.source.XYZ.prototype.on);goog.exportProperty(ol.source.XYZ.prototype,"once",ol.source.XYZ.prototype.once);goog.exportProperty(ol.source.XYZ.prototype,"un",ol.source.XYZ.prototype.un);goog.exportProperty(ol.source.CartoDB.prototype,"setRenderReprojectionEdges",ol.source.CartoDB.prototype.setRenderReprojectionEdges);goog.exportProperty(ol.source.CartoDB.prototype,"setTileGridForProjection",ol.source.CartoDB.prototype.setTileGridForProjection);goog.exportProperty(ol.source.CartoDB.prototype,"getTileLoadFunction",ol.source.CartoDB.prototype.getTileLoadFunction);goog.exportProperty(ol.source.CartoDB.prototype,"getTileUrlFunction",ol.source.CartoDB.prototype.getTileUrlFunction);goog.exportProperty(ol.source.CartoDB.prototype,"getUrls",ol.source.CartoDB.prototype.getUrls);goog.exportProperty(ol.source.CartoDB.prototype,"setTileLoadFunction",ol.source.CartoDB.prototype.setTileLoadFunction);goog.exportProperty(ol.source.CartoDB.prototype,"setTileUrlFunction",ol.source.CartoDB.prototype.setTileUrlFunction);goog.exportProperty(ol.source.CartoDB.prototype,"setUrl",ol.source.CartoDB.prototype.setUrl);goog.exportProperty(ol.source.CartoDB.prototype,"setUrls",ol.source.CartoDB.prototype.setUrls);goog.exportProperty(ol.source.CartoDB.prototype,"getTileGrid",ol.source.CartoDB.prototype.getTileGrid);goog.exportProperty(ol.source.CartoDB.prototype,"refresh",ol.source.CartoDB.prototype.refresh);goog.exportProperty(ol.source.CartoDB.prototype,"getAttributions",ol.source.CartoDB.prototype.getAttributions);goog.exportProperty(ol.source.CartoDB.prototype,"getLogo",ol.source.CartoDB.prototype.getLogo);goog.exportProperty(ol.source.CartoDB.prototype,"getProjection",ol.source.CartoDB.prototype.getProjection);goog.exportProperty(ol.source.CartoDB.prototype,"getState",ol.source.CartoDB.prototype.getState);goog.exportProperty(ol.source.CartoDB.prototype,"setAttributions",ol.source.CartoDB.prototype.setAttributions);goog.exportProperty(ol.source.CartoDB.prototype,"get",ol.source.CartoDB.prototype.get);goog.exportProperty(ol.source.CartoDB.prototype,"getKeys",ol.source.CartoDB.prototype.getKeys);goog.exportProperty(ol.source.CartoDB.prototype,"getProperties",ol.source.CartoDB.prototype.getProperties);goog.exportProperty(ol.source.CartoDB.prototype,"set",ol.source.CartoDB.prototype.set);goog.exportProperty(ol.source.CartoDB.prototype,"setProperties",ol.source.CartoDB.prototype.setProperties);goog.exportProperty(ol.source.CartoDB.prototype,"unset",ol.source.CartoDB.prototype.unset);goog.exportProperty(ol.source.CartoDB.prototype,"changed",ol.source.CartoDB.prototype.changed);goog.exportProperty(ol.source.CartoDB.prototype,"dispatchEvent",ol.source.CartoDB.prototype.dispatchEvent);goog.exportProperty(ol.source.CartoDB.prototype,"getRevision",ol.source.CartoDB.prototype.getRevision);goog.exportProperty(ol.source.CartoDB.prototype,"on",ol.source.CartoDB.prototype.on);goog.exportProperty(ol.source.CartoDB.prototype,"once",ol.source.CartoDB.prototype.once);goog.exportProperty(ol.source.CartoDB.prototype,"un",ol.source.CartoDB.prototype.un);goog.exportProperty(ol.source.Vector.prototype,"getAttributions",ol.source.Vector.prototype.getAttributions);goog.exportProperty(ol.source.Vector.prototype,"getLogo",ol.source.Vector.prototype.getLogo);goog.exportProperty(ol.source.Vector.prototype,"getProjection",ol.source.Vector.prototype.getProjection);goog.exportProperty(ol.source.Vector.prototype,"getState",ol.source.Vector.prototype.getState);goog.exportProperty(ol.source.Vector.prototype,"refresh",ol.source.Vector.prototype.refresh);goog.exportProperty(ol.source.Vector.prototype,"setAttributions",ol.source.Vector.prototype.setAttributions);goog.exportProperty(ol.source.Vector.prototype,"get",ol.source.Vector.prototype.get);goog.exportProperty(ol.source.Vector.prototype,"getKeys",ol.source.Vector.prototype.getKeys);goog.exportProperty(ol.source.Vector.prototype,"getProperties",ol.source.Vector.prototype.getProperties);goog.exportProperty(ol.source.Vector.prototype,"set",ol.source.Vector.prototype.set);goog.exportProperty(ol.source.Vector.prototype,"setProperties",ol.source.Vector.prototype.setProperties);goog.exportProperty(ol.source.Vector.prototype,"unset",ol.source.Vector.prototype.unset);goog.exportProperty(ol.source.Vector.prototype,"changed",ol.source.Vector.prototype.changed);goog.exportProperty(ol.source.Vector.prototype,"dispatchEvent",ol.source.Vector.prototype.dispatchEvent);goog.exportProperty(ol.source.Vector.prototype,"getRevision",ol.source.Vector.prototype.getRevision);goog.exportProperty(ol.source.Vector.prototype,"on",ol.source.Vector.prototype.on);goog.exportProperty(ol.source.Vector.prototype,"once",ol.source.Vector.prototype.once);goog.exportProperty(ol.source.Vector.prototype,"un",ol.source.Vector.prototype.un);goog.exportProperty(ol.source.Cluster.prototype,"addFeature",ol.source.Cluster.prototype.addFeature);goog.exportProperty(ol.source.Cluster.prototype,"addFeatures",ol.source.Cluster.prototype.addFeatures);goog.exportProperty(ol.source.Cluster.prototype,"clear",ol.source.Cluster.prototype.clear);goog.exportProperty(ol.source.Cluster.prototype,"forEachFeature",ol.source.Cluster.prototype.forEachFeature);goog.exportProperty(ol.source.Cluster.prototype,"forEachFeatureInExtent",ol.source.Cluster.prototype.forEachFeatureInExtent);goog.exportProperty(ol.source.Cluster.prototype,"forEachFeatureIntersectingExtent",ol.source.Cluster.prototype.forEachFeatureIntersectingExtent);goog.exportProperty(ol.source.Cluster.prototype,"getFeaturesCollection",ol.source.Cluster.prototype.getFeaturesCollection);goog.exportProperty(ol.source.Cluster.prototype,"getFeatures",ol.source.Cluster.prototype.getFeatures);goog.exportProperty(ol.source.Cluster.prototype,"getFeaturesAtCoordinate",ol.source.Cluster.prototype.getFeaturesAtCoordinate);goog.exportProperty(ol.source.Cluster.prototype,"getFeaturesInExtent",ol.source.Cluster.prototype.getFeaturesInExtent);goog.exportProperty(ol.source.Cluster.prototype,"getClosestFeatureToCoordinate",ol.source.Cluster.prototype.getClosestFeatureToCoordinate);goog.exportProperty(ol.source.Cluster.prototype,"getExtent",ol.source.Cluster.prototype.getExtent);goog.exportProperty(ol.source.Cluster.prototype,"getFeatureById",ol.source.Cluster.prototype.getFeatureById);goog.exportProperty(ol.source.Cluster.prototype,"getFormat",ol.source.Cluster.prototype.getFormat);goog.exportProperty(ol.source.Cluster.prototype,"getUrl",ol.source.Cluster.prototype.getUrl);goog.exportProperty(ol.source.Cluster.prototype,"removeLoadedExtent",ol.source.Cluster.prototype.removeLoadedExtent);goog.exportProperty(ol.source.Cluster.prototype,"removeFeature",ol.source.Cluster.prototype.removeFeature);goog.exportProperty(ol.source.Cluster.prototype,"setLoader",ol.source.Cluster.prototype.setLoader);goog.exportProperty(ol.source.Cluster.prototype,"getAttributions",ol.source.Cluster.prototype.getAttributions);goog.exportProperty(ol.source.Cluster.prototype,"getLogo",ol.source.Cluster.prototype.getLogo);goog.exportProperty(ol.source.Cluster.prototype,"getProjection",ol.source.Cluster.prototype.getProjection);goog.exportProperty(ol.source.Cluster.prototype,"getState",ol.source.Cluster.prototype.getState);goog.exportProperty(ol.source.Cluster.prototype,"refresh",ol.source.Cluster.prototype.refresh);goog.exportProperty(ol.source.Cluster.prototype,"setAttributions",ol.source.Cluster.prototype.setAttributions);goog.exportProperty(ol.source.Cluster.prototype,"get",ol.source.Cluster.prototype.get);goog.exportProperty(ol.source.Cluster.prototype,"getKeys",ol.source.Cluster.prototype.getKeys);goog.exportProperty(ol.source.Cluster.prototype,"getProperties",ol.source.Cluster.prototype.getProperties);goog.exportProperty(ol.source.Cluster.prototype,"set",ol.source.Cluster.prototype.set);goog.exportProperty(ol.source.Cluster.prototype,"setProperties",ol.source.Cluster.prototype.setProperties);goog.exportProperty(ol.source.Cluster.prototype,"unset",ol.source.Cluster.prototype.unset);goog.exportProperty(ol.source.Cluster.prototype,"changed",ol.source.Cluster.prototype.changed);goog.exportProperty(ol.source.Cluster.prototype,"dispatchEvent",ol.source.Cluster.prototype.dispatchEvent);goog.exportProperty(ol.source.Cluster.prototype,"getRevision",ol.source.Cluster.prototype.getRevision);goog.exportProperty(ol.source.Cluster.prototype,"on",ol.source.Cluster.prototype.on);goog.exportProperty(ol.source.Cluster.prototype,"once",ol.source.Cluster.prototype.once);goog.exportProperty(ol.source.Cluster.prototype,"un",ol.source.Cluster.prototype.un);goog.exportProperty(ol.source.Image.prototype,"getAttributions",ol.source.Image.prototype.getAttributions);goog.exportProperty(ol.source.Image.prototype,"getLogo",ol.source.Image.prototype.getLogo);goog.exportProperty(ol.source.Image.prototype,"getProjection",ol.source.Image.prototype.getProjection);goog.exportProperty(ol.source.Image.prototype,"getState",ol.source.Image.prototype.getState);goog.exportProperty(ol.source.Image.prototype,"refresh",ol.source.Image.prototype.refresh);goog.exportProperty(ol.source.Image.prototype,"setAttributions",ol.source.Image.prototype.setAttributions);goog.exportProperty(ol.source.Image.prototype,"get",ol.source.Image.prototype.get);goog.exportProperty(ol.source.Image.prototype,"getKeys",ol.source.Image.prototype.getKeys);goog.exportProperty(ol.source.Image.prototype,"getProperties",ol.source.Image.prototype.getProperties);goog.exportProperty(ol.source.Image.prototype,"set",ol.source.Image.prototype.set);goog.exportProperty(ol.source.Image.prototype,"setProperties",ol.source.Image.prototype.setProperties);goog.exportProperty(ol.source.Image.prototype,"unset",ol.source.Image.prototype.unset);goog.exportProperty(ol.source.Image.prototype,"changed",ol.source.Image.prototype.changed);goog.exportProperty(ol.source.Image.prototype,"dispatchEvent",ol.source.Image.prototype.dispatchEvent);goog.exportProperty(ol.source.Image.prototype,"getRevision",ol.source.Image.prototype.getRevision);goog.exportProperty(ol.source.Image.prototype,"on",ol.source.Image.prototype.on);goog.exportProperty(ol.source.Image.prototype,"once",ol.source.Image.prototype.once);goog.exportProperty(ol.source.Image.prototype,"un",ol.source.Image.prototype.un);goog.exportProperty(ol.source.Image.Event.prototype,"type",ol.source.Image.Event.prototype.type);goog.exportProperty(ol.source.Image.Event.prototype,"target",ol.source.Image.Event.prototype.target);goog.exportProperty(ol.source.Image.Event.prototype,"preventDefault",ol.source.Image.Event.prototype.preventDefault);goog.exportProperty(ol.source.Image.Event.prototype,"stopPropagation",ol.source.Image.Event.prototype.stopPropagation);goog.exportProperty(ol.source.ImageArcGISRest.prototype,"getAttributions",ol.source.ImageArcGISRest.prototype.getAttributions);goog.exportProperty(ol.source.ImageArcGISRest.prototype,"getLogo",ol.source.ImageArcGISRest.prototype.getLogo);goog.exportProperty(ol.source.ImageArcGISRest.prototype,"getProjection",ol.source.ImageArcGISRest.prototype.getProjection);goog.exportProperty(ol.source.ImageArcGISRest.prototype,"getState",ol.source.ImageArcGISRest.prototype.getState);goog.exportProperty(ol.source.ImageArcGISRest.prototype,"refresh",ol.source.ImageArcGISRest.prototype.refresh);goog.exportProperty(ol.source.ImageArcGISRest.prototype,"setAttributions",ol.source.ImageArcGISRest.prototype.setAttributions);goog.exportProperty(ol.source.ImageArcGISRest.prototype,"get",ol.source.ImageArcGISRest.prototype.get);goog.exportProperty(ol.source.ImageArcGISRest.prototype,"getKeys",ol.source.ImageArcGISRest.prototype.getKeys);goog.exportProperty(ol.source.ImageArcGISRest.prototype,"getProperties",ol.source.ImageArcGISRest.prototype.getProperties);goog.exportProperty(ol.source.ImageArcGISRest.prototype,"set",ol.source.ImageArcGISRest.prototype.set);goog.exportProperty(ol.source.ImageArcGISRest.prototype,"setProperties",ol.source.ImageArcGISRest.prototype.setProperties);goog.exportProperty(ol.source.ImageArcGISRest.prototype,"unset",ol.source.ImageArcGISRest.prototype.unset);goog.exportProperty(ol.source.ImageArcGISRest.prototype,"changed",ol.source.ImageArcGISRest.prototype.changed);goog.exportProperty(ol.source.ImageArcGISRest.prototype,"dispatchEvent",ol.source.ImageArcGISRest.prototype.dispatchEvent);goog.exportProperty(ol.source.ImageArcGISRest.prototype,"getRevision",ol.source.ImageArcGISRest.prototype.getRevision);goog.exportProperty(ol.source.ImageArcGISRest.prototype,"on",ol.source.ImageArcGISRest.prototype.on);goog.exportProperty(ol.source.ImageArcGISRest.prototype,"once",ol.source.ImageArcGISRest.prototype.once);goog.exportProperty(ol.source.ImageArcGISRest.prototype,"un",ol.source.ImageArcGISRest.prototype.un);goog.exportProperty(ol.source.ImageCanvas.prototype,"getAttributions",ol.source.ImageCanvas.prototype.getAttributions);goog.exportProperty(ol.source.ImageCanvas.prototype,"getLogo",ol.source.ImageCanvas.prototype.getLogo);goog.exportProperty(ol.source.ImageCanvas.prototype,"getProjection",ol.source.ImageCanvas.prototype.getProjection);goog.exportProperty(ol.source.ImageCanvas.prototype,"getState",ol.source.ImageCanvas.prototype.getState);goog.exportProperty(ol.source.ImageCanvas.prototype,"refresh",ol.source.ImageCanvas.prototype.refresh);goog.exportProperty(ol.source.ImageCanvas.prototype,"setAttributions",ol.source.ImageCanvas.prototype.setAttributions);goog.exportProperty(ol.source.ImageCanvas.prototype,"get",ol.source.ImageCanvas.prototype.get);goog.exportProperty(ol.source.ImageCanvas.prototype,"getKeys",ol.source.ImageCanvas.prototype.getKeys);goog.exportProperty(ol.source.ImageCanvas.prototype,"getProperties",ol.source.ImageCanvas.prototype.getProperties);goog.exportProperty(ol.source.ImageCanvas.prototype,"set",ol.source.ImageCanvas.prototype.set);goog.exportProperty(ol.source.ImageCanvas.prototype,"setProperties",ol.source.ImageCanvas.prototype.setProperties);goog.exportProperty(ol.source.ImageCanvas.prototype,"unset",ol.source.ImageCanvas.prototype.unset);goog.exportProperty(ol.source.ImageCanvas.prototype,"changed",ol.source.ImageCanvas.prototype.changed);goog.exportProperty(ol.source.ImageCanvas.prototype,"dispatchEvent",ol.source.ImageCanvas.prototype.dispatchEvent);goog.exportProperty(ol.source.ImageCanvas.prototype,"getRevision",ol.source.ImageCanvas.prototype.getRevision);goog.exportProperty(ol.source.ImageCanvas.prototype,"on",ol.source.ImageCanvas.prototype.on);goog.exportProperty(ol.source.ImageCanvas.prototype,"once",ol.source.ImageCanvas.prototype.once);goog.exportProperty(ol.source.ImageCanvas.prototype,"un",ol.source.ImageCanvas.prototype.un);goog.exportProperty(ol.source.ImageMapGuide.prototype,"getAttributions",ol.source.ImageMapGuide.prototype.getAttributions);goog.exportProperty(ol.source.ImageMapGuide.prototype,"getLogo",ol.source.ImageMapGuide.prototype.getLogo);goog.exportProperty(ol.source.ImageMapGuide.prototype,"getProjection",ol.source.ImageMapGuide.prototype.getProjection);goog.exportProperty(ol.source.ImageMapGuide.prototype,"getState",ol.source.ImageMapGuide.prototype.getState);goog.exportProperty(ol.source.ImageMapGuide.prototype,"refresh",ol.source.ImageMapGuide.prototype.refresh);goog.exportProperty(ol.source.ImageMapGuide.prototype,"setAttributions",ol.source.ImageMapGuide.prototype.setAttributions);goog.exportProperty(ol.source.ImageMapGuide.prototype,"get",ol.source.ImageMapGuide.prototype.get);goog.exportProperty(ol.source.ImageMapGuide.prototype,"getKeys",ol.source.ImageMapGuide.prototype.getKeys);goog.exportProperty(ol.source.ImageMapGuide.prototype,"getProperties",ol.source.ImageMapGuide.prototype.getProperties);goog.exportProperty(ol.source.ImageMapGuide.prototype,"set",ol.source.ImageMapGuide.prototype.set);goog.exportProperty(ol.source.ImageMapGuide.prototype,"setProperties",ol.source.ImageMapGuide.prototype.setProperties);goog.exportProperty(ol.source.ImageMapGuide.prototype,"unset",ol.source.ImageMapGuide.prototype.unset);goog.exportProperty(ol.source.ImageMapGuide.prototype,"changed",ol.source.ImageMapGuide.prototype.changed);goog.exportProperty(ol.source.ImageMapGuide.prototype,"dispatchEvent",ol.source.ImageMapGuide.prototype.dispatchEvent);goog.exportProperty(ol.source.ImageMapGuide.prototype,"getRevision",ol.source.ImageMapGuide.prototype.getRevision);goog.exportProperty(ol.source.ImageMapGuide.prototype,"on",ol.source.ImageMapGuide.prototype.on);goog.exportProperty(ol.source.ImageMapGuide.prototype,"once",ol.source.ImageMapGuide.prototype.once);goog.exportProperty(ol.source.ImageMapGuide.prototype,"un",ol.source.ImageMapGuide.prototype.un);goog.exportProperty(ol.source.ImageStatic.prototype,"getAttributions",ol.source.ImageStatic.prototype.getAttributions);goog.exportProperty(ol.source.ImageStatic.prototype,"getLogo",ol.source.ImageStatic.prototype.getLogo);goog.exportProperty(ol.source.ImageStatic.prototype,"getProjection",ol.source.ImageStatic.prototype.getProjection);goog.exportProperty(ol.source.ImageStatic.prototype,"getState",ol.source.ImageStatic.prototype.getState);goog.exportProperty(ol.source.ImageStatic.prototype,"refresh",ol.source.ImageStatic.prototype.refresh);goog.exportProperty(ol.source.ImageStatic.prototype,"setAttributions",ol.source.ImageStatic.prototype.setAttributions);goog.exportProperty(ol.source.ImageStatic.prototype,"get",ol.source.ImageStatic.prototype.get);goog.exportProperty(ol.source.ImageStatic.prototype,"getKeys",ol.source.ImageStatic.prototype.getKeys);goog.exportProperty(ol.source.ImageStatic.prototype,"getProperties",ol.source.ImageStatic.prototype.getProperties);goog.exportProperty(ol.source.ImageStatic.prototype,"set",ol.source.ImageStatic.prototype.set);goog.exportProperty(ol.source.ImageStatic.prototype,"setProperties",ol.source.ImageStatic.prototype.setProperties);goog.exportProperty(ol.source.ImageStatic.prototype,"unset",ol.source.ImageStatic.prototype.unset);goog.exportProperty(ol.source.ImageStatic.prototype,"changed",ol.source.ImageStatic.prototype.changed);goog.exportProperty(ol.source.ImageStatic.prototype,"dispatchEvent",ol.source.ImageStatic.prototype.dispatchEvent);goog.exportProperty(ol.source.ImageStatic.prototype,"getRevision",ol.source.ImageStatic.prototype.getRevision);goog.exportProperty(ol.source.ImageStatic.prototype,"on",ol.source.ImageStatic.prototype.on);goog.exportProperty(ol.source.ImageStatic.prototype,"once",ol.source.ImageStatic.prototype.once);goog.exportProperty(ol.source.ImageStatic.prototype,"un",ol.source.ImageStatic.prototype.un);goog.exportProperty(ol.source.ImageVector.prototype,"getAttributions",ol.source.ImageVector.prototype.getAttributions);goog.exportProperty(ol.source.ImageVector.prototype,"getLogo",ol.source.ImageVector.prototype.getLogo);goog.exportProperty(ol.source.ImageVector.prototype,"getProjection",ol.source.ImageVector.prototype.getProjection);goog.exportProperty(ol.source.ImageVector.prototype,"getState",ol.source.ImageVector.prototype.getState);goog.exportProperty(ol.source.ImageVector.prototype,"refresh",ol.source.ImageVector.prototype.refresh);goog.exportProperty(ol.source.ImageVector.prototype,"setAttributions",ol.source.ImageVector.prototype.setAttributions);goog.exportProperty(ol.source.ImageVector.prototype,"get",ol.source.ImageVector.prototype.get);goog.exportProperty(ol.source.ImageVector.prototype,"getKeys",ol.source.ImageVector.prototype.getKeys);goog.exportProperty(ol.source.ImageVector.prototype,"getProperties",ol.source.ImageVector.prototype.getProperties);goog.exportProperty(ol.source.ImageVector.prototype,"set",ol.source.ImageVector.prototype.set);goog.exportProperty(ol.source.ImageVector.prototype,"setProperties",ol.source.ImageVector.prototype.setProperties);goog.exportProperty(ol.source.ImageVector.prototype,"unset",ol.source.ImageVector.prototype.unset);goog.exportProperty(ol.source.ImageVector.prototype,"changed",ol.source.ImageVector.prototype.changed);goog.exportProperty(ol.source.ImageVector.prototype,"dispatchEvent",ol.source.ImageVector.prototype.dispatchEvent);goog.exportProperty(ol.source.ImageVector.prototype,"getRevision",ol.source.ImageVector.prototype.getRevision);goog.exportProperty(ol.source.ImageVector.prototype,"on",ol.source.ImageVector.prototype.on);goog.exportProperty(ol.source.ImageVector.prototype,"once",ol.source.ImageVector.prototype.once);goog.exportProperty(ol.source.ImageVector.prototype,"un",ol.source.ImageVector.prototype.un);goog.exportProperty(ol.source.ImageWMS.prototype,"getAttributions",ol.source.ImageWMS.prototype.getAttributions);goog.exportProperty(ol.source.ImageWMS.prototype,"getLogo",ol.source.ImageWMS.prototype.getLogo);goog.exportProperty(ol.source.ImageWMS.prototype,"getProjection",ol.source.ImageWMS.prototype.getProjection);goog.exportProperty(ol.source.ImageWMS.prototype,"getState",ol.source.ImageWMS.prototype.getState);goog.exportProperty(ol.source.ImageWMS.prototype,"refresh",ol.source.ImageWMS.prototype.refresh);goog.exportProperty(ol.source.ImageWMS.prototype,"setAttributions",ol.source.ImageWMS.prototype.setAttributions);goog.exportProperty(ol.source.ImageWMS.prototype,"get",ol.source.ImageWMS.prototype.get);goog.exportProperty(ol.source.ImageWMS.prototype,"getKeys",ol.source.ImageWMS.prototype.getKeys);goog.exportProperty(ol.source.ImageWMS.prototype,"getProperties",ol.source.ImageWMS.prototype.getProperties);goog.exportProperty(ol.source.ImageWMS.prototype,"set",ol.source.ImageWMS.prototype.set);goog.exportProperty(ol.source.ImageWMS.prototype,"setProperties",ol.source.ImageWMS.prototype.setProperties);goog.exportProperty(ol.source.ImageWMS.prototype,"unset",ol.source.ImageWMS.prototype.unset);goog.exportProperty(ol.source.ImageWMS.prototype,"changed",ol.source.ImageWMS.prototype.changed);goog.exportProperty(ol.source.ImageWMS.prototype,"dispatchEvent",ol.source.ImageWMS.prototype.dispatchEvent);goog.exportProperty(ol.source.ImageWMS.prototype,"getRevision",ol.source.ImageWMS.prototype.getRevision);goog.exportProperty(ol.source.ImageWMS.prototype,"on",ol.source.ImageWMS.prototype.on);goog.exportProperty(ol.source.ImageWMS.prototype,"once",ol.source.ImageWMS.prototype.once);goog.exportProperty(ol.source.ImageWMS.prototype,"un",ol.source.ImageWMS.prototype.un);goog.exportProperty(ol.source.OSM.prototype,"setRenderReprojectionEdges",ol.source.OSM.prototype.setRenderReprojectionEdges);goog.exportProperty(ol.source.OSM.prototype,"setTileGridForProjection",ol.source.OSM.prototype.setTileGridForProjection);goog.exportProperty(ol.source.OSM.prototype,"getTileLoadFunction",ol.source.OSM.prototype.getTileLoadFunction);goog.exportProperty(ol.source.OSM.prototype,"getTileUrlFunction",ol.source.OSM.prototype.getTileUrlFunction);goog.exportProperty(ol.source.OSM.prototype,"getUrls",ol.source.OSM.prototype.getUrls);goog.exportProperty(ol.source.OSM.prototype,"setTileLoadFunction",ol.source.OSM.prototype.setTileLoadFunction);goog.exportProperty(ol.source.OSM.prototype,"setTileUrlFunction",ol.source.OSM.prototype.setTileUrlFunction);goog.exportProperty(ol.source.OSM.prototype,"setUrl",ol.source.OSM.prototype.setUrl);goog.exportProperty(ol.source.OSM.prototype,"setUrls",ol.source.OSM.prototype.setUrls);goog.exportProperty(ol.source.OSM.prototype,"getTileGrid",ol.source.OSM.prototype.getTileGrid);goog.exportProperty(ol.source.OSM.prototype,"refresh",ol.source.OSM.prototype.refresh);goog.exportProperty(ol.source.OSM.prototype,"getAttributions",ol.source.OSM.prototype.getAttributions);goog.exportProperty(ol.source.OSM.prototype,"getLogo",ol.source.OSM.prototype.getLogo);goog.exportProperty(ol.source.OSM.prototype,"getProjection",ol.source.OSM.prototype.getProjection);goog.exportProperty(ol.source.OSM.prototype,"getState",ol.source.OSM.prototype.getState);goog.exportProperty(ol.source.OSM.prototype,"setAttributions",ol.source.OSM.prototype.setAttributions);goog.exportProperty(ol.source.OSM.prototype,"get",ol.source.OSM.prototype.get);goog.exportProperty(ol.source.OSM.prototype,"getKeys",ol.source.OSM.prototype.getKeys);goog.exportProperty(ol.source.OSM.prototype,"getProperties",ol.source.OSM.prototype.getProperties);goog.exportProperty(ol.source.OSM.prototype,"set",ol.source.OSM.prototype.set);goog.exportProperty(ol.source.OSM.prototype,"setProperties",ol.source.OSM.prototype.setProperties);goog.exportProperty(ol.source.OSM.prototype,"unset",ol.source.OSM.prototype.unset);goog.exportProperty(ol.source.OSM.prototype,"changed",ol.source.OSM.prototype.changed);goog.exportProperty(ol.source.OSM.prototype,"dispatchEvent",ol.source.OSM.prototype.dispatchEvent);goog.exportProperty(ol.source.OSM.prototype,"getRevision",ol.source.OSM.prototype.getRevision);goog.exportProperty(ol.source.OSM.prototype,"on",ol.source.OSM.prototype.on);goog.exportProperty(ol.source.OSM.prototype,"once",ol.source.OSM.prototype.once);goog.exportProperty(ol.source.OSM.prototype,"un",ol.source.OSM.prototype.un);goog.exportProperty(ol.source.Raster.prototype,"getAttributions",ol.source.Raster.prototype.getAttributions);goog.exportProperty(ol.source.Raster.prototype,"getLogo",ol.source.Raster.prototype.getLogo);goog.exportProperty(ol.source.Raster.prototype,"getProjection",ol.source.Raster.prototype.getProjection);goog.exportProperty(ol.source.Raster.prototype,"getState",ol.source.Raster.prototype.getState);goog.exportProperty(ol.source.Raster.prototype,"refresh",ol.source.Raster.prototype.refresh);goog.exportProperty(ol.source.Raster.prototype,"setAttributions",ol.source.Raster.prototype.setAttributions);goog.exportProperty(ol.source.Raster.prototype,"get",ol.source.Raster.prototype.get);goog.exportProperty(ol.source.Raster.prototype,"getKeys",ol.source.Raster.prototype.getKeys);goog.exportProperty(ol.source.Raster.prototype,"getProperties",ol.source.Raster.prototype.getProperties);goog.exportProperty(ol.source.Raster.prototype,"set",ol.source.Raster.prototype.set);goog.exportProperty(ol.source.Raster.prototype,"setProperties",ol.source.Raster.prototype.setProperties);goog.exportProperty(ol.source.Raster.prototype,"unset",ol.source.Raster.prototype.unset);goog.exportProperty(ol.source.Raster.prototype,"changed",ol.source.Raster.prototype.changed);goog.exportProperty(ol.source.Raster.prototype,"dispatchEvent",ol.source.Raster.prototype.dispatchEvent);goog.exportProperty(ol.source.Raster.prototype,"getRevision",ol.source.Raster.prototype.getRevision);goog.exportProperty(ol.source.Raster.prototype,"on",ol.source.Raster.prototype.on);goog.exportProperty(ol.source.Raster.prototype,"once",ol.source.Raster.prototype.once);goog.exportProperty(ol.source.Raster.prototype,"un",ol.source.Raster.prototype.un);goog.exportProperty(ol.source.Raster.Event.prototype,"type",ol.source.Raster.Event.prototype.type);goog.exportProperty(ol.source.Raster.Event.prototype,"target",ol.source.Raster.Event.prototype.target);goog.exportProperty(ol.source.Raster.Event.prototype,"preventDefault",ol.source.Raster.Event.prototype.preventDefault);goog.exportProperty(ol.source.Raster.Event.prototype,"stopPropagation",ol.source.Raster.Event.prototype.stopPropagation);goog.exportProperty(ol.source.Stamen.prototype,"setRenderReprojectionEdges",ol.source.Stamen.prototype.setRenderReprojectionEdges);goog.exportProperty(ol.source.Stamen.prototype,"setTileGridForProjection",ol.source.Stamen.prototype.setTileGridForProjection);goog.exportProperty(ol.source.Stamen.prototype,"getTileLoadFunction",ol.source.Stamen.prototype.getTileLoadFunction);goog.exportProperty(ol.source.Stamen.prototype,"getTileUrlFunction",ol.source.Stamen.prototype.getTileUrlFunction);goog.exportProperty(ol.source.Stamen.prototype,"getUrls",ol.source.Stamen.prototype.getUrls);goog.exportProperty(ol.source.Stamen.prototype,"setTileLoadFunction",ol.source.Stamen.prototype.setTileLoadFunction);goog.exportProperty(ol.source.Stamen.prototype,"setTileUrlFunction",ol.source.Stamen.prototype.setTileUrlFunction);goog.exportProperty(ol.source.Stamen.prototype,"setUrl",ol.source.Stamen.prototype.setUrl);goog.exportProperty(ol.source.Stamen.prototype,"setUrls",ol.source.Stamen.prototype.setUrls);goog.exportProperty(ol.source.Stamen.prototype,"getTileGrid",ol.source.Stamen.prototype.getTileGrid);goog.exportProperty(ol.source.Stamen.prototype,"refresh",ol.source.Stamen.prototype.refresh);goog.exportProperty(ol.source.Stamen.prototype,"getAttributions",ol.source.Stamen.prototype.getAttributions);goog.exportProperty(ol.source.Stamen.prototype,"getLogo",ol.source.Stamen.prototype.getLogo);goog.exportProperty(ol.source.Stamen.prototype,"getProjection",ol.source.Stamen.prototype.getProjection);goog.exportProperty(ol.source.Stamen.prototype,"getState",ol.source.Stamen.prototype.getState);goog.exportProperty(ol.source.Stamen.prototype,"setAttributions",ol.source.Stamen.prototype.setAttributions);goog.exportProperty(ol.source.Stamen.prototype,"get",ol.source.Stamen.prototype.get);goog.exportProperty(ol.source.Stamen.prototype,"getKeys",ol.source.Stamen.prototype.getKeys);goog.exportProperty(ol.source.Stamen.prototype,"getProperties",ol.source.Stamen.prototype.getProperties);goog.exportProperty(ol.source.Stamen.prototype,"set",ol.source.Stamen.prototype.set);goog.exportProperty(ol.source.Stamen.prototype,"setProperties",ol.source.Stamen.prototype.setProperties);goog.exportProperty(ol.source.Stamen.prototype,"unset",ol.source.Stamen.prototype.unset);goog.exportProperty(ol.source.Stamen.prototype,"changed",ol.source.Stamen.prototype.changed);goog.exportProperty(ol.source.Stamen.prototype,"dispatchEvent",ol.source.Stamen.prototype.dispatchEvent);goog.exportProperty(ol.source.Stamen.prototype,"getRevision",ol.source.Stamen.prototype.getRevision);goog.exportProperty(ol.source.Stamen.prototype,"on",ol.source.Stamen.prototype.on);goog.exportProperty(ol.source.Stamen.prototype,"once",ol.source.Stamen.prototype.once);goog.exportProperty(ol.source.Stamen.prototype,"un",ol.source.Stamen.prototype.un);goog.exportProperty(ol.source.Tile.Event.prototype,"type",ol.source.Tile.Event.prototype.type);goog.exportProperty(ol.source.Tile.Event.prototype,"target",ol.source.Tile.Event.prototype.target);goog.exportProperty(ol.source.Tile.Event.prototype,"preventDefault",ol.source.Tile.Event.prototype.preventDefault);goog.exportProperty(ol.source.Tile.Event.prototype,"stopPropagation",ol.source.Tile.Event.prototype.stopPropagation);goog.exportProperty(ol.source.TileArcGISRest.prototype,"setRenderReprojectionEdges",ol.source.TileArcGISRest.prototype.setRenderReprojectionEdges);goog.exportProperty(ol.source.TileArcGISRest.prototype,"setTileGridForProjection",ol.source.TileArcGISRest.prototype.setTileGridForProjection);goog.exportProperty(ol.source.TileArcGISRest.prototype,"getTileLoadFunction",ol.source.TileArcGISRest.prototype.getTileLoadFunction);goog.exportProperty(ol.source.TileArcGISRest.prototype,"getTileUrlFunction",ol.source.TileArcGISRest.prototype.getTileUrlFunction);goog.exportProperty(ol.source.TileArcGISRest.prototype,"getUrls",ol.source.TileArcGISRest.prototype.getUrls);goog.exportProperty(ol.source.TileArcGISRest.prototype,"setTileLoadFunction",ol.source.TileArcGISRest.prototype.setTileLoadFunction);goog.exportProperty(ol.source.TileArcGISRest.prototype,"setTileUrlFunction",ol.source.TileArcGISRest.prototype.setTileUrlFunction);goog.exportProperty(ol.source.TileArcGISRest.prototype,"setUrl",ol.source.TileArcGISRest.prototype.setUrl);goog.exportProperty(ol.source.TileArcGISRest.prototype,"setUrls",ol.source.TileArcGISRest.prototype.setUrls);goog.exportProperty(ol.source.TileArcGISRest.prototype,"getTileGrid",ol.source.TileArcGISRest.prototype.getTileGrid);goog.exportProperty(ol.source.TileArcGISRest.prototype,"refresh",ol.source.TileArcGISRest.prototype.refresh);goog.exportProperty(ol.source.TileArcGISRest.prototype,"getAttributions",ol.source.TileArcGISRest.prototype.getAttributions);goog.exportProperty(ol.source.TileArcGISRest.prototype,"getLogo",ol.source.TileArcGISRest.prototype.getLogo);goog.exportProperty(ol.source.TileArcGISRest.prototype,"getProjection",ol.source.TileArcGISRest.prototype.getProjection);goog.exportProperty(ol.source.TileArcGISRest.prototype,"getState",ol.source.TileArcGISRest.prototype.getState);goog.exportProperty(ol.source.TileArcGISRest.prototype,"setAttributions",ol.source.TileArcGISRest.prototype.setAttributions);goog.exportProperty(ol.source.TileArcGISRest.prototype,"get",ol.source.TileArcGISRest.prototype.get);goog.exportProperty(ol.source.TileArcGISRest.prototype,"getKeys",ol.source.TileArcGISRest.prototype.getKeys);goog.exportProperty(ol.source.TileArcGISRest.prototype,"getProperties",ol.source.TileArcGISRest.prototype.getProperties);goog.exportProperty(ol.source.TileArcGISRest.prototype,"set",ol.source.TileArcGISRest.prototype.set);goog.exportProperty(ol.source.TileArcGISRest.prototype,"setProperties",ol.source.TileArcGISRest.prototype.setProperties);goog.exportProperty(ol.source.TileArcGISRest.prototype,"unset",ol.source.TileArcGISRest.prototype.unset);goog.exportProperty(ol.source.TileArcGISRest.prototype,"changed",ol.source.TileArcGISRest.prototype.changed);goog.exportProperty(ol.source.TileArcGISRest.prototype,"dispatchEvent",ol.source.TileArcGISRest.prototype.dispatchEvent);goog.exportProperty(ol.source.TileArcGISRest.prototype,"getRevision",ol.source.TileArcGISRest.prototype.getRevision);goog.exportProperty(ol.source.TileArcGISRest.prototype,"on",ol.source.TileArcGISRest.prototype.on);goog.exportProperty(ol.source.TileArcGISRest.prototype,"once",ol.source.TileArcGISRest.prototype.once);goog.exportProperty(ol.source.TileArcGISRest.prototype,"un",ol.source.TileArcGISRest.prototype.un);goog.exportProperty(ol.source.TileDebug.prototype,"getTileGrid",ol.source.TileDebug.prototype.getTileGrid);goog.exportProperty(ol.source.TileDebug.prototype,"refresh",ol.source.TileDebug.prototype.refresh);goog.exportProperty(ol.source.TileDebug.prototype,"getAttributions",ol.source.TileDebug.prototype.getAttributions);goog.exportProperty(ol.source.TileDebug.prototype,"getLogo",ol.source.TileDebug.prototype.getLogo);goog.exportProperty(ol.source.TileDebug.prototype,"getProjection",ol.source.TileDebug.prototype.getProjection);goog.exportProperty(ol.source.TileDebug.prototype,"getState",ol.source.TileDebug.prototype.getState);goog.exportProperty(ol.source.TileDebug.prototype,"setAttributions",ol.source.TileDebug.prototype.setAttributions);goog.exportProperty(ol.source.TileDebug.prototype,"get",ol.source.TileDebug.prototype.get);goog.exportProperty(ol.source.TileDebug.prototype,"getKeys",ol.source.TileDebug.prototype.getKeys);goog.exportProperty(ol.source.TileDebug.prototype,"getProperties",ol.source.TileDebug.prototype.getProperties);goog.exportProperty(ol.source.TileDebug.prototype,"set",ol.source.TileDebug.prototype.set);goog.exportProperty(ol.source.TileDebug.prototype,"setProperties",ol.source.TileDebug.prototype.setProperties);goog.exportProperty(ol.source.TileDebug.prototype,"unset",ol.source.TileDebug.prototype.unset);goog.exportProperty(ol.source.TileDebug.prototype,"changed",ol.source.TileDebug.prototype.changed);goog.exportProperty(ol.source.TileDebug.prototype,"dispatchEvent",ol.source.TileDebug.prototype.dispatchEvent);goog.exportProperty(ol.source.TileDebug.prototype,"getRevision",ol.source.TileDebug.prototype.getRevision);goog.exportProperty(ol.source.TileDebug.prototype,"on",ol.source.TileDebug.prototype.on);goog.exportProperty(ol.source.TileDebug.prototype,"once",ol.source.TileDebug.prototype.once);goog.exportProperty(ol.source.TileDebug.prototype,"un",ol.source.TileDebug.prototype.un);goog.exportProperty(ol.source.TileJSON.prototype,"setRenderReprojectionEdges",ol.source.TileJSON.prototype.setRenderReprojectionEdges);goog.exportProperty(ol.source.TileJSON.prototype,"setTileGridForProjection",ol.source.TileJSON.prototype.setTileGridForProjection);goog.exportProperty(ol.source.TileJSON.prototype,"getTileLoadFunction",ol.source.TileJSON.prototype.getTileLoadFunction);goog.exportProperty(ol.source.TileJSON.prototype,"getTileUrlFunction",ol.source.TileJSON.prototype.getTileUrlFunction);goog.exportProperty(ol.source.TileJSON.prototype,"getUrls",ol.source.TileJSON.prototype.getUrls);goog.exportProperty(ol.source.TileJSON.prototype,"setTileLoadFunction",ol.source.TileJSON.prototype.setTileLoadFunction);goog.exportProperty(ol.source.TileJSON.prototype,"setTileUrlFunction",ol.source.TileJSON.prototype.setTileUrlFunction);goog.exportProperty(ol.source.TileJSON.prototype,"setUrl",ol.source.TileJSON.prototype.setUrl);goog.exportProperty(ol.source.TileJSON.prototype,"setUrls",ol.source.TileJSON.prototype.setUrls);goog.exportProperty(ol.source.TileJSON.prototype,"getTileGrid",ol.source.TileJSON.prototype.getTileGrid);goog.exportProperty(ol.source.TileJSON.prototype,"refresh",ol.source.TileJSON.prototype.refresh);goog.exportProperty(ol.source.TileJSON.prototype,"getAttributions",ol.source.TileJSON.prototype.getAttributions);goog.exportProperty(ol.source.TileJSON.prototype,"getLogo",ol.source.TileJSON.prototype.getLogo);goog.exportProperty(ol.source.TileJSON.prototype,"getProjection",ol.source.TileJSON.prototype.getProjection);goog.exportProperty(ol.source.TileJSON.prototype,"getState",ol.source.TileJSON.prototype.getState);goog.exportProperty(ol.source.TileJSON.prototype,"setAttributions",ol.source.TileJSON.prototype.setAttributions);goog.exportProperty(ol.source.TileJSON.prototype,"get",ol.source.TileJSON.prototype.get);goog.exportProperty(ol.source.TileJSON.prototype,"getKeys",ol.source.TileJSON.prototype.getKeys);goog.exportProperty(ol.source.TileJSON.prototype,"getProperties",ol.source.TileJSON.prototype.getProperties);goog.exportProperty(ol.source.TileJSON.prototype,"set",ol.source.TileJSON.prototype.set);goog.exportProperty(ol.source.TileJSON.prototype,"setProperties",ol.source.TileJSON.prototype.setProperties);goog.exportProperty(ol.source.TileJSON.prototype,"unset",ol.source.TileJSON.prototype.unset);goog.exportProperty(ol.source.TileJSON.prototype,"changed",ol.source.TileJSON.prototype.changed);goog.exportProperty(ol.source.TileJSON.prototype,"dispatchEvent",ol.source.TileJSON.prototype.dispatchEvent);goog.exportProperty(ol.source.TileJSON.prototype,"getRevision",ol.source.TileJSON.prototype.getRevision);goog.exportProperty(ol.source.TileJSON.prototype,"on",ol.source.TileJSON.prototype.on);goog.exportProperty(ol.source.TileJSON.prototype,"once",ol.source.TileJSON.prototype.once);goog.exportProperty(ol.source.TileJSON.prototype,"un",ol.source.TileJSON.prototype.un);goog.exportProperty(ol.source.TileUTFGrid.prototype,"getTileGrid",ol.source.TileUTFGrid.prototype.getTileGrid);goog.exportProperty(ol.source.TileUTFGrid.prototype,"refresh",ol.source.TileUTFGrid.prototype.refresh);goog.exportProperty(ol.source.TileUTFGrid.prototype,"getAttributions",ol.source.TileUTFGrid.prototype.getAttributions);goog.exportProperty(ol.source.TileUTFGrid.prototype,"getLogo",ol.source.TileUTFGrid.prototype.getLogo);goog.exportProperty(ol.source.TileUTFGrid.prototype,"getProjection",ol.source.TileUTFGrid.prototype.getProjection);goog.exportProperty(ol.source.TileUTFGrid.prototype,"getState",ol.source.TileUTFGrid.prototype.getState);goog.exportProperty(ol.source.TileUTFGrid.prototype,"setAttributions",ol.source.TileUTFGrid.prototype.setAttributions);goog.exportProperty(ol.source.TileUTFGrid.prototype,"get",ol.source.TileUTFGrid.prototype.get);goog.exportProperty(ol.source.TileUTFGrid.prototype,"getKeys",ol.source.TileUTFGrid.prototype.getKeys);goog.exportProperty(ol.source.TileUTFGrid.prototype,"getProperties",ol.source.TileUTFGrid.prototype.getProperties);goog.exportProperty(ol.source.TileUTFGrid.prototype,"set",ol.source.TileUTFGrid.prototype.set);goog.exportProperty(ol.source.TileUTFGrid.prototype,"setProperties",ol.source.TileUTFGrid.prototype.setProperties);goog.exportProperty(ol.source.TileUTFGrid.prototype,"unset",ol.source.TileUTFGrid.prototype.unset);goog.exportProperty(ol.source.TileUTFGrid.prototype,"changed",ol.source.TileUTFGrid.prototype.changed);goog.exportProperty(ol.source.TileUTFGrid.prototype,"dispatchEvent",ol.source.TileUTFGrid.prototype.dispatchEvent);goog.exportProperty(ol.source.TileUTFGrid.prototype,"getRevision",ol.source.TileUTFGrid.prototype.getRevision);goog.exportProperty(ol.source.TileUTFGrid.prototype,"on",ol.source.TileUTFGrid.prototype.on);goog.exportProperty(ol.source.TileUTFGrid.prototype,"once",ol.source.TileUTFGrid.prototype.once);goog.exportProperty(ol.source.TileUTFGrid.prototype,"un",ol.source.TileUTFGrid.prototype.un);goog.exportProperty(ol.source.TileWMS.prototype,"setRenderReprojectionEdges",ol.source.TileWMS.prototype.setRenderReprojectionEdges);goog.exportProperty(ol.source.TileWMS.prototype,"setTileGridForProjection",ol.source.TileWMS.prototype.setTileGridForProjection);goog.exportProperty(ol.source.TileWMS.prototype,"getTileLoadFunction",ol.source.TileWMS.prototype.getTileLoadFunction);goog.exportProperty(ol.source.TileWMS.prototype,"getTileUrlFunction",ol.source.TileWMS.prototype.getTileUrlFunction);goog.exportProperty(ol.source.TileWMS.prototype,"getUrls",ol.source.TileWMS.prototype.getUrls);goog.exportProperty(ol.source.TileWMS.prototype,"setTileLoadFunction",ol.source.TileWMS.prototype.setTileLoadFunction);goog.exportProperty(ol.source.TileWMS.prototype,"setTileUrlFunction",ol.source.TileWMS.prototype.setTileUrlFunction);goog.exportProperty(ol.source.TileWMS.prototype,"setUrl",ol.source.TileWMS.prototype.setUrl);goog.exportProperty(ol.source.TileWMS.prototype,"setUrls",ol.source.TileWMS.prototype.setUrls);goog.exportProperty(ol.source.TileWMS.prototype,"getTileGrid",ol.source.TileWMS.prototype.getTileGrid);goog.exportProperty(ol.source.TileWMS.prototype,"refresh",ol.source.TileWMS.prototype.refresh);goog.exportProperty(ol.source.TileWMS.prototype,"getAttributions",ol.source.TileWMS.prototype.getAttributions);goog.exportProperty(ol.source.TileWMS.prototype,"getLogo",ol.source.TileWMS.prototype.getLogo);goog.exportProperty(ol.source.TileWMS.prototype,"getProjection",ol.source.TileWMS.prototype.getProjection);goog.exportProperty(ol.source.TileWMS.prototype,"getState",ol.source.TileWMS.prototype.getState);goog.exportProperty(ol.source.TileWMS.prototype,"setAttributions",ol.source.TileWMS.prototype.setAttributions);goog.exportProperty(ol.source.TileWMS.prototype,"get",ol.source.TileWMS.prototype.get);goog.exportProperty(ol.source.TileWMS.prototype,"getKeys",ol.source.TileWMS.prototype.getKeys);goog.exportProperty(ol.source.TileWMS.prototype,"getProperties",ol.source.TileWMS.prototype.getProperties);goog.exportProperty(ol.source.TileWMS.prototype,"set",ol.source.TileWMS.prototype.set);goog.exportProperty(ol.source.TileWMS.prototype,"setProperties",ol.source.TileWMS.prototype.setProperties);goog.exportProperty(ol.source.TileWMS.prototype,"unset",ol.source.TileWMS.prototype.unset);goog.exportProperty(ol.source.TileWMS.prototype,"changed",ol.source.TileWMS.prototype.changed);goog.exportProperty(ol.source.TileWMS.prototype,"dispatchEvent",ol.source.TileWMS.prototype.dispatchEvent);goog.exportProperty(ol.source.TileWMS.prototype,"getRevision",ol.source.TileWMS.prototype.getRevision);goog.exportProperty(ol.source.TileWMS.prototype,"on",ol.source.TileWMS.prototype.on);goog.exportProperty(ol.source.TileWMS.prototype,"once",ol.source.TileWMS.prototype.once);goog.exportProperty(ol.source.TileWMS.prototype,"un",ol.source.TileWMS.prototype.un);goog.exportProperty(ol.source.Vector.Event.prototype,"type",ol.source.Vector.Event.prototype.type);goog.exportProperty(ol.source.Vector.Event.prototype,"target",ol.source.Vector.Event.prototype.target);goog.exportProperty(ol.source.Vector.Event.prototype,"preventDefault",ol.source.Vector.Event.prototype.preventDefault);goog.exportProperty(ol.source.Vector.Event.prototype,"stopPropagation",ol.source.Vector.Event.prototype.stopPropagation);goog.exportProperty(ol.source.VectorTile.prototype,"getTileLoadFunction",ol.source.VectorTile.prototype.getTileLoadFunction);goog.exportProperty(ol.source.VectorTile.prototype,"getTileUrlFunction",ol.source.VectorTile.prototype.getTileUrlFunction);goog.exportProperty(ol.source.VectorTile.prototype,"getUrls",ol.source.VectorTile.prototype.getUrls);goog.exportProperty(ol.source.VectorTile.prototype,"setTileLoadFunction",ol.source.VectorTile.prototype.setTileLoadFunction);goog.exportProperty(ol.source.VectorTile.prototype,"setTileUrlFunction",ol.source.VectorTile.prototype.setTileUrlFunction);goog.exportProperty(ol.source.VectorTile.prototype,"setUrl",ol.source.VectorTile.prototype.setUrl);goog.exportProperty(ol.source.VectorTile.prototype,"setUrls",ol.source.VectorTile.prototype.setUrls);goog.exportProperty(ol.source.VectorTile.prototype,"getTileGrid",ol.source.VectorTile.prototype.getTileGrid);goog.exportProperty(ol.source.VectorTile.prototype,"refresh",ol.source.VectorTile.prototype.refresh);goog.exportProperty(ol.source.VectorTile.prototype,"getAttributions",ol.source.VectorTile.prototype.getAttributions);goog.exportProperty(ol.source.VectorTile.prototype,"getLogo",ol.source.VectorTile.prototype.getLogo);goog.exportProperty(ol.source.VectorTile.prototype,"getProjection",ol.source.VectorTile.prototype.getProjection);goog.exportProperty(ol.source.VectorTile.prototype,"getState",ol.source.VectorTile.prototype.getState);goog.exportProperty(ol.source.VectorTile.prototype,"setAttributions",ol.source.VectorTile.prototype.setAttributions);goog.exportProperty(ol.source.VectorTile.prototype,"get",ol.source.VectorTile.prototype.get);goog.exportProperty(ol.source.VectorTile.prototype,"getKeys",ol.source.VectorTile.prototype.getKeys);goog.exportProperty(ol.source.VectorTile.prototype,"getProperties",ol.source.VectorTile.prototype.getProperties);goog.exportProperty(ol.source.VectorTile.prototype,"set",ol.source.VectorTile.prototype.set);goog.exportProperty(ol.source.VectorTile.prototype,"setProperties",ol.source.VectorTile.prototype.setProperties);goog.exportProperty(ol.source.VectorTile.prototype,"unset",ol.source.VectorTile.prototype.unset);goog.exportProperty(ol.source.VectorTile.prototype,"changed",ol.source.VectorTile.prototype.changed);goog.exportProperty(ol.source.VectorTile.prototype,"dispatchEvent",ol.source.VectorTile.prototype.dispatchEvent);goog.exportProperty(ol.source.VectorTile.prototype,"getRevision",ol.source.VectorTile.prototype.getRevision);goog.exportProperty(ol.source.VectorTile.prototype,"on",ol.source.VectorTile.prototype.on);goog.exportProperty(ol.source.VectorTile.prototype,"once",ol.source.VectorTile.prototype.once);goog.exportProperty(ol.source.VectorTile.prototype,"un",ol.source.VectorTile.prototype.un);goog.exportProperty(ol.source.WMTS.prototype,"setRenderReprojectionEdges",ol.source.WMTS.prototype.setRenderReprojectionEdges);goog.exportProperty(ol.source.WMTS.prototype,"setTileGridForProjection",ol.source.WMTS.prototype.setTileGridForProjection);goog.exportProperty(ol.source.WMTS.prototype,"getTileLoadFunction",ol.source.WMTS.prototype.getTileLoadFunction);goog.exportProperty(ol.source.WMTS.prototype,"getTileUrlFunction",ol.source.WMTS.prototype.getTileUrlFunction);goog.exportProperty(ol.source.WMTS.prototype,"getUrls",ol.source.WMTS.prototype.getUrls);goog.exportProperty(ol.source.WMTS.prototype,"setTileLoadFunction",ol.source.WMTS.prototype.setTileLoadFunction);goog.exportProperty(ol.source.WMTS.prototype,"setTileUrlFunction",ol.source.WMTS.prototype.setTileUrlFunction);goog.exportProperty(ol.source.WMTS.prototype,"setUrl",ol.source.WMTS.prototype.setUrl);goog.exportProperty(ol.source.WMTS.prototype,"setUrls",ol.source.WMTS.prototype.setUrls);goog.exportProperty(ol.source.WMTS.prototype,"getTileGrid",ol.source.WMTS.prototype.getTileGrid);goog.exportProperty(ol.source.WMTS.prototype,"refresh",ol.source.WMTS.prototype.refresh);goog.exportProperty(ol.source.WMTS.prototype,"getAttributions",ol.source.WMTS.prototype.getAttributions);goog.exportProperty(ol.source.WMTS.prototype,"getLogo",ol.source.WMTS.prototype.getLogo);goog.exportProperty(ol.source.WMTS.prototype,"getProjection",ol.source.WMTS.prototype.getProjection);goog.exportProperty(ol.source.WMTS.prototype,"getState",ol.source.WMTS.prototype.getState);goog.exportProperty(ol.source.WMTS.prototype,"setAttributions",ol.source.WMTS.prototype.setAttributions);goog.exportProperty(ol.source.WMTS.prototype,"get",ol.source.WMTS.prototype.get);goog.exportProperty(ol.source.WMTS.prototype,"getKeys",ol.source.WMTS.prototype.getKeys);goog.exportProperty(ol.source.WMTS.prototype,"getProperties",ol.source.WMTS.prototype.getProperties);goog.exportProperty(ol.source.WMTS.prototype,"set",ol.source.WMTS.prototype.set);goog.exportProperty(ol.source.WMTS.prototype,"setProperties",ol.source.WMTS.prototype.setProperties);goog.exportProperty(ol.source.WMTS.prototype,"unset",ol.source.WMTS.prototype.unset);goog.exportProperty(ol.source.WMTS.prototype,"changed",ol.source.WMTS.prototype.changed);goog.exportProperty(ol.source.WMTS.prototype,"dispatchEvent",ol.source.WMTS.prototype.dispatchEvent);goog.exportProperty(ol.source.WMTS.prototype,"getRevision",ol.source.WMTS.prototype.getRevision);goog.exportProperty(ol.source.WMTS.prototype,"on",ol.source.WMTS.prototype.on);goog.exportProperty(ol.source.WMTS.prototype,"once",ol.source.WMTS.prototype.once);goog.exportProperty(ol.source.WMTS.prototype,"un",ol.source.WMTS.prototype.un);goog.exportProperty(ol.source.Zoomify.prototype,"setRenderReprojectionEdges",ol.source.Zoomify.prototype.setRenderReprojectionEdges);goog.exportProperty(ol.source.Zoomify.prototype,"setTileGridForProjection",ol.source.Zoomify.prototype.setTileGridForProjection);goog.exportProperty(ol.source.Zoomify.prototype,"getTileLoadFunction",ol.source.Zoomify.prototype.getTileLoadFunction);goog.exportProperty(ol.source.Zoomify.prototype,"getTileUrlFunction",ol.source.Zoomify.prototype.getTileUrlFunction);goog.exportProperty(ol.source.Zoomify.prototype,"getUrls",ol.source.Zoomify.prototype.getUrls);goog.exportProperty(ol.source.Zoomify.prototype,"setTileLoadFunction",ol.source.Zoomify.prototype.setTileLoadFunction);goog.exportProperty(ol.source.Zoomify.prototype,"setTileUrlFunction",ol.source.Zoomify.prototype.setTileUrlFunction);goog.exportProperty(ol.source.Zoomify.prototype,"setUrl",ol.source.Zoomify.prototype.setUrl);goog.exportProperty(ol.source.Zoomify.prototype,"setUrls",ol.source.Zoomify.prototype.setUrls);goog.exportProperty(ol.source.Zoomify.prototype,"getTileGrid",ol.source.Zoomify.prototype.getTileGrid);goog.exportProperty(ol.source.Zoomify.prototype,"refresh",ol.source.Zoomify.prototype.refresh);goog.exportProperty(ol.source.Zoomify.prototype,"getAttributions",ol.source.Zoomify.prototype.getAttributions);goog.exportProperty(ol.source.Zoomify.prototype,"getLogo",ol.source.Zoomify.prototype.getLogo);goog.exportProperty(ol.source.Zoomify.prototype,"getProjection",ol.source.Zoomify.prototype.getProjection);goog.exportProperty(ol.source.Zoomify.prototype,"getState",ol.source.Zoomify.prototype.getState);goog.exportProperty(ol.source.Zoomify.prototype,"setAttributions",ol.source.Zoomify.prototype.setAttributions);goog.exportProperty(ol.source.Zoomify.prototype,"get",ol.source.Zoomify.prototype.get);goog.exportProperty(ol.source.Zoomify.prototype,"getKeys",ol.source.Zoomify.prototype.getKeys);goog.exportProperty(ol.source.Zoomify.prototype,"getProperties",ol.source.Zoomify.prototype.getProperties);goog.exportProperty(ol.source.Zoomify.prototype,"set",ol.source.Zoomify.prototype.set);goog.exportProperty(ol.source.Zoomify.prototype,"setProperties",ol.source.Zoomify.prototype.setProperties);goog.exportProperty(ol.source.Zoomify.prototype,"unset",ol.source.Zoomify.prototype.unset);goog.exportProperty(ol.source.Zoomify.prototype,"changed",ol.source.Zoomify.prototype.changed);goog.exportProperty(ol.source.Zoomify.prototype,"dispatchEvent",ol.source.Zoomify.prototype.dispatchEvent);goog.exportProperty(ol.source.Zoomify.prototype,"getRevision",ol.source.Zoomify.prototype.getRevision);goog.exportProperty(ol.source.Zoomify.prototype,"on",ol.source.Zoomify.prototype.on);goog.exportProperty(ol.source.Zoomify.prototype,"once",ol.source.Zoomify.prototype.once);goog.exportProperty(ol.source.Zoomify.prototype,"un",ol.source.Zoomify.prototype.un);goog.exportProperty(ol.reproj.Tile.prototype,"getTileCoord",ol.reproj.Tile.prototype.getTileCoord);goog.exportProperty(ol.reproj.Tile.prototype,"load",ol.reproj.Tile.prototype.load);goog.exportProperty(ol.renderer.Layer.prototype,"changed",ol.renderer.Layer.prototype.changed);goog.exportProperty(ol.renderer.Layer.prototype,"dispatchEvent",ol.renderer.Layer.prototype.dispatchEvent);goog.exportProperty(ol.renderer.Layer.prototype,"getRevision",ol.renderer.Layer.prototype.getRevision);goog.exportProperty(ol.renderer.Layer.prototype,"on",ol.renderer.Layer.prototype.on);goog.exportProperty(ol.renderer.Layer.prototype,"once",ol.renderer.Layer.prototype.once);goog.exportProperty(ol.renderer.Layer.prototype,"un",ol.renderer.Layer.prototype.un);goog.exportProperty(ol.renderer.webgl.Layer.prototype,"changed",ol.renderer.webgl.Layer.prototype.changed);goog.exportProperty(ol.renderer.webgl.Layer.prototype,"dispatchEvent",ol.renderer.webgl.Layer.prototype.dispatchEvent);goog.exportProperty(ol.renderer.webgl.Layer.prototype,"getRevision",ol.renderer.webgl.Layer.prototype.getRevision);goog.exportProperty(ol.renderer.webgl.Layer.prototype,"on",ol.renderer.webgl.Layer.prototype.on);goog.exportProperty(ol.renderer.webgl.Layer.prototype,"once",ol.renderer.webgl.Layer.prototype.once);goog.exportProperty(ol.renderer.webgl.Layer.prototype,"un",ol.renderer.webgl.Layer.prototype.un);goog.exportProperty(ol.renderer.webgl.ImageLayer.prototype,"changed",ol.renderer.webgl.ImageLayer.prototype.changed);goog.exportProperty(ol.renderer.webgl.ImageLayer.prototype,"dispatchEvent",ol.renderer.webgl.ImageLayer.prototype.dispatchEvent);goog.exportProperty(ol.renderer.webgl.ImageLayer.prototype,"getRevision",ol.renderer.webgl.ImageLayer.prototype.getRevision);goog.exportProperty(ol.renderer.webgl.ImageLayer.prototype,"on",ol.renderer.webgl.ImageLayer.prototype.on);goog.exportProperty(ol.renderer.webgl.ImageLayer.prototype,"once",ol.renderer.webgl.ImageLayer.prototype.once);goog.exportProperty(ol.renderer.webgl.ImageLayer.prototype,"un",ol.renderer.webgl.ImageLayer.prototype.un);goog.exportProperty(ol.renderer.webgl.TileLayer.prototype,"changed",ol.renderer.webgl.TileLayer.prototype.changed);goog.exportProperty(ol.renderer.webgl.TileLayer.prototype,"dispatchEvent",ol.renderer.webgl.TileLayer.prototype.dispatchEvent);goog.exportProperty(ol.renderer.webgl.TileLayer.prototype,"getRevision",ol.renderer.webgl.TileLayer.prototype.getRevision);goog.exportProperty(ol.renderer.webgl.TileLayer.prototype,"on",ol.renderer.webgl.TileLayer.prototype.on);goog.exportProperty(ol.renderer.webgl.TileLayer.prototype,"once",ol.renderer.webgl.TileLayer.prototype.once);goog.exportProperty(ol.renderer.webgl.TileLayer.prototype,"un",ol.renderer.webgl.TileLayer.prototype.un);goog.exportProperty(ol.renderer.webgl.VectorLayer.prototype,"changed",ol.renderer.webgl.VectorLayer.prototype.changed);goog.exportProperty(ol.renderer.webgl.VectorLayer.prototype,"dispatchEvent",ol.renderer.webgl.VectorLayer.prototype.dispatchEvent);goog.exportProperty(ol.renderer.webgl.VectorLayer.prototype,"getRevision",ol.renderer.webgl.VectorLayer.prototype.getRevision);goog.exportProperty(ol.renderer.webgl.VectorLayer.prototype,"on",ol.renderer.webgl.VectorLayer.prototype.on);goog.exportProperty(ol.renderer.webgl.VectorLayer.prototype,"once",ol.renderer.webgl.VectorLayer.prototype.once);goog.exportProperty(ol.renderer.webgl.VectorLayer.prototype,"un",ol.renderer.webgl.VectorLayer.prototype.un);goog.exportProperty(ol.renderer.canvas.Layer.prototype,"changed",ol.renderer.canvas.Layer.prototype.changed);goog.exportProperty(ol.renderer.canvas.Layer.prototype,"dispatchEvent",ol.renderer.canvas.Layer.prototype.dispatchEvent);goog.exportProperty(ol.renderer.canvas.Layer.prototype,"getRevision",ol.renderer.canvas.Layer.prototype.getRevision);goog.exportProperty(ol.renderer.canvas.Layer.prototype,"on",ol.renderer.canvas.Layer.prototype.on);goog.exportProperty(ol.renderer.canvas.Layer.prototype,"once",ol.renderer.canvas.Layer.prototype.once);goog.exportProperty(ol.renderer.canvas.Layer.prototype,"un",ol.renderer.canvas.Layer.prototype.un);goog.exportProperty(ol.renderer.canvas.IntermediateCanvas.prototype,"changed",ol.renderer.canvas.IntermediateCanvas.prototype.changed);goog.exportProperty(ol.renderer.canvas.IntermediateCanvas.prototype,"dispatchEvent",ol.renderer.canvas.IntermediateCanvas.prototype.dispatchEvent);goog.exportProperty(ol.renderer.canvas.IntermediateCanvas.prototype,"getRevision",ol.renderer.canvas.IntermediateCanvas.prototype.getRevision);goog.exportProperty(ol.renderer.canvas.IntermediateCanvas.prototype,"on",ol.renderer.canvas.IntermediateCanvas.prototype.on);goog.exportProperty(ol.renderer.canvas.IntermediateCanvas.prototype,"once",ol.renderer.canvas.IntermediateCanvas.prototype.once);goog.exportProperty(ol.renderer.canvas.IntermediateCanvas.prototype,"un",ol.renderer.canvas.IntermediateCanvas.prototype.un);goog.exportProperty(ol.renderer.canvas.ImageLayer.prototype,"changed",ol.renderer.canvas.ImageLayer.prototype.changed);goog.exportProperty(ol.renderer.canvas.ImageLayer.prototype,"dispatchEvent",ol.renderer.canvas.ImageLayer.prototype.dispatchEvent);goog.exportProperty(ol.renderer.canvas.ImageLayer.prototype,"getRevision",ol.renderer.canvas.ImageLayer.prototype.getRevision);goog.exportProperty(ol.renderer.canvas.ImageLayer.prototype,"on",ol.renderer.canvas.ImageLayer.prototype.on);goog.exportProperty(ol.renderer.canvas.ImageLayer.prototype,"once",ol.renderer.canvas.ImageLayer.prototype.once);goog.exportProperty(ol.renderer.canvas.ImageLayer.prototype,"un",ol.renderer.canvas.ImageLayer.prototype.un);goog.exportProperty(ol.renderer.canvas.TileLayer.prototype,"changed",ol.renderer.canvas.TileLayer.prototype.changed);goog.exportProperty(ol.renderer.canvas.TileLayer.prototype,"dispatchEvent",ol.renderer.canvas.TileLayer.prototype.dispatchEvent);goog.exportProperty(ol.renderer.canvas.TileLayer.prototype,"getRevision",ol.renderer.canvas.TileLayer.prototype.getRevision);goog.exportProperty(ol.renderer.canvas.TileLayer.prototype,"on",ol.renderer.canvas.TileLayer.prototype.on);goog.exportProperty(ol.renderer.canvas.TileLayer.prototype,"once",ol.renderer.canvas.TileLayer.prototype.once);goog.exportProperty(ol.renderer.canvas.TileLayer.prototype,"un",ol.renderer.canvas.TileLayer.prototype.un);goog.exportProperty(ol.renderer.canvas.VectorLayer.prototype,"changed",ol.renderer.canvas.VectorLayer.prototype.changed);goog.exportProperty(ol.renderer.canvas.VectorLayer.prototype,"dispatchEvent",ol.renderer.canvas.VectorLayer.prototype.dispatchEvent);goog.exportProperty(ol.renderer.canvas.VectorLayer.prototype,"getRevision",ol.renderer.canvas.VectorLayer.prototype.getRevision);goog.exportProperty(ol.renderer.canvas.VectorLayer.prototype,"on",ol.renderer.canvas.VectorLayer.prototype.on);goog.exportProperty(ol.renderer.canvas.VectorLayer.prototype,"once",ol.renderer.canvas.VectorLayer.prototype.once);goog.exportProperty(ol.renderer.canvas.VectorLayer.prototype,"un",ol.renderer.canvas.VectorLayer.prototype.un);goog.exportProperty(ol.renderer.canvas.VectorTileLayer.prototype,"changed",ol.renderer.canvas.VectorTileLayer.prototype.changed);goog.exportProperty(ol.renderer.canvas.VectorTileLayer.prototype,"dispatchEvent",ol.renderer.canvas.VectorTileLayer.prototype.dispatchEvent);goog.exportProperty(ol.renderer.canvas.VectorTileLayer.prototype,"getRevision",ol.renderer.canvas.VectorTileLayer.prototype.getRevision);goog.exportProperty(ol.renderer.canvas.VectorTileLayer.prototype,"on",ol.renderer.canvas.VectorTileLayer.prototype.on);goog.exportProperty(ol.renderer.canvas.VectorTileLayer.prototype,"once",ol.renderer.canvas.VectorTileLayer.prototype.once);goog.exportProperty(ol.renderer.canvas.VectorTileLayer.prototype,"un",ol.renderer.canvas.VectorTileLayer.prototype.un);goog.exportProperty(ol.render.Event.prototype,"type",ol.render.Event.prototype.type);goog.exportProperty(ol.render.Event.prototype,"target",ol.render.Event.prototype.target);goog.exportProperty(ol.render.Event.prototype,"preventDefault",ol.render.Event.prototype.preventDefault);goog.exportProperty(ol.render.Event.prototype,"stopPropagation",ol.render.Event.prototype.stopPropagation);goog.exportProperty(ol.pointer.PointerEvent.prototype,"type",ol.pointer.PointerEvent.prototype.type);goog.exportProperty(ol.pointer.PointerEvent.prototype,"target",ol.pointer.PointerEvent.prototype.target);goog.exportProperty(ol.pointer.PointerEvent.prototype,"preventDefault",ol.pointer.PointerEvent.prototype.preventDefault);goog.exportProperty(ol.pointer.PointerEvent.prototype,"stopPropagation",ol.pointer.PointerEvent.prototype.stopPropagation);goog.exportProperty(ol.layer.Base.prototype,"get",ol.layer.Base.prototype.get);goog.exportProperty(ol.layer.Base.prototype,"getKeys",ol.layer.Base.prototype.getKeys);goog.exportProperty(ol.layer.Base.prototype,"getProperties",ol.layer.Base.prototype.getProperties);goog.exportProperty(ol.layer.Base.prototype,"set",ol.layer.Base.prototype.set);goog.exportProperty(ol.layer.Base.prototype,"setProperties",ol.layer.Base.prototype.setProperties);goog.exportProperty(ol.layer.Base.prototype,"unset",ol.layer.Base.prototype.unset);goog.exportProperty(ol.layer.Base.prototype,"changed",ol.layer.Base.prototype.changed);goog.exportProperty(ol.layer.Base.prototype,"dispatchEvent",ol.layer.Base.prototype.dispatchEvent);goog.exportProperty(ol.layer.Base.prototype,"getRevision",ol.layer.Base.prototype.getRevision);goog.exportProperty(ol.layer.Base.prototype,"on",ol.layer.Base.prototype.on);goog.exportProperty(ol.layer.Base.prototype,"once",ol.layer.Base.prototype.once);goog.exportProperty(ol.layer.Base.prototype,"un",ol.layer.Base.prototype.un);goog.exportProperty(ol.layer.Group.prototype,"getExtent",ol.layer.Group.prototype.getExtent);goog.exportProperty(ol.layer.Group.prototype,"getMaxResolution",ol.layer.Group.prototype.getMaxResolution);goog.exportProperty(ol.layer.Group.prototype,"getMinResolution",ol.layer.Group.prototype.getMinResolution);goog.exportProperty(ol.layer.Group.prototype,"getOpacity",ol.layer.Group.prototype.getOpacity);goog.exportProperty(ol.layer.Group.prototype,"getVisible",ol.layer.Group.prototype.getVisible);goog.exportProperty(ol.layer.Group.prototype,"getZIndex",ol.layer.Group.prototype.getZIndex);goog.exportProperty(ol.layer.Group.prototype,"setExtent",ol.layer.Group.prototype.setExtent);goog.exportProperty(ol.layer.Group.prototype,"setMaxResolution",ol.layer.Group.prototype.setMaxResolution);goog.exportProperty(ol.layer.Group.prototype,"setMinResolution",ol.layer.Group.prototype.setMinResolution);goog.exportProperty(ol.layer.Group.prototype,"setOpacity",ol.layer.Group.prototype.setOpacity);goog.exportProperty(ol.layer.Group.prototype,"setVisible",ol.layer.Group.prototype.setVisible);goog.exportProperty(ol.layer.Group.prototype,"setZIndex",ol.layer.Group.prototype.setZIndex);goog.exportProperty(ol.layer.Group.prototype,"get",ol.layer.Group.prototype.get);goog.exportProperty(ol.layer.Group.prototype,"getKeys",ol.layer.Group.prototype.getKeys);goog.exportProperty(ol.layer.Group.prototype,"getProperties",ol.layer.Group.prototype.getProperties);goog.exportProperty(ol.layer.Group.prototype,"set",ol.layer.Group.prototype.set);goog.exportProperty(ol.layer.Group.prototype,"setProperties",ol.layer.Group.prototype.setProperties);goog.exportProperty(ol.layer.Group.prototype,"unset",ol.layer.Group.prototype.unset);goog.exportProperty(ol.layer.Group.prototype,"changed",ol.layer.Group.prototype.changed);goog.exportProperty(ol.layer.Group.prototype,"dispatchEvent",ol.layer.Group.prototype.dispatchEvent);goog.exportProperty(ol.layer.Group.prototype,"getRevision",ol.layer.Group.prototype.getRevision);goog.exportProperty(ol.layer.Group.prototype,"on",ol.layer.Group.prototype.on);goog.exportProperty(ol.layer.Group.prototype,"once",ol.layer.Group.prototype.once);goog.exportProperty(ol.layer.Group.prototype,"un",ol.layer.Group.prototype.un);goog.exportProperty(ol.layer.Layer.prototype,"getExtent",ol.layer.Layer.prototype.getExtent);goog.exportProperty(ol.layer.Layer.prototype,"getMaxResolution",ol.layer.Layer.prototype.getMaxResolution);goog.exportProperty(ol.layer.Layer.prototype,"getMinResolution",ol.layer.Layer.prototype.getMinResolution);goog.exportProperty(ol.layer.Layer.prototype,"getOpacity",ol.layer.Layer.prototype.getOpacity);goog.exportProperty(ol.layer.Layer.prototype,"getVisible",ol.layer.Layer.prototype.getVisible);goog.exportProperty(ol.layer.Layer.prototype,"getZIndex",ol.layer.Layer.prototype.getZIndex);goog.exportProperty(ol.layer.Layer.prototype,"setExtent",ol.layer.Layer.prototype.setExtent);goog.exportProperty(ol.layer.Layer.prototype,"setMaxResolution",ol.layer.Layer.prototype.setMaxResolution);goog.exportProperty(ol.layer.Layer.prototype,"setMinResolution",ol.layer.Layer.prototype.setMinResolution);goog.exportProperty(ol.layer.Layer.prototype,"setOpacity",ol.layer.Layer.prototype.setOpacity);goog.exportProperty(ol.layer.Layer.prototype,"setVisible",ol.layer.Layer.prototype.setVisible);goog.exportProperty(ol.layer.Layer.prototype,"setZIndex",ol.layer.Layer.prototype.setZIndex);goog.exportProperty(ol.layer.Layer.prototype,"get",ol.layer.Layer.prototype.get);goog.exportProperty(ol.layer.Layer.prototype,"getKeys",ol.layer.Layer.prototype.getKeys);goog.exportProperty(ol.layer.Layer.prototype,"getProperties",ol.layer.Layer.prototype.getProperties);goog.exportProperty(ol.layer.Layer.prototype,"set",ol.layer.Layer.prototype.set);goog.exportProperty(ol.layer.Layer.prototype,"setProperties",ol.layer.Layer.prototype.setProperties);goog.exportProperty(ol.layer.Layer.prototype,"unset",ol.layer.Layer.prototype.unset);goog.exportProperty(ol.layer.Layer.prototype,"changed",ol.layer.Layer.prototype.changed);goog.exportProperty(ol.layer.Layer.prototype,"dispatchEvent",ol.layer.Layer.prototype.dispatchEvent);goog.exportProperty(ol.layer.Layer.prototype,"getRevision",ol.layer.Layer.prototype.getRevision);goog.exportProperty(ol.layer.Layer.prototype,"on",ol.layer.Layer.prototype.on);goog.exportProperty(ol.layer.Layer.prototype,"once",ol.layer.Layer.prototype.once);goog.exportProperty(ol.layer.Layer.prototype,"un",ol.layer.Layer.prototype.un);goog.exportProperty(ol.layer.Vector.prototype,"setMap",ol.layer.Vector.prototype.setMap);goog.exportProperty(ol.layer.Vector.prototype,"setSource",ol.layer.Vector.prototype.setSource);goog.exportProperty(ol.layer.Vector.prototype,"getExtent",ol.layer.Vector.prototype.getExtent);goog.exportProperty(ol.layer.Vector.prototype,"getMaxResolution",ol.layer.Vector.prototype.getMaxResolution);goog.exportProperty(ol.layer.Vector.prototype,"getMinResolution",ol.layer.Vector.prototype.getMinResolution);goog.exportProperty(ol.layer.Vector.prototype,"getOpacity",ol.layer.Vector.prototype.getOpacity);goog.exportProperty(ol.layer.Vector.prototype,"getVisible",ol.layer.Vector.prototype.getVisible);goog.exportProperty(ol.layer.Vector.prototype,"getZIndex",ol.layer.Vector.prototype.getZIndex);goog.exportProperty(ol.layer.Vector.prototype,"setExtent",ol.layer.Vector.prototype.setExtent);goog.exportProperty(ol.layer.Vector.prototype,"setMaxResolution",ol.layer.Vector.prototype.setMaxResolution);goog.exportProperty(ol.layer.Vector.prototype,"setMinResolution",ol.layer.Vector.prototype.setMinResolution);goog.exportProperty(ol.layer.Vector.prototype,"setOpacity",ol.layer.Vector.prototype.setOpacity);goog.exportProperty(ol.layer.Vector.prototype,"setVisible",ol.layer.Vector.prototype.setVisible);goog.exportProperty(ol.layer.Vector.prototype,"setZIndex",ol.layer.Vector.prototype.setZIndex);goog.exportProperty(ol.layer.Vector.prototype,"get",ol.layer.Vector.prototype.get);goog.exportProperty(ol.layer.Vector.prototype,"getKeys",ol.layer.Vector.prototype.getKeys);goog.exportProperty(ol.layer.Vector.prototype,"getProperties",ol.layer.Vector.prototype.getProperties);goog.exportProperty(ol.layer.Vector.prototype,"set",ol.layer.Vector.prototype.set);goog.exportProperty(ol.layer.Vector.prototype,"setProperties",ol.layer.Vector.prototype.setProperties);goog.exportProperty(ol.layer.Vector.prototype,"unset",ol.layer.Vector.prototype.unset);goog.exportProperty(ol.layer.Vector.prototype,"changed",ol.layer.Vector.prototype.changed);goog.exportProperty(ol.layer.Vector.prototype,"dispatchEvent",ol.layer.Vector.prototype.dispatchEvent);goog.exportProperty(ol.layer.Vector.prototype,"getRevision",ol.layer.Vector.prototype.getRevision);goog.exportProperty(ol.layer.Vector.prototype,"on",ol.layer.Vector.prototype.on);goog.exportProperty(ol.layer.Vector.prototype,"once",ol.layer.Vector.prototype.once);goog.exportProperty(ol.layer.Vector.prototype,"un",ol.layer.Vector.prototype.un);goog.exportProperty(ol.layer.Heatmap.prototype,"getSource",ol.layer.Heatmap.prototype.getSource);goog.exportProperty(ol.layer.Heatmap.prototype,"getStyle",ol.layer.Heatmap.prototype.getStyle);goog.exportProperty(ol.layer.Heatmap.prototype,"getStyleFunction",ol.layer.Heatmap.prototype.getStyleFunction);goog.exportProperty(ol.layer.Heatmap.prototype,"setStyle",ol.layer.Heatmap.prototype.setStyle);goog.exportProperty(ol.layer.Heatmap.prototype,"setMap",ol.layer.Heatmap.prototype.setMap);goog.exportProperty(ol.layer.Heatmap.prototype,"setSource",ol.layer.Heatmap.prototype.setSource);goog.exportProperty(ol.layer.Heatmap.prototype,"getExtent",ol.layer.Heatmap.prototype.getExtent);goog.exportProperty(ol.layer.Heatmap.prototype,"getMaxResolution",ol.layer.Heatmap.prototype.getMaxResolution);goog.exportProperty(ol.layer.Heatmap.prototype,"getMinResolution",ol.layer.Heatmap.prototype.getMinResolution);goog.exportProperty(ol.layer.Heatmap.prototype,"getOpacity",ol.layer.Heatmap.prototype.getOpacity);goog.exportProperty(ol.layer.Heatmap.prototype,"getVisible",ol.layer.Heatmap.prototype.getVisible);goog.exportProperty(ol.layer.Heatmap.prototype,"getZIndex",ol.layer.Heatmap.prototype.getZIndex);goog.exportProperty(ol.layer.Heatmap.prototype,"setExtent",ol.layer.Heatmap.prototype.setExtent);goog.exportProperty(ol.layer.Heatmap.prototype,"setMaxResolution",ol.layer.Heatmap.prototype.setMaxResolution);goog.exportProperty(ol.layer.Heatmap.prototype,"setMinResolution",ol.layer.Heatmap.prototype.setMinResolution);goog.exportProperty(ol.layer.Heatmap.prototype,"setOpacity",ol.layer.Heatmap.prototype.setOpacity);goog.exportProperty(ol.layer.Heatmap.prototype,"setVisible",ol.layer.Heatmap.prototype.setVisible);goog.exportProperty(ol.layer.Heatmap.prototype,"setZIndex",ol.layer.Heatmap.prototype.setZIndex);goog.exportProperty(ol.layer.Heatmap.prototype,"get",ol.layer.Heatmap.prototype.get);goog.exportProperty(ol.layer.Heatmap.prototype,"getKeys",ol.layer.Heatmap.prototype.getKeys);goog.exportProperty(ol.layer.Heatmap.prototype,"getProperties",ol.layer.Heatmap.prototype.getProperties);goog.exportProperty(ol.layer.Heatmap.prototype,"set",ol.layer.Heatmap.prototype.set);goog.exportProperty(ol.layer.Heatmap.prototype,"setProperties",ol.layer.Heatmap.prototype.setProperties);goog.exportProperty(ol.layer.Heatmap.prototype,"unset",ol.layer.Heatmap.prototype.unset);goog.exportProperty(ol.layer.Heatmap.prototype,"changed",ol.layer.Heatmap.prototype.changed);goog.exportProperty(ol.layer.Heatmap.prototype,"dispatchEvent",ol.layer.Heatmap.prototype.dispatchEvent);goog.exportProperty(ol.layer.Heatmap.prototype,"getRevision",ol.layer.Heatmap.prototype.getRevision);goog.exportProperty(ol.layer.Heatmap.prototype,"on",ol.layer.Heatmap.prototype.on);goog.exportProperty(ol.layer.Heatmap.prototype,"once",ol.layer.Heatmap.prototype.once);goog.exportProperty(ol.layer.Heatmap.prototype,"un",ol.layer.Heatmap.prototype.un);goog.exportProperty(ol.layer.Image.prototype,"setMap",ol.layer.Image.prototype.setMap);goog.exportProperty(ol.layer.Image.prototype,"setSource",ol.layer.Image.prototype.setSource);goog.exportProperty(ol.layer.Image.prototype,"getExtent",ol.layer.Image.prototype.getExtent);goog.exportProperty(ol.layer.Image.prototype,"getMaxResolution",ol.layer.Image.prototype.getMaxResolution);goog.exportProperty(ol.layer.Image.prototype,"getMinResolution",ol.layer.Image.prototype.getMinResolution);goog.exportProperty(ol.layer.Image.prototype,"getOpacity",ol.layer.Image.prototype.getOpacity);goog.exportProperty(ol.layer.Image.prototype,"getVisible",ol.layer.Image.prototype.getVisible);goog.exportProperty(ol.layer.Image.prototype,"getZIndex",ol.layer.Image.prototype.getZIndex);goog.exportProperty(ol.layer.Image.prototype,"setExtent",ol.layer.Image.prototype.setExtent);goog.exportProperty(ol.layer.Image.prototype,"setMaxResolution",ol.layer.Image.prototype.setMaxResolution);goog.exportProperty(ol.layer.Image.prototype,"setMinResolution",ol.layer.Image.prototype.setMinResolution);goog.exportProperty(ol.layer.Image.prototype,"setOpacity",ol.layer.Image.prototype.setOpacity);goog.exportProperty(ol.layer.Image.prototype,"setVisible",ol.layer.Image.prototype.setVisible);goog.exportProperty(ol.layer.Image.prototype,"setZIndex",ol.layer.Image.prototype.setZIndex);goog.exportProperty(ol.layer.Image.prototype,"get",ol.layer.Image.prototype.get);goog.exportProperty(ol.layer.Image.prototype,"getKeys",ol.layer.Image.prototype.getKeys);goog.exportProperty(ol.layer.Image.prototype,"getProperties",ol.layer.Image.prototype.getProperties);goog.exportProperty(ol.layer.Image.prototype,"set",ol.layer.Image.prototype.set);goog.exportProperty(ol.layer.Image.prototype,"setProperties",ol.layer.Image.prototype.setProperties);goog.exportProperty(ol.layer.Image.prototype,"unset",ol.layer.Image.prototype.unset);goog.exportProperty(ol.layer.Image.prototype,"changed",ol.layer.Image.prototype.changed);goog.exportProperty(ol.layer.Image.prototype,"dispatchEvent",ol.layer.Image.prototype.dispatchEvent);goog.exportProperty(ol.layer.Image.prototype,"getRevision",ol.layer.Image.prototype.getRevision);goog.exportProperty(ol.layer.Image.prototype,"on",ol.layer.Image.prototype.on);goog.exportProperty(ol.layer.Image.prototype,"once",ol.layer.Image.prototype.once);goog.exportProperty(ol.layer.Image.prototype,"un",ol.layer.Image.prototype.un);goog.exportProperty(ol.layer.Tile.prototype,"setMap",ol.layer.Tile.prototype.setMap);goog.exportProperty(ol.layer.Tile.prototype,"setSource",ol.layer.Tile.prototype.setSource);goog.exportProperty(ol.layer.Tile.prototype,"getExtent",ol.layer.Tile.prototype.getExtent);goog.exportProperty(ol.layer.Tile.prototype,"getMaxResolution",ol.layer.Tile.prototype.getMaxResolution);goog.exportProperty(ol.layer.Tile.prototype,"getMinResolution",ol.layer.Tile.prototype.getMinResolution);goog.exportProperty(ol.layer.Tile.prototype,"getOpacity",ol.layer.Tile.prototype.getOpacity);goog.exportProperty(ol.layer.Tile.prototype,"getVisible",ol.layer.Tile.prototype.getVisible);goog.exportProperty(ol.layer.Tile.prototype,"getZIndex",ol.layer.Tile.prototype.getZIndex);goog.exportProperty(ol.layer.Tile.prototype,"setExtent",ol.layer.Tile.prototype.setExtent);goog.exportProperty(ol.layer.Tile.prototype,"setMaxResolution",ol.layer.Tile.prototype.setMaxResolution);goog.exportProperty(ol.layer.Tile.prototype,"setMinResolution",ol.layer.Tile.prototype.setMinResolution);goog.exportProperty(ol.layer.Tile.prototype,"setOpacity",ol.layer.Tile.prototype.setOpacity);goog.exportProperty(ol.layer.Tile.prototype,"setVisible",ol.layer.Tile.prototype.setVisible);goog.exportProperty(ol.layer.Tile.prototype,"setZIndex",ol.layer.Tile.prototype.setZIndex);goog.exportProperty(ol.layer.Tile.prototype,"get",ol.layer.Tile.prototype.get);goog.exportProperty(ol.layer.Tile.prototype,"getKeys",ol.layer.Tile.prototype.getKeys);goog.exportProperty(ol.layer.Tile.prototype,"getProperties",ol.layer.Tile.prototype.getProperties);goog.exportProperty(ol.layer.Tile.prototype,"set",ol.layer.Tile.prototype.set);goog.exportProperty(ol.layer.Tile.prototype,"setProperties",ol.layer.Tile.prototype.setProperties);goog.exportProperty(ol.layer.Tile.prototype,"unset",ol.layer.Tile.prototype.unset);goog.exportProperty(ol.layer.Tile.prototype,"changed",ol.layer.Tile.prototype.changed);goog.exportProperty(ol.layer.Tile.prototype,"dispatchEvent",ol.layer.Tile.prototype.dispatchEvent);goog.exportProperty(ol.layer.Tile.prototype,"getRevision",ol.layer.Tile.prototype.getRevision);goog.exportProperty(ol.layer.Tile.prototype,"on",ol.layer.Tile.prototype.on);goog.exportProperty(ol.layer.Tile.prototype,"once",ol.layer.Tile.prototype.once);goog.exportProperty(ol.layer.Tile.prototype,"un",ol.layer.Tile.prototype.un);goog.exportProperty(ol.layer.VectorTile.prototype,"getStyle",ol.layer.VectorTile.prototype.getStyle);goog.exportProperty(ol.layer.VectorTile.prototype,"getStyleFunction",ol.layer.VectorTile.prototype.getStyleFunction);goog.exportProperty(ol.layer.VectorTile.prototype,"setStyle",ol.layer.VectorTile.prototype.setStyle);goog.exportProperty(ol.layer.VectorTile.prototype,"setMap",ol.layer.VectorTile.prototype.setMap);goog.exportProperty(ol.layer.VectorTile.prototype,"setSource",ol.layer.VectorTile.prototype.setSource);goog.exportProperty(ol.layer.VectorTile.prototype,"getExtent",ol.layer.VectorTile.prototype.getExtent);goog.exportProperty(ol.layer.VectorTile.prototype,"getMaxResolution",ol.layer.VectorTile.prototype.getMaxResolution);goog.exportProperty(ol.layer.VectorTile.prototype,"getMinResolution",ol.layer.VectorTile.prototype.getMinResolution);goog.exportProperty(ol.layer.VectorTile.prototype,"getOpacity",ol.layer.VectorTile.prototype.getOpacity);goog.exportProperty(ol.layer.VectorTile.prototype,"getVisible",ol.layer.VectorTile.prototype.getVisible);goog.exportProperty(ol.layer.VectorTile.prototype,"getZIndex",ol.layer.VectorTile.prototype.getZIndex);goog.exportProperty(ol.layer.VectorTile.prototype,"setExtent",ol.layer.VectorTile.prototype.setExtent);goog.exportProperty(ol.layer.VectorTile.prototype,"setMaxResolution",ol.layer.VectorTile.prototype.setMaxResolution);goog.exportProperty(ol.layer.VectorTile.prototype,"setMinResolution",ol.layer.VectorTile.prototype.setMinResolution);goog.exportProperty(ol.layer.VectorTile.prototype,"setOpacity",ol.layer.VectorTile.prototype.setOpacity);goog.exportProperty(ol.layer.VectorTile.prototype,"setVisible",ol.layer.VectorTile.prototype.setVisible);goog.exportProperty(ol.layer.VectorTile.prototype,"setZIndex",ol.layer.VectorTile.prototype.setZIndex);goog.exportProperty(ol.layer.VectorTile.prototype,"get",ol.layer.VectorTile.prototype.get);goog.exportProperty(ol.layer.VectorTile.prototype,"getKeys",ol.layer.VectorTile.prototype.getKeys);goog.exportProperty(ol.layer.VectorTile.prototype,"getProperties",ol.layer.VectorTile.prototype.getProperties);goog.exportProperty(ol.layer.VectorTile.prototype,"set",ol.layer.VectorTile.prototype.set);goog.exportProperty(ol.layer.VectorTile.prototype,"setProperties",ol.layer.VectorTile.prototype.setProperties);goog.exportProperty(ol.layer.VectorTile.prototype,"unset",ol.layer.VectorTile.prototype.unset);goog.exportProperty(ol.layer.VectorTile.prototype,"changed",ol.layer.VectorTile.prototype.changed);goog.exportProperty(ol.layer.VectorTile.prototype,"dispatchEvent",ol.layer.VectorTile.prototype.dispatchEvent);goog.exportProperty(ol.layer.VectorTile.prototype,"getRevision",ol.layer.VectorTile.prototype.getRevision);goog.exportProperty(ol.layer.VectorTile.prototype,"on",ol.layer.VectorTile.prototype.on);goog.exportProperty(ol.layer.VectorTile.prototype,"once",ol.layer.VectorTile.prototype.once);goog.exportProperty(ol.layer.VectorTile.prototype,"un",ol.layer.VectorTile.prototype.un);goog.exportProperty(ol.interaction.Interaction.prototype,"get",ol.interaction.Interaction.prototype.get);goog.exportProperty(ol.interaction.Interaction.prototype,"getKeys",ol.interaction.Interaction.prototype.getKeys);goog.exportProperty(ol.interaction.Interaction.prototype,"getProperties",ol.interaction.Interaction.prototype.getProperties);goog.exportProperty(ol.interaction.Interaction.prototype,"set",ol.interaction.Interaction.prototype.set);goog.exportProperty(ol.interaction.Interaction.prototype,"setProperties",ol.interaction.Interaction.prototype.setProperties);goog.exportProperty(ol.interaction.Interaction.prototype,"unset",ol.interaction.Interaction.prototype.unset);goog.exportProperty(ol.interaction.Interaction.prototype,"changed",ol.interaction.Interaction.prototype.changed);goog.exportProperty(ol.interaction.Interaction.prototype,"dispatchEvent",ol.interaction.Interaction.prototype.dispatchEvent);goog.exportProperty(ol.interaction.Interaction.prototype,"getRevision",ol.interaction.Interaction.prototype.getRevision);goog.exportProperty(ol.interaction.Interaction.prototype,"on",ol.interaction.Interaction.prototype.on);goog.exportProperty(ol.interaction.Interaction.prototype,"once",ol.interaction.Interaction.prototype.once);goog.exportProperty(ol.interaction.Interaction.prototype,"un",ol.interaction.Interaction.prototype.un);goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"getActive",ol.interaction.DoubleClickZoom.prototype.getActive);goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"getMap",ol.interaction.DoubleClickZoom.prototype.getMap);goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"setActive",ol.interaction.DoubleClickZoom.prototype.setActive);goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"get",ol.interaction.DoubleClickZoom.prototype.get);goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"getKeys",ol.interaction.DoubleClickZoom.prototype.getKeys);goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"getProperties",ol.interaction.DoubleClickZoom.prototype.getProperties);goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"set",ol.interaction.DoubleClickZoom.prototype.set);goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"setProperties",ol.interaction.DoubleClickZoom.prototype.setProperties);goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"unset",ol.interaction.DoubleClickZoom.prototype.unset);goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"changed",ol.interaction.DoubleClickZoom.prototype.changed);goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"dispatchEvent",ol.interaction.DoubleClickZoom.prototype.dispatchEvent);goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"getRevision",ol.interaction.DoubleClickZoom.prototype.getRevision);goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"on",ol.interaction.DoubleClickZoom.prototype.on);goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"once",ol.interaction.DoubleClickZoom.prototype.once);goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"un",ol.interaction.DoubleClickZoom.prototype.un);goog.exportProperty(ol.interaction.DragAndDrop.prototype,"getActive",ol.interaction.DragAndDrop.prototype.getActive);goog.exportProperty(ol.interaction.DragAndDrop.prototype,"getMap",ol.interaction.DragAndDrop.prototype.getMap);goog.exportProperty(ol.interaction.DragAndDrop.prototype,"setActive",ol.interaction.DragAndDrop.prototype.setActive);goog.exportProperty(ol.interaction.DragAndDrop.prototype,"get",ol.interaction.DragAndDrop.prototype.get);goog.exportProperty(ol.interaction.DragAndDrop.prototype,"getKeys",ol.interaction.DragAndDrop.prototype.getKeys);goog.exportProperty(ol.interaction.DragAndDrop.prototype,"getProperties",ol.interaction.DragAndDrop.prototype.getProperties);goog.exportProperty(ol.interaction.DragAndDrop.prototype,"set",ol.interaction.DragAndDrop.prototype.set);goog.exportProperty(ol.interaction.DragAndDrop.prototype,"setProperties",ol.interaction.DragAndDrop.prototype.setProperties);goog.exportProperty(ol.interaction.DragAndDrop.prototype,"unset",ol.interaction.DragAndDrop.prototype.unset);goog.exportProperty(ol.interaction.DragAndDrop.prototype,"changed",ol.interaction.DragAndDrop.prototype.changed);goog.exportProperty(ol.interaction.DragAndDrop.prototype,"dispatchEvent",ol.interaction.DragAndDrop.prototype.dispatchEvent);goog.exportProperty(ol.interaction.DragAndDrop.prototype,"getRevision",ol.interaction.DragAndDrop.prototype.getRevision);goog.exportProperty(ol.interaction.DragAndDrop.prototype,"on",ol.interaction.DragAndDrop.prototype.on);goog.exportProperty(ol.interaction.DragAndDrop.prototype,"once",ol.interaction.DragAndDrop.prototype.once);goog.exportProperty(ol.interaction.DragAndDrop.prototype,"un",ol.interaction.DragAndDrop.prototype.un);goog.exportProperty(ol.interaction.DragAndDrop.Event.prototype,"type",ol.interaction.DragAndDrop.Event.prototype.type);goog.exportProperty(ol.interaction.DragAndDrop.Event.prototype,"target",ol.interaction.DragAndDrop.Event.prototype.target);goog.exportProperty(ol.interaction.DragAndDrop.Event.prototype,"preventDefault",ol.interaction.DragAndDrop.Event.prototype.preventDefault);goog.exportProperty(ol.interaction.DragAndDrop.Event.prototype,"stopPropagation",ol.interaction.DragAndDrop.Event.prototype.stopPropagation);goog.exportProperty(ol.interaction.Pointer.prototype,"getActive",ol.interaction.Pointer.prototype.getActive);goog.exportProperty(ol.interaction.Pointer.prototype,"getMap",ol.interaction.Pointer.prototype.getMap);goog.exportProperty(ol.interaction.Pointer.prototype,"setActive",ol.interaction.Pointer.prototype.setActive);goog.exportProperty(ol.interaction.Pointer.prototype,"get",ol.interaction.Pointer.prototype.get);goog.exportProperty(ol.interaction.Pointer.prototype,"getKeys",ol.interaction.Pointer.prototype.getKeys);goog.exportProperty(ol.interaction.Pointer.prototype,"getProperties",ol.interaction.Pointer.prototype.getProperties);goog.exportProperty(ol.interaction.Pointer.prototype,"set",ol.interaction.Pointer.prototype.set);goog.exportProperty(ol.interaction.Pointer.prototype,"setProperties",ol.interaction.Pointer.prototype.setProperties);goog.exportProperty(ol.interaction.Pointer.prototype,"unset",ol.interaction.Pointer.prototype.unset);goog.exportProperty(ol.interaction.Pointer.prototype,"changed",ol.interaction.Pointer.prototype.changed);goog.exportProperty(ol.interaction.Pointer.prototype,"dispatchEvent",ol.interaction.Pointer.prototype.dispatchEvent);goog.exportProperty(ol.interaction.Pointer.prototype,"getRevision",ol.interaction.Pointer.prototype.getRevision);goog.exportProperty(ol.interaction.Pointer.prototype,"on",ol.interaction.Pointer.prototype.on);goog.exportProperty(ol.interaction.Pointer.prototype,"once",ol.interaction.Pointer.prototype.once);goog.exportProperty(ol.interaction.Pointer.prototype,"un",ol.interaction.Pointer.prototype.un);goog.exportProperty(ol.interaction.DragBox.prototype,"getActive",ol.interaction.DragBox.prototype.getActive);goog.exportProperty(ol.interaction.DragBox.prototype,"getMap",ol.interaction.DragBox.prototype.getMap);goog.exportProperty(ol.interaction.DragBox.prototype,"setActive",ol.interaction.DragBox.prototype.setActive);goog.exportProperty(ol.interaction.DragBox.prototype,"get",ol.interaction.DragBox.prototype.get);goog.exportProperty(ol.interaction.DragBox.prototype,"getKeys",ol.interaction.DragBox.prototype.getKeys);goog.exportProperty(ol.interaction.DragBox.prototype,"getProperties",ol.interaction.DragBox.prototype.getProperties);goog.exportProperty(ol.interaction.DragBox.prototype,"set",ol.interaction.DragBox.prototype.set);goog.exportProperty(ol.interaction.DragBox.prototype,"setProperties",ol.interaction.DragBox.prototype.setProperties);goog.exportProperty(ol.interaction.DragBox.prototype,"unset",ol.interaction.DragBox.prototype.unset);goog.exportProperty(ol.interaction.DragBox.prototype,"changed",ol.interaction.DragBox.prototype.changed);goog.exportProperty(ol.interaction.DragBox.prototype,"dispatchEvent",ol.interaction.DragBox.prototype.dispatchEvent);goog.exportProperty(ol.interaction.DragBox.prototype,"getRevision",ol.interaction.DragBox.prototype.getRevision);goog.exportProperty(ol.interaction.DragBox.prototype,"on",ol.interaction.DragBox.prototype.on);goog.exportProperty(ol.interaction.DragBox.prototype,"once",ol.interaction.DragBox.prototype.once);goog.exportProperty(ol.interaction.DragBox.prototype,"un",ol.interaction.DragBox.prototype.un);goog.exportProperty(ol.interaction.DragBox.Event.prototype,"type",ol.interaction.DragBox.Event.prototype.type);goog.exportProperty(ol.interaction.DragBox.Event.prototype,"target",ol.interaction.DragBox.Event.prototype.target);goog.exportProperty(ol.interaction.DragBox.Event.prototype,"preventDefault",ol.interaction.DragBox.Event.prototype.preventDefault);goog.exportProperty(ol.interaction.DragBox.Event.prototype,"stopPropagation",ol.interaction.DragBox.Event.prototype.stopPropagation);goog.exportProperty(ol.interaction.DragPan.prototype,"getActive",ol.interaction.DragPan.prototype.getActive);goog.exportProperty(ol.interaction.DragPan.prototype,"getMap",ol.interaction.DragPan.prototype.getMap);goog.exportProperty(ol.interaction.DragPan.prototype,"setActive",ol.interaction.DragPan.prototype.setActive);goog.exportProperty(ol.interaction.DragPan.prototype,"get",ol.interaction.DragPan.prototype.get);goog.exportProperty(ol.interaction.DragPan.prototype,"getKeys",ol.interaction.DragPan.prototype.getKeys);goog.exportProperty(ol.interaction.DragPan.prototype,"getProperties",ol.interaction.DragPan.prototype.getProperties);goog.exportProperty(ol.interaction.DragPan.prototype,"set",ol.interaction.DragPan.prototype.set);goog.exportProperty(ol.interaction.DragPan.prototype,"setProperties",ol.interaction.DragPan.prototype.setProperties);goog.exportProperty(ol.interaction.DragPan.prototype,"unset",ol.interaction.DragPan.prototype.unset);goog.exportProperty(ol.interaction.DragPan.prototype,"changed",ol.interaction.DragPan.prototype.changed);goog.exportProperty(ol.interaction.DragPan.prototype,"dispatchEvent",ol.interaction.DragPan.prototype.dispatchEvent);goog.exportProperty(ol.interaction.DragPan.prototype,"getRevision",ol.interaction.DragPan.prototype.getRevision);goog.exportProperty(ol.interaction.DragPan.prototype,"on",ol.interaction.DragPan.prototype.on);goog.exportProperty(ol.interaction.DragPan.prototype,"once",ol.interaction.DragPan.prototype.once);goog.exportProperty(ol.interaction.DragPan.prototype,"un",ol.interaction.DragPan.prototype.un);goog.exportProperty(ol.interaction.DragRotate.prototype,"getActive",ol.interaction.DragRotate.prototype.getActive);goog.exportProperty(ol.interaction.DragRotate.prototype,"getMap",ol.interaction.DragRotate.prototype.getMap);goog.exportProperty(ol.interaction.DragRotate.prototype,"setActive",ol.interaction.DragRotate.prototype.setActive);goog.exportProperty(ol.interaction.DragRotate.prototype,"get",ol.interaction.DragRotate.prototype.get);goog.exportProperty(ol.interaction.DragRotate.prototype,"getKeys",ol.interaction.DragRotate.prototype.getKeys);goog.exportProperty(ol.interaction.DragRotate.prototype,"getProperties",ol.interaction.DragRotate.prototype.getProperties);goog.exportProperty(ol.interaction.DragRotate.prototype,"set",ol.interaction.DragRotate.prototype.set);goog.exportProperty(ol.interaction.DragRotate.prototype,"setProperties",ol.interaction.DragRotate.prototype.setProperties);goog.exportProperty(ol.interaction.DragRotate.prototype,"unset",ol.interaction.DragRotate.prototype.unset);goog.exportProperty(ol.interaction.DragRotate.prototype,"changed",ol.interaction.DragRotate.prototype.changed);goog.exportProperty(ol.interaction.DragRotate.prototype,"dispatchEvent",ol.interaction.DragRotate.prototype.dispatchEvent);goog.exportProperty(ol.interaction.DragRotate.prototype,"getRevision",ol.interaction.DragRotate.prototype.getRevision);goog.exportProperty(ol.interaction.DragRotate.prototype,"on",ol.interaction.DragRotate.prototype.on);goog.exportProperty(ol.interaction.DragRotate.prototype,"once",ol.interaction.DragRotate.prototype.once);goog.exportProperty(ol.interaction.DragRotate.prototype,"un",ol.interaction.DragRotate.prototype.un);goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"getActive",ol.interaction.DragRotateAndZoom.prototype.getActive);goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"getMap",ol.interaction.DragRotateAndZoom.prototype.getMap);goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"setActive",ol.interaction.DragRotateAndZoom.prototype.setActive);goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"get",ol.interaction.DragRotateAndZoom.prototype.get);goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"getKeys",ol.interaction.DragRotateAndZoom.prototype.getKeys);goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"getProperties",ol.interaction.DragRotateAndZoom.prototype.getProperties);goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"set",ol.interaction.DragRotateAndZoom.prototype.set);goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"setProperties",ol.interaction.DragRotateAndZoom.prototype.setProperties);goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"unset",ol.interaction.DragRotateAndZoom.prototype.unset);goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"changed",ol.interaction.DragRotateAndZoom.prototype.changed);goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"dispatchEvent",ol.interaction.DragRotateAndZoom.prototype.dispatchEvent);goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"getRevision",ol.interaction.DragRotateAndZoom.prototype.getRevision);goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"on",ol.interaction.DragRotateAndZoom.prototype.on);goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"once",ol.interaction.DragRotateAndZoom.prototype.once);goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"un",ol.interaction.DragRotateAndZoom.prototype.un);goog.exportProperty(ol.interaction.DragZoom.prototype,"getGeometry",ol.interaction.DragZoom.prototype.getGeometry);goog.exportProperty(ol.interaction.DragZoom.prototype,"getActive",ol.interaction.DragZoom.prototype.getActive);goog.exportProperty(ol.interaction.DragZoom.prototype,"getMap",ol.interaction.DragZoom.prototype.getMap);goog.exportProperty(ol.interaction.DragZoom.prototype,"setActive",ol.interaction.DragZoom.prototype.setActive);goog.exportProperty(ol.interaction.DragZoom.prototype,"get",ol.interaction.DragZoom.prototype.get);goog.exportProperty(ol.interaction.DragZoom.prototype,"getKeys",ol.interaction.DragZoom.prototype.getKeys);goog.exportProperty(ol.interaction.DragZoom.prototype,"getProperties",ol.interaction.DragZoom.prototype.getProperties);goog.exportProperty(ol.interaction.DragZoom.prototype,"set",ol.interaction.DragZoom.prototype.set);goog.exportProperty(ol.interaction.DragZoom.prototype,"setProperties",ol.interaction.DragZoom.prototype.setProperties);goog.exportProperty(ol.interaction.DragZoom.prototype,"unset",ol.interaction.DragZoom.prototype.unset);goog.exportProperty(ol.interaction.DragZoom.prototype,"changed",ol.interaction.DragZoom.prototype.changed);goog.exportProperty(ol.interaction.DragZoom.prototype,"dispatchEvent",ol.interaction.DragZoom.prototype.dispatchEvent);goog.exportProperty(ol.interaction.DragZoom.prototype,"getRevision",ol.interaction.DragZoom.prototype.getRevision);goog.exportProperty(ol.interaction.DragZoom.prototype,"on",ol.interaction.DragZoom.prototype.on);goog.exportProperty(ol.interaction.DragZoom.prototype,"once",ol.interaction.DragZoom.prototype.once);goog.exportProperty(ol.interaction.DragZoom.prototype,"un",ol.interaction.DragZoom.prototype.un);goog.exportProperty(ol.interaction.Draw.prototype,"getActive",ol.interaction.Draw.prototype.getActive);goog.exportProperty(ol.interaction.Draw.prototype,"getMap",ol.interaction.Draw.prototype.getMap);goog.exportProperty(ol.interaction.Draw.prototype,"setActive",ol.interaction.Draw.prototype.setActive);goog.exportProperty(ol.interaction.Draw.prototype,"get",ol.interaction.Draw.prototype.get);goog.exportProperty(ol.interaction.Draw.prototype,"getKeys",ol.interaction.Draw.prototype.getKeys);goog.exportProperty(ol.interaction.Draw.prototype,"getProperties",ol.interaction.Draw.prototype.getProperties);goog.exportProperty(ol.interaction.Draw.prototype,"set",ol.interaction.Draw.prototype.set);goog.exportProperty(ol.interaction.Draw.prototype,"setProperties",ol.interaction.Draw.prototype.setProperties);goog.exportProperty(ol.interaction.Draw.prototype,"unset",ol.interaction.Draw.prototype.unset);goog.exportProperty(ol.interaction.Draw.prototype,"changed",ol.interaction.Draw.prototype.changed);goog.exportProperty(ol.interaction.Draw.prototype,"dispatchEvent",ol.interaction.Draw.prototype.dispatchEvent);goog.exportProperty(ol.interaction.Draw.prototype,"getRevision",ol.interaction.Draw.prototype.getRevision);goog.exportProperty(ol.interaction.Draw.prototype,"on",ol.interaction.Draw.prototype.on);goog.exportProperty(ol.interaction.Draw.prototype,"once",ol.interaction.Draw.prototype.once);goog.exportProperty(ol.interaction.Draw.prototype,"un",ol.interaction.Draw.prototype.un);goog.exportProperty(ol.interaction.Draw.Event.prototype,"type",ol.interaction.Draw.Event.prototype.type);goog.exportProperty(ol.interaction.Draw.Event.prototype,"target",ol.interaction.Draw.Event.prototype.target);goog.exportProperty(ol.interaction.Draw.Event.prototype,"preventDefault",ol.interaction.Draw.Event.prototype.preventDefault);goog.exportProperty(ol.interaction.Draw.Event.prototype,"stopPropagation",ol.interaction.Draw.Event.prototype.stopPropagation);goog.exportProperty(ol.interaction.Extent.prototype,"getActive",ol.interaction.Extent.prototype.getActive);goog.exportProperty(ol.interaction.Extent.prototype,"getMap",ol.interaction.Extent.prototype.getMap);goog.exportProperty(ol.interaction.Extent.prototype,"setActive",ol.interaction.Extent.prototype.setActive);goog.exportProperty(ol.interaction.Extent.prototype,"get",ol.interaction.Extent.prototype.get);goog.exportProperty(ol.interaction.Extent.prototype,"getKeys",ol.interaction.Extent.prototype.getKeys);goog.exportProperty(ol.interaction.Extent.prototype,"getProperties",ol.interaction.Extent.prototype.getProperties);goog.exportProperty(ol.interaction.Extent.prototype,"set",ol.interaction.Extent.prototype.set);goog.exportProperty(ol.interaction.Extent.prototype,"setProperties",ol.interaction.Extent.prototype.setProperties);goog.exportProperty(ol.interaction.Extent.prototype,"unset",ol.interaction.Extent.prototype.unset);goog.exportProperty(ol.interaction.Extent.prototype,"changed",ol.interaction.Extent.prototype.changed);goog.exportProperty(ol.interaction.Extent.prototype,"dispatchEvent",ol.interaction.Extent.prototype.dispatchEvent);goog.exportProperty(ol.interaction.Extent.prototype,"getRevision",ol.interaction.Extent.prototype.getRevision);goog.exportProperty(ol.interaction.Extent.prototype,"on",ol.interaction.Extent.prototype.on);goog.exportProperty(ol.interaction.Extent.prototype,"once",ol.interaction.Extent.prototype.once);goog.exportProperty(ol.interaction.Extent.prototype,"un",ol.interaction.Extent.prototype.un);goog.exportProperty(ol.interaction.Extent.Event.prototype,"type",ol.interaction.Extent.Event.prototype.type);goog.exportProperty(ol.interaction.Extent.Event.prototype,"target",ol.interaction.Extent.Event.prototype.target);goog.exportProperty(ol.interaction.Extent.Event.prototype,"preventDefault",ol.interaction.Extent.Event.prototype.preventDefault);goog.exportProperty(ol.interaction.Extent.Event.prototype,"stopPropagation",ol.interaction.Extent.Event.prototype.stopPropagation);goog.exportProperty(ol.interaction.KeyboardPan.prototype,"getActive",ol.interaction.KeyboardPan.prototype.getActive);goog.exportProperty(ol.interaction.KeyboardPan.prototype,"getMap",ol.interaction.KeyboardPan.prototype.getMap);goog.exportProperty(ol.interaction.KeyboardPan.prototype,"setActive",ol.interaction.KeyboardPan.prototype.setActive);goog.exportProperty(ol.interaction.KeyboardPan.prototype,"get",ol.interaction.KeyboardPan.prototype.get);goog.exportProperty(ol.interaction.KeyboardPan.prototype,"getKeys",ol.interaction.KeyboardPan.prototype.getKeys);goog.exportProperty(ol.interaction.KeyboardPan.prototype,"getProperties",ol.interaction.KeyboardPan.prototype.getProperties);goog.exportProperty(ol.interaction.KeyboardPan.prototype,"set",ol.interaction.KeyboardPan.prototype.set);goog.exportProperty(ol.interaction.KeyboardPan.prototype,"setProperties",ol.interaction.KeyboardPan.prototype.setProperties);goog.exportProperty(ol.interaction.KeyboardPan.prototype,"unset",ol.interaction.KeyboardPan.prototype.unset);goog.exportProperty(ol.interaction.KeyboardPan.prototype,"changed",ol.interaction.KeyboardPan.prototype.changed);goog.exportProperty(ol.interaction.KeyboardPan.prototype,"dispatchEvent",ol.interaction.KeyboardPan.prototype.dispatchEvent);goog.exportProperty(ol.interaction.KeyboardPan.prototype,"getRevision",ol.interaction.KeyboardPan.prototype.getRevision);goog.exportProperty(ol.interaction.KeyboardPan.prototype,"on",ol.interaction.KeyboardPan.prototype.on);goog.exportProperty(ol.interaction.KeyboardPan.prototype,"once",ol.interaction.KeyboardPan.prototype.once);goog.exportProperty(ol.interaction.KeyboardPan.prototype,"un",ol.interaction.KeyboardPan.prototype.un);goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"getActive",ol.interaction.KeyboardZoom.prototype.getActive);goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"getMap",ol.interaction.KeyboardZoom.prototype.getMap);goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"setActive",ol.interaction.KeyboardZoom.prototype.setActive);goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"get",ol.interaction.KeyboardZoom.prototype.get);goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"getKeys",ol.interaction.KeyboardZoom.prototype.getKeys);goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"getProperties",ol.interaction.KeyboardZoom.prototype.getProperties);goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"set",ol.interaction.KeyboardZoom.prototype.set);goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"setProperties",ol.interaction.KeyboardZoom.prototype.setProperties);goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"unset",ol.interaction.KeyboardZoom.prototype.unset);goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"changed",ol.interaction.KeyboardZoom.prototype.changed);goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"dispatchEvent",ol.interaction.KeyboardZoom.prototype.dispatchEvent);goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"getRevision",ol.interaction.KeyboardZoom.prototype.getRevision);goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"on",ol.interaction.KeyboardZoom.prototype.on);goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"once",ol.interaction.KeyboardZoom.prototype.once);goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"un",ol.interaction.KeyboardZoom.prototype.un);goog.exportProperty(ol.interaction.Modify.prototype,"getActive",ol.interaction.Modify.prototype.getActive);goog.exportProperty(ol.interaction.Modify.prototype,"getMap",ol.interaction.Modify.prototype.getMap);goog.exportProperty(ol.interaction.Modify.prototype,"setActive",ol.interaction.Modify.prototype.setActive);goog.exportProperty(ol.interaction.Modify.prototype,"get",ol.interaction.Modify.prototype.get);goog.exportProperty(ol.interaction.Modify.prototype,"getKeys",ol.interaction.Modify.prototype.getKeys);goog.exportProperty(ol.interaction.Modify.prototype,"getProperties",ol.interaction.Modify.prototype.getProperties);goog.exportProperty(ol.interaction.Modify.prototype,"set",ol.interaction.Modify.prototype.set);goog.exportProperty(ol.interaction.Modify.prototype,"setProperties",ol.interaction.Modify.prototype.setProperties);goog.exportProperty(ol.interaction.Modify.prototype,"unset",ol.interaction.Modify.prototype.unset);goog.exportProperty(ol.interaction.Modify.prototype,"changed",ol.interaction.Modify.prototype.changed);goog.exportProperty(ol.interaction.Modify.prototype,"dispatchEvent",ol.interaction.Modify.prototype.dispatchEvent);goog.exportProperty(ol.interaction.Modify.prototype,"getRevision",ol.interaction.Modify.prototype.getRevision);goog.exportProperty(ol.interaction.Modify.prototype,"on",ol.interaction.Modify.prototype.on);goog.exportProperty(ol.interaction.Modify.prototype,"once",ol.interaction.Modify.prototype.once);goog.exportProperty(ol.interaction.Modify.prototype,"un",ol.interaction.Modify.prototype.un);goog.exportProperty(ol.interaction.Modify.Event.prototype,"type",ol.interaction.Modify.Event.prototype.type);goog.exportProperty(ol.interaction.Modify.Event.prototype,"target",ol.interaction.Modify.Event.prototype.target);goog.exportProperty(ol.interaction.Modify.Event.prototype,"preventDefault",ol.interaction.Modify.Event.prototype.preventDefault);goog.exportProperty(ol.interaction.Modify.Event.prototype,"stopPropagation",ol.interaction.Modify.Event.prototype.stopPropagation);goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"getActive",ol.interaction.MouseWheelZoom.prototype.getActive);goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"getMap",ol.interaction.MouseWheelZoom.prototype.getMap);goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"setActive",ol.interaction.MouseWheelZoom.prototype.setActive);goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"get",ol.interaction.MouseWheelZoom.prototype.get);goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"getKeys",ol.interaction.MouseWheelZoom.prototype.getKeys);goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"getProperties",ol.interaction.MouseWheelZoom.prototype.getProperties);goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"set",ol.interaction.MouseWheelZoom.prototype.set);goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"setProperties",ol.interaction.MouseWheelZoom.prototype.setProperties);goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"unset",ol.interaction.MouseWheelZoom.prototype.unset);goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"changed",ol.interaction.MouseWheelZoom.prototype.changed);goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"dispatchEvent",ol.interaction.MouseWheelZoom.prototype.dispatchEvent);goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"getRevision",ol.interaction.MouseWheelZoom.prototype.getRevision);goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"on",ol.interaction.MouseWheelZoom.prototype.on);goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"once",ol.interaction.MouseWheelZoom.prototype.once);goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"un",ol.interaction.MouseWheelZoom.prototype.un);goog.exportProperty(ol.interaction.PinchRotate.prototype,"getActive",ol.interaction.PinchRotate.prototype.getActive);goog.exportProperty(ol.interaction.PinchRotate.prototype,"getMap",ol.interaction.PinchRotate.prototype.getMap);goog.exportProperty(ol.interaction.PinchRotate.prototype,"setActive",ol.interaction.PinchRotate.prototype.setActive);goog.exportProperty(ol.interaction.PinchRotate.prototype,"get",ol.interaction.PinchRotate.prototype.get);goog.exportProperty(ol.interaction.PinchRotate.prototype,"getKeys",ol.interaction.PinchRotate.prototype.getKeys);goog.exportProperty(ol.interaction.PinchRotate.prototype,"getProperties",ol.interaction.PinchRotate.prototype.getProperties);goog.exportProperty(ol.interaction.PinchRotate.prototype,"set",ol.interaction.PinchRotate.prototype.set);goog.exportProperty(ol.interaction.PinchRotate.prototype,"setProperties",ol.interaction.PinchRotate.prototype.setProperties);goog.exportProperty(ol.interaction.PinchRotate.prototype,"unset",ol.interaction.PinchRotate.prototype.unset);goog.exportProperty(ol.interaction.PinchRotate.prototype,"changed",ol.interaction.PinchRotate.prototype.changed);goog.exportProperty(ol.interaction.PinchRotate.prototype,"dispatchEvent",ol.interaction.PinchRotate.prototype.dispatchEvent);goog.exportProperty(ol.interaction.PinchRotate.prototype,"getRevision",ol.interaction.PinchRotate.prototype.getRevision);goog.exportProperty(ol.interaction.PinchRotate.prototype,"on",ol.interaction.PinchRotate.prototype.on);goog.exportProperty(ol.interaction.PinchRotate.prototype,"once",ol.interaction.PinchRotate.prototype.once);goog.exportProperty(ol.interaction.PinchRotate.prototype,"un",ol.interaction.PinchRotate.prototype.un);goog.exportProperty(ol.interaction.PinchZoom.prototype,"getActive",ol.interaction.PinchZoom.prototype.getActive);goog.exportProperty(ol.interaction.PinchZoom.prototype,"getMap",ol.interaction.PinchZoom.prototype.getMap);goog.exportProperty(ol.interaction.PinchZoom.prototype,"setActive",ol.interaction.PinchZoom.prototype.setActive);goog.exportProperty(ol.interaction.PinchZoom.prototype,"get",ol.interaction.PinchZoom.prototype.get);goog.exportProperty(ol.interaction.PinchZoom.prototype,"getKeys",ol.interaction.PinchZoom.prototype.getKeys);goog.exportProperty(ol.interaction.PinchZoom.prototype,"getProperties",ol.interaction.PinchZoom.prototype.getProperties);goog.exportProperty(ol.interaction.PinchZoom.prototype,"set",ol.interaction.PinchZoom.prototype.set);goog.exportProperty(ol.interaction.PinchZoom.prototype,"setProperties",ol.interaction.PinchZoom.prototype.setProperties);goog.exportProperty(ol.interaction.PinchZoom.prototype,"unset",ol.interaction.PinchZoom.prototype.unset);goog.exportProperty(ol.interaction.PinchZoom.prototype,"changed",ol.interaction.PinchZoom.prototype.changed);goog.exportProperty(ol.interaction.PinchZoom.prototype,"dispatchEvent",ol.interaction.PinchZoom.prototype.dispatchEvent);goog.exportProperty(ol.interaction.PinchZoom.prototype,"getRevision",ol.interaction.PinchZoom.prototype.getRevision);goog.exportProperty(ol.interaction.PinchZoom.prototype,"on",ol.interaction.PinchZoom.prototype.on);goog.exportProperty(ol.interaction.PinchZoom.prototype,"once",ol.interaction.PinchZoom.prototype.once);goog.exportProperty(ol.interaction.PinchZoom.prototype,"un",ol.interaction.PinchZoom.prototype.un);goog.exportProperty(ol.interaction.Select.prototype,"getActive",ol.interaction.Select.prototype.getActive);goog.exportProperty(ol.interaction.Select.prototype,"getMap",ol.interaction.Select.prototype.getMap);goog.exportProperty(ol.interaction.Select.prototype,"setActive",ol.interaction.Select.prototype.setActive);goog.exportProperty(ol.interaction.Select.prototype,"get",ol.interaction.Select.prototype.get);goog.exportProperty(ol.interaction.Select.prototype,"getKeys",ol.interaction.Select.prototype.getKeys);goog.exportProperty(ol.interaction.Select.prototype,"getProperties",ol.interaction.Select.prototype.getProperties);goog.exportProperty(ol.interaction.Select.prototype,"set",ol.interaction.Select.prototype.set);goog.exportProperty(ol.interaction.Select.prototype,"setProperties",ol.interaction.Select.prototype.setProperties);goog.exportProperty(ol.interaction.Select.prototype,"unset",ol.interaction.Select.prototype.unset);goog.exportProperty(ol.interaction.Select.prototype,"changed",ol.interaction.Select.prototype.changed);goog.exportProperty(ol.interaction.Select.prototype,"dispatchEvent",ol.interaction.Select.prototype.dispatchEvent);goog.exportProperty(ol.interaction.Select.prototype,"getRevision",ol.interaction.Select.prototype.getRevision);goog.exportProperty(ol.interaction.Select.prototype,"on",ol.interaction.Select.prototype.on);goog.exportProperty(ol.interaction.Select.prototype,"once",ol.interaction.Select.prototype.once);goog.exportProperty(ol.interaction.Select.prototype,"un",ol.interaction.Select.prototype.un);goog.exportProperty(ol.interaction.Select.Event.prototype,"type",ol.interaction.Select.Event.prototype.type);goog.exportProperty(ol.interaction.Select.Event.prototype,"target",ol.interaction.Select.Event.prototype.target);goog.exportProperty(ol.interaction.Select.Event.prototype,"preventDefault",ol.interaction.Select.Event.prototype.preventDefault);goog.exportProperty(ol.interaction.Select.Event.prototype,"stopPropagation",ol.interaction.Select.Event.prototype.stopPropagation);goog.exportProperty(ol.interaction.Snap.prototype,"getActive",ol.interaction.Snap.prototype.getActive);goog.exportProperty(ol.interaction.Snap.prototype,"getMap",ol.interaction.Snap.prototype.getMap);goog.exportProperty(ol.interaction.Snap.prototype,"setActive",ol.interaction.Snap.prototype.setActive);goog.exportProperty(ol.interaction.Snap.prototype,"get",ol.interaction.Snap.prototype.get);goog.exportProperty(ol.interaction.Snap.prototype,"getKeys",ol.interaction.Snap.prototype.getKeys);goog.exportProperty(ol.interaction.Snap.prototype,"getProperties",ol.interaction.Snap.prototype.getProperties);goog.exportProperty(ol.interaction.Snap.prototype,"set",ol.interaction.Snap.prototype.set);goog.exportProperty(ol.interaction.Snap.prototype,"setProperties",ol.interaction.Snap.prototype.setProperties);goog.exportProperty(ol.interaction.Snap.prototype,"unset",ol.interaction.Snap.prototype.unset);goog.exportProperty(ol.interaction.Snap.prototype,"changed",ol.interaction.Snap.prototype.changed);goog.exportProperty(ol.interaction.Snap.prototype,"dispatchEvent",ol.interaction.Snap.prototype.dispatchEvent);goog.exportProperty(ol.interaction.Snap.prototype,"getRevision",ol.interaction.Snap.prototype.getRevision);goog.exportProperty(ol.interaction.Snap.prototype,"on",ol.interaction.Snap.prototype.on);goog.exportProperty(ol.interaction.Snap.prototype,"once",ol.interaction.Snap.prototype.once);goog.exportProperty(ol.interaction.Snap.prototype,"un",ol.interaction.Snap.prototype.un);goog.exportProperty(ol.interaction.Translate.prototype,"getActive",ol.interaction.Translate.prototype.getActive);goog.exportProperty(ol.interaction.Translate.prototype,"getMap",ol.interaction.Translate.prototype.getMap);goog.exportProperty(ol.interaction.Translate.prototype,"setActive",ol.interaction.Translate.prototype.setActive);goog.exportProperty(ol.interaction.Translate.prototype,"get",ol.interaction.Translate.prototype.get);goog.exportProperty(ol.interaction.Translate.prototype,"getKeys",ol.interaction.Translate.prototype.getKeys);goog.exportProperty(ol.interaction.Translate.prototype,"getProperties",ol.interaction.Translate.prototype.getProperties);goog.exportProperty(ol.interaction.Translate.prototype,"set",ol.interaction.Translate.prototype.set);goog.exportProperty(ol.interaction.Translate.prototype,"setProperties",ol.interaction.Translate.prototype.setProperties);goog.exportProperty(ol.interaction.Translate.prototype,"unset",ol.interaction.Translate.prototype.unset);goog.exportProperty(ol.interaction.Translate.prototype,"changed",ol.interaction.Translate.prototype.changed);goog.exportProperty(ol.interaction.Translate.prototype,"dispatchEvent",ol.interaction.Translate.prototype.dispatchEvent);goog.exportProperty(ol.interaction.Translate.prototype,"getRevision",ol.interaction.Translate.prototype.getRevision);goog.exportProperty(ol.interaction.Translate.prototype,"on",ol.interaction.Translate.prototype.on);goog.exportProperty(ol.interaction.Translate.prototype,"once",ol.interaction.Translate.prototype.once);goog.exportProperty(ol.interaction.Translate.prototype,"un",ol.interaction.Translate.prototype.un);goog.exportProperty(ol.interaction.Translate.Event.prototype,"type",ol.interaction.Translate.Event.prototype.type);goog.exportProperty(ol.interaction.Translate.Event.prototype,"target",ol.interaction.Translate.Event.prototype.target);goog.exportProperty(ol.interaction.Translate.Event.prototype,"preventDefault",ol.interaction.Translate.Event.prototype.preventDefault);goog.exportProperty(ol.interaction.Translate.Event.prototype,"stopPropagation",ol.interaction.Translate.Event.prototype.stopPropagation);goog.exportProperty(ol.geom.Geometry.prototype,"get",ol.geom.Geometry.prototype.get);goog.exportProperty(ol.geom.Geometry.prototype,"getKeys",ol.geom.Geometry.prototype.getKeys);goog.exportProperty(ol.geom.Geometry.prototype,"getProperties",ol.geom.Geometry.prototype.getProperties);goog.exportProperty(ol.geom.Geometry.prototype,"set",ol.geom.Geometry.prototype.set);goog.exportProperty(ol.geom.Geometry.prototype,"setProperties",ol.geom.Geometry.prototype.setProperties);goog.exportProperty(ol.geom.Geometry.prototype,"unset",ol.geom.Geometry.prototype.unset);goog.exportProperty(ol.geom.Geometry.prototype,"changed",ol.geom.Geometry.prototype.changed);goog.exportProperty(ol.geom.Geometry.prototype,"dispatchEvent",ol.geom.Geometry.prototype.dispatchEvent);goog.exportProperty(ol.geom.Geometry.prototype,"getRevision",ol.geom.Geometry.prototype.getRevision);goog.exportProperty(ol.geom.Geometry.prototype,"on",ol.geom.Geometry.prototype.on);goog.exportProperty(ol.geom.Geometry.prototype,"once",ol.geom.Geometry.prototype.once);goog.exportProperty(ol.geom.Geometry.prototype,"un",ol.geom.Geometry.prototype.un);goog.exportProperty(ol.geom.SimpleGeometry.prototype,"getClosestPoint",ol.geom.SimpleGeometry.prototype.getClosestPoint);goog.exportProperty(ol.geom.SimpleGeometry.prototype,"intersectsCoordinate",ol.geom.SimpleGeometry.prototype.intersectsCoordinate);goog.exportProperty(ol.geom.SimpleGeometry.prototype,"getExtent",ol.geom.SimpleGeometry.prototype.getExtent);goog.exportProperty(ol.geom.SimpleGeometry.prototype,"rotate",ol.geom.SimpleGeometry.prototype.rotate);goog.exportProperty(ol.geom.SimpleGeometry.prototype,"scale",ol.geom.SimpleGeometry.prototype.scale);goog.exportProperty(ol.geom.SimpleGeometry.prototype,"simplify",ol.geom.SimpleGeometry.prototype.simplify);goog.exportProperty(ol.geom.SimpleGeometry.prototype,"transform",ol.geom.SimpleGeometry.prototype.transform);goog.exportProperty(ol.geom.SimpleGeometry.prototype,"get",ol.geom.SimpleGeometry.prototype.get);goog.exportProperty(ol.geom.SimpleGeometry.prototype,"getKeys",ol.geom.SimpleGeometry.prototype.getKeys);goog.exportProperty(ol.geom.SimpleGeometry.prototype,"getProperties",ol.geom.SimpleGeometry.prototype.getProperties);goog.exportProperty(ol.geom.SimpleGeometry.prototype,"set",ol.geom.SimpleGeometry.prototype.set);goog.exportProperty(ol.geom.SimpleGeometry.prototype,"setProperties",ol.geom.SimpleGeometry.prototype.setProperties);goog.exportProperty(ol.geom.SimpleGeometry.prototype,"unset",ol.geom.SimpleGeometry.prototype.unset);goog.exportProperty(ol.geom.SimpleGeometry.prototype,"changed",ol.geom.SimpleGeometry.prototype.changed);goog.exportProperty(ol.geom.SimpleGeometry.prototype,"dispatchEvent",ol.geom.SimpleGeometry.prototype.dispatchEvent);goog.exportProperty(ol.geom.SimpleGeometry.prototype,"getRevision",ol.geom.SimpleGeometry.prototype.getRevision);goog.exportProperty(ol.geom.SimpleGeometry.prototype,"on",ol.geom.SimpleGeometry.prototype.on);goog.exportProperty(ol.geom.SimpleGeometry.prototype,"once",ol.geom.SimpleGeometry.prototype.once);goog.exportProperty(ol.geom.SimpleGeometry.prototype,"un",ol.geom.SimpleGeometry.prototype.un);goog.exportProperty(ol.geom.Circle.prototype,"getFirstCoordinate",ol.geom.Circle.prototype.getFirstCoordinate);goog.exportProperty(ol.geom.Circle.prototype,"getLastCoordinate",ol.geom.Circle.prototype.getLastCoordinate);goog.exportProperty(ol.geom.Circle.prototype,"getLayout",ol.geom.Circle.prototype.getLayout);goog.exportProperty(ol.geom.Circle.prototype,"rotate",ol.geom.Circle.prototype.rotate);goog.exportProperty(ol.geom.Circle.prototype,"scale",ol.geom.Circle.prototype.scale);goog.exportProperty(ol.geom.Circle.prototype,"getClosestPoint",ol.geom.Circle.prototype.getClosestPoint);goog.exportProperty(ol.geom.Circle.prototype,"intersectsCoordinate",ol.geom.Circle.prototype.intersectsCoordinate);goog.exportProperty(ol.geom.Circle.prototype,"getExtent",ol.geom.Circle.prototype.getExtent);goog.exportProperty(ol.geom.Circle.prototype,"simplify",ol.geom.Circle.prototype.simplify);goog.exportProperty(ol.geom.Circle.prototype,"get",ol.geom.Circle.prototype.get);goog.exportProperty(ol.geom.Circle.prototype,"getKeys",ol.geom.Circle.prototype.getKeys);goog.exportProperty(ol.geom.Circle.prototype,"getProperties",ol.geom.Circle.prototype.getProperties);goog.exportProperty(ol.geom.Circle.prototype,"set",ol.geom.Circle.prototype.set);goog.exportProperty(ol.geom.Circle.prototype,"setProperties",ol.geom.Circle.prototype.setProperties);goog.exportProperty(ol.geom.Circle.prototype,"unset",ol.geom.Circle.prototype.unset);goog.exportProperty(ol.geom.Circle.prototype,"changed",ol.geom.Circle.prototype.changed);goog.exportProperty(ol.geom.Circle.prototype,"dispatchEvent",ol.geom.Circle.prototype.dispatchEvent);goog.exportProperty(ol.geom.Circle.prototype,"getRevision",ol.geom.Circle.prototype.getRevision);goog.exportProperty(ol.geom.Circle.prototype,"on",ol.geom.Circle.prototype.on);goog.exportProperty(ol.geom.Circle.prototype,"once",ol.geom.Circle.prototype.once);goog.exportProperty(ol.geom.Circle.prototype,"un",ol.geom.Circle.prototype.un);goog.exportProperty(ol.geom.GeometryCollection.prototype,"getClosestPoint",ol.geom.GeometryCollection.prototype.getClosestPoint);goog.exportProperty(ol.geom.GeometryCollection.prototype,"intersectsCoordinate",ol.geom.GeometryCollection.prototype.intersectsCoordinate);goog.exportProperty(ol.geom.GeometryCollection.prototype,"getExtent",ol.geom.GeometryCollection.prototype.getExtent);goog.exportProperty(ol.geom.GeometryCollection.prototype,"rotate",ol.geom.GeometryCollection.prototype.rotate);goog.exportProperty(ol.geom.GeometryCollection.prototype,"scale",ol.geom.GeometryCollection.prototype.scale);goog.exportProperty(ol.geom.GeometryCollection.prototype,"simplify",ol.geom.GeometryCollection.prototype.simplify);goog.exportProperty(ol.geom.GeometryCollection.prototype,"transform",ol.geom.GeometryCollection.prototype.transform);goog.exportProperty(ol.geom.GeometryCollection.prototype,"get",ol.geom.GeometryCollection.prototype.get);goog.exportProperty(ol.geom.GeometryCollection.prototype,"getKeys",ol.geom.GeometryCollection.prototype.getKeys);goog.exportProperty(ol.geom.GeometryCollection.prototype,"getProperties",ol.geom.GeometryCollection.prototype.getProperties);goog.exportProperty(ol.geom.GeometryCollection.prototype,"set",ol.geom.GeometryCollection.prototype.set);goog.exportProperty(ol.geom.GeometryCollection.prototype,"setProperties",ol.geom.GeometryCollection.prototype.setProperties);goog.exportProperty(ol.geom.GeometryCollection.prototype,"unset",ol.geom.GeometryCollection.prototype.unset);goog.exportProperty(ol.geom.GeometryCollection.prototype,"changed",ol.geom.GeometryCollection.prototype.changed);goog.exportProperty(ol.geom.GeometryCollection.prototype,"dispatchEvent",ol.geom.GeometryCollection.prototype.dispatchEvent);goog.exportProperty(ol.geom.GeometryCollection.prototype,"getRevision",ol.geom.GeometryCollection.prototype.getRevision);goog.exportProperty(ol.geom.GeometryCollection.prototype,"on",ol.geom.GeometryCollection.prototype.on);goog.exportProperty(ol.geom.GeometryCollection.prototype,"once",ol.geom.GeometryCollection.prototype.once);goog.exportProperty(ol.geom.GeometryCollection.prototype,"un",ol.geom.GeometryCollection.prototype.un);goog.exportProperty(ol.geom.LinearRing.prototype,"getFirstCoordinate",ol.geom.LinearRing.prototype.getFirstCoordinate);goog.exportProperty(ol.geom.LinearRing.prototype,"getLastCoordinate",ol.geom.LinearRing.prototype.getLastCoordinate);goog.exportProperty(ol.geom.LinearRing.prototype,"getLayout",ol.geom.LinearRing.prototype.getLayout);goog.exportProperty(ol.geom.LinearRing.prototype,"rotate",ol.geom.LinearRing.prototype.rotate);goog.exportProperty(ol.geom.LinearRing.prototype,"scale",ol.geom.LinearRing.prototype.scale);goog.exportProperty(ol.geom.LinearRing.prototype,"getClosestPoint",ol.geom.LinearRing.prototype.getClosestPoint);goog.exportProperty(ol.geom.LinearRing.prototype,"intersectsCoordinate",ol.geom.LinearRing.prototype.intersectsCoordinate);goog.exportProperty(ol.geom.LinearRing.prototype,"getExtent",ol.geom.LinearRing.prototype.getExtent);goog.exportProperty(ol.geom.LinearRing.prototype,"simplify",ol.geom.LinearRing.prototype.simplify);goog.exportProperty(ol.geom.LinearRing.prototype,"transform",ol.geom.LinearRing.prototype.transform);goog.exportProperty(ol.geom.LinearRing.prototype,"get",ol.geom.LinearRing.prototype.get);goog.exportProperty(ol.geom.LinearRing.prototype,"getKeys",ol.geom.LinearRing.prototype.getKeys);goog.exportProperty(ol.geom.LinearRing.prototype,"getProperties",ol.geom.LinearRing.prototype.getProperties);goog.exportProperty(ol.geom.LinearRing.prototype,"set",ol.geom.LinearRing.prototype.set);goog.exportProperty(ol.geom.LinearRing.prototype,"setProperties",ol.geom.LinearRing.prototype.setProperties);goog.exportProperty(ol.geom.LinearRing.prototype,"unset",ol.geom.LinearRing.prototype.unset);goog.exportProperty(ol.geom.LinearRing.prototype,"changed",ol.geom.LinearRing.prototype.changed);goog.exportProperty(ol.geom.LinearRing.prototype,"dispatchEvent",ol.geom.LinearRing.prototype.dispatchEvent);goog.exportProperty(ol.geom.LinearRing.prototype,"getRevision",ol.geom.LinearRing.prototype.getRevision);goog.exportProperty(ol.geom.LinearRing.prototype,"on",ol.geom.LinearRing.prototype.on);goog.exportProperty(ol.geom.LinearRing.prototype,"once",ol.geom.LinearRing.prototype.once);goog.exportProperty(ol.geom.LinearRing.prototype,"un",ol.geom.LinearRing.prototype.un);goog.exportProperty(ol.geom.LineString.prototype,"getFirstCoordinate",ol.geom.LineString.prototype.getFirstCoordinate);goog.exportProperty(ol.geom.LineString.prototype,"getLastCoordinate",ol.geom.LineString.prototype.getLastCoordinate);goog.exportProperty(ol.geom.LineString.prototype,"getLayout",ol.geom.LineString.prototype.getLayout);goog.exportProperty(ol.geom.LineString.prototype,"rotate",ol.geom.LineString.prototype.rotate);goog.exportProperty(ol.geom.LineString.prototype,"scale",ol.geom.LineString.prototype.scale);goog.exportProperty(ol.geom.LineString.prototype,"getClosestPoint",ol.geom.LineString.prototype.getClosestPoint);goog.exportProperty(ol.geom.LineString.prototype,"intersectsCoordinate",ol.geom.LineString.prototype.intersectsCoordinate);goog.exportProperty(ol.geom.LineString.prototype,"getExtent",ol.geom.LineString.prototype.getExtent);goog.exportProperty(ol.geom.LineString.prototype,"simplify",ol.geom.LineString.prototype.simplify);goog.exportProperty(ol.geom.LineString.prototype,"transform",ol.geom.LineString.prototype.transform);goog.exportProperty(ol.geom.LineString.prototype,"get",ol.geom.LineString.prototype.get);goog.exportProperty(ol.geom.LineString.prototype,"getKeys",ol.geom.LineString.prototype.getKeys);goog.exportProperty(ol.geom.LineString.prototype,"getProperties",ol.geom.LineString.prototype.getProperties);goog.exportProperty(ol.geom.LineString.prototype,"set",ol.geom.LineString.prototype.set);goog.exportProperty(ol.geom.LineString.prototype,"setProperties",ol.geom.LineString.prototype.setProperties);goog.exportProperty(ol.geom.LineString.prototype,"unset",ol.geom.LineString.prototype.unset);goog.exportProperty(ol.geom.LineString.prototype,"changed",ol.geom.LineString.prototype.changed);goog.exportProperty(ol.geom.LineString.prototype,"dispatchEvent",ol.geom.LineString.prototype.dispatchEvent);goog.exportProperty(ol.geom.LineString.prototype,"getRevision",ol.geom.LineString.prototype.getRevision);goog.exportProperty(ol.geom.LineString.prototype,"on",ol.geom.LineString.prototype.on);goog.exportProperty(ol.geom.LineString.prototype,"once",ol.geom.LineString.prototype.once);goog.exportProperty(ol.geom.LineString.prototype,"un",ol.geom.LineString.prototype.un);goog.exportProperty(ol.geom.MultiLineString.prototype,"getFirstCoordinate",ol.geom.MultiLineString.prototype.getFirstCoordinate);goog.exportProperty(ol.geom.MultiLineString.prototype,"getLastCoordinate",ol.geom.MultiLineString.prototype.getLastCoordinate);goog.exportProperty(ol.geom.MultiLineString.prototype,"getLayout",ol.geom.MultiLineString.prototype.getLayout);goog.exportProperty(ol.geom.MultiLineString.prototype,"rotate",ol.geom.MultiLineString.prototype.rotate);goog.exportProperty(ol.geom.MultiLineString.prototype,"scale",ol.geom.MultiLineString.prototype.scale);goog.exportProperty(ol.geom.MultiLineString.prototype,"getClosestPoint",ol.geom.MultiLineString.prototype.getClosestPoint);goog.exportProperty(ol.geom.MultiLineString.prototype,"intersectsCoordinate",ol.geom.MultiLineString.prototype.intersectsCoordinate);goog.exportProperty(ol.geom.MultiLineString.prototype,"getExtent",ol.geom.MultiLineString.prototype.getExtent);goog.exportProperty(ol.geom.MultiLineString.prototype,"simplify",ol.geom.MultiLineString.prototype.simplify);goog.exportProperty(ol.geom.MultiLineString.prototype,"transform",ol.geom.MultiLineString.prototype.transform);goog.exportProperty(ol.geom.MultiLineString.prototype,"get",ol.geom.MultiLineString.prototype.get);goog.exportProperty(ol.geom.MultiLineString.prototype,"getKeys",ol.geom.MultiLineString.prototype.getKeys);goog.exportProperty(ol.geom.MultiLineString.prototype,"getProperties",ol.geom.MultiLineString.prototype.getProperties);goog.exportProperty(ol.geom.MultiLineString.prototype,"set",ol.geom.MultiLineString.prototype.set);goog.exportProperty(ol.geom.MultiLineString.prototype,"setProperties",ol.geom.MultiLineString.prototype.setProperties);goog.exportProperty(ol.geom.MultiLineString.prototype,"unset",ol.geom.MultiLineString.prototype.unset);goog.exportProperty(ol.geom.MultiLineString.prototype,"changed",ol.geom.MultiLineString.prototype.changed);goog.exportProperty(ol.geom.MultiLineString.prototype,"dispatchEvent",ol.geom.MultiLineString.prototype.dispatchEvent);goog.exportProperty(ol.geom.MultiLineString.prototype,"getRevision",ol.geom.MultiLineString.prototype.getRevision);goog.exportProperty(ol.geom.MultiLineString.prototype,"on",ol.geom.MultiLineString.prototype.on);goog.exportProperty(ol.geom.MultiLineString.prototype,"once",ol.geom.MultiLineString.prototype.once);goog.exportProperty(ol.geom.MultiLineString.prototype,"un",ol.geom.MultiLineString.prototype.un);goog.exportProperty(ol.geom.MultiPoint.prototype,"getFirstCoordinate",ol.geom.MultiPoint.prototype.getFirstCoordinate);goog.exportProperty(ol.geom.MultiPoint.prototype,"getLastCoordinate",ol.geom.MultiPoint.prototype.getLastCoordinate);goog.exportProperty(ol.geom.MultiPoint.prototype,"getLayout",ol.geom.MultiPoint.prototype.getLayout);goog.exportProperty(ol.geom.MultiPoint.prototype,"rotate",ol.geom.MultiPoint.prototype.rotate);goog.exportProperty(ol.geom.MultiPoint.prototype,"scale",ol.geom.MultiPoint.prototype.scale);goog.exportProperty(ol.geom.MultiPoint.prototype,"getClosestPoint",ol.geom.MultiPoint.prototype.getClosestPoint);goog.exportProperty(ol.geom.MultiPoint.prototype,"intersectsCoordinate",ol.geom.MultiPoint.prototype.intersectsCoordinate);goog.exportProperty(ol.geom.MultiPoint.prototype,"getExtent",ol.geom.MultiPoint.prototype.getExtent);goog.exportProperty(ol.geom.MultiPoint.prototype,"simplify",ol.geom.MultiPoint.prototype.simplify);goog.exportProperty(ol.geom.MultiPoint.prototype,"transform",ol.geom.MultiPoint.prototype.transform);goog.exportProperty(ol.geom.MultiPoint.prototype,"get",ol.geom.MultiPoint.prototype.get);goog.exportProperty(ol.geom.MultiPoint.prototype,"getKeys",ol.geom.MultiPoint.prototype.getKeys);goog.exportProperty(ol.geom.MultiPoint.prototype,"getProperties",ol.geom.MultiPoint.prototype.getProperties);goog.exportProperty(ol.geom.MultiPoint.prototype,"set",ol.geom.MultiPoint.prototype.set);goog.exportProperty(ol.geom.MultiPoint.prototype,"setProperties",ol.geom.MultiPoint.prototype.setProperties);goog.exportProperty(ol.geom.MultiPoint.prototype,"unset",ol.geom.MultiPoint.prototype.unset);goog.exportProperty(ol.geom.MultiPoint.prototype,"changed",ol.geom.MultiPoint.prototype.changed);goog.exportProperty(ol.geom.MultiPoint.prototype,"dispatchEvent",ol.geom.MultiPoint.prototype.dispatchEvent);goog.exportProperty(ol.geom.MultiPoint.prototype,"getRevision",ol.geom.MultiPoint.prototype.getRevision);goog.exportProperty(ol.geom.MultiPoint.prototype,"on",ol.geom.MultiPoint.prototype.on);goog.exportProperty(ol.geom.MultiPoint.prototype,"once",ol.geom.MultiPoint.prototype.once);goog.exportProperty(ol.geom.MultiPoint.prototype,"un",ol.geom.MultiPoint.prototype.un);goog.exportProperty(ol.geom.MultiPolygon.prototype,"getFirstCoordinate",ol.geom.MultiPolygon.prototype.getFirstCoordinate);goog.exportProperty(ol.geom.MultiPolygon.prototype,"getLastCoordinate",ol.geom.MultiPolygon.prototype.getLastCoordinate);goog.exportProperty(ol.geom.MultiPolygon.prototype,"getLayout",ol.geom.MultiPolygon.prototype.getLayout);goog.exportProperty(ol.geom.MultiPolygon.prototype,"rotate",ol.geom.MultiPolygon.prototype.rotate);goog.exportProperty(ol.geom.MultiPolygon.prototype,"scale",ol.geom.MultiPolygon.prototype.scale);goog.exportProperty(ol.geom.MultiPolygon.prototype,"getClosestPoint",ol.geom.MultiPolygon.prototype.getClosestPoint);goog.exportProperty(ol.geom.MultiPolygon.prototype,"intersectsCoordinate",ol.geom.MultiPolygon.prototype.intersectsCoordinate);goog.exportProperty(ol.geom.MultiPolygon.prototype,"getExtent",ol.geom.MultiPolygon.prototype.getExtent);goog.exportProperty(ol.geom.MultiPolygon.prototype,"simplify",ol.geom.MultiPolygon.prototype.simplify);goog.exportProperty(ol.geom.MultiPolygon.prototype,"transform",ol.geom.MultiPolygon.prototype.transform);goog.exportProperty(ol.geom.MultiPolygon.prototype,"get",ol.geom.MultiPolygon.prototype.get);goog.exportProperty(ol.geom.MultiPolygon.prototype,"getKeys",ol.geom.MultiPolygon.prototype.getKeys);goog.exportProperty(ol.geom.MultiPolygon.prototype,"getProperties",ol.geom.MultiPolygon.prototype.getProperties);goog.exportProperty(ol.geom.MultiPolygon.prototype,"set",ol.geom.MultiPolygon.prototype.set);goog.exportProperty(ol.geom.MultiPolygon.prototype,"setProperties",ol.geom.MultiPolygon.prototype.setProperties);goog.exportProperty(ol.geom.MultiPolygon.prototype,"unset",ol.geom.MultiPolygon.prototype.unset);goog.exportProperty(ol.geom.MultiPolygon.prototype,"changed",ol.geom.MultiPolygon.prototype.changed);goog.exportProperty(ol.geom.MultiPolygon.prototype,"dispatchEvent",ol.geom.MultiPolygon.prototype.dispatchEvent);goog.exportProperty(ol.geom.MultiPolygon.prototype,"getRevision",ol.geom.MultiPolygon.prototype.getRevision);goog.exportProperty(ol.geom.MultiPolygon.prototype,"on",ol.geom.MultiPolygon.prototype.on);goog.exportProperty(ol.geom.MultiPolygon.prototype,"once",ol.geom.MultiPolygon.prototype.once);goog.exportProperty(ol.geom.MultiPolygon.prototype,"un",ol.geom.MultiPolygon.prototype.un);goog.exportProperty(ol.geom.Point.prototype,"getFirstCoordinate",ol.geom.Point.prototype.getFirstCoordinate);goog.exportProperty(ol.geom.Point.prototype,"getLastCoordinate",ol.geom.Point.prototype.getLastCoordinate);goog.exportProperty(ol.geom.Point.prototype,"getLayout",ol.geom.Point.prototype.getLayout);goog.exportProperty(ol.geom.Point.prototype,"rotate",ol.geom.Point.prototype.rotate);goog.exportProperty(ol.geom.Point.prototype,"scale",ol.geom.Point.prototype.scale);goog.exportProperty(ol.geom.Point.prototype,"getClosestPoint",ol.geom.Point.prototype.getClosestPoint);goog.exportProperty(ol.geom.Point.prototype,"intersectsCoordinate",ol.geom.Point.prototype.intersectsCoordinate);goog.exportProperty(ol.geom.Point.prototype,"getExtent",ol.geom.Point.prototype.getExtent);goog.exportProperty(ol.geom.Point.prototype,"simplify",ol.geom.Point.prototype.simplify);goog.exportProperty(ol.geom.Point.prototype,"transform",ol.geom.Point.prototype.transform);goog.exportProperty(ol.geom.Point.prototype,"get",ol.geom.Point.prototype.get);goog.exportProperty(ol.geom.Point.prototype,"getKeys",ol.geom.Point.prototype.getKeys);goog.exportProperty(ol.geom.Point.prototype,"getProperties",ol.geom.Point.prototype.getProperties);goog.exportProperty(ol.geom.Point.prototype,"set",ol.geom.Point.prototype.set);goog.exportProperty(ol.geom.Point.prototype,"setProperties",ol.geom.Point.prototype.setProperties);goog.exportProperty(ol.geom.Point.prototype,"unset",ol.geom.Point.prototype.unset);goog.exportProperty(ol.geom.Point.prototype,"changed",ol.geom.Point.prototype.changed);goog.exportProperty(ol.geom.Point.prototype,"dispatchEvent",ol.geom.Point.prototype.dispatchEvent);goog.exportProperty(ol.geom.Point.prototype,"getRevision",ol.geom.Point.prototype.getRevision);goog.exportProperty(ol.geom.Point.prototype,"on",ol.geom.Point.prototype.on);goog.exportProperty(ol.geom.Point.prototype,"once",ol.geom.Point.prototype.once);goog.exportProperty(ol.geom.Point.prototype,"un",ol.geom.Point.prototype.un);goog.exportProperty(ol.geom.Polygon.prototype,"getFirstCoordinate",ol.geom.Polygon.prototype.getFirstCoordinate);goog.exportProperty(ol.geom.Polygon.prototype,"getLastCoordinate",ol.geom.Polygon.prototype.getLastCoordinate);goog.exportProperty(ol.geom.Polygon.prototype,"getLayout",ol.geom.Polygon.prototype.getLayout);goog.exportProperty(ol.geom.Polygon.prototype,"rotate",ol.geom.Polygon.prototype.rotate);goog.exportProperty(ol.geom.Polygon.prototype,"scale",ol.geom.Polygon.prototype.scale);goog.exportProperty(ol.geom.Polygon.prototype,"getClosestPoint",ol.geom.Polygon.prototype.getClosestPoint);goog.exportProperty(ol.geom.Polygon.prototype,"intersectsCoordinate",ol.geom.Polygon.prototype.intersectsCoordinate);goog.exportProperty(ol.geom.Polygon.prototype,"getExtent",ol.geom.Polygon.prototype.getExtent);goog.exportProperty(ol.geom.Polygon.prototype,"simplify",ol.geom.Polygon.prototype.simplify);goog.exportProperty(ol.geom.Polygon.prototype,"transform",ol.geom.Polygon.prototype.transform);goog.exportProperty(ol.geom.Polygon.prototype,"get",ol.geom.Polygon.prototype.get);goog.exportProperty(ol.geom.Polygon.prototype,"getKeys",ol.geom.Polygon.prototype.getKeys);goog.exportProperty(ol.geom.Polygon.prototype,"getProperties",ol.geom.Polygon.prototype.getProperties);goog.exportProperty(ol.geom.Polygon.prototype,"set",ol.geom.Polygon.prototype.set);goog.exportProperty(ol.geom.Polygon.prototype,"setProperties",ol.geom.Polygon.prototype.setProperties);goog.exportProperty(ol.geom.Polygon.prototype,"unset",ol.geom.Polygon.prototype.unset);goog.exportProperty(ol.geom.Polygon.prototype,"changed",ol.geom.Polygon.prototype.changed);goog.exportProperty(ol.geom.Polygon.prototype,"dispatchEvent",ol.geom.Polygon.prototype.dispatchEvent);goog.exportProperty(ol.geom.Polygon.prototype,"getRevision",ol.geom.Polygon.prototype.getRevision);goog.exportProperty(ol.geom.Polygon.prototype,"on",ol.geom.Polygon.prototype.on);goog.exportProperty(ol.geom.Polygon.prototype,"once",ol.geom.Polygon.prototype.once);goog.exportProperty(ol.geom.Polygon.prototype,"un",ol.geom.Polygon.prototype.un);goog.exportProperty(ol.format.GML.prototype,"readFeatures",ol.format.GML.prototype.readFeatures);goog.exportProperty(ol.format.GML2.prototype,"readFeatures",ol.format.GML2.prototype.readFeatures);goog.exportProperty(ol.format.GML3.prototype,"readFeatures",ol.format.GML3.prototype.readFeatures);goog.exportProperty(ol.control.Control.prototype,"get",ol.control.Control.prototype.get);goog.exportProperty(ol.control.Control.prototype,"getKeys",ol.control.Control.prototype.getKeys);goog.exportProperty(ol.control.Control.prototype,"getProperties",ol.control.Control.prototype.getProperties);goog.exportProperty(ol.control.Control.prototype,"set",ol.control.Control.prototype.set);goog.exportProperty(ol.control.Control.prototype,"setProperties",ol.control.Control.prototype.setProperties);goog.exportProperty(ol.control.Control.prototype,"unset",ol.control.Control.prototype.unset);goog.exportProperty(ol.control.Control.prototype,"changed",ol.control.Control.prototype.changed);goog.exportProperty(ol.control.Control.prototype,"dispatchEvent",ol.control.Control.prototype.dispatchEvent);goog.exportProperty(ol.control.Control.prototype,"getRevision",ol.control.Control.prototype.getRevision);goog.exportProperty(ol.control.Control.prototype,"on",ol.control.Control.prototype.on);goog.exportProperty(ol.control.Control.prototype,"once",ol.control.Control.prototype.once);goog.exportProperty(ol.control.Control.prototype,"un",ol.control.Control.prototype.un);goog.exportProperty(ol.control.Attribution.prototype,"getMap",ol.control.Attribution.prototype.getMap);goog.exportProperty(ol.control.Attribution.prototype,"setMap",ol.control.Attribution.prototype.setMap);goog.exportProperty(ol.control.Attribution.prototype,"setTarget",ol.control.Attribution.prototype.setTarget);goog.exportProperty(ol.control.Attribution.prototype,"get",ol.control.Attribution.prototype.get);goog.exportProperty(ol.control.Attribution.prototype,"getKeys",ol.control.Attribution.prototype.getKeys);goog.exportProperty(ol.control.Attribution.prototype,"getProperties",ol.control.Attribution.prototype.getProperties);goog.exportProperty(ol.control.Attribution.prototype,"set",ol.control.Attribution.prototype.set);goog.exportProperty(ol.control.Attribution.prototype,"setProperties",ol.control.Attribution.prototype.setProperties);goog.exportProperty(ol.control.Attribution.prototype,"unset",ol.control.Attribution.prototype.unset);goog.exportProperty(ol.control.Attribution.prototype,"changed",ol.control.Attribution.prototype.changed);goog.exportProperty(ol.control.Attribution.prototype,"dispatchEvent",ol.control.Attribution.prototype.dispatchEvent);goog.exportProperty(ol.control.Attribution.prototype,"getRevision",ol.control.Attribution.prototype.getRevision);goog.exportProperty(ol.control.Attribution.prototype,"on",ol.control.Attribution.prototype.on);goog.exportProperty(ol.control.Attribution.prototype,"once",ol.control.Attribution.prototype.once);goog.exportProperty(ol.control.Attribution.prototype,"un",ol.control.Attribution.prototype.un);goog.exportProperty(ol.control.FullScreen.prototype,"getMap",ol.control.FullScreen.prototype.getMap);goog.exportProperty(ol.control.FullScreen.prototype,"setMap",ol.control.FullScreen.prototype.setMap);goog.exportProperty(ol.control.FullScreen.prototype,"setTarget",ol.control.FullScreen.prototype.setTarget);goog.exportProperty(ol.control.FullScreen.prototype,"get",ol.control.FullScreen.prototype.get);goog.exportProperty(ol.control.FullScreen.prototype,"getKeys",ol.control.FullScreen.prototype.getKeys);goog.exportProperty(ol.control.FullScreen.prototype,"getProperties",ol.control.FullScreen.prototype.getProperties);goog.exportProperty(ol.control.FullScreen.prototype,"set",ol.control.FullScreen.prototype.set);goog.exportProperty(ol.control.FullScreen.prototype,"setProperties",ol.control.FullScreen.prototype.setProperties);goog.exportProperty(ol.control.FullScreen.prototype,"unset",ol.control.FullScreen.prototype.unset);goog.exportProperty(ol.control.FullScreen.prototype,"changed",ol.control.FullScreen.prototype.changed);goog.exportProperty(ol.control.FullScreen.prototype,"dispatchEvent",ol.control.FullScreen.prototype.dispatchEvent);goog.exportProperty(ol.control.FullScreen.prototype,"getRevision",ol.control.FullScreen.prototype.getRevision);goog.exportProperty(ol.control.FullScreen.prototype,"on",ol.control.FullScreen.prototype.on);goog.exportProperty(ol.control.FullScreen.prototype,"once",ol.control.FullScreen.prototype.once);goog.exportProperty(ol.control.FullScreen.prototype,"un",ol.control.FullScreen.prototype.un);goog.exportProperty(ol.control.MousePosition.prototype,"getMap",ol.control.MousePosition.prototype.getMap);goog.exportProperty(ol.control.MousePosition.prototype,"setMap",ol.control.MousePosition.prototype.setMap);goog.exportProperty(ol.control.MousePosition.prototype,"setTarget",ol.control.MousePosition.prototype.setTarget);goog.exportProperty(ol.control.MousePosition.prototype,"get",ol.control.MousePosition.prototype.get);goog.exportProperty(ol.control.MousePosition.prototype,"getKeys",ol.control.MousePosition.prototype.getKeys);goog.exportProperty(ol.control.MousePosition.prototype,"getProperties",ol.control.MousePosition.prototype.getProperties);goog.exportProperty(ol.control.MousePosition.prototype,"set",ol.control.MousePosition.prototype.set);goog.exportProperty(ol.control.MousePosition.prototype,"setProperties",ol.control.MousePosition.prototype.setProperties);goog.exportProperty(ol.control.MousePosition.prototype,"unset",ol.control.MousePosition.prototype.unset);goog.exportProperty(ol.control.MousePosition.prototype,"changed",ol.control.MousePosition.prototype.changed);goog.exportProperty(ol.control.MousePosition.prototype,"dispatchEvent",ol.control.MousePosition.prototype.dispatchEvent);goog.exportProperty(ol.control.MousePosition.prototype,"getRevision",ol.control.MousePosition.prototype.getRevision);goog.exportProperty(ol.control.MousePosition.prototype,"on",ol.control.MousePosition.prototype.on);goog.exportProperty(ol.control.MousePosition.prototype,"once",ol.control.MousePosition.prototype.once);goog.exportProperty(ol.control.MousePosition.prototype,"un",ol.control.MousePosition.prototype.un);goog.exportProperty(ol.control.OverviewMap.prototype,"getMap",ol.control.OverviewMap.prototype.getMap);goog.exportProperty(ol.control.OverviewMap.prototype,"setMap",ol.control.OverviewMap.prototype.setMap);goog.exportProperty(ol.control.OverviewMap.prototype,"setTarget",ol.control.OverviewMap.prototype.setTarget);goog.exportProperty(ol.control.OverviewMap.prototype,"get",ol.control.OverviewMap.prototype.get);goog.exportProperty(ol.control.OverviewMap.prototype,"getKeys",ol.control.OverviewMap.prototype.getKeys);goog.exportProperty(ol.control.OverviewMap.prototype,"getProperties",ol.control.OverviewMap.prototype.getProperties);goog.exportProperty(ol.control.OverviewMap.prototype,"set",ol.control.OverviewMap.prototype.set);goog.exportProperty(ol.control.OverviewMap.prototype,"setProperties",ol.control.OverviewMap.prototype.setProperties);goog.exportProperty(ol.control.OverviewMap.prototype,"unset",ol.control.OverviewMap.prototype.unset);goog.exportProperty(ol.control.OverviewMap.prototype,"changed",ol.control.OverviewMap.prototype.changed);goog.exportProperty(ol.control.OverviewMap.prototype,"dispatchEvent",ol.control.OverviewMap.prototype.dispatchEvent);goog.exportProperty(ol.control.OverviewMap.prototype,"getRevision",ol.control.OverviewMap.prototype.getRevision);goog.exportProperty(ol.control.OverviewMap.prototype,"on",ol.control.OverviewMap.prototype.on);goog.exportProperty(ol.control.OverviewMap.prototype,"once",ol.control.OverviewMap.prototype.once);goog.exportProperty(ol.control.OverviewMap.prototype,"un",ol.control.OverviewMap.prototype.un);goog.exportProperty(ol.control.Rotate.prototype,"getMap",ol.control.Rotate.prototype.getMap);goog.exportProperty(ol.control.Rotate.prototype,"setMap",ol.control.Rotate.prototype.setMap);goog.exportProperty(ol.control.Rotate.prototype,"setTarget",ol.control.Rotate.prototype.setTarget);goog.exportProperty(ol.control.Rotate.prototype,"get",ol.control.Rotate.prototype.get);goog.exportProperty(ol.control.Rotate.prototype,"getKeys",ol.control.Rotate.prototype.getKeys);goog.exportProperty(ol.control.Rotate.prototype,"getProperties",ol.control.Rotate.prototype.getProperties);goog.exportProperty(ol.control.Rotate.prototype,"set",ol.control.Rotate.prototype.set);goog.exportProperty(ol.control.Rotate.prototype,"setProperties",ol.control.Rotate.prototype.setProperties);goog.exportProperty(ol.control.Rotate.prototype,"unset",ol.control.Rotate.prototype.unset);goog.exportProperty(ol.control.Rotate.prototype,"changed",ol.control.Rotate.prototype.changed);goog.exportProperty(ol.control.Rotate.prototype,"dispatchEvent",ol.control.Rotate.prototype.dispatchEvent);goog.exportProperty(ol.control.Rotate.prototype,"getRevision",ol.control.Rotate.prototype.getRevision);goog.exportProperty(ol.control.Rotate.prototype,"on",ol.control.Rotate.prototype.on);goog.exportProperty(ol.control.Rotate.prototype,"once",ol.control.Rotate.prototype.once);goog.exportProperty(ol.control.Rotate.prototype,"un",ol.control.Rotate.prototype.un);goog.exportProperty(ol.control.ScaleLine.prototype,"getMap",ol.control.ScaleLine.prototype.getMap);goog.exportProperty(ol.control.ScaleLine.prototype,"setMap",ol.control.ScaleLine.prototype.setMap);goog.exportProperty(ol.control.ScaleLine.prototype,"setTarget",ol.control.ScaleLine.prototype.setTarget);goog.exportProperty(ol.control.ScaleLine.prototype,"get",ol.control.ScaleLine.prototype.get);goog.exportProperty(ol.control.ScaleLine.prototype,"getKeys",ol.control.ScaleLine.prototype.getKeys);goog.exportProperty(ol.control.ScaleLine.prototype,"getProperties",ol.control.ScaleLine.prototype.getProperties);goog.exportProperty(ol.control.ScaleLine.prototype,"set",ol.control.ScaleLine.prototype.set);goog.exportProperty(ol.control.ScaleLine.prototype,"setProperties",ol.control.ScaleLine.prototype.setProperties);goog.exportProperty(ol.control.ScaleLine.prototype,"unset",ol.control.ScaleLine.prototype.unset);goog.exportProperty(ol.control.ScaleLine.prototype,"changed",ol.control.ScaleLine.prototype.changed);goog.exportProperty(ol.control.ScaleLine.prototype,"dispatchEvent",ol.control.ScaleLine.prototype.dispatchEvent);goog.exportProperty(ol.control.ScaleLine.prototype,"getRevision",ol.control.ScaleLine.prototype.getRevision);goog.exportProperty(ol.control.ScaleLine.prototype,"on",ol.control.ScaleLine.prototype.on);goog.exportProperty(ol.control.ScaleLine.prototype,"once",ol.control.ScaleLine.prototype.once);goog.exportProperty(ol.control.ScaleLine.prototype,"un",ol.control.ScaleLine.prototype.un);goog.exportProperty(ol.control.Zoom.prototype,"getMap",ol.control.Zoom.prototype.getMap);goog.exportProperty(ol.control.Zoom.prototype,"setMap",ol.control.Zoom.prototype.setMap);goog.exportProperty(ol.control.Zoom.prototype,"setTarget",ol.control.Zoom.prototype.setTarget);goog.exportProperty(ol.control.Zoom.prototype,"get",ol.control.Zoom.prototype.get);goog.exportProperty(ol.control.Zoom.prototype,"getKeys",ol.control.Zoom.prototype.getKeys);goog.exportProperty(ol.control.Zoom.prototype,"getProperties",ol.control.Zoom.prototype.getProperties);goog.exportProperty(ol.control.Zoom.prototype,"set",ol.control.Zoom.prototype.set);goog.exportProperty(ol.control.Zoom.prototype,"setProperties",ol.control.Zoom.prototype.setProperties);goog.exportProperty(ol.control.Zoom.prototype,"unset",ol.control.Zoom.prototype.unset);goog.exportProperty(ol.control.Zoom.prototype,"changed",ol.control.Zoom.prototype.changed);goog.exportProperty(ol.control.Zoom.prototype,"dispatchEvent",ol.control.Zoom.prototype.dispatchEvent);goog.exportProperty(ol.control.Zoom.prototype,"getRevision",ol.control.Zoom.prototype.getRevision);goog.exportProperty(ol.control.Zoom.prototype,"on",ol.control.Zoom.prototype.on);goog.exportProperty(ol.control.Zoom.prototype,"once",ol.control.Zoom.prototype.once);goog.exportProperty(ol.control.Zoom.prototype,"un",ol.control.Zoom.prototype.un);goog.exportProperty(ol.control.ZoomSlider.prototype,"getMap",ol.control.ZoomSlider.prototype.getMap);goog.exportProperty(ol.control.ZoomSlider.prototype,"setMap",ol.control.ZoomSlider.prototype.setMap);goog.exportProperty(ol.control.ZoomSlider.prototype,"setTarget",ol.control.ZoomSlider.prototype.setTarget);goog.exportProperty(ol.control.ZoomSlider.prototype,"get",ol.control.ZoomSlider.prototype.get);goog.exportProperty(ol.control.ZoomSlider.prototype,"getKeys",ol.control.ZoomSlider.prototype.getKeys);goog.exportProperty(ol.control.ZoomSlider.prototype,"getProperties",ol.control.ZoomSlider.prototype.getProperties);goog.exportProperty(ol.control.ZoomSlider.prototype,"set",ol.control.ZoomSlider.prototype.set);goog.exportProperty(ol.control.ZoomSlider.prototype,"setProperties",ol.control.ZoomSlider.prototype.setProperties);goog.exportProperty(ol.control.ZoomSlider.prototype,"unset",ol.control.ZoomSlider.prototype.unset);goog.exportProperty(ol.control.ZoomSlider.prototype,"changed",ol.control.ZoomSlider.prototype.changed);goog.exportProperty(ol.control.ZoomSlider.prototype,"dispatchEvent",ol.control.ZoomSlider.prototype.dispatchEvent);goog.exportProperty(ol.control.ZoomSlider.prototype,"getRevision",ol.control.ZoomSlider.prototype.getRevision);goog.exportProperty(ol.control.ZoomSlider.prototype,"on",ol.control.ZoomSlider.prototype.on);goog.exportProperty(ol.control.ZoomSlider.prototype,"once",ol.control.ZoomSlider.prototype.once);goog.exportProperty(ol.control.ZoomSlider.prototype,"un",ol.control.ZoomSlider.prototype.un);goog.exportProperty(ol.control.ZoomToExtent.prototype,"getMap",ol.control.ZoomToExtent.prototype.getMap);goog.exportProperty(ol.control.ZoomToExtent.prototype,"setMap",ol.control.ZoomToExtent.prototype.setMap);goog.exportProperty(ol.control.ZoomToExtent.prototype,"setTarget",ol.control.ZoomToExtent.prototype.setTarget);goog.exportProperty(ol.control.ZoomToExtent.prototype,"get",ol.control.ZoomToExtent.prototype.get);goog.exportProperty(ol.control.ZoomToExtent.prototype,"getKeys",ol.control.ZoomToExtent.prototype.getKeys);goog.exportProperty(ol.control.ZoomToExtent.prototype,"getProperties",ol.control.ZoomToExtent.prototype.getProperties);goog.exportProperty(ol.control.ZoomToExtent.prototype,"set",ol.control.ZoomToExtent.prototype.set);goog.exportProperty(ol.control.ZoomToExtent.prototype,"setProperties",ol.control.ZoomToExtent.prototype.setProperties);goog.exportProperty(ol.control.ZoomToExtent.prototype,"unset",ol.control.ZoomToExtent.prototype.unset);goog.exportProperty(ol.control.ZoomToExtent.prototype,"changed",ol.control.ZoomToExtent.prototype.changed);goog.exportProperty(ol.control.ZoomToExtent.prototype,"dispatchEvent",ol.control.ZoomToExtent.prototype.dispatchEvent);goog.exportProperty(ol.control.ZoomToExtent.prototype,"getRevision",ol.control.ZoomToExtent.prototype.getRevision);goog.exportProperty(ol.control.ZoomToExtent.prototype,"on",ol.control.ZoomToExtent.prototype.on);goog.exportProperty(ol.control.ZoomToExtent.prototype,"once",ol.control.ZoomToExtent.prototype.once);goog.exportProperty(ol.control.ZoomToExtent.prototype,"un",ol.control.ZoomToExtent.prototype.un);ol.VERSION="v4.6.4";OPENLAYERS.ol=ol;return OPENLAYERS.ol});